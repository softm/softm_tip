<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Appendix C. MySQL Change History</title><link rel="stylesheet" href="mysql-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.0 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.0 Reference Manual"><link rel="prev" href="error-handling.html" title="Appendix B. Errors, Error Codes, and Common Problems"><link rel="next" href="restrictions.html" title="Appendix D. Restrictions and Limits"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix C. MySQL Change History</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="error-handling.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="restrictions.html">Next</a></td></tr></table><hr></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="news"></a>Appendix C. MySQL Change History</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="news.html#news-5-0-x">C.1. Changes in Release 5.0.x (Production)</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-5-0-85">C.1.1. Changes in MySQL 5.0.85 (11 August 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-84">C.1.2. Changes in MySQL 5.0.84 (07 July 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-83">C.1.3. Changes in MySQL 5.0.83 (29 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-82sp1">C.1.4. Release Notes for MySQL Enterprise 5.0.82sp1 [QSP] (21 July 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-82">C.1.5. Changes in MySQL 5.0.82 (20 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-81">C.1.6. Release Notes for MySQL Community Server 5.0.81 (01 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-80">C.1.7. Release Notes for MySQL Enterprise 5.0.80 [MRU] (01 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-79">C.1.8. Release Notes for MySQL Enterprise 5.0.79 [MRU] (09 March 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-78">C.1.9. Release Notes for MySQL Enterprise 5.0.78 [MRU] (06 February 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-77">C.1.10. Release Notes for MySQL Community Server 5.0.77 (28 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-76">C.1.11. Release Notes for MySQL Enterprise 5.0.76 [MRU] (05 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-75">C.1.12. Release Notes for MySQL Community Server 5.0.75 (17 December 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-74sp1">C.1.13. Release Notes for MySQL Enterprise 5.0.74sp1 [QSP] (30 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-74">C.1.14. Release Notes for MySQL Enterprise 5.0.74 [MRU] (03 December 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-72sp1">C.1.15. Release Notes for MySQL Enterprise 5.0.72sp1 [QSP] (13 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-72">C.1.16. Release Notes for MySQL Enterprise 5.0.72 [MRU] (24 October 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-70">C.1.17. Release Notes for MySQL Enterprise 5.0.70 [MRU] (27 September 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-68">C.1.18. Release Notes for MySQL Enterprise 5.0.68 [MRU] (13 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-67">C.1.19. Release Notes for MySQL Community Server 5.0.67 (04 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-66sp1">C.1.20. Release Notes for MySQL Enterprise 5.0.66sp1 [QSP] (23 October 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-66a">C.1.21. Release Notes for MySQL Enterprise 5.0.66a [MRU] (16 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-66">C.1.22. Release Notes for MySQL Enterprise 5.0.66 [MRU] (09 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-64">C.1.23. Release Notes for MySQL Enterprise 5.0.64 [MRU] (10 June 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-62">C.1.24. Release Notes for MySQL Enterprise 5.0.62 [MRU] (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-60sp1">C.1.25. Release Notes for MySQL Enterprise 5.0.60sp1 [QSP] (27 June 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-60">C.1.26. Release Notes for MySQL Enterprise 5.0.60 [MRU] (28 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-58">C.1.27. Release Notes for MySQL Enterprise 5.0.58 [MRU] (05 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-56sp1">C.1.28. Release Notes for MySQL Enterprise 5.0.56sp1 [QSP] (30 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-56">C.1.29. Release Notes for MySQL Enterprise 5.0.56 [MRU] (06 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-54a">C.1.30. Release Notes for MySQL Enterprise 5.0.54a [MRU] (11 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-54">C.1.31. Release Notes for MySQL Enterprise 5.0.54 [MRU] (14 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-52">C.1.32. Release Notes for MySQL Enterprise 5.0.52 [MRU] (30 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-51b">C.1.33. Release Notes for MySQL Community Server 5.0.51b (24 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-51a">C.1.34. Release Notes for MySQL Community Server 5.0.51a (11 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-51">C.1.35. Release Notes for MySQL Community Server 5.0.51 (15 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-50sp1a">C.1.36. Release Notes for MySQL Enterprise 5.0.50sp1a [QSP] (11 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-50sp1">C.1.37. Release Notes for MySQL Enterprise 5.0.50sp1 [QSP] (12 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-50">C.1.38. Release Notes for MySQL Enterprise 5.0.50 [MRU] (19 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-48">C.1.39. Release Notes for MySQL Enterprise 5.0.48 [MRU] (27 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-46">C.1.40. Release Notes for MySQL Enterprise 5.0.46 [MRU] (13 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-45">C.1.41. Release Notes for MySQL Community Server 5.0.45 (04 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-44sp1">C.1.42. Release Notes for MySQL Enterprise 5.0.44sp1 [QSP] (01 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-44">C.1.43. Release Notes for MySQL Enterprise 5.0.44 [MRU] (21 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-42">C.1.44. Release Notes for MySQL Enterprise 5.0.42 [MRU] (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-41">C.1.45. Release Notes for MySQL Community Server 5.0.41 (01 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-40">C.1.46. Release Notes for MySQL Enterprise 5.0.40 [MRU] (17 April 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-38">C.1.47. Release Notes for MySQL Enterprise 5.0.38 [MRU] (20 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-37">C.1.48. Release Notes for MySQL Community Server 5.0.37 (27 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-36sp1">C.1.49. Release Notes for MySQL Enterprise 5.0.36sp1 [QSP] (12 April 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-36">C.1.50. Release Notes for MySQL Enterprise 5.0.36 [MRU] (20 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-34">C.1.51. Release Notes for MySQL Enterprise 5.0.34 [MRU] (17 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-33">C.1.52. Release Notes for MySQL Community Server 5.0.33 (09 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-32">C.1.53. Release Notes for MySQL Enterprise 5.0.32 [MRU] (20 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-30sp1">C.1.54. Release Notes for MySQL Enterprise 5.0.30sp1 [QSP] (19 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-30">C.1.55. Release Notes for MySQL Enterprise 5.0.30 [MRU] (14 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-28">C.1.56. Release Notes for MySQL Enterprise 5.0.28 (24 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-27">C.1.57. Release Notes for MySQL Community Server 5.0.27 (21 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-26">C.1.58. Changes in MySQL 5.0.26 (03 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-25">C.1.59. Changes in MySQL 5.0.25 (15 September 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24a">C.1.60. Changes in MySQL 5.0.24a (25 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24">C.1.61. Changes in MySQL 5.0.24 (27 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-23">C.1.62. Changes in MySQL 5.0.23 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-22">C.1.63. Changes in MySQL 5.0.22 (24 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-21">C.1.64. Changes in MySQL 5.0.21 (02 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20a">C.1.65. Changes in MySQL 5.0.20a (18 April 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20">C.1.66. Changes in MySQL 5.0.20 (31 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-19">C.1.67. Changes in MySQL 5.0.19 (04 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-18">C.1.68. Changes in MySQL 5.0.18 (21 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-17">C.1.69. Changes in MySQL 5.0.17 (14 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-16">C.1.70. Changes in MySQL 5.0.16 (10 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-15">C.1.71. Changes in MySQL 5.0.15 (19 October 2005 Production)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-14">C.1.72. Changes in MySQL 5.0.14 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-13">C.1.73. Changes in MySQL 5.0.13 (22 September 2005 Release Candidate)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-12">C.1.74. Changes in MySQL 5.0.12 (02 September 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-11">C.1.75. Changes in MySQL 5.0.11 (06 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-10">C.1.76. Changes in MySQL 5.0.10 (27 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-9">C.1.77. Changes in MySQL 5.0.9 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-8">C.1.78. Changes in MySQL 5.0.8 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-7">C.1.79. Changes in MySQL 5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-6">C.1.80. Changes in MySQL 5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-5">C.1.81. Changes in MySQL 5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-4">C.1.82. Changes in MySQL 5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-3">C.1.83. Changes in MySQL 5.0.3 (23 March 2005 Beta)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-2">C.1.84. Changes in MySQL 5.0.2 (01 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-1">C.1.85. Changes in MySQL 5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-0">C.1.86. Changes in MySQL 5.0.0 (22 December 2003 Alpha)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mysql-cluster-change-history">C.2. Changes in MySQL Cluster</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-7">C.2.1. Changes in MySQL Cluster-5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-6">C.2.2. Changes in MySQL Cluster-5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-5">C.2.3. Changes in MySQL Cluster-5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-4">C.2.4. Changes in MySQL Cluster-5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-3">C.2.5. Changes in MySQL Cluster-5.0.3 (23 March 2005: Beta)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-1">C.2.6. Changes in MySQL Cluster-5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-13">C.2.7. Changes in MySQL Cluster-4.1.13 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-12">C.2.8. Changes in MySQL Cluster-4.1.12 (13 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-11">C.2.9. Changes in MySQL Cluster-4.1.11 (01 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-10">C.2.10. Changes in MySQL Cluster-4.1.10 (12 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-9">C.2.11. Changes in MySQL Cluster-4.1.9 (13 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-8">C.2.12. Changes in MySQL Cluster-4.1.8 (14 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-7">C.2.13. Changes in MySQL Cluster-4.1.7 (23 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-6">C.2.14. Changes in MySQL Cluster-4.1.6 (10 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-5">C.2.15. Changes in MySQL Cluster-4.1.5 (16 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-4">C.2.16. Changes in MySQL Cluster-4.1.4 (31 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-3">C.2.17. Changes in MySQL Cluster-4.1.3 (28 June 2004)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mem-news">C.3. MySQL Enterprise Monitor Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mem-news-2-0-6">C.3.1. Changes in MySQL Enterprise Monitor 2.0.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-5">C.3.2. Changes in MySQL Enterprise Monitor 2.0.5 (18th March 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-4">C.3.3. Changes in MySQL Enterprise Monitor 2.0.4 (5th February 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-3">C.3.4. Changes in MySQL Enterprise Monitor 2.0.3 (23rd January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-2">C.3.5. Changes in MySQL Enterprise Monitor 2.0.2 (14th January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-1">C.3.6. Changes in MySQL Enterprise Monitor 2.0.1 (15th December 2008)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-0">C.3.7. Changes in MySQL Enterprise Monitor 2.0.0 (11th December 2008)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#connector-odbc-news">C.4. MySQL Connector/ODBC (MyODBC) Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-6">C.4.1. Changes in MySQL Connector/ODBC 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-5">C.4.2. Changes in MySQL Connector/ODBC 5.1.5 (18 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-4">C.4.3. Changes in MySQL Connector/ODBC 5.1.4 (15 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-3">C.4.4. Changes in MySQL Connector/ODBC 5.1.3 (26 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-2">C.4.5. Changes in MySQL Connector/ODBC 5.1.2 (13 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-1">C.4.6. Changes in MySQL Connector/ODBC 5.1.1 (13 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-0">C.4.7. Changes in MySQL Connector/ODBC 5.1.0 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-12">C.4.8. Changes in MySQL Connector/ODBC 5.0.12 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-11">C.4.9. Changes in MySQL Connector/ODBC 5.0.11 (31 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-10">C.4.10. Changes in MySQL Connector/ODBC 5.0.10 (14 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-9">C.4.11. Changes in MySQL Connector/ODBC 5.0.9 (22 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-8">C.4.12. Changes in MySQL Connector/ODBC 5.0.8 (17 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-7">C.4.13. Changes in MySQL Connector/ODBC 5.0.7 (08 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-6">C.4.14. Changes in MySQL Connector/ODBC 5.0.6 (03 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-5">C.4.15. Changes in MySQL Connector/ODBC 5.0.5 (17 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-3">C.4.16. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-2">C.4.17. Changes in Connector/ODBC 5.0.2 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-1">C.4.18. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-27">C.4.19. Changes in MySQL Connector/ODBC 3.51.27 (20 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-26">C.4.20. Changes in MySQL Connector/ODBC 3.51.26 (07 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-25">C.4.21. Changes in MySQL Connector/ODBC 3.51.25 (11 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-24">C.4.22. Changes in MySQL Connector/ODBC 3.51.24 (14 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-23">C.4.23. Changes in MySQL Connector/ODBC 3.51.23 (09 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-22">C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-21">C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-20">C.4.26. Changes in MySQL Connector/ODBC 3.51.20 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-19">C.4.27. Changes in MySQL Connector/ODBC 3.51.19 (10 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-18">C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-17">C.4.29. Changes in MySQL Connector/ODBC 3.51.17 (14 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-16">C.4.30. Changes in MySQL Connector/ODBC 3.51.16 (14 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-15">C.4.31. Changes in MySQL Connector/ODBC 3.51.15 (07 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-14">C.4.32. Changes in MySQL Connector/ODBC 3.51.14 (08 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-13">C.4.33. Changes in MySQL Connector/ODBC 3.51.13 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-12">C.4.34. Changes in MySQL Connector/ODBC 3.51.12 (11 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-11">C.4.35. Changes in MySQL Connector/ODBC 3.51.11 (28 January 2005)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#connector-net-news">C.5. MySQL Connector/NET Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#changes-6.1.x">C.5.1. Changes in MySQL Connector/NET Version 6.1.x</a></span></dt><dt><span class="section"><a href="news.html#changes-6.0.x">C.5.2. Changes in MySQL Connector/NET Version 6.0.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.3.x">C.5.3. Changes in MySQL Connector/NET Version 5.3.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.2.x">C.5.4. Changes in MySQL Connector/NET Version 5.2.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.1.x">C.5.5. Changes in MySQL Connector/NET Version 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.0.x">C.5.6. Changes in MySQL Connector/NET Version 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#changes-1.0.x">C.5.7. Changes in MySQL Connector/NET Version 1.0.x</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-9-0">C.5.8. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-76">C.5.9. Changes in MySQL Connector/NET Version 0.76</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-75">C.5.10. Changes in MySQL Connector/NET Version 0.75</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-74">C.5.11. Changes in MySQL Connector/NET Version 0.74</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-71">C.5.12. Changes in MySQL Connector/NET Version 0.71</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-70">C.5.13. Changes in MySQL Connector/NET Version 0.70</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-68">C.5.14. Changes in MySQL Connector/NET Version 0.68</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-65">C.5.15. Changes in MySQL Connector/NET Version 0.65</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-60">C.5.16. Changes in MySQL Connector/NET Version 0.60</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-50">C.5.17. Changes in MySQL Connector/NET Version 0.50</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#vstudio-plugin-news">C.6. MySQL Visual Studio Plugin Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-3">C.6.1. Changes in MySQL Visual Studio Plugin 1.0.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-2">C.6.2. Changes in MySQL Visual Studio Plugin 1.0.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-1">C.6.3. Changes in MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-0">C.6.4. Changes in MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#cj-news">C.7. MySQL Connector/J Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#cj-news-5-1">C.7.1. Changes in MySQL Connector/J 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0">C.7.2. Changes in MySQL Connector/J 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-1">C.7.3. Changes in MySQL Connector/J 3.1.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-0">C.7.4. Changes in MySQL Connector/J 3.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0">C.7.5. Changes in MySQL Connector/J 2.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-2b">C.7.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</a></span></dt><dt><span class="section"><a href="news.html#cg-news-1-0">C.7.7. Changes in MySQL Connector/J 1.2.x and lower</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#news-connector-mxj">C.8. MySQL Connector/MXJ Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-6">C.8.1. Changes in MySQL Connector/MXJ 5.0.6 (04 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-5">C.8.2. Changes in MySQL Connector/MXJ 5.0.5 (14 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-4">C.8.3. Changes in MySQL Connector/MXJ 5.0.4 (28 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-3">C.8.4. Changes in MySQL Connector/MXJ 5.0.3 (24 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-2">C.8.5. Changes in MySQL Connector/MXJ 5.0.2 (15 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-1">C.8.6. Changes in MySQL Connector/MXJ 5.0.1 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-0">C.8.7. Changes in MySQL Connector/MXJ 5.0.0 (09 December 2005)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mysql-proxy-news">C.9. MySQL Proxy Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mysql-proxy-news-0-8-0">C.9.1. Changes in MySQL Proxy 0.8.0 (Not Yet Released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-3">C.9.2. Changes in MySQL Proxy 0.7.3 (Not Yet Released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-2">C.9.3. Changes in MySQL Proxy 0.7.2 (30 June 2009)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-1">C.9.4. Changes in MySQL Proxy 0.7.1 (15 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-0">C.9.5. Changes in MySQL Proxy 0.7.0 (Never Released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-1">C.9.6. Changes in MySQL Proxy 0.6.1 (06 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-0">C.9.7. Changes in MySQL Proxy 0.6.0 (11 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-1">C.9.8. Changes in MySQL Proxy 0.5.1 (30 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-0">C.9.9. Changes in MySQL Proxy 0.5.0 (19 June 2007)</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id2564843"></a><a class="indexterm" name="id2564852"></a><a class="indexterm" name="id2564864"></a><a class="indexterm" name="id2564877"></a><a class="indexterm" name="id2564886"></a><a class="indexterm" name="id2564898"></a><a class="indexterm" name="id2564910"></a><a class="indexterm" name="id2564923"></a><a class="indexterm" name="id2564935"></a><a class="indexterm" name="id2564948"></a><a class="indexterm" name="id2564960"></a><a class="indexterm" name="id2564972"></a><p>
    This appendix lists the changes from version to version in the MySQL
    source code through the latest version of MySQL 5.0,
    which is currently MySQL 5.0.86. Starting with MySQL 5.0,
    we began offering a new version of the Manual for each new series of
    MySQL releases (5.0, 5.1, and so on). For information about changes
    in previous release series of the MySQL database software, see the
    corresponding version of this Manual. For information about legacy
    versions of the MySQL software through the 4.1 series, see
    <em class="citetitle">MySQL 3.23, 4.0, 4.1 Reference Manual</em>.
  </p><p>
    We update this section as we add new features in the
    5.0 series, so that everybody can follow the
    development process.
  </p><p>
    This section documents all enhancements, changes, and bug fixes made
    to MySQL Enterprise Server and MySQL Community Server.
  </p><p>
    Releases in MySQL Enterprise Server are divided into the following
    release packs:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        <span class="emphasis"><em>Rapid Update Service Packs</em></span> are issued once
        a month and incorporate all the bug fixes and security updates
        introduced since the previous MySQL Enterprise Server release. A
        single Service Pack can be used to update MySQL Enterprise
        Server; it is not necessary to install intervening service packs
        to bring your system up to date.
      </p></li><li><p>
        <span class="emphasis"><em>Quarterly Service Packs</em></span> are issued each
        quarter and incorporate all the bug fixes and security updates
        introduced up to the Rapid Update that the QSP it is based on,
        and possibly some critical bug fixes and security updates from
        later releases. A single Service Pack can be used to update
        MySQL Enterprise Server; it is not necessary to install
        intervening service packs to bring your system up to date.
      </p></li><li><p>
        <span class="emphasis"><em>Hot-fix releases</em></span> incorporate fixes for bugs
        that caused significant issues that are not released as part of
        a Service Pack.
      </p></li></ul></div><p>
    Note that we tend to update the manual at the same time we make
    changes to MySQL. If you find a recent version of MySQL listed here
    that you can't find on our download page
    (<a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>), it means that the version has
    not yet been released (and will normally be marked so in the
    appropriate Release Note section).
  </p><p>
    The date mentioned with a release version is the date of the last
    Bazaar commit on which the release was based, not the date when the
    packages were made available. The binaries are usually made
    available a few days after the date of the tagged ChangeSet, because
    building and testing all packages takes some time.
  </p><p>
    For information on how to determine your current version and release
    type, see <a href="installing.html#installation-version" title="2.2. Determining your current MySQL version">Section 2.2, “Determining your current MySQL version”</a>.
  </p><p>
    The manual included in the source and binary distributions may not
    be fully accurate when it comes to the release changelog entries,
    because the integration of the manual happens at build time. For the
    most up-to-date release changelog, please refer to the online
    version instead.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-5-0-x"></a>C.1. Changes in Release 5.0.x (Production)</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-5-0-85">C.1.1. Changes in MySQL 5.0.85 (11 August 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-84">C.1.2. Changes in MySQL 5.0.84 (07 July 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-83">C.1.3. Changes in MySQL 5.0.83 (29 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-82sp1">C.1.4. Release Notes for MySQL Enterprise 5.0.82sp1 [QSP] (21 July 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-82">C.1.5. Changes in MySQL 5.0.82 (20 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-81">C.1.6. Release Notes for MySQL Community Server 5.0.81 (01 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-80">C.1.7. Release Notes for MySQL Enterprise 5.0.80 [MRU] (01 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-79">C.1.8. Release Notes for MySQL Enterprise 5.0.79 [MRU] (09 March 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-78">C.1.9. Release Notes for MySQL Enterprise 5.0.78 [MRU] (06 February 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-77">C.1.10. Release Notes for MySQL Community Server 5.0.77 (28 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-76">C.1.11. Release Notes for MySQL Enterprise 5.0.76 [MRU] (05 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-75">C.1.12. Release Notes for MySQL Community Server 5.0.75 (17 December 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-74sp1">C.1.13. Release Notes for MySQL Enterprise 5.0.74sp1 [QSP] (30 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-74">C.1.14. Release Notes for MySQL Enterprise 5.0.74 [MRU] (03 December 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-72sp1">C.1.15. Release Notes for MySQL Enterprise 5.0.72sp1 [QSP] (13 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-72">C.1.16. Release Notes for MySQL Enterprise 5.0.72 [MRU] (24 October 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-70">C.1.17. Release Notes for MySQL Enterprise 5.0.70 [MRU] (27 September 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-68">C.1.18. Release Notes for MySQL Enterprise 5.0.68 [MRU] (13 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-67">C.1.19. Release Notes for MySQL Community Server 5.0.67 (04 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-66sp1">C.1.20. Release Notes for MySQL Enterprise 5.0.66sp1 [QSP] (23 October 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-66a">C.1.21. Release Notes for MySQL Enterprise 5.0.66a [MRU] (16 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-66">C.1.22. Release Notes for MySQL Enterprise 5.0.66 [MRU] (09 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-64">C.1.23. Release Notes for MySQL Enterprise 5.0.64 [MRU] (10 June 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-62">C.1.24. Release Notes for MySQL Enterprise 5.0.62 [MRU] (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-60sp1">C.1.25. Release Notes for MySQL Enterprise 5.0.60sp1 [QSP] (27 June 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-60">C.1.26. Release Notes for MySQL Enterprise 5.0.60 [MRU] (28 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-58">C.1.27. Release Notes for MySQL Enterprise 5.0.58 [MRU] (05 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-56sp1">C.1.28. Release Notes for MySQL Enterprise 5.0.56sp1 [QSP] (30 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-56">C.1.29. Release Notes for MySQL Enterprise 5.0.56 [MRU] (06 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-54a">C.1.30. Release Notes for MySQL Enterprise 5.0.54a [MRU] (11 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-54">C.1.31. Release Notes for MySQL Enterprise 5.0.54 [MRU] (14 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-52">C.1.32. Release Notes for MySQL Enterprise 5.0.52 [MRU] (30 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-51b">C.1.33. Release Notes for MySQL Community Server 5.0.51b (24 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-51a">C.1.34. Release Notes for MySQL Community Server 5.0.51a (11 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-51">C.1.35. Release Notes for MySQL Community Server 5.0.51 (15 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-50sp1a">C.1.36. Release Notes for MySQL Enterprise 5.0.50sp1a [QSP] (11 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-50sp1">C.1.37. Release Notes for MySQL Enterprise 5.0.50sp1 [QSP] (12 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-50">C.1.38. Release Notes for MySQL Enterprise 5.0.50 [MRU] (19 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-48">C.1.39. Release Notes for MySQL Enterprise 5.0.48 [MRU] (27 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-46">C.1.40. Release Notes for MySQL Enterprise 5.0.46 [MRU] (13 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-45">C.1.41. Release Notes for MySQL Community Server 5.0.45 (04 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-44sp1">C.1.42. Release Notes for MySQL Enterprise 5.0.44sp1 [QSP] (01 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-44">C.1.43. Release Notes for MySQL Enterprise 5.0.44 [MRU] (21 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-42">C.1.44. Release Notes for MySQL Enterprise 5.0.42 [MRU] (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-41">C.1.45. Release Notes for MySQL Community Server 5.0.41 (01 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-40">C.1.46. Release Notes for MySQL Enterprise 5.0.40 [MRU] (17 April 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-38">C.1.47. Release Notes for MySQL Enterprise 5.0.38 [MRU] (20 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-37">C.1.48. Release Notes for MySQL Community Server 5.0.37 (27 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-36sp1">C.1.49. Release Notes for MySQL Enterprise 5.0.36sp1 [QSP] (12 April 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-36">C.1.50. Release Notes for MySQL Enterprise 5.0.36 [MRU] (20 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-34">C.1.51. Release Notes for MySQL Enterprise 5.0.34 [MRU] (17 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-33">C.1.52. Release Notes for MySQL Community Server 5.0.33 (09 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-32">C.1.53. Release Notes for MySQL Enterprise 5.0.32 [MRU] (20 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-30sp1">C.1.54. Release Notes for MySQL Enterprise 5.0.30sp1 [QSP] (19 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-30">C.1.55. Release Notes for MySQL Enterprise 5.0.30 [MRU] (14 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-28">C.1.56. Release Notes for MySQL Enterprise 5.0.28 (24 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-27">C.1.57. Release Notes for MySQL Community Server 5.0.27 (21 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-26">C.1.58. Changes in MySQL 5.0.26 (03 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-25">C.1.59. Changes in MySQL 5.0.25 (15 September 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24a">C.1.60. Changes in MySQL 5.0.24a (25 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24">C.1.61. Changes in MySQL 5.0.24 (27 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-23">C.1.62. Changes in MySQL 5.0.23 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-22">C.1.63. Changes in MySQL 5.0.22 (24 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-21">C.1.64. Changes in MySQL 5.0.21 (02 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20a">C.1.65. Changes in MySQL 5.0.20a (18 April 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20">C.1.66. Changes in MySQL 5.0.20 (31 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-19">C.1.67. Changes in MySQL 5.0.19 (04 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-18">C.1.68. Changes in MySQL 5.0.18 (21 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-17">C.1.69. Changes in MySQL 5.0.17 (14 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-16">C.1.70. Changes in MySQL 5.0.16 (10 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-15">C.1.71. Changes in MySQL 5.0.15 (19 October 2005 Production)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-14">C.1.72. Changes in MySQL 5.0.14 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-13">C.1.73. Changes in MySQL 5.0.13 (22 September 2005 Release Candidate)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-12">C.1.74. Changes in MySQL 5.0.12 (02 September 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-11">C.1.75. Changes in MySQL 5.0.11 (06 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-10">C.1.76. Changes in MySQL 5.0.10 (27 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-9">C.1.77. Changes in MySQL 5.0.9 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-8">C.1.78. Changes in MySQL 5.0.8 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-7">C.1.79. Changes in MySQL 5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-6">C.1.80. Changes in MySQL 5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-5">C.1.81. Changes in MySQL 5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-4">C.1.82. Changes in MySQL 5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-3">C.1.83. Changes in MySQL 5.0.3 (23 March 2005 Beta)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-2">C.1.84. Changes in MySQL 5.0.2 (01 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-1">C.1.85. Changes in MySQL 5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-0">C.1.86. Changes in MySQL 5.0.0 (22 December 2003 Alpha)</a></span></dt></dl></div><a class="indexterm" name="id2565124"></a><a class="indexterm" name="id2565137"></a><a class="indexterm" name="id2565146"></a><a class="indexterm" name="id2565158"></a><a class="indexterm" name="id2565170"></a><a class="indexterm" name="id2565179"></a><a class="indexterm" name="id2565191"></a><a class="indexterm" name="id2565204"></a><a class="indexterm" name="id2565216"></a><a class="indexterm" name="id2565229"></a><a class="indexterm" name="id2565241"></a><a class="indexterm" name="id2565253"></a><a class="indexterm" name="id2565266"></a><p>
    The following list summarizes what has been done in the 5.0 tree.
    For a full list of changes, please refer to the changelog sections
    for each individual 5.0 release.
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns retain trailing
        spaces. A <code class="literal">VARCHAR()</code> or
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column can contain up
        to 65,535 characters or bytes, respectively.
      </p></li><li><p>
        Strict SQL mode, which causes an error instead of a warning when
        inserting an incorrect value into a column. See
        <a href="server-administration.html#server-sql-mode" title="5.1.7. Server SQL Modes">Section 5.1.7, “Server SQL Modes”</a>.
      </p></li><li><p>
        A new fixed-point math library supports precision math,
        resulting in more accurate results when working with the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> data types. For details,
        see <a href="functions.html#precision-math" title="11.13. Precision Math">Section 11.13, “Precision Math”</a>.
      </p></li><li><p>
        Basic support for views. See <a href="stored-programs-views.html#views" title="18.4. Using Views">Section 18.4, “Using Views”</a>.
      </p></li><li><p>
        Basic support for stored procedures and functions (SQL:2003
        style). See <a href="stored-programs-views.html#stored-routines" title="18.2. Using Stored Routines (Procedures and Functions)">Section 18.2, “Using Stored Routines (Procedures and Functions)”</a>.
      </p></li><li><p>
        Basic support for triggers. See <a href="stored-programs-views.html#triggers" title="18.3. Using Triggers">Section 18.3, “Using Triggers”</a>.
      </p></li><li><p>
        Basic support for read-only server side cursors. For information
        about using cursors within stored routines, see
        <a href="sql-syntax.html#cursors" title="12.8.5. Cursors">Section 12.8.5, “Cursors”</a>. For information about using cursors
        from within the C API, see
        <a href="connectors-apis.html#mysql-stmt-attr-set" title="20.9.7.3. mysql_stmt_attr_set()">Section 20.9.7.3, “<code class="literal">mysql_stmt_attr_set()</code>”</a>.
      </p></li><li><p>
        Support for <code class="literal">SELECT INTO
        <em class="replaceable"><code>list_of_vars</code></em></code>, where the
        variables can be a mix of global and local types. See
        <a href="sql-syntax.html#select-into-statement" title="12.8.3.3. SELECT ... INTO Statement">Section 12.8.3.3, “<code class="literal">SELECT ... INTO</code> Statement”</a>.
      </p></li><li><p>
        <code class="literal">MEMORY</code> (<code class="literal">HEAP</code>) tables can
        have <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns.
      </p></li><li><p>
        When using a constant string or a function that generates a
        string result in <code class="literal">CREATE ... SELECT</code>, MySQL
        creates the result column based on the maximum length of the
        string or expression:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><span class="bold"><strong>Maximum Length</strong></span></td><td><span class="bold"><strong>Data type</strong></span></td></tr><tr><td>= 0</td><td><code class="literal">CHAR(0)</code></td></tr><tr><td>&lt; 512</td><td><code class="literal">VARCHAR(<em class="replaceable"><code>max_length</code></em>)</code></td></tr><tr><td>&gt;= 512</td><td><a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a></td></tr></tbody></table></div></li><li><p>
        Removed the update log. It is fully replaced by the binary log.
        If the MySQL server is started with
        <code class="option">--log-update</code>, it is translated to
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> (or ignored if the
        server is explicitly started with
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>), and a warning message
        is written to the error log. Setting
        <a href="server-administration.html#sysvar_sql_log_update"><code class="literal">sql_log_update</code></a> silently sets
        <a href="server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a> instead (or do
        nothing if the server is explicitly started with
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>).
      </p></li><li><p>
        Removed support for the <code class="literal">ISAM</code> storage engine.
        If you have <code class="literal">ISAM</code> tables, you should convert
        them before upgrading. See
        <a href="installing.html#upgrading-from-previous-series" title="2.18.1.2. Upgrading from MySQL 4.1 to 5.0">Section 2.18.1.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        Removed support for <code class="literal">RAID</code> options in
        <code class="literal">MyISAM</code> tables. If you have tables that use
        these options, you should convert them before upgrading. See
        <a href="installing.html#upgrading-from-previous-series" title="2.18.1.2. Upgrading from MySQL 4.1 to 5.0">Section 2.18.1.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-85"></a>C.1.1. Changes in MySQL 5.0.85 (11 August 2009)</h3></div></div></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server and MySQL Community
      Server release (5.0.84). If you would like to receive more
      fine-grained and personalized <span class="emphasis"><em>update alerts</em></span>
      about fixes that are relevant to the version and features you use,
      please consider subscribing to <span class="emphasis"><em>MySQL
      Enterprise</em></span> (a commercial MySQL offering). For more
      details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        Uninstalling MySQL using the MySQL installer on Windows would
        delete the <code class="literal">my.ini</code> file. The file is no longer
        deleted. In addition, when a new installation is conducted, any
        existing cofiguration file will be renamed to
        <code class="filename">myDATETIME.ini.bak</code> during configuration.
       (<a href="http://bugs.mysql.com/36493" target="_top">Bug#36493</a>)</p></li><li><p>
        The server printed warnings at startup about adjusting the value
        of the <a href="server-administration.html#sysvar_max_join_size"><code class="literal">max_join_size</code></a> system
        variable. (These were harmless, but might be seen by users as
        significant.)
       (<a href="http://bugs.mysql.com/46385" target="_top">Bug#46385</a>)</p></li><li><p>
        The server crashed if evaluation of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(... ORDER BY)</code></a>
        required allocation of a sort buffer but allocation failed.
       (<a href="http://bugs.mysql.com/46080" target="_top">Bug#46080</a>)</p></li><li><p>
        After an error such as a table-full condition,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT IGNORE</code></a>
        could cause an assertion failure for debug builds.
       (<a href="http://bugs.mysql.com/46075" target="_top">Bug#46075</a>)</p></li><li><p>
        An optimization that moved an item from a subquery to an outer
        query could cause a server crash.
       (<a href="http://bugs.mysql.com/46051" target="_top">Bug#46051</a>)</p></li><li><p>
        Several Valgrind warnings were corrected.
       (<a href="http://bugs.mysql.com/46003" target="_top">Bug#46003</a>, <a href="http://bugs.mysql.com/46034" target="_top">Bug#46034</a>, <a href="http://bugs.mysql.com/46042" target="_top">Bug#46042</a>)</p></li><li><p>
        For problems reading SSL files during SSL initialization, the
        server wrote error messages to <code class="literal">stderr</code> rather
        than to the error log.
       (<a href="http://bugs.mysql.com/45770" target="_top">Bug#45770</a>)</p></li><li><p>
        The vendor name change from MySQL AB to Sun Microsystems, Inc.
        in RPM packages was not handled gracefully when upgrading MySQL
        using an RPM package.
       (<a href="http://bugs.mysql.com/45534" target="_top">Bug#45534</a>)</p></li><li><p>
        A Windows Installation using the GUI installer would fail with:
      </p><pre class="programlisting">MySQL Server 5.1 Setup Wizard ended prematurely

The wizard was interrupted before MySQL Server 5.1. could be completely installed.

Your system has not been modified. To complete installation at another time, please run
setup again.

Click Finish to exit the wizard</pre><p>
        This was due to an step in the MSI installer that could fail to
        execute correctly on some environments.
       (<a href="http://bugs.mysql.com/45418" target="_top">Bug#45418</a>)</p></li><li><p>
        Compiler warnings on Windows were fixed.
       (<a href="http://bugs.mysql.com/45287" target="_top">Bug#45287</a>)</p></li><li><p>
        Invalid memory reads could occur using the compressed
        client/server protocol.
       (<a href="http://bugs.mysql.com/45031" target="_top">Bug#45031</a>)</p></li><li><p>
        Invalid input could cause invalid memory reads by the parser.
       (<a href="http://bugs.mysql.com/45010" target="_top">Bug#45010</a>)</p></li><li><p>
        Creating a new instance after previously removing an instance
        would fail to complete the installation properly because the
        security settings could not be applied correctly.
       (<a href="http://bugs.mysql.com/44428" target="_top">Bug#44428</a>)</p></li><li><p>
        The server did not always check the return value of calls to the
        <code class="literal">hash_init()</code> function.
       (<a href="http://bugs.mysql.com/43572" target="_top">Bug#43572</a>)</p></li><li><p>
        A test for stack growth failed on some platforms, leading to
        server crashes.
       (<a href="http://bugs.mysql.com/42213" target="_top">Bug#42213</a>)</p></li><li><p>
        <code class="literal">SHOW PROCESSLIST</code> could access freed memory of
        a stored procedure run in a concurrent session.
       (<a href="http://bugs.mysql.com/38816" target="_top">Bug#38816</a>)</p></li><li><p>
        During installation on Windows, the MySQL Instance Configuration
        Wizard window could be opened at a size too small to be usable.
       (<a href="http://bugs.mysql.com/38723" target="_top">Bug#38723</a>)</p></li><li><p>
        <span><strong class="command">make_binary_distribution</strong></span> did not always
        generate correct distribution names.
       (<a href="http://bugs.mysql.com/37808" target="_top">Bug#37808</a>)</p></li><li><p>
        The server crashed when executing a prepared statement
        containing a duplicated <code class="literal">MATCH()</code> function call
        in the select list and <code class="literal">ORDER BY</code> clause; for
        example, <code class="literal">SELECT MATCH(a) AGAINST('test') FROM t1 ORDER
        BY MATCH(a) AGAINST('test')</code>.
       (<a href="http://bugs.mysql.com/37740" target="_top">Bug#37740</a>)</p></li><li><p>
        When performing an installation on Windows using the GUI
        installer, the installer would fail to wait long enough during
        installation for the MySQL service to be installed, which would
        cause the installation to fail and may cause security settings,
        such as the root password to not be applied correctly.
       (<a href="http://bugs.mysql.com/30525" target="_top">Bug#30525</a>)</p></li><li><p>
        If <code class="literal">InnoDB</code> reached its limit on the number of
        concurrent transactions (1023), it wrote a descriptive message
        to the error log but returned a misleading error message to the
        client, or an assertion failure occurred.
       (<a href="http://bugs.mysql.com/18828" target="_top">Bug#18828</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-84"></a>C.1.2. Changes in MySQL 5.0.84 (07 July 2009)</h3></div></div></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server and MySQL Community
      Server release (5.0.83). If you would like to receive more
      fine-grained and personalized <span class="emphasis"><em>update alerts</em></span>
      about fixes that are relevant to the version and features you use,
      please consider subscribing to <span class="emphasis"><em>MySQL
      Enterprise</em></span> (a commercial MySQL offering). For more
      details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        The <code class="literal">InnoDB</code> adaptive hash latch is released
        (if held) for serveral potentially long-running operations. This
        improves throughput for other queries if the current query is
        removing a temporary table, changing a temporary table from
        memory to disk, using
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a>, or performing a <code class="literal">MyISAM</code>
        repair on a table used within a transaction.
       (<a href="http://bugs.mysql.com/32149" target="_top">Bug#32149</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A suitable database identifier supplied to the
        <code class="literal">COM_CREATE_DB</code> or
        <code class="literal">COM_DROP_DB</code> command could cause a
        segmentation fault, and thereby a denial of service.
       (<a href="http://bugs.mysql.com/45790" target="_top">Bug#45790</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-2446" target="_top">CVE-2009-2446</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        The server crashed if an account with the
        <a href="server-administration.html#priv_create-routine"><code class="literal">CREATE ROUTINE</code></a> privilege but not
        the <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege attempted
        to create a stored procedure.
       (<a href="http://bugs.mysql.com/44798" target="_top">Bug#44798</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a>,
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>, and
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        statements are no longer affected by
        <a href="replication.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db</code></a> or
        <a href="replication.html#option_mysqld_replicate-ignore-db"><code class="option">--replicate-ignore-db</code></a> rules.
       (<a href="http://bugs.mysql.com/43263" target="_top">Bug#43263</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When reading a binary log that was in use by a master or that
        had not been properly closed (possibly due to a crash), the
        following message was printed: <span class="errortext">Warning: this binlog
        was not closed properly. Most probably mysqld crashed writing
        it</span>. This message did not take into account the
        possibility that the file was merely in use by the master, which
        caused some users concern who were not aware that this could
        happen.
      </p><p>
        To make this clear, the original message has been replaced with
        <span class="errortext">Warning: this binlog is either is use or was not
        closed properly</span>.
       (<a href="http://bugs.mysql.com/34687" target="_top">Bug#34687</a>)</p></li><li><p>
        The server crashed for attempts to use
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> or
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT ... ON DUPLICATE
        KEY UPDATE</code></a> with a view defined using a join.
       (<a href="http://bugs.mysql.com/45806" target="_top">Bug#45806</a>)</p></li><li><p>
        The combination of <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> in the select list with
        <code class="literal">WHERE</code> and <code class="literal">GROUP BY</code> clauses
        could lead to incorrect results.
       (<a href="http://bugs.mysql.com/45386" target="_top">Bug#45386</a>)</p></li><li><p>
        Compiler warnings on Mac OS X were fixed.
       (<a href="http://bugs.mysql.com/45286" target="_top">Bug#45286</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client could misinterpret some
        character sequences as commands under some circumstances.
       (<a href="http://bugs.mysql.com/45236" target="_top">Bug#45236</a>)</p></li><li><p>
        Use of <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> on a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> column of a derived
        table could cause a server crash.
       (<a href="http://bugs.mysql.com/45152" target="_top">Bug#45152</a>)</p></li><li><p>
        Index Merge followed by a filesort could result in a server
        crash if <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        not large enough for all sort keys.
       (<a href="http://bugs.mysql.com/44810" target="_top">Bug#44810</a>)</p><p>See also <a href="http://bugs.mysql.com/40974" target="_top">Bug#40974</a>.</p></li><li><p>
        The <a href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> and
        <a href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a> functions could
        read memory outside of an internal buffer when used with
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> arguments.
       (<a href="http://bugs.mysql.com/44767" target="_top">Bug#44767</a>)</p></li><li><p>
        A workaround for a Sun Studio bug was instituted.
       (<a href="http://bugs.mysql.com/41710" target="_top">Bug#41710</a>)</p></li><li><p>
        Shared-memory connections did not work in Vista if
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was started from the command line.
       (<a href="http://bugs.mysql.com/41190" target="_top">Bug#41190</a>)</p></li><li><p>
        Some <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements that
        affected no rows returned a rows-affected count of one.
       (<a href="http://bugs.mysql.com/40565" target="_top">Bug#40565</a>)</p></li><li><p>
        Valgrind warnings that occurred for <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW
        TABLE STATUS</code></a> with <code class="literal">InnoDB</code> tables
        were silenced.
       (<a href="http://bugs.mysql.com/38479" target="_top">Bug#38479</a>)</p></li><li><p>
        In the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, using a default
        character set of <code class="literal">binary</code> caused internal
        commands such as <code class="literal">DELIMITER</code> to become case
        sensitive.
       (<a href="http://bugs.mysql.com/37268" target="_top">Bug#37268</a>)</p></li><li><p>
        A Valgrind error during subquery execution was corrected.
       (<a href="http://bugs.mysql.com/36995" target="_top">Bug#36995</a>)</p></li><li><p>
        When invoked to start multiple server instances,
        <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a> sometimes would fail to start
        them all due to not changing location into the base directory
        for each instance.
       (<a href="http://bugs.mysql.com/36654" target="_top">Bug#36654</a>)</p></li><li><p>
        On Windows, the <code class="literal">_PC</code> macro in
        <code class="filename">my_global.h</code> was causing problems for modern
        compilers. It has been removed because it is no longer used.
       (<a href="http://bugs.mysql.com/34309" target="_top">Bug#34309</a>)</p></li><li><p>
        Setting the session value of the
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> or
        <a href="server-administration.html#sysvar_net_buffer_length"><code class="literal">net_buffer_length</code></a> system
        variable was allowed but had no effect. The session value of
        these variables is now read only.
       (<a href="http://bugs.mysql.com/32223" target="_top">Bug#32223</a>)</p><p>See also <a href="http://bugs.mysql.com/22891" target="_top">Bug#22891</a>.</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-83"></a>C.1.3. Changes in MySQL 5.0.83 (29 May 2009)</h3></div></div></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server and MySQL Community
      Server release (5.0.82). If you would like to receive more
      fine-grained and personalized <span class="emphasis"><em>update alerts</em></span>
      about fixes that are relevant to the version and features you use,
      please consider subscribing to <span class="emphasis"><em>MySQL
      Enterprise</em></span> (a commercial MySQL offering). For more
      details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The time zone tables for Windows available at
        <a href="http://dev.mysql.com/downloads/timezones.html" target="_top">http://dev.mysql.com/downloads/timezones.html</a> have been
        updated.
       (<a href="http://bugs.mysql.com/39923" target="_top">Bug#39923</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        When stopping and restarting the slave while it was replicating
        temporary tables, the slave server could crash or raise an
        assertion failure. This was due to the fact that, although
        temporary tables were saved between slave thread restarts, the
        reference to the thread being used
        (<code class="literal">table-&gt;in_use</code>) was not being properly
        updated when restarting, continuing to reference the old thread
        instead of the new one. This issue affected statement-based
        replication only.
       (<a href="http://bugs.mysql.com/41725" target="_top">Bug#41725</a>)</p></li><li><p>
        <a href="functions.html#function_uncompressed-length"><code class="literal">UNCOMPRESSED_LENGTH()</code></a> returned a
        garbage result when passed a string shorter than 5 bytes. Now
        <a href="functions.html#function_uncompressed-length"><code class="literal">UNCOMPRESSED_LENGTH()</code></a> returns
        <code class="literal">NULL</code> and generates a warning.
       (<a href="http://bugs.mysql.com/44796" target="_top">Bug#44796</a>)</p></li><li><p>
        Several Valgrind warnings were silenced.
       (<a href="http://bugs.mysql.com/44774" target="_top">Bug#44774</a>, <a href="http://bugs.mysql.com/44792" target="_top">Bug#44792</a>)</p></li><li><p>
        Incorrect time was reported at the end of
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> output.
       (<a href="http://bugs.mysql.com/44424" target="_top">Bug#44424</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> could crash for
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> queries in which the last
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> was not parenthesized and
        included an <code class="literal">ORDER BY</code> clause.
       (<a href="http://bugs.mysql.com/43612" target="_top">Bug#43612</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        @var</code></a> could produce values different from
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ...</code></a>
        without the <code class="literal">INTO</code> clause.
       (<a href="http://bugs.mysql.com/42009" target="_top">Bug#42009</a>)</p></li><li><p>
        Using <a href="programs.html#option_mysqlbinlog_hexdump"><code class="option">--hexdump</code></a> together
        with
        <a href="programs.html#option_mysqlbinlog_read-from-remote-server"><code class="option">--read-from-remote-server</code></a>
        caused <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/41943" target="_top">Bug#41943</a>)</p></li><li><p>
        A crash occurred due to a race condition between the merge table
        and <code class="literal">table_cache</code> evictions.
      </p><pre class="programlisting">00000001403C452F    mysqld.exe!memcpy()[memcpy.asm:151]
00000001402A275F    mysqld.exe!ha_myisammrg::info()[ha_myisammrg.cc:854]
00000001402A2471    mysqld.exe!ha_myisammrg::attach_children()[ha_myisammrg.cc:488]
00000001402A2788    mysqld.exe!ha_myisammrg::extra()[ha_myisammrg.cc:863]
000000014015FC5D    mysqld.exe!attach_merge_children()[sql_base.cc:4135]
000000014016A4C1    mysqld.exe!open_tables()[sql_base.cc:4697]
000000014016A898    mysqld.exe!open_and_lock_tables_derived()[sql_base.cc:4956]
000000014018BB54    mysqld.exe!mysql_insert()[sql_insert.cc:613]
000000014019EDD3    mysqld.exe!mysql_execute_command()[sql_parse.cc:3066]
00000001401A2F06    mysqld.exe!mysql_parse()[sql_parse.cc:5791]
00000001401A3C1A    mysqld.exe!dispatch_command()[sql_parse.cc:1202]
00000001401A4CD7    mysqld.exe!do_command()[sql_parse.cc:857]
0000000140246327    mysqld.exe!handle_one_connection()[sql_connect.cc:1115]
00000001402B82C5    mysqld.exe!pthread_start()[my_winthread.c:85]
00000001403CAC37    mysqld.exe!_callthreadstart()[thread.c:295]
00000001403CAD05    mysqld.exe!_threadstart()[thread.c:275]
0000000077D6B69A    kernel32.dll!BaseThreadStart()
Trying to get some variables.
Some pointers may be invalid and cause the dump to abort...</pre><p>(<a href="http://bugs.mysql.com/41212" target="_top">Bug#41212</a>)</p></li><li><p>
        For some queries, an equality propagation problem could cause
        <code class="literal">a = b</code> and <code class="literal">b = a</code> to be
        handled differently.
       (<a href="http://bugs.mysql.com/40925" target="_top">Bug#40925</a>)</p></li><li><p>
        For views created with a column list clause, column aliases were
        not substituted when selecting through the view using a
        <code class="literal">HAVING</code> clause.
       (<a href="http://bugs.mysql.com/40825" target="_top">Bug#40825</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> involving
        a table self-join could cause a server crash.
       (<a href="http://bugs.mysql.com/39918" target="_top">Bug#39918</a>)</p></li><li><p>
        Creating an <code class="literal">InnoDB</code> table with a comment
        containing a <code class="literal">'#'</code> character caused foreign key
        constraints to be omitted.
       (<a href="http://bugs.mysql.com/39793" target="_top">Bug#39793</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> option
        <a href="programs.html#option_mysql_ignore-spaces"><code class="option">--ignore-spaces</code></a> was nonfunctional.
       (<a href="http://bugs.mysql.com/39101" target="_top">Bug#39101</a>)</p></li><li><p>
        If a query was such as to produce the error <code class="literal">1054
        Unknown column '...' in 'field list'</code>, using
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> with the query could cause a server crash.
       (<a href="http://bugs.mysql.com/37362" target="_top">Bug#37362</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-82sp1"></a>C.1.4. Release Notes for MySQL Enterprise 5.0.82sp1 [QSP] (21 July 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.82).
    </p><p>
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The server crashed for attempts to use
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> or
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT ... ON DUPLICATE
        KEY UPDATE</code></a> with a view defined using a join.
       (<a href="http://bugs.mysql.com/45806" target="_top">Bug#45806</a>)</p></li><li><p>
        Use of <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> on a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> column of a derived
        table could cause a server crash.
       (<a href="http://bugs.mysql.com/45152" target="_top">Bug#45152</a>)</p></li><li><p>
        Index Merge followed by a filesort could result in a server
        crash if <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        not large enough for all sort keys.
       (<a href="http://bugs.mysql.com/44810" target="_top">Bug#44810</a>)</p><p>See also <a href="http://bugs.mysql.com/40974" target="_top">Bug#40974</a>.</p></li><li><p>
        If a query was such as to produce the error <code class="literal">1054
        Unknown column '...' in 'field list'</code>, using
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> with the query could cause a server crash.
       (<a href="http://bugs.mysql.com/37362" target="_top">Bug#37362</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-82"></a>C.1.5. Changes in MySQL 5.0.82 (20 May 2009)</h3></div></div></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server and MySQL Community
      Server release (5.0.80). If you would like to receive more
      fine-grained and personalized <span class="emphasis"><em>update alerts</em></span>
      about fixes that are relevant to the version and features you use,
      please consider subscribing to <span class="emphasis"><em>MySQL
      Enterprise</em></span> (a commercial MySQL offering). For more
      details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        Restarting the replication slave — either by using
        <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a> plus
        <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START SLAVE</code></a>, or by restarting the
        slave <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process — could sometimes
        cause the slave to crash when using a debug version of the
        server.
       (<a href="http://bugs.mysql.com/38694" target="_top">Bug#38694</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Killing the thread executing a DDL statement, after it had
        finished its execution but before it had written the binlog
        event, caused the error code in the binlog event to be set
        (incorrectly) to <span class="errorcode">ER_SERVER_SHUTDOWN</span> or
        <span class="errorcode">ER_QUERY_INTERRUPTED</span>, which caused
        replication to fail.
       (<a href="http://bugs.mysql.com/37145" target="_top">Bug#37145</a>)</p><p>See also <a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>, <a href="http://bugs.mysql.com/22725" target="_top">Bug#22725</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Column aliases used inside subqueries were ignored in the binary
        log.
       (<a href="http://bugs.mysql.com/35515" target="_top">Bug#35515</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The statements
        <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP PROCEDURE
        IF EXISTS</code></a> and
        <a href="sql-syntax.html#drop-function" title="12.1.14. DROP FUNCTION Syntax"><code class="literal">DROP FUNCTION IF
        EXISTS</code></a> were not written to the binary log if the
        procedure or function to be dropped did not exist.
       (<a href="http://bugs.mysql.com/13684" target="_top">Bug#13684</a>)</p><p>See also <a href="http://bugs.mysql.com/25705" target="_top">Bug#25705</a>.</p></li><li><p>
        Use of <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> statements with
        <code class="literal">INFORMATION_SCHEMA</code> tables caused a server
        crash. Now <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> is prohibited
        with such tables.
       (<a href="http://bugs.mysql.com/44151" target="_top">Bug#44151</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> could display a negative
        <code class="literal">Max keyfile length</code> value.
       (<a href="http://bugs.mysql.com/43950" target="_top">Bug#43950</a>)</p></li><li><p>
        <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a> incorrectly passed
        <code class="option">--no-defaults</code> to
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a>.
       (<a href="http://bugs.mysql.com/43876" target="_top">Bug#43876</a>)</p></li><li><p>
        On Windows, a server crash occurred for attempts to insert a
        floating-point value into a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>
        column with a maximum length less than the converted
        floating-point value length.
       (<a href="http://bugs.mysql.com/43833" target="_top">Bug#43833</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> uses random numbers to
        generate dives into indexes for calculating index cardinality.
        However, under certain conditions, the algorithm did not
        generate random numbers, so <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE
        TABLE</code></a> did not update cardinality estimates properly. A
        new algorithm has been introduced with better randomization
        properties, together with a system variable,
        <a href="storage-engines.html#sysvar_innodb_use_legacy_cardinality_algorithm"><code class="literal">innodb_use_legacy_cardinality_algorithm</code></a>,
        that controls which algorithm to use. The default value of the
        variable is 1 (<code class="literal">ON</code>), to use the original
        algorithm for compatibility with existing applications. The
        variable can be set to 0 (<code class="literal">OFF</code>) to use the new
        algorithm with improved randomness.
       (<a href="http://bugs.mysql.com/43660" target="_top">Bug#43660</a>)</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> of floating-point numbers
        did unnecessary rounding.
       (<a href="http://bugs.mysql.com/43432" target="_top">Bug#43432</a>)</p></li><li><p>
        Certain statements might open a table and then wait for an
        impending global read lock without noticing whether they hold a
        table being waiting for by the global read lock, causing a hang.
        Affected statements are
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a>,
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES ...
        WRITE</code></a>,
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a>, and
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a>.
       (<a href="http://bugs.mysql.com/43230" target="_top">Bug#43230</a>)</p></li><li><p>
        The <code class="literal">InnoDB</code>
        <code class="literal">btr_search_drop_page_hash_when_freed()</code>
        function had a race condition.
       (<a href="http://bugs.mysql.com/42279" target="_top">Bug#42279</a>)</p></li><li><p>
        Compressing a table with the <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a>
        utility caused the server to produce Valgrind warnings when it
        opened the table.
       (<a href="http://bugs.mysql.com/41541" target="_top">Bug#41541</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with
        <code class="literal">DELAY_KEY_WRITE</code> enabled, the index file could
        be corrupted without the table being marked as crashed if the
        server was killed.
       (<a href="http://bugs.mysql.com/41330" target="_top">Bug#41330</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements
        did not properly activate triggers.
       (<a href="http://bugs.mysql.com/39953" target="_top">Bug#39953</a>)</p></li><li><p>
        The functions listed in
        <a href="functions.html#gis-mysql-specific-functions" title="11.12.4.2.3. Creating Geometry Values Using MySQL-Specific Functions">Section 11.12.4.2.3, “Creating Geometry Values Using MySQL-Specific Functions”</a>, previously
        accepted WKB arguments and returned WKB values. They now accept
        WKB or geometry arguments and return geometry values.
      </p><p>
        The functions listed in <a href="functions.html#gis-wkb-functions" title="11.12.4.2.2. Creating Geometry Values Using WKB Functions">Section 11.12.4.2.2, “Creating Geometry Values Using WKB Functions”</a>,
        previously accepted WKB arguments and returned geometry values.
        They now accept WKB or geometry arguments and return geometry
        values.
       (<a href="http://bugs.mysql.com/38990" target="_top">Bug#38990</a>)</p></li><li><p>
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement that updated
        a column using the same
        <a href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> value for each row
        actually updated different rows with different values.
       (<a href="http://bugs.mysql.com/35087" target="_top">Bug#35087</a>)</p></li><li><p>
        For shared-memory connections, the read and write methods did
        not properly handle asynchronous close events, which could lead
        to the client locking up waiting for a server response. For
        example, a call to
        <a href="connectors-apis.html#mysql-real-query" title="20.9.3.54. mysql_real_query()"><code class="literal">mysql_real_query()</code></a> would block
        forever on the client side if the executed statement was aborted
        on the server side. Thanks to Armin Schöffmann for the bug
        report and patch.
       (<a href="http://bugs.mysql.com/33899" target="_top">Bug#33899</a>)</p></li><li><p>
        <a href="sql-syntax.html#checksum-table" title="12.5.2.4. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> was not killable
        with <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL QUERY</code></a>.
       (<a href="http://bugs.mysql.com/33146" target="_top">Bug#33146</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> and <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a>
        were not being linked with the library that enabled support for
        <code class="literal">*</code> filename pattern expansion.
       (<a href="http://bugs.mysql.com/29248" target="_top">Bug#29248</a>)</p></li><li><p>
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> did not delete savepoints
        if there were no changes in the transaction.
       (<a href="http://bugs.mysql.com/26288" target="_top">Bug#26288</a>)</p></li><li><p>
        Several memory allocation functions were not being checked for
        out-of-memory return values.
       (<a href="http://bugs.mysql.com/25058" target="_top">Bug#25058</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-81"></a>C.1.6. Release Notes for MySQL Community Server 5.0.81 (01 May 2009)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.77.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        To enable stricter control over the location from which
        user-defined functions can be loaded, the
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable has
        been backported from MySQL 5.1. If the value is nonempty,
        user-defined function object files can be loaded only from the
        directory named by this variable. If the value is empty, the
        behavior that is used prior to the inclusion of
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> applies: The UDF
        object files must be located in a directory that is searched by
        your system's dynamic linker.
       (<a href="http://bugs.mysql.com/37428" target="_top">Bug#37428</a>)</p></li><li><p>
        A new status variable,
        <a href="server-administration.html#statvar_Queries"><code class="literal">Queries</code></a>, indicates the number
        of statements executed by the server. This includes statements
        executed within stored programs, unlike the
        <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> variable which
        includes only statements sent to the server by clients.
       (<a href="http://bugs.mysql.com/41131" target="_top">Bug#41131</a>)</p></li><li><p>
        Previously, index hints did not work for
        <code class="literal">FULLTEXT</code> searches. Now they work as follows:
      </p><p>
        For natural language mode searches, index hints are silently
        ignored. For example, <code class="literal">IGNORE INDEX(i)</code> is
        ignored with no warning and the index is still used.
      </p><p>
        For boolean mode searches, index hints are honored.
       (<a href="http://bugs.mysql.com/38842" target="_top">Bug#38842</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        Additional corrections were made for the symlink-related
        privilege problem originally addressed in MySQL 5.0.60. The
        original fix did not correctly handle the data directory path
        name if it contained symlinked directories in its path, and the
        check was made only at table-creation time, not at table-opening
        time later.
       (<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        The server consumed excess memory while parsing statements with
        hundreds or thousands of nested boolean conditions (such as
        <code class="literal">OR (OR ... (OR ... ))</code>). This could lead to a
        server crash or incorrect statement execution, or cause other
        client statements to fail due to lack of memory. The latter
        result constitutes a denial of service.
       (<a href="http://bugs.mysql.com/38296" target="_top">Bug#38296</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        There were some problems using <code class="function">DllMain()</code>
        hook functions on Windows that automatically do global and
        per-thread initialization for
        <code class="filename">libmysqld.dll</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Per-thread initialization: MySQL internally counts the
            number of active threads, which causes a delay in
            <code class="function">my_end()</code> if not all threads have
            exited. But there are threads that can be started either by
            Windows internally (often in TCP/IP scenarios) or by users.
            Those threads do not necessarily use
            <code class="filename">libmysql.dll</code> functionality but still
            contribute to the open-thread count. (One symptom is a
            five-second delay in times for PHP scripts to finish.)
          </p></li><li><p>
            Process-initialization:
            <a href="connectors-apis.html#my-init" title="20.9.8.1. my_init()"><code class="literal">my_init()</code></a> calls
            <code class="function">WSAStartup</code> that itself loads DLLs and
            can lead to a deadlock in the Windows loader.
          </p></li></ul></div><p>
        To correct these problems, DLL initialization code now is not
        invoked from <code class="filename">libmysql.dll</code> by default. To
        obtain the previous behavior (DLL initialization code will be
        called), set the <code class="literal">LIBMYSQL_DLLINIT</code> environment
        variable to any value. This variable exists only to prevent
        breakage of existing Windows-only applications that do not call
        <a href="connectors-apis.html#mysql-thread-init" title="20.9.8.3. mysql_thread_init()"><code class="literal">mysql_thread_init()</code></a> and work
        okay today. Use of <code class="literal">LIBMYSQL_DLLINIT</code> is
        discouraged and is removed in MySQL 6.0.
       (<a href="http://bugs.mysql.com/37226" target="_top">Bug#37226</a>, <a href="http://bugs.mysql.com/33031" target="_top">Bug#33031</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> took a lot of CPU
        time for calculating the value of the
        <a href="server-administration.html#statvar_Innodb_buffer_pool_pages_latched"><code class="literal">Innodb_buffer_pool_pages_latched</code></a>
        status variable. Now this variable is calculated and included in
        the output of <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> only if
        the <code class="literal">UNIV_DEBUG</code> symbol is defined at MySQL
        build time.
       (<a href="http://bugs.mysql.com/36600" target="_top">Bug#36600</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In connection with view creation, the server created
        <code class="filename">arc</code> directories inside database directories
        and maintained useless copies of <code class="filename">.frm</code> files
        there. Creation and renaming procedures of those copies as well
        as creation of <code class="filename">arc</code> directories has been
        discontinued.
      </p><p>
        This change does cause a problem when downgrading to older
        server versions which manifests itself under these
        circumstances:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Create a view <code class="literal">v_orig</code> in MySQL 5.0.72 or
            higher.
          </p></li><li><p>
            Rename the view to <code class="literal">v_new</code> and then back to
            <code class="literal">v_orig</code>.
          </p></li><li><p>
            Downgrade to an older 5.0.x server and run
            <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
          </p></li><li><p>
            Try to rename <code class="literal">v_orig</code> to
            <code class="literal">v_new</code> again. This operation fails.
          </p></li></ol></div><p>
        As a workaround to avoid this problem, use either of these
        approaches:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Dump your data using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before
            downgrading and reload the dump file after downgrading.
          </p></li><li><p>
            Instead of renaming a view after the downgrade, drop it and
            recreate it.
          </p></li></ul></div><p>
        The downgrade problem introduced by the fix for this bug has
        been addressed as <a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>.
       (<a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When rotating relay log files, the slave deletes relay log files
        and then edits the relay log index file. Formerly, if the slave
        shut down unexpectedly between these two events, the relay log
        index file could then reference relay logs that no longer
        existed. Depending on the circumstances, this could when
        restarting the slave cause either a race condition or the
        failure of replication.
       (<a href="http://bugs.mysql.com/38826" target="_top">Bug#38826</a>, <a href="http://bugs.mysql.com/39325" target="_top">Bug#39325</a>)</p></li><li><p>
        In example option files provided in MySQL distributions, the
        <a href="server-administration.html#sysvar_thread_stack"><code class="literal">thread_stack</code></a> value was
        increased from 64K to 128K.
       (<a href="http://bugs.mysql.com/41577" target="_top">Bug#41577</a>)</p></li><li><p>
        <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> caused a server
        crash if the account name was given as
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
       (<a href="http://bugs.mysql.com/41456" target="_top">Bug#41456</a>)</p></li><li><p>
        The
        <a href="information-schema.html#schema-privileges-table" title="19.6. The INFORMATION_SCHEMA SCHEMA_PRIVILEGES Table"><code class="literal">INFORMATION_SCHEMA.SCHEMA_PRIVILEGES</code></a>
        table was limited to 7680 rows.
       (<a href="http://bugs.mysql.com/41079" target="_top">Bug#41079</a>)</p></li><li><p>
        In debug builds, obsolete debug code could be used to crash the
        server.
       (<a href="http://bugs.mysql.com/41041" target="_top">Bug#41041</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> did not check for incompatible collation
        changes made in MySQL 5.0.48 (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>, <a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>, <a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>).
        This also affects <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/40984" target="_top">Bug#40984</a>)</p><p>See also <a href="http://bugs.mysql.com/39585" target="_top">Bug#39585</a>.</p></li><li><p>
        Some queries that used a “<span class="quote">range checked for each
        record</span>” scan could return incorrect results.
       (<a href="http://bugs.mysql.com/40974" target="_top">Bug#40974</a>)</p><p>See also <a href="http://bugs.mysql.com/44810" target="_top">Bug#44810</a>.</p></li><li><p>
        Certain <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries could fail
        with a <code class="literal">Duplicate entry</code> error.
       (<a href="http://bugs.mysql.com/40953" target="_top">Bug#40953</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> handler had a memory
        leak.
       (<a href="http://bugs.mysql.com/40875" target="_top">Bug#40875</a>)</p></li><li><p>
        <code class="literal">IF(..., CAST(<em class="replaceable"><code>longtext_val</code></em> AS
        UNSIGNED), <em class="replaceable"><code>signed_val</code></em>)</code> as
        an argument to an aggregate function could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/40761" target="_top">Bug#40761</a>)</p></li><li><p>
        Prepared statements allowed invalid dates to be inserted when
        the <a href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
        mode was not enabled.
       (<a href="http://bugs.mysql.com/40365" target="_top">Bug#40365</a>)</p></li><li><p>
        <span><strong class="command">mc.exe</strong></span> is no longer needed to compile MySQL
        on Windows. This makes it possible to build MySQL from source
        using Visual Studio Express 2008.
       (<a href="http://bugs.mysql.com/40280" target="_top">Bug#40280</a>)</p></li><li><p>
        Support for the <code class="literal">revision</code> field in
        <code class="filename">.frm</code> files has been removed. This addresses
        the downgrading problem introduced by the fix for <a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>.
       (<a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>)</p></li><li><p>
        If the operating system is configured to return leap seconds
        from OS time calls or if the MySQL server uses a time zone
        definition that has leap seconds, functions such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> could return a value having
        a time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code>. If such values are inserted into a
        table, they would be dumped as is by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> but considered invalid when
        reloaded, leading to backup/restore problems.
      </p><p>
        Now leap second values are returned with a time part that ends
        with <code class="literal">:59:59</code>. This means that a function such
        as <a href="functions.html#function_now"><code class="literal">NOW()</code></a> can return the same
        value for two or three consecutive seconds during the leap
        second. It remains true that literal temporal values having a
        time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code> are considered invalid.
      </p><p>
        For additional details about leap-second handling, see
        <a href="internationalization-localization.html#time-zone-leap-seconds" title="9.7.2. Time Zone Leap Second Support">Section 9.7.2, “Time Zone Leap Second Support”</a>.
       (<a href="http://bugs.mysql.com/39920" target="_top">Bug#39920</a>)</p></li><li><p>
        The server could crash during a sort-order optimization of a
        dependent subquery.
       (<a href="http://bugs.mysql.com/39844" target="_top">Bug#39844</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        SQL mode enabled, the check for nonaggregated columns in queries
        with aggregate functions, but without a <code class="literal">GROUP
        BY</code> clause was treating all the parts of the query as
        if they were in the select list. This is fixed by ignoring the
        nonaggregated columns in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/39656" target="_top">Bug#39656</a>)</p></li><li><p>
        The server crashed if an integer field in a CSV file did not
        have delimiting quotes.
       (<a href="http://bugs.mysql.com/39616" target="_top">Bug#39616</a>)</p></li><li><p>
        Creating a table with a comment of 62 characters or longer
        caused a server crash.
       (<a href="http://bugs.mysql.com/39591" target="_top">Bug#39591</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> failed for
        <code class="literal">MyISAM</code>
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/39541" target="_top">Bug#39541</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could hang trying to open an adaptive
        hash index.
       (<a href="http://bugs.mysql.com/39483" target="_top">Bug#39483</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column in an
        <code class="literal">InnoDB</code> table, testing the column with
        multiple conditions in the <code class="literal">WHERE</code> clause
        caused a server crash.
       (<a href="http://bugs.mysql.com/39353" target="_top">Bug#39353</a>)</p></li><li><p>
        The server returned a column type of
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> rather than
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as the result from the
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, or
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> functions or
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expression if the result was
        obtained using <code class="literal">filesort</code> in an anonymous
        temporary table during the query execution.
       (<a href="http://bugs.mysql.com/39283" target="_top">Bug#39283</a>)</p></li><li><p>
        References to local variables in stored procedures are replaced
        with
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,
        <em class="replaceable"><code>value</code></em>)</code></a> when written to the
        binary log. However, an “<span class="quote">illegal mix of collation</span>”
        error might occur when executing the log contents if the value's
        collation differed from that of the variable. Now information
        about the variable collation is written as well.
       (<a href="http://bugs.mysql.com/39182" target="_top">Bug#39182</a>)</p></li><li><p>
        Some recent releases for Solaris 10 were built on Solaris 10 U5,
        which included a new version of <code class="filename">libnsl.so</code>
        that does not work on U4 or earlier. To correct this, Solaris 10
        builds now are created on machines that do not have that
        upgraded <code class="filename">libnsl.so</code>, so that they will work
        on Solaris 10 installations both with and without the upgraded
        <code class="filename">libnsl.so</code>.
       (<a href="http://bugs.mysql.com/39074" target="_top">Bug#39074</a>)</p></li><li><p>
        With binary logging enabled <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> was subject to possible buffer overwrite and a
        server crash.
       (<a href="http://bugs.mysql.com/39040" target="_top">Bug#39040</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... REGEXP BINARY
        NULL</code> could lead to a hung or crashed server.
       (<a href="http://bugs.mysql.com/39021" target="_top">Bug#39021</a>)</p></li><li><p>
        Statements of the form <code class="literal">INSERT ... SELECT .. ON
        DUPLICATE KEY UPDATE <em class="replaceable"><code>col_name</code></em> =
        DEFAULT</code> could result in a server crash.
       (<a href="http://bugs.mysql.com/39002" target="_top">Bug#39002</a>)</p></li><li><p>
        Column names constructed due to wild-card expansion done inside
        a stored procedure could point to freed memory if the expansion
        was performed after the first call to the stored procedure.
       (<a href="http://bugs.mysql.com/38823" target="_top">Bug#38823</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT</code></a> statements, where the created table
        contained an <code class="literal">AUTO_INCREMENT</code> column, could
        lead to an assertion failure.
       (<a href="http://bugs.mysql.com/38821" target="_top">Bug#38821</a>)</p></li><li><p>
        If delayed insert failed to upgrade the lock, it did not free
        the temporary memory storage used to keep newly constructed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values in memory, resulting
        in a memory leak.
       (<a href="http://bugs.mysql.com/38693" target="_top">Bug#38693</a>)</p></li><li><p>
        A server crash resulted from concurrent execution of a
        multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that used a
        <code class="literal">NATURAL</code> or <code class="literal">USING</code> join
        together with <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES WITH READ LOCK</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> for the table being updated.
       (<a href="http://bugs.mysql.com/38691" target="_top">Bug#38691</a>)</p></li><li><p>
        On ActiveState Perl, <span><strong class="command">mysql-test-run.pl
        --start-and-exit</strong></span> started but did not exit.
       (<a href="http://bugs.mysql.com/38629" target="_top">Bug#38629</a>)</p></li><li><p>
        Server-side cursors were not initialized properly, which could
        cause a server crash.
       (<a href="http://bugs.mysql.com/38486" target="_top">Bug#38486</a>)</p></li><li><p>
        Stored procedures involving substrings could crash the server on
        certain platforms due to invalid memory reads.
       (<a href="http://bugs.mysql.com/38469" target="_top">Bug#38469</a>)</p></li><li><p>
        A server crash or Valgrind warnings could result when a stored
        procedure selected from a view that referenced a function.
       (<a href="http://bugs.mysql.com/38291" target="_top">Bug#38291</a>)</p></li><li><p>
        Incorrect handling of aggregate functions when loose index scan
        was used caused a server crash.
       (<a href="http://bugs.mysql.com/38195" target="_top">Bug#38195</a>)</p></li><li><p>
        Queries containing a subquery with <code class="literal">DISTINCT</code>
        and <code class="literal">ORDER BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/38191" target="_top">Bug#38191</a>)</p></li><li><p>
        Queries with a <code class="literal">HAVING</code> clause could return a
        spurious row.
       (<a href="http://bugs.mysql.com/38072" target="_top">Bug#38072</a>)</p></li><li><p>
        Use of spatial data types in prepared statements could cause
        memory leaks or server crashes.
       (<a href="http://bugs.mysql.com/37956" target="_top">Bug#37956</a>, <a href="http://bugs.mysql.com/37671" target="_top">Bug#37671</a>)</p></li><li><p>
        The server crashed if an argument to a stored procedure was a
        subquery that returned more than one row.
       (<a href="http://bugs.mysql.com/37949" target="_top">Bug#37949</a>)</p></li><li><p>
        When analyzing the possible index use cases, the server was
        incorrectly reusing an internal structure, leading to a server
        crash.
       (<a href="http://bugs.mysql.com/37943" target="_top">Bug#37943</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with a <code class="literal">NULL NOT
        IN</code> condition containing a complex subquery from the
        same table as in the outer select caused an assertion failure.
       (<a href="http://bugs.mysql.com/37894" target="_top">Bug#37894</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ORDER BY ...
        DESC</code> sometimes returned results in ascending order.
       (<a href="http://bugs.mysql.com/37830" target="_top">Bug#37830</a>)</p></li><li><p>
        If a table has a <code class="literal">BIT NOT NULL</code> column
        <code class="literal">c1</code> with a length shorter than 8 bits and some
        additional <code class="literal">NOT NULL</code> columns
        <code class="literal">c2</code>, ..., and a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query has a
        <code class="literal">WHERE</code> clause of the form <code class="literal">(c1 =
        <em class="replaceable"><code>constant</code></em>) AND c2 ...</code>, the
        query could return an unexpected result set.
       (<a href="http://bugs.mysql.com/37799" target="_top">Bug#37799</a>)</p></li><li><p>
        Nesting of <a href="functions.html#function_if"><code class="literal">IF()</code></a> inside of
        <a href="functions.html#function_sum"><code class="literal">SUM()</code></a> could cause an extreme
        server slowdown.
       (<a href="http://bugs.mysql.com/37662" target="_top">Bug#37662</a>)</p></li><li><p>
        The <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> functions returned a
        binary string, so that using
        <a href="functions.html#function_lower"><code class="literal">LOWER()</code></a> or
        <a href="functions.html#function_upper"><code class="literal">UPPER()</code></a> had no effect. Now
        <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> return a value in
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
        character set.
       (<a href="http://bugs.mysql.com/37575" target="_top">Bug#37575</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> was erroneously
        treated as always returning a positive result. Also,
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> dropped the sign of
        negative values.
       (<a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a>)</p><p>See also <a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>.</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> used
        <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW FULL
        TABLES</code></a> to get the list of tables in a database. For
        some problems, such as an empty <code class="filename">.frm</code> file
        for a table, this would fail and <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
        then would neglect to check other tables in the database.
       (<a href="http://bugs.mysql.com/37527" target="_top">Bug#37527</a>)</p></li><li><p>
        The <a href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
        operator could return incorrect results when comparing
        <code class="literal">NULL</code> to <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>, or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/37526" target="_top">Bug#37526</a>)</p></li><li><p>
        Updating a view with a subquery in the <code class="literal">CHECK</code>
        option could cause an assertion failure.
       (<a href="http://bugs.mysql.com/37460" target="_top">Bug#37460</a>)</p></li><li><p>
        Statements that displayed the value of system variables (for
        example, <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>) expect
        variable values to be encoded in
        <a href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a>. However,
        variables set from the command line such as
        <a href="server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a> or
        <a href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a> were encoded using
        <a href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a> and
        not converted correctly.
       (<a href="http://bugs.mysql.com/37339" target="_top">Bug#37339</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with <code class="literal">CHECKSUM =
        1</code> and <code class="literal">ROW_FORMAT = DYNAMIC</code> table
        options, a data consistency check (maximum record length) could
        fail and cause the table to be marked as corrupted.
       (<a href="http://bugs.mysql.com/37310" target="_top">Bug#37310</a>)</p></li><li><p>
        The <code class="literal">max_length</code> result set metadata value was
        calculated incorrectly under some circumstances.
       (<a href="http://bugs.mysql.com/37301" target="_top">Bug#37301</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> could crash with
        <code class="literal">InnoDB</code> plugin 1.0.1.
       (<a href="http://bugs.mysql.com/37284" target="_top">Bug#37284</a>)</p></li><li><p>
        Certain boolean-mode <code class="literal">FULLTEXT</code> searches that
        used the truncation operator did not return matching records and
        calculated relevance incorrectly.
       (<a href="http://bugs.mysql.com/37245" target="_top">Bug#37245</a>)</p></li><li><p>
        The <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
        mode was ignored for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> and <code class="literal">SELECT INTO ... OUTFILE</code>.
        The setting is taken into account now.
       (<a href="http://bugs.mysql.com/37114" target="_top">Bug#37114</a>)</p></li><li><p>
        On a 32-bit server built without big tables support, the offset
        argument in a <code class="literal">LIMIT</code> clause might be truncated
        due to a 64-bit to 32-bit cast.
       (<a href="http://bugs.mysql.com/37075" target="_top">Bug#37075</a>)</p></li><li><p>
        If the server failed to expire binary log files at startup, it
        could crash.
       (<a href="http://bugs.mysql.com/37027" target="_top">Bug#37027</a>)</p></li><li><p>
        The code for the <code class="function">ut_usectime()</code> function in
        <code class="literal">InnoDB</code> did not handle errors from the
        <code class="function">gettimeofday()</code> system call. Now it retries
        <code class="function">gettimeofday()</code> several times and updates
        the value of the
        <a href="server-administration.html#statvar_Innodb_row_lock_time_max"><code class="literal">Innodb_row_lock_time_max</code></a>
        status variable only if <code class="function">ut_usectime()</code> was
        successful.
       (<a href="http://bugs.mysql.com/36819" target="_top">Bug#36819</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with
        <code class="literal">GROUP BY</code> to convert numeric values to
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> could return truncated
        results.
       (<a href="http://bugs.mysql.com/36772" target="_top">Bug#36772</a>)</p></li><li><p>
        A query which had an <code class="literal">ORDER BY DESC</code> clause
        that is satisfied with a reverse range scan could cause a server
        crash for some specific CPU/compiler combinations.
       (<a href="http://bugs.mysql.com/36639" target="_top">Bug#36639</a>)</p></li><li><p>
        Dumping information about locks in use by sending a
        <code class="literal">SIGHUP</code> signal to the server or by invoking
        the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin debug</strong></span></a> command could lead to a
        server crash in debug builds or to undefined behavior in
        production builds.
       (<a href="http://bugs.mysql.com/36579" target="_top">Bug#36579</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, when built with Visual
        Studio 2005, did not display Japanese characters.
       (<a href="http://bugs.mysql.com/36279" target="_top">Bug#36279</a>)</p></li><li><p>
        When the fractional part in a multiplication of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values overflowed, the
        server truncated the first operand rather than the longest. Now
        the server truncates so as to produce more precise
        multiplications.
       (<a href="http://bugs.mysql.com/36270" target="_top">Bug#36270</a>)</p></li><li><p>
        A read past the end of the string could occur while parsing the
        value of the
        <a href="storage-engines.html#sysvar_innodb_data_file_path"><code class="option">--innodb-data-file-path</code></a> option.
       (<a href="http://bugs.mysql.com/36149" target="_top">Bug#36149</a>)</p></li><li><p>
        Host name values in SQL statements were not being checked for
        <code class="literal">'@'</code>, which is illegal according to RFC952.
       (<a href="http://bugs.mysql.com/35924" target="_top">Bug#35924</a>)</p></li><li><p>
        The <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> function returned
        UUIDs with the wrong time; this was because the offset for the
        time part in UUIDs was miscalculated.
       (<a href="http://bugs.mysql.com/35848" target="_top">Bug#35848</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        a printable value for the default value of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/35796" target="_top">Bug#35796</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed on machines that had
        the host name set to <code class="literal">localhost</code>.
       (<a href="http://bugs.mysql.com/35754" target="_top">Bug#35754</a>)</p></li><li><p>
        Dynamic plugins failed to load on i5/OS.
       (<a href="http://bugs.mysql.com/35743" target="_top">Bug#35743</a>)</p></li><li><p>
        Freeing of an internal parser stack during parsing of complex
        stored programs caused a server crash.
       (<a href="http://bugs.mysql.com/35577" target="_top">Bug#35577</a>, <a href="http://bugs.mysql.com/37269" target="_top">Bug#37269</a>, <a href="http://bugs.mysql.com/37228" target="_top">Bug#37228</a>)</p></li><li><p>
        The <code class="literal">max_length</code> metadata value was calculated
        incorrectly for the <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a>
        function, which could cause incorrect result set metadata to be
        sent to clients.
       (<a href="http://bugs.mysql.com/35558" target="_top">Bug#35558</a>)</p></li><li><p>
        Index scans performed with the <code class="literal">sort_union()</code>
        access method returned wrong results, caused memory to be
        leaked, and caused temporary files to be deleted when the limit
        set by <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        reached.
       (<a href="http://bugs.mysql.com/35477" target="_top">Bug#35477</a>, <a href="http://bugs.mysql.com/35478" target="_top">Bug#35478</a>)</p></li><li><p>
        If the server crashed with an <code class="literal">InnoDB</code> error
        due to unavailability of undo slots, errors could persist during
        rollback when the server was restarted: There are two
        <code class="literal">UNDO</code> slot caches (for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>). If all slots end up in
        one of the slot caches, a request for a slot from the other slot
        cache would fail. This can happen if the request is for an
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> slot and all slots are in
        the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> slot cache, or vice
        versa.
       (<a href="http://bugs.mysql.com/35352" target="_top">Bug#35352</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ALTER TABLE
        DROP</code> failed if the name of the column to be dropped
        began with “<span class="quote">foreign</span>”.
       (<a href="http://bugs.mysql.com/35220" target="_top">Bug#35220</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> on Windows did not know about Win32
        system error codes.
       (<a href="http://bugs.mysql.com/34825" target="_top">Bug#34825</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> evaluation of aggregate functions that
        required a temporary table caused a server crash.
       (<a href="http://bugs.mysql.com/34773" target="_top">Bug#34773</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... WHERE
        <em class="replaceable"><code>string</code></em> = ANY(...)</code> failed
        when the server used a single-byte character set and the client
        used a multi-byte character set.
       (<a href="http://bugs.mysql.com/34760" target="_top">Bug#34760</a>)</p><p>See also <a href="http://bugs.mysql.com/20835" target="_top">Bug#20835</a>.</p></li><li><p>
        Using <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> as the first
        statement on an <code class="literal">InnoDB</code> table with an
        <code class="literal">AUTO_INCREMENT</code> column could cause a server
        crash.
       (<a href="http://bugs.mysql.com/34286" target="_top">Bug#34286</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the server was
        running with an SQL mode of
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>. This program now
        resets the SQL mode internally to avoid this problem.
       (<a href="http://bugs.mysql.com/34159" target="_top">Bug#34159</a>)</p></li><li><p>
        Changes to build files were made to enable the MySQL
        distribution to compile on Microsoft Visual C++ Express 2008.
       (<a href="http://bugs.mysql.com/33907" target="_top">Bug#33907</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client incorrectly parsed
        statements containing the word “<span class="quote">delimiter</span>” in
        mid-statement.
      </p><p>
        This fix is different from the one applied for this bug in MySQL
        5.0.66.
       (<a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a>)</p><p>See also <a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>.</p></li><li><p>
        For a stored procedure containing a <code class="literal">SELECT * ... RIGHT
        JOIN</code> query, execution failed for the second call.
       (<a href="http://bugs.mysql.com/33811" target="_top">Bug#33811</a>)</p></li><li><p>
        Previously, use of index hints with views (which do not have
        indexes) produced the error <span class="errortext">ERROR 1221 (HY000):
        Incorrect usage of USE/IGNORE INDEX and VIEW</span>. Now
        this produces <span class="errortext">ERROR 1176 (HY000): Key '...' doesn't
        exist in table '...'</span>, the same error as for base
        tables without an appropriate index.
       (<a href="http://bugs.mysql.com/33461" target="_top">Bug#33461</a>)</p></li><li><p>
        Cached queries that used 256 or more tables were not properly
        cached, so that later query invalidation due to a
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for one of the tables caused the server to hang.
       (<a href="http://bugs.mysql.com/33362" target="_top">Bug#33362</a>)</p></li><li><p>
        Some division operations produced a result with incorrect
        precision.
       (<a href="http://bugs.mysql.com/31616" target="_top">Bug#31616</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> attempted to use the
        <code class="filename">/proc</code> file system even on systems that do
        not have it.
       (<a href="http://bugs.mysql.com/31605" target="_top">Bug#31605</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could fail to dump views containing
        a large number of columns.
       (<a href="http://bugs.mysql.com/31434" target="_top">Bug#31434</a>)</p></li><li><p>
        Queries executed using join buffering of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns could produce
        incorrect results.
       (<a href="http://bugs.mysql.com/31399" target="_top">Bug#31399</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE CONVERT TO CHARACTER SET</code> did not
        convert <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMTEXT</code></a> columns to a longer
        text type if necessary when converting the column to a different
        character set.
       (<a href="http://bugs.mysql.com/31291" target="_top">Bug#31291</a>)</p></li><li><p>
        For installation on Solaris using <span><strong class="command">pkgadd</strong></span>
        packages, the <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script was
        generated in the <code class="filename">scripts</code> directory, but the
        temporary files used during the process were left there and not
        deleted.
       (<a href="http://bugs.mysql.com/31052" target="_top">Bug#31052</a>)</p></li><li><p>
        Several MySQL programs could fail if the <code class="literal">HOME</code>
        environment variable had an empty value.
       (<a href="http://bugs.mysql.com/30394" target="_top">Bug#30394</a>)</p></li><li><p>
        On NetWare, <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could appear to
        execute normally even if it failed to create the initial
        databases.
       (<a href="http://bugs.mysql.com/30129" target="_top">Bug#30129</a>)</p></li><li><p>
        The Serbian translation for the
        <a href="error-handling.html#error_er_incorrect_global_local_var"><code class="literal">ER_INCORRECT_GLOBAL_LOCAL_VAR</code></a>
        error was corrected.
       (<a href="http://bugs.mysql.com/29738" target="_top">Bug#29738</a>)</p></li><li><p>
        XA transaction rollbacks could result in corrupted transaction
        states and a server crash.
       (<a href="http://bugs.mysql.com/28323" target="_top">Bug#28323</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> build script failed if
        <span><strong class="command">gcc</strong></span> had a different name (such as
        <span><strong class="command">gcc.real</strong></span> on Debian).
       (<a href="http://bugs.mysql.com/27526" target="_top">Bug#27526</a>)</p></li><li><p>
        On Windows, Visual Studio does not take into account some x86
        hardware limitations, which led to incorrect results converting
        large <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> values to unsigned
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> values.
       (<a href="http://bugs.mysql.com/27483" target="_top">Bug#27483</a>)</p></li><li><p>
        SSL support was not included in some “<span class="quote">generic</span>” RPM
        packages.
       (<a href="http://bugs.mysql.com/26760" target="_top">Bug#26760</a>)</p></li><li><p>
        In some cases, the parser interpreted the <code class="literal">;</code>
        character as the end of input and misinterpreted stored program
        definitions.
       (<a href="http://bugs.mysql.com/26030" target="_top">Bug#26030</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> status variable
        is intended as a count of statements sent by clients to the
        server, but was also counting statements executed within stored
        routines.
       (<a href="http://bugs.mysql.com/24289" target="_top">Bug#24289</a>)</p></li><li><p>
        For access to the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table, the
        server did not check the <a href="server-administration.html#priv_show-view"><code class="literal">SHOW
        VIEW</code></a> and <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        privileges, leading to inconsistency between output from that
        table and the <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22763" target="_top">Bug#22763</a>)</p></li><li><p>
        The <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement did not produce an error when it
        failed.
       (<a href="http://bugs.mysql.com/21226" target="_top">Bug#21226</a>)</p></li><li><p>
        A race condition between the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld.exe</strong></span></a>
        server and the Windows service manager could lead to inability
        to stop the server from the service manager.
       (<a href="http://bugs.mysql.com/20430" target="_top">Bug#20430</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-80"></a>C.1.7. Release Notes for MySQL Enterprise 5.0.80 [MRU] (01 May 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.79).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>
      Support Ending for AIX 5.2: Per the
      <a href="http://www.mysql.com/about/legal/lifecycle/" target="_top">MySQL
      Support Lifecycle policy</a> regarding ending support for OS
      versions that have reached vendor end of life, we plan to
      discontinue building or supporting MySQL binaries for AIX 5.2 as
      of April 30, 2009. This release of MySQL 5.0 (5.0.80) is the last
      MySQL 5.0 release with support for AIX 5.2. For more information,
      see the March 24, 2009 note at
      <a href="http://www.mysql.com/support/eol-notice.html" target="_top">MySQL
      Product Support EOL Announcements</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The MD5 algorithm now uses the Xfree implementation.
       (<a href="http://bugs.mysql.com/42434" target="_top">Bug#42434</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
        DELAYED</code></a> into a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column issued
        concurrently with an insert on the same column not using
        <code class="literal">DELAYED</code>, but applied after the other insert,
        was logged using the same timestamp as generated by the other
        (non-<code class="literal">DELAYED</code>) insert.
       (<a href="http://bugs.mysql.com/41719" target="_top">Bug#41719</a>)</p></li><li><p>
        An attempt by a user who did not have the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege to kill a system
        thread could cause a server crash.
       (<a href="http://bugs.mysql.com/43748" target="_top">Bug#43748</a>)</p></li><li><p>
        Use of <code class="literal">USE INDEX</code> hints could cause
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> to crash.
       (<a href="http://bugs.mysql.com/43354" target="_top">Bug#43354</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> crashed if a request for the current
        database name returned an empty result, such as after the client
        has executed a preceding <code class="literal">SET
        sql_select_limit=0</code> statement.
       (<a href="http://bugs.mysql.com/43254" target="_top">Bug#43254</a>)</p></li><li><p>
        The <code class="filename">strings/CHARSET_INFO.txt</code> file was not
        included in source distributions.
       (<a href="http://bugs.mysql.com/42937" target="_top">Bug#42937</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> included views that were excluded
        with the <a href="programs.html#option_mysqldump_ignore-table"><code class="option">--ignore-table</code></a>
        option.
       (<a href="http://bugs.mysql.com/42635" target="_top">Bug#42635</a>)</p></li><li><p>
        Passing an unknown time zone specification to
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> resulted in a memory
        leak.
       (<a href="http://bugs.mysql.com/42502" target="_top">Bug#42502</a>)</p></li><li><p>
        The MySQL Instance Configuration Wizard would fail to start
        correctly on Windows Vista.
       (<a href="http://bugs.mysql.com/42386" target="_top">Bug#42386</a>)</p></li><li><p>
        With more than two arguments,
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, and
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> could unnecessarily return
        <code class="literal">Illegal mix of collations</code> errors.
       (<a href="http://bugs.mysql.com/41627" target="_top">Bug#41627</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client could misinterpret its input
        if a line was longer than an internal buffer.
       (<a href="http://bugs.mysql.com/41486" target="_top">Bug#41486</a>)</p></li><li><p>
        In the <code class="literal">help</code> command output displayed by
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, the description for the
        <code class="literal">\c</code> (<code class="literal">clear</code>) command was
        misleading.
       (<a href="http://bugs.mysql.com/41268" target="_top">Bug#41268</a>)</p></li><li><p>
        When running the MySQL Instance Configuration Wizard in
        command-line only mode, the service name would be ignored
        (effectively creating all instances with the default
        <code class="literal">MySQL</code> service name), irrespective of the name
        specified on the command line. However, the wizard would attempt
        to start the service with the specified name, and would fail.
       (<a href="http://bugs.mysql.com/38379" target="_top">Bug#38379</a>)</p></li><li><p>
        The use of <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> can
        result in a problem for
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> statements when the source column expressions
        refer to local variables. Converting these references to
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> expressions can
        result in column names that are different on the master and
        slave servers, or names that are too long to be legal column
        identifiers. A workaround is to supply aliases for columns that
        refer to local variables.
      </p><p>
        Now a warning is issued in such cases that indicate possible
        problems.
       (<a href="http://bugs.mysql.com/35383" target="_top">Bug#35383</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>,
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>, and
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> erroneously
        reported a table to be corrupt if the table did not exist or the
        statement was terminated with
        <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL</code></a>.
       (<a href="http://bugs.mysql.com/29458" target="_top">Bug#29458</a>)</p></li><li><p>
        The <code class="literal">Time</code> column for <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> output now can have negative values.
        Previously, the column was unsigned and negative values were
        displayed incorrectly as large positive values. Negative values
        can occur if a thread alters the time into the future with
        <a href="sql-syntax.html#set-option" title="12.5.4. SET Syntax"><code class="literal">SET TIMESTAMP =
        <em class="replaceable"><code>value</code></em></code></a> or the thread is
        executing on a slave and processing events from a master that
        has its clock set ahead of the slave.
       (<a href="http://bugs.mysql.com/22047" target="_top">Bug#22047</a>)</p></li><li><p>
        Restoring a <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> dump file containing
        <code class="literal">FEDERATED</code> tables failed because the file
        contained the data for the table. Now only the table definition
        is dumped (because the data is located elsewhere).
       (<a href="http://bugs.mysql.com/21360" target="_top">Bug#21360</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-79"></a>C.1.8. Release Notes for MySQL Enterprise 5.0.79 [MRU] (09 March 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.78).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        The query cache now checks whether a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement begins with
        <code class="literal">SQL_NO_CACHE</code> to determine whether it can skip
        checking for the query result in the query cache. This is not
        supported when <code class="literal">SQL_NO_CACHE</code> occurs within a
        comment.
       (<a href="http://bugs.mysql.com/37416" target="_top">Bug#37416</a>)</p></li><li><p>
        The <code class="literal">libedit</code> library was upgraded to version
        2.11.
       (<a href="http://bugs.mysql.com/42433" target="_top">Bug#42433</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        Server IDs greater than 2147483647
        (2<sup>32</sup> – 1) were represented by
        negative numbers in the binary log.
       (<a href="http://bugs.mysql.com/37313" target="_top">Bug#37313</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The
        <code class="option">--replicate-<em class="replaceable"><code>*</code></em>-table</code>
        options were not evaluated correctly when replicating
        multi-table updates.
      </p><p>
        As a result of this fix, replication of multi-table updates no
        longer fails when an update references a missing table but does
        not update any of its columns.
       (<a href="http://bugs.mysql.com/37051" target="_top">Bug#37051</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When its disk becomes full, a replication slave may wait while
        writing the binary log, relay log or
        <code class="literal">MyISAM</code> tables, continuing after
        space has been made available. The error message provided in
        such cases was not clear about the frequency with which checking
        for free space is done (once every 60 seconds), and how long the
        server waits after space has been freed before continuing (also
        60 seconds); this caused users to think that the server had
        hung.
      </p><p>
        These issues have been addressed by making the error message
        clearer, and dividing it into two separate messages:
      </p><div class="orderedlist"><ol type="1"><li><p>
            The error message <span class="errortext">Disk is full writing
            '<em class="replaceable"><code>filename</code></em>' (Errcode:
            <em class="replaceable"><code>error_code</code></em>). Waiting for someone
            to free space... (Expect up to 60 secs delay for server to
            continue after freeing disk space)</span> is printed
            only once.
          </p></li><li><p>
            The warning <span class="errortext">Retry in 60 secs, Message reprinted
            in 600 secs</span> is printed once every for every 10
            times that the check for free space is made; that is, the
            check is performed once each 60 seconds, but the reminder
            that space needs to be freed is printed only once every 10
            minutes (600 seconds).
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/22082" target="_top">Bug#22082</a>)</p></li><li><p>
        On 32-bit Windows, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could not use large
        buffers due to a 2GB user mode address limit.
       (<a href="http://bugs.mysql.com/43082" target="_top">Bug#43082</a>)</p></li><li><p>
        The use by <code class="literal">libedit</code> of the
        <code class="literal">__weak_reference()</code> macro caused compilation
        failure on FreeBSD.
       (<a href="http://bugs.mysql.com/42817" target="_top">Bug#42817</a>)</p></li><li><p>
        Tables could enter open table cache for a thread without being
        properly cleaned up, leading to a server crash.
       (<a href="http://bugs.mysql.com/42419" target="_top">Bug#42419</a>)</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.8. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> parsed the
        <a href="programs.html#option_mysqldumpslow_debug"><code class="option">--debug</code></a> and
        <a href="programs.html#option_mysqldumpslow_verbose"><code class="option">--verbose</code></a> options
        incorrectly.
       (<a href="http://bugs.mysql.com/42027" target="_top">Bug#42027</a>)</p></li><li><p>
        String reallocation could cause memory overruns.
       (<a href="http://bugs.mysql.com/41868" target="_top">Bug#41868</a>)</p></li><li><p>
        Queries that used the loose index scan access method could
        return no rows.
       (<a href="http://bugs.mysql.com/41610" target="_top">Bug#41610</a>)</p></li><li><p>
        In <code class="literal">InnoDB</code> recovery after a server crash,
        rollback of a transaction that updated a column from
        <code class="literal">NULL</code> to <code class="literal">NULL</code> could cause
        another crash.
       (<a href="http://bugs.mysql.com/41571" target="_top">Bug#41571</a>)</p></li><li><p>
        If <code class="literal">InnoDB</code> reached its limit on the number of
        concurrent transactions (1023), it wrote a descriptive message
        to the error log but returned a misleading error message to the
        client, or an assertion failure occurred.
       (<a href="http://bugs.mysql.com/41529" target="_top">Bug#41529</a>)</p></li><li><p>
        Use of <code class="literal">SELECT *</code> allowed users with rights to
        only some columns of a view to access all columns.
       (<a href="http://bugs.mysql.com/41354" target="_top">Bug#41354</a>)</p></li><li><p>
        The server did not robustly handle problems hang if a table
        opened with <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> needed to be
        re-opened because it had been altered to use a different storage
        engine that does not support
        <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a>. The server also failed
        to set an error if the re-open attempt failed. These problems
        could cause the server to crash or hang.
       (<a href="http://bugs.mysql.com/41110" target="_top">Bug#41110</a>, <a href="http://bugs.mysql.com/41112" target="_top">Bug#41112</a>)</p></li><li><p>
        For prepared statements, multibyte character sets were not
        taking into account when calculating
        <code class="literal">max_length</code> for string values and
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> could return
        truncated strings.
       (<a href="http://bugs.mysql.com/41078" target="_top">Bug#41078</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function changed the value of the
        <a href="server-administration.html#sysvar_sql_big_selects"><code class="literal">sql_big_selects</code></a> session
        variable.
       (<a href="http://bugs.mysql.com/40363" target="_top">Bug#40363</a>)</p><p>See also <a href="http://bugs.mysql.com/20023" target="_top">Bug#20023</a>.</p></li><li><p>
        For a view that references a table in another database,
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> wrote the view name qualified with
        the current database name. This makes it impossible to reload
        the dump file into a different database.
       (<a href="http://bugs.mysql.com/40345" target="_top">Bug#40345</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table,
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE ...
        DISCARD TABLESPACE</code></a> could take a long time or cause a
        server crash.
       (<a href="http://bugs.mysql.com/39939" target="_top">Bug#39939</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> did not produce correct output for
        error codes 153 to 163.
       (<a href="http://bugs.mysql.com/39370" target="_top">Bug#39370</a>)</p></li><li><p>
        Comparisons between row constructors, such as <code class="literal">(a, b) =
        (c, d)</code> resulted in unnecessary <code class="literal">Illegal mix of
        collations</code> errors for string columns.
       (<a href="http://bugs.mysql.com/37601" target="_top">Bug#37601</a>)</p></li><li><p>
        An argument to the <a href="functions.html#function_match"><code class="literal">MATCH()</code></a>
        function that was an alias for an expression other than a column
        name caused a server crash.
       (<a href="http://bugs.mysql.com/36737" target="_top">Bug#36737</a>)</p></li><li><p>
        For <a href="sql-syntax.html#drop-function" title="12.1.14. DROP FUNCTION Syntax"><code class="literal">DROP FUNCTION</code></a> with names that
        were qualified with a database name, the database name was
        handled in case-sensitive fashion even with
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> set to
        1.
       (<a href="http://bugs.mysql.com/33813" target="_top">Bug#33813</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --compatible=mysql40</strong></span></a> emitted
        statements referring to the
        <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> system
        variable, which is unknown before MySQL 4.1. Now the statements
        are enclosed in version-specific comments.
       (<a href="http://bugs.mysql.com/33550" target="_top">Bug#33550</a>)</p></li><li><p>
        Use of MBR spatial functions such as
        <a href="functions.html#function_mbrtouches"><code class="literal">MBRTouches()</code></a> with columns of
        <code class="literal">InnoDB</code> tables caused a server crash rather
        than an error.
       (<a href="http://bugs.mysql.com/31435" target="_top">Bug#31435</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client mishandled input parsing if
        a <code class="literal">delimiter</code> command was not first on the
        line.
       (<a href="http://bugs.mysql.com/31060" target="_top">Bug#31060</a>)</p></li><li><p>
        For installation on Solaris using <span><strong class="command">pkgadd</strong></span>
        packages, the <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script was
        generated in the <code class="filename">scripts</code> directory, but the
        temporary files used during the process were left there and not
        deleted.
       (<a href="http://bugs.mysql.com/31052" target="_top">Bug#31052</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-privileges" title="12.5.5.24. SHOW PRIVILEGES Syntax"><code class="literal">SHOW PRIVILEGES</code></a> listed the
        <a href="server-administration.html#priv_create-routine"><code class="literal">CREATE ROUTINE</code></a> privilege as
        having a context of <code class="literal">Functions,Procedures</code>, but
        it is a database-level privilege.
       (<a href="http://bugs.mysql.com/30305" target="_top">Bug#30305</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> could fail to
        produce output for tables with non-ASCII characters in their
        name.
       (<a href="http://bugs.mysql.com/25830" target="_top">Bug#25830</a>)</p></li><li><p>
        Floating-point numbers could be handled with different numbers
        of digits depending on whether the text or prepared-statement
        protocol was used.
       (<a href="http://bugs.mysql.com/21205" target="_top">Bug#21205</a>)</p></li><li><p>
        Incorrect length metadata could be returned for <code class="literal">LONG
        TEXT</code> columns when a multibyte server character set was
        used.
       (<a href="http://bugs.mysql.com/19829" target="_top">Bug#19829</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> sometimes returned
        different results on different platforms.
       (<a href="http://bugs.mysql.com/15936" target="_top">Bug#15936</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-78"></a>C.1.9. Release Notes for MySQL Enterprise 5.0.78 [MRU] (06 February 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.76).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        When installing MySQL on Windows, it could be possible to
        install multiple editions (Complete, and Essential, for example)
        of the same version of MySQL, leading to two separate entries in
        the installed packages which were impossible to isolate. This
        could lead to problems with installation and uninstallation. The
        MySQL installer on Windows will no longer allow multiple
        installations of the same version of MySQL on a single machine.
       (<a href="http://bugs.mysql.com/4217" target="_top">Bug#4217</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        Packages for MySQL Cluster were missing the
        <code class="filename">libndbclient.so</code> and
        <code class="filename">libndbclient.a</code> files.
       (<a href="http://bugs.mysql.com/42278" target="_top">Bug#42278</a>)</p></li><li><p>
        An optimization introduced for <a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a> required an explicit
        cast to be added for some uses of
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> because automatic
        casting could produce incorrect results. (It was necessary to
        use <a href="functions.html#function_time"><code class="literal">TIME(TIMEDIFF(...))</code></a>.)
       (<a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>)</p></li><li><p>
        The SSL certficates included with MySQL distributions were
        regenerated because the previous ones had expired.
       (<a href="http://bugs.mysql.com/42366" target="_top">Bug#42366</a>)</p></li><li><p>
        Dependent subqueries such as the following caused a memory leak
        proportional to the number of outer rows:
      </p><pre class="programlisting">SELECT COUNT(*) FROM t1, t2 WHERE t2.b
  IN (SELECT DISTINCT t2.b FROM t2 WHERE t2.b = t1.a);
</pre><p>(<a href="http://bugs.mysql.com/42037" target="_top">Bug#42037</a>)</p></li><li><p>
        Some queries using <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(.. COLLATE
        ...)</code></a> led to a server crash due to a failed type cast.
       (<a href="http://bugs.mysql.com/42014" target="_top">Bug#42014</a>)</p></li><li><p>
        On Mac OS X, some of the universal client libraries were not
        actually universal and were missing code for one or more
        architectures.
       (<a href="http://bugs.mysql.com/41940" target="_top">Bug#41940</a>)</p></li><li><p>
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> could cause a
        server crash for year-zero dates.
       (<a href="http://bugs.mysql.com/41470" target="_top">Bug#41470</a>)</p></li><li><p>
        When substituting system constant functions with a constant
        result, the server was not expecting <code class="literal">NULL</code>
        function return values and could crash.
       (<a href="http://bugs.mysql.com/41437" target="_top">Bug#41437</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP NOT
        NULL DEFAULT ...</code></a> column, storing
        <code class="literal">NULL</code> as the return value from some functions
        caused a “<span class="quote">cannot be NULL</span>” error.
        <code class="literal">NULL</code> returns now correctly cause the column
        default value to be stored.
       (<a href="http://bugs.mysql.com/41370" target="_top">Bug#41370</a>)</p></li><li><p>
        The Windows installer displayed incorrect product names in some
        images.
       (<a href="http://bugs.mysql.com/40845" target="_top">Bug#40845</a>)</p></li><li><p>
        The query cache stored only partial query results if a statement
        failed while the results were being sent to the client. This
        could cause other clients to hang when trying to read the cached
        result. Now if a statement fails, the result is not cached.
       (<a href="http://bugs.mysql.com/40264" target="_top">Bug#40264</a>)</p></li><li><p>
        The expression <code class="literal">ROW(...) IN (SELECT ... FROM
        DUAL)</code> always returned <code class="literal">TRUE</code>.
       (<a href="http://bugs.mysql.com/39069" target="_top">Bug#39069</a>)</p></li><li><p>
        The greedy optimizer could cause a server crash due to improper
        handling of nested outer joins.
       (<a href="http://bugs.mysql.com/38795" target="_top">Bug#38795</a>)</p></li><li><p>
        Use of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> prevented
        <code class="literal">NULL</code> testing in the <code class="literal">HAVING</code>
        clause.
       (<a href="http://bugs.mysql.com/38637" target="_top">Bug#38637</a>)</p></li><li><p>
        Enabling the <a href="server-administration.html#sysvar_sync_frm"><code class="literal">sync_frm</code></a> system
        variable had no effect on the handling of
        <code class="filename">.frm</code> files for views.
       (<a href="http://bugs.mysql.com/38145" target="_top">Bug#38145</a>)</p></li><li><p>
        The query cache stored packets containing the server status of
        the time when the cached statement was run. This might lead to
        an incorrect transaction status on the client side if a
        statement was cached during a transaction and later served
        outside a transaction context (or vice versa).
       (<a href="http://bugs.mysql.com/36326" target="_top">Bug#36326</a>)</p></li><li><p>
        If the system time was adjusted backward during query execution,
        the apparent execution time could be negative. But in some cases
        these queries would be written to the slow query log, with the
        negative execution time written as a large unsigned number. Now
        statements with apparent negative execution time are not written
        to the slow query log.
       (<a href="http://bugs.mysql.com/35396" target="_top">Bug#35396</a>)</p></li><li><p>
        For <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a>, using the
        <a href="programs.html#option_mysqld_multi_mysqld"><code class="option">--mysqld=mysqld_safe</code></a> option
        caused the <a href="programs.html#option_mysqld_multi_defaults-file"><code class="option">--defaults-file</code></a>
        and <a href="programs.html#option_mysqld_multi_defaults-extra-file"><code class="option">--defaults-extra-file</code></a>
        options to behave the same way.
       (<a href="http://bugs.mysql.com/32136" target="_top">Bug#32136</a>)</p></li><li><p>
        Attempts to open a valid MERGE table sometimes resulted in a
        <a href="error-handling.html#error_er_wrong_mrg_table"><code class="literal">ER_WRONG_MRG_TABLE</code></a> error. This
        happened after failure to open an invalid MERGE table had also
        generated an <a href="error-handling.html#error_er_wrong_mrg_table"><code class="literal">ER_WRONG_MRG_TABLE</code></a>
        error.
       (<a href="http://bugs.mysql.com/32047" target="_top">Bug#32047</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function caused global
        <code class="literal">Com_<em class="replaceable"><code>xxx</code></em></code> status
        variable values to be incorrect.
       (<a href="http://bugs.mysql.com/31222" target="_top">Bug#31222</a>)</p></li><li><p>
        For Solaris package installation using
        <span><strong class="command">pkgadd</strong></span>, the postinstall script failed,
        causing the system tables in the <code class="literal">mysql</code>
        database not to be created.
       (<a href="http://bugs.mysql.com/31164" target="_top">Bug#31164</a>)</p></li><li><p>
        When installing the Windows service, using quotes around
        command-line configuration parameters could cause the quotes to
        incorrectly placed around the entire command-line option, and
        not just the value.
       (<a href="http://bugs.mysql.com/27535" target="_top">Bug#27535</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-77"></a>C.1.10. Release Notes for MySQL Community Server 5.0.77 (28 January 2009)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.67 (binary) and
      5.0.75 (source-only).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        To enable stricter control over the location from which
        user-defined functions can be loaded, the
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable has
        been backported from MySQL 5.1. If the value is nonempty,
        user-defined function object files can be loaded only from the
        directory named by this variable. If the value is empty, the
        behavior that is used prior to the inclusion of
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> applies: The UDF
        object files must be located in a directory that is searched by
        your system's dynamic linker.
       (<a href="http://bugs.mysql.com/37428" target="_top">Bug#37428</a>)</p></li><li><p>
        A new status variable,
        <a href="server-administration.html#statvar_Queries"><code class="literal">Queries</code></a>, indicates the number
        of statements executed by the server. This includes statements
        executed within stored programs, unlike the
        <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> variable which
        includes only statements sent to the server by clients.
       (<a href="http://bugs.mysql.com/41131" target="_top">Bug#41131</a>)</p></li><li><p>
        Previously, index hints did not work for
        <code class="literal">FULLTEXT</code> searches. Now they work as follows:
      </p><p>
        For natural language mode searches, index hints are silently
        ignored. For example, <code class="literal">IGNORE INDEX(i)</code> is
        ignored with no warning and the index is still used.
      </p><p>
        For boolean mode searches, index hints are honored.
       (<a href="http://bugs.mysql.com/38842" target="_top">Bug#38842</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        Additional corrections were made for the symlink-related
        privilege problem originally addressed in MySQL 5.0.60. The
        original fix did not correctly handle the data directory path
        name if it contained symlinked directories in its path, and the
        check was made only at table-creation time, not at table-opening
        time later.
       (<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        The server consumed excess memory while parsing statements with
        hundreds or thousands of nested boolean conditions (such as
        <code class="literal">OR (OR ... (OR ... ))</code>). This could lead to a
        server crash or incorrect statement execution, or cause other
        client statements to fail due to lack of memory. The latter
        result constitutes a denial of service.
       (<a href="http://bugs.mysql.com/38296" target="_top">Bug#38296</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        There were some problems using <code class="function">DllMain()</code>
        hook functions on Windows that automatically do global and
        per-thread initialization for
        <code class="filename">libmysqld.dll</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Per-thread initialization: MySQL internally counts the
            number of active threads, which causes a delay in
            <code class="function">my_end()</code> if not all threads have
            exited. But there are threads that can be started either by
            Windows internally (often in TCP/IP scenarios) or by users.
            Those threads do not necessarily use
            <code class="filename">libmysql.dll</code> functionality but still
            contribute to the open-thread count. (One symptom is a
            five-second delay in times for PHP scripts to finish.)
          </p></li><li><p>
            Process-initialization:
            <a href="connectors-apis.html#my-init" title="20.9.8.1. my_init()"><code class="literal">my_init()</code></a> calls
            <code class="function">WSAStartup</code> that itself loads DLLs and
            can lead to a deadlock in the Windows loader.
          </p></li></ul></div><p>
        To correct these problems, DLL initialization code now is not
        invoked from <code class="filename">libmysql.dll</code> by default. To
        obtain the previous behavior (DLL initialization code will be
        called), set the <code class="literal">LIBMYSQL_DLLINIT</code> environment
        variable to any value. This variable exists only to prevent
        breakage of existing Windows-only applications that do not call
        <a href="connectors-apis.html#mysql-thread-init" title="20.9.8.3. mysql_thread_init()"><code class="literal">mysql_thread_init()</code></a> and work
        okay today. Use of <code class="literal">LIBMYSQL_DLLINIT</code> is
        discouraged and is removed in MySQL 6.0.
       (<a href="http://bugs.mysql.com/37226" target="_top">Bug#37226</a>, <a href="http://bugs.mysql.com/33031" target="_top">Bug#33031</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> took a lot of CPU
        time for calculating the value of the
        <a href="server-administration.html#statvar_Innodb_buffer_pool_pages_latched"><code class="literal">Innodb_buffer_pool_pages_latched</code></a>
        status variable. Now this variable is calculated and included in
        the output of <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> only if
        the <code class="literal">UNIV_DEBUG</code> symbol is defined at MySQL
        build time.
       (<a href="http://bugs.mysql.com/36600" target="_top">Bug#36600</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In connection with view creation, the server created
        <code class="filename">arc</code> directories inside database directories
        and maintained useless copies of <code class="filename">.frm</code> files
        there. Creation and renaming procedures of those copies as well
        as creation of <code class="filename">arc</code> directories has been
        discontinued.
      </p><p>
        This change does cause a problem when downgrading to older
        server versions which manifests itself under these
        circumstances:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Create a view <code class="literal">v_orig</code> in MySQL 5.0.72 or
            higher.
          </p></li><li><p>
            Rename the view to <code class="literal">v_new</code> and then back to
            <code class="literal">v_orig</code>.
          </p></li><li><p>
            Downgrade to an older 5.0.x server and run
            <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
          </p></li><li><p>
            Try to rename <code class="literal">v_orig</code> to
            <code class="literal">v_new</code> again. This operation fails.
          </p></li></ol></div><p>
        As a workaround to avoid this problem, use either of these
        approaches:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Dump your data using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before
            downgrading and reload the dump file after downgrading.
          </p></li><li><p>
            Instead of renaming a view after the downgrade, drop it and
            recreate it.
          </p></li></ul></div><p>
        The downgrade problem introduced by the fix for this bug has
        been addressed as <a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>.
       (<a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When rotating relay log files, the slave deletes relay log files
        and then edits the relay log index file. Formerly, if the slave
        shut down unexpectedly between these two events, the relay log
        index file could then reference relay logs that no longer
        existed. Depending on the circumstances, this could when
        restarting the slave cause either a race condition or the
        failure of replication.
       (<a href="http://bugs.mysql.com/38826" target="_top">Bug#38826</a>, <a href="http://bugs.mysql.com/39325" target="_top">Bug#39325</a>)</p></li><li><p>
        In example option files provided in MySQL distributions, the
        <a href="server-administration.html#sysvar_thread_stack"><code class="literal">thread_stack</code></a> value was
        increased from 64K to 128K.
       (<a href="http://bugs.mysql.com/41577" target="_top">Bug#41577</a>)</p></li><li><p>
        <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> caused a server
        crash if the account name was given as
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
       (<a href="http://bugs.mysql.com/41456" target="_top">Bug#41456</a>)</p></li><li><p>
        The
        <a href="information-schema.html#schema-privileges-table" title="19.6. The INFORMATION_SCHEMA SCHEMA_PRIVILEGES Table"><code class="literal">INFORMATION_SCHEMA.SCHEMA_PRIVILEGES</code></a>
        table was limited to 7680 rows.
       (<a href="http://bugs.mysql.com/41079" target="_top">Bug#41079</a>)</p></li><li><p>
        In debug builds, obsolete debug code could be used to crash the
        server.
       (<a href="http://bugs.mysql.com/41041" target="_top">Bug#41041</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> did not check for incompatible collation
        changes made in MySQL 5.0.48 (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>, <a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>, <a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>).
        This also affects <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/40984" target="_top">Bug#40984</a>)</p><p>See also <a href="http://bugs.mysql.com/39585" target="_top">Bug#39585</a>.</p></li><li><p>
        Some queries that used a “<span class="quote">range checked for each
        record</span>” scan could return incorrect results.
       (<a href="http://bugs.mysql.com/40974" target="_top">Bug#40974</a>)</p><p>See also <a href="http://bugs.mysql.com/44810" target="_top">Bug#44810</a>.</p></li><li><p>
        Certain <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries could fail
        with a <code class="literal">Duplicate entry</code> error.
       (<a href="http://bugs.mysql.com/40953" target="_top">Bug#40953</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> handler had a memory
        leak.
       (<a href="http://bugs.mysql.com/40875" target="_top">Bug#40875</a>)</p></li><li><p>
        <code class="literal">IF(..., CAST(<em class="replaceable"><code>longtext_val</code></em> AS
        UNSIGNED), <em class="replaceable"><code>signed_val</code></em>)</code> as
        an argument to an aggregate function could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/40761" target="_top">Bug#40761</a>)</p></li><li><p>
        Prepared statements allowed invalid dates to be inserted when
        the <a href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
        mode was not enabled.
       (<a href="http://bugs.mysql.com/40365" target="_top">Bug#40365</a>)</p></li><li><p>
        <span><strong class="command">mc.exe</strong></span> is no longer needed to compile MySQL
        on Windows. This makes it possible to build MySQL from source
        using Visual Studio Express 2008.
       (<a href="http://bugs.mysql.com/40280" target="_top">Bug#40280</a>)</p></li><li><p>
        Support for the <code class="literal">revision</code> field in
        <code class="filename">.frm</code> files has been removed. This addresses
        the downgrading problem introduced by the fix for <a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>.
       (<a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>)</p></li><li><p>
        If the operating system is configured to return leap seconds
        from OS time calls or if the MySQL server uses a time zone
        definition that has leap seconds, functions such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> could return a value having
        a time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code>. If such values are inserted into a
        table, they would be dumped as is by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> but considered invalid when
        reloaded, leading to backup/restore problems.
      </p><p>
        Now leap second values are returned with a time part that ends
        with <code class="literal">:59:59</code>. This means that a function such
        as <a href="functions.html#function_now"><code class="literal">NOW()</code></a> can return the same
        value for two or three consecutive seconds during the leap
        second. It remains true that literal temporal values having a
        time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code> are considered invalid.
      </p><p>
        For additional details about leap-second handling, see
        <a href="internationalization-localization.html#time-zone-leap-seconds" title="9.7.2. Time Zone Leap Second Support">Section 9.7.2, “Time Zone Leap Second Support”</a>.
       (<a href="http://bugs.mysql.com/39920" target="_top">Bug#39920</a>)</p></li><li><p>
        The server could crash during a sort-order optimization of a
        dependent subquery.
       (<a href="http://bugs.mysql.com/39844" target="_top">Bug#39844</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        SQL mode enabled, the check for nonaggregated columns in queries
        with aggregate functions, but without a <code class="literal">GROUP
        BY</code> clause was treating all the parts of the query as
        if they were in the select list. This is fixed by ignoring the
        nonaggregated columns in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/39656" target="_top">Bug#39656</a>)</p></li><li><p>
        The server crashed if an integer field in a CSV file did not
        have delimiting quotes.
       (<a href="http://bugs.mysql.com/39616" target="_top">Bug#39616</a>)</p></li><li><p>
        Creating a table with a comment of 62 characters or longer
        caused a server crash.
       (<a href="http://bugs.mysql.com/39591" target="_top">Bug#39591</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> failed for
        <code class="literal">MyISAM</code>
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/39541" target="_top">Bug#39541</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could hang trying to open an adaptive
        hash index.
       (<a href="http://bugs.mysql.com/39483" target="_top">Bug#39483</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column in an
        <code class="literal">InnoDB</code> table, testing the column with
        multiple conditions in the <code class="literal">WHERE</code> clause
        caused a server crash.
       (<a href="http://bugs.mysql.com/39353" target="_top">Bug#39353</a>)</p></li><li><p>
        The server returned a column type of
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> rather than
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as the result from the
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, or
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> functions or
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expression if the result was
        obtained using <code class="literal">filesort</code> in an anonymous
        temporary table during the query execution.
       (<a href="http://bugs.mysql.com/39283" target="_top">Bug#39283</a>)</p></li><li><p>
        References to local variables in stored procedures are replaced
        with
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,
        <em class="replaceable"><code>value</code></em>)</code></a> when written to the
        binary log. However, an “<span class="quote">illegal mix of collation</span>”
        error might occur when executing the log contents if the value's
        collation differed from that of the variable. Now information
        about the variable collation is written as well.
       (<a href="http://bugs.mysql.com/39182" target="_top">Bug#39182</a>)</p></li><li><p>
        Some recent releases for Solaris 10 were built on Solaris 10 U5,
        which included a new version of <code class="filename">libnsl.so</code>
        that does not work on U4 or earlier. To correct this, Solaris 10
        builds now are created on machines that do not have that
        upgraded <code class="filename">libnsl.so</code>, so that they will work
        on Solaris 10 installations both with and without the upgraded
        <code class="filename">libnsl.so</code>.
       (<a href="http://bugs.mysql.com/39074" target="_top">Bug#39074</a>)</p></li><li><p>
        With binary logging enabled <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> was subject to possible buffer overwrite and a
        server crash.
       (<a href="http://bugs.mysql.com/39040" target="_top">Bug#39040</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... REGEXP BINARY
        NULL</code> could lead to a hung or crashed server.
       (<a href="http://bugs.mysql.com/39021" target="_top">Bug#39021</a>)</p></li><li><p>
        Statements of the form <code class="literal">INSERT ... SELECT .. ON
        DUPLICATE KEY UPDATE <em class="replaceable"><code>col_name</code></em> =
        DEFAULT</code> could result in a server crash.
       (<a href="http://bugs.mysql.com/39002" target="_top">Bug#39002</a>)</p></li><li><p>
        Column names constructed due to wild-card expansion done inside
        a stored procedure could point to freed memory if the expansion
        was performed after the first call to the stored procedure.
       (<a href="http://bugs.mysql.com/38823" target="_top">Bug#38823</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT</code></a> statements, where the created table
        contained an <code class="literal">AUTO_INCREMENT</code> column, could
        lead to an assertion failure.
       (<a href="http://bugs.mysql.com/38821" target="_top">Bug#38821</a>)</p></li><li><p>
        If delayed insert failed to upgrade the lock, it did not free
        the temporary memory storage used to keep newly constructed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values in memory, resulting
        in a memory leak.
       (<a href="http://bugs.mysql.com/38693" target="_top">Bug#38693</a>)</p></li><li><p>
        A server crash resulted from concurrent execution of a
        multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that used a
        <code class="literal">NATURAL</code> or <code class="literal">USING</code> join
        together with <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES WITH READ LOCK</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> for the table being updated.
       (<a href="http://bugs.mysql.com/38691" target="_top">Bug#38691</a>)</p></li><li><p>
        On ActiveState Perl, <span><strong class="command">mysql-test-run.pl
        --start-and-exit</strong></span> started but did not exit.
       (<a href="http://bugs.mysql.com/38629" target="_top">Bug#38629</a>)</p></li><li><p>
        Server-side cursors were not initialized properly, which could
        cause a server crash.
       (<a href="http://bugs.mysql.com/38486" target="_top">Bug#38486</a>)</p></li><li><p>
        Stored procedures involving substrings could crash the server on
        certain platforms due to invalid memory reads.
       (<a href="http://bugs.mysql.com/38469" target="_top">Bug#38469</a>)</p></li><li><p>
        A server crash or Valgrind warnings could result when a stored
        procedure selected from a view that referenced a function.
       (<a href="http://bugs.mysql.com/38291" target="_top">Bug#38291</a>)</p></li><li><p>
        Incorrect handling of aggregate functions when loose index scan
        was used caused a server crash.
       (<a href="http://bugs.mysql.com/38195" target="_top">Bug#38195</a>)</p></li><li><p>
        Queries containing a subquery with <code class="literal">DISTINCT</code>
        and <code class="literal">ORDER BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/38191" target="_top">Bug#38191</a>)</p></li><li><p>
        Queries with a <code class="literal">HAVING</code> clause could return a
        spurious row.
       (<a href="http://bugs.mysql.com/38072" target="_top">Bug#38072</a>)</p></li><li><p>
        Use of spatial data types in prepared statements could cause
        memory leaks or server crashes.
       (<a href="http://bugs.mysql.com/37956" target="_top">Bug#37956</a>, <a href="http://bugs.mysql.com/37671" target="_top">Bug#37671</a>)</p></li><li><p>
        The server crashed if an argument to a stored procedure was a
        subquery that returned more than one row.
       (<a href="http://bugs.mysql.com/37949" target="_top">Bug#37949</a>)</p></li><li><p>
        When analyzing the possible index use cases, the server was
        incorrectly reusing an internal structure, leading to a server
        crash.
       (<a href="http://bugs.mysql.com/37943" target="_top">Bug#37943</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with a <code class="literal">NULL NOT
        IN</code> condition containing a complex subquery from the
        same table as in the outer select caused an assertion failure.
       (<a href="http://bugs.mysql.com/37894" target="_top">Bug#37894</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ORDER BY ...
        DESC</code> sometimes returned results in ascending order.
       (<a href="http://bugs.mysql.com/37830" target="_top">Bug#37830</a>)</p></li><li><p>
        If a table has a <code class="literal">BIT NOT NULL</code> column
        <code class="literal">c1</code> with a length shorter than 8 bits and some
        additional <code class="literal">NOT NULL</code> columns
        <code class="literal">c2</code>, ..., and a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query has a
        <code class="literal">WHERE</code> clause of the form <code class="literal">(c1 =
        <em class="replaceable"><code>constant</code></em>) AND c2 ...</code>, the
        query could return an unexpected result set.
       (<a href="http://bugs.mysql.com/37799" target="_top">Bug#37799</a>)</p></li><li><p>
        Nesting of <a href="functions.html#function_if"><code class="literal">IF()</code></a> inside of
        <a href="functions.html#function_sum"><code class="literal">SUM()</code></a> could cause an extreme
        server slowdown.
       (<a href="http://bugs.mysql.com/37662" target="_top">Bug#37662</a>)</p></li><li><p>
        The <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> functions returned a
        binary string, so that using
        <a href="functions.html#function_lower"><code class="literal">LOWER()</code></a> or
        <a href="functions.html#function_upper"><code class="literal">UPPER()</code></a> had no effect. Now
        <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> return a value in
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
        character set.
       (<a href="http://bugs.mysql.com/37575" target="_top">Bug#37575</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> was erroneously
        treated as always returning a positive result. Also,
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> dropped the sign of
        negative values.
       (<a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a>)</p><p>See also <a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>.</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> used
        <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW FULL
        TABLES</code></a> to get the list of tables in a database. For
        some problems, such as an empty <code class="filename">.frm</code> file
        for a table, this would fail and <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
        then would neglect to check other tables in the database.
       (<a href="http://bugs.mysql.com/37527" target="_top">Bug#37527</a>)</p></li><li><p>
        The <a href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
        operator could return incorrect results when comparing
        <code class="literal">NULL</code> to <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>, or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/37526" target="_top">Bug#37526</a>)</p></li><li><p>
        Updating a view with a subquery in the <code class="literal">CHECK</code>
        option could cause an assertion failure.
       (<a href="http://bugs.mysql.com/37460" target="_top">Bug#37460</a>)</p></li><li><p>
        Statements that displayed the value of system variables (for
        example, <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>) expect
        variable values to be encoded in
        <a href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a>. However,
        variables set from the command line such as
        <a href="server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a> or
        <a href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a> were encoded using
        <a href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a> and
        not converted correctly.
       (<a href="http://bugs.mysql.com/37339" target="_top">Bug#37339</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with <code class="literal">CHECKSUM =
        1</code> and <code class="literal">ROW_FORMAT = DYNAMIC</code> table
        options, a data consistency check (maximum record length) could
        fail and cause the table to be marked as corrupted.
       (<a href="http://bugs.mysql.com/37310" target="_top">Bug#37310</a>)</p></li><li><p>
        The <code class="literal">max_length</code> result set metadata value was
        calculated incorrectly under some circumstances.
       (<a href="http://bugs.mysql.com/37301" target="_top">Bug#37301</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> could crash with
        <code class="literal">InnoDB</code> plugin 1.0.1.
       (<a href="http://bugs.mysql.com/37284" target="_top">Bug#37284</a>)</p></li><li><p>
        Certain boolean-mode <code class="literal">FULLTEXT</code> searches that
        used the truncation operator did not return matching records and
        calculated relevance incorrectly.
       (<a href="http://bugs.mysql.com/37245" target="_top">Bug#37245</a>)</p></li><li><p>
        The <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
        mode was ignored for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> and <code class="literal">SELECT INTO ... OUTFILE</code>.
        The setting is taken into account now.
       (<a href="http://bugs.mysql.com/37114" target="_top">Bug#37114</a>)</p></li><li><p>
        On a 32-bit server built without big tables support, the offset
        argument in a <code class="literal">LIMIT</code> clause might be truncated
        due to a 64-bit to 32-bit cast.
       (<a href="http://bugs.mysql.com/37075" target="_top">Bug#37075</a>)</p></li><li><p>
        If the server failed to expire binary log files at startup, it
        could crash.
       (<a href="http://bugs.mysql.com/37027" target="_top">Bug#37027</a>)</p></li><li><p>
        The code for the <code class="function">ut_usectime()</code> function in
        <code class="literal">InnoDB</code> did not handle errors from the
        <code class="function">gettimeofday()</code> system call. Now it retries
        <code class="function">gettimeofday()</code> several times and updates
        the value of the
        <a href="server-administration.html#statvar_Innodb_row_lock_time_max"><code class="literal">Innodb_row_lock_time_max</code></a>
        status variable only if <code class="function">ut_usectime()</code> was
        successful.
       (<a href="http://bugs.mysql.com/36819" target="_top">Bug#36819</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with
        <code class="literal">GROUP BY</code> to convert numeric values to
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> could return truncated
        results.
       (<a href="http://bugs.mysql.com/36772" target="_top">Bug#36772</a>)</p></li><li><p>
        A query which had an <code class="literal">ORDER BY DESC</code> clause
        that is satisfied with a reverse range scan could cause a server
        crash for some specific CPU/compiler combinations.
       (<a href="http://bugs.mysql.com/36639" target="_top">Bug#36639</a>)</p></li><li><p>
        Dumping information about locks in use by sending a
        <code class="literal">SIGHUP</code> signal to the server or by invoking
        the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin debug</strong></span></a> command could lead to a
        server crash in debug builds or to undefined behavior in
        production builds.
       (<a href="http://bugs.mysql.com/36579" target="_top">Bug#36579</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, when built with Visual
        Studio 2005, did not display Japanese characters.
       (<a href="http://bugs.mysql.com/36279" target="_top">Bug#36279</a>)</p></li><li><p>
        When the fractional part in a multiplication of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values overflowed, the
        server truncated the first operand rather than the longest. Now
        the server truncates so as to produce more precise
        multiplications.
       (<a href="http://bugs.mysql.com/36270" target="_top">Bug#36270</a>)</p></li><li><p>
        A read past the end of the string could occur while parsing the
        value of the
        <a href="storage-engines.html#sysvar_innodb_data_file_path"><code class="option">--innodb-data-file-path</code></a> option.
       (<a href="http://bugs.mysql.com/36149" target="_top">Bug#36149</a>)</p></li><li><p>
        Host name values in SQL statements were not being checked for
        <code class="literal">'@'</code>, which is illegal according to RFC952.
       (<a href="http://bugs.mysql.com/35924" target="_top">Bug#35924</a>)</p></li><li><p>
        The <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> function returned
        UUIDs with the wrong time; this was because the offset for the
        time part in UUIDs was miscalculated.
       (<a href="http://bugs.mysql.com/35848" target="_top">Bug#35848</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        a printable value for the default value of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/35796" target="_top">Bug#35796</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed on machines that had
        the host name set to <code class="literal">localhost</code>.
       (<a href="http://bugs.mysql.com/35754" target="_top">Bug#35754</a>)</p></li><li><p>
        Dynamic plugins failed to load on i5/OS.
       (<a href="http://bugs.mysql.com/35743" target="_top">Bug#35743</a>)</p></li><li><p>
        Freeing of an internal parser stack during parsing of complex
        stored programs caused a server crash.
       (<a href="http://bugs.mysql.com/35577" target="_top">Bug#35577</a>, <a href="http://bugs.mysql.com/37269" target="_top">Bug#37269</a>, <a href="http://bugs.mysql.com/37228" target="_top">Bug#37228</a>)</p></li><li><p>
        The <code class="literal">max_length</code> metadata value was calculated
        incorrectly for the <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a>
        function, which could cause incorrect result set metadata to be
        sent to clients.
       (<a href="http://bugs.mysql.com/35558" target="_top">Bug#35558</a>)</p></li><li><p>
        Index scans performed with the <code class="literal">sort_union()</code>
        access method returned wrong results, caused memory to be
        leaked, and caused temporary files to be deleted when the limit
        set by <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        reached.
       (<a href="http://bugs.mysql.com/35477" target="_top">Bug#35477</a>, <a href="http://bugs.mysql.com/35478" target="_top">Bug#35478</a>)</p></li><li><p>
        If the server crashed with an <code class="literal">InnoDB</code> error
        due to unavailability of undo slots, errors could persist during
        rollback when the server was restarted: There are two
        <code class="literal">UNDO</code> slot caches (for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>). If all slots end up in
        one of the slot caches, a request for a slot from the other slot
        cache would fail. This can happen if the request is for an
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> slot and all slots are in
        the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> slot cache, or vice
        versa.
       (<a href="http://bugs.mysql.com/35352" target="_top">Bug#35352</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ALTER TABLE
        DROP</code> failed if the name of the column to be dropped
        began with “<span class="quote">foreign</span>”.
       (<a href="http://bugs.mysql.com/35220" target="_top">Bug#35220</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> on Windows did not know about Win32
        system error codes.
       (<a href="http://bugs.mysql.com/34825" target="_top">Bug#34825</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> evaluation of aggregate functions that
        required a temporary table caused a server crash.
       (<a href="http://bugs.mysql.com/34773" target="_top">Bug#34773</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... WHERE
        <em class="replaceable"><code>string</code></em> = ANY(...)</code> failed
        when the server used a single-byte character set and the client
        used a multi-byte character set.
       (<a href="http://bugs.mysql.com/34760" target="_top">Bug#34760</a>)</p><p>See also <a href="http://bugs.mysql.com/20835" target="_top">Bug#20835</a>.</p></li><li><p>
        Using <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> as the first
        statement on an <code class="literal">InnoDB</code> table with an
        <code class="literal">AUTO_INCREMENT</code> column could cause a server
        crash.
       (<a href="http://bugs.mysql.com/34286" target="_top">Bug#34286</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the server was
        running with an SQL mode of
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>. This program now
        resets the SQL mode internally to avoid this problem.
       (<a href="http://bugs.mysql.com/34159" target="_top">Bug#34159</a>)</p></li><li><p>
        Changes to build files were made to enable the MySQL
        distribution to compile on Microsoft Visual C++ Express 2008.
       (<a href="http://bugs.mysql.com/33907" target="_top">Bug#33907</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client incorrectly parsed
        statements containing the word “<span class="quote">delimiter</span>” in
        mid-statement.
      </p><p>
        This fix is different from the one applied for this bug in MySQL
        5.0.66.
       (<a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a>)</p><p>See also <a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>.</p></li><li><p>
        For a stored procedure containing a <code class="literal">SELECT * ... RIGHT
        JOIN</code> query, execution failed for the second call.
       (<a href="http://bugs.mysql.com/33811" target="_top">Bug#33811</a>)</p></li><li><p>
        Previously, use of index hints with views (which do not have
        indexes) produced the error <span class="errortext">ERROR 1221 (HY000):
        Incorrect usage of USE/IGNORE INDEX and VIEW</span>. Now
        this produces <span class="errortext">ERROR 1176 (HY000): Key '...' doesn't
        exist in table '...'</span>, the same error as for base
        tables without an appropriate index.
       (<a href="http://bugs.mysql.com/33461" target="_top">Bug#33461</a>)</p></li><li><p>
        Cached queries that used 256 or more tables were not properly
        cached, so that later query invalidation due to a
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for one of the tables caused the server to hang.
       (<a href="http://bugs.mysql.com/33362" target="_top">Bug#33362</a>)</p></li><li><p>
        Some division operations produced a result with incorrect
        precision.
       (<a href="http://bugs.mysql.com/31616" target="_top">Bug#31616</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> attempted to use the
        <code class="filename">/proc</code> file system even on systems that do
        not have it.
       (<a href="http://bugs.mysql.com/31605" target="_top">Bug#31605</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could fail to dump views containing
        a large number of columns.
       (<a href="http://bugs.mysql.com/31434" target="_top">Bug#31434</a>)</p></li><li><p>
        Queries executed using join buffering of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns could produce
        incorrect results.
       (<a href="http://bugs.mysql.com/31399" target="_top">Bug#31399</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE CONVERT TO CHARACTER SET</code> did not
        convert <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMTEXT</code></a> columns to a longer
        text type if necessary when converting the column to a different
        character set.
       (<a href="http://bugs.mysql.com/31291" target="_top">Bug#31291</a>)</p></li><li><p>
        For installation on Solaris using <span><strong class="command">pkgadd</strong></span>
        packages, the <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script was
        generated in the <code class="filename">scripts</code> directory, but the
        temporary files used during the process were left there and not
        deleted.
       (<a href="http://bugs.mysql.com/31052" target="_top">Bug#31052</a>)</p></li><li><p>
        Several MySQL programs could fail if the <code class="literal">HOME</code>
        environment variable had an empty value.
       (<a href="http://bugs.mysql.com/30394" target="_top">Bug#30394</a>)</p></li><li><p>
        On NetWare, <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could appear to
        execute normally even if it failed to create the initial
        databases.
       (<a href="http://bugs.mysql.com/30129" target="_top">Bug#30129</a>)</p></li><li><p>
        The Serbian translation for the
        <a href="error-handling.html#error_er_incorrect_global_local_var"><code class="literal">ER_INCORRECT_GLOBAL_LOCAL_VAR</code></a>
        error was corrected.
       (<a href="http://bugs.mysql.com/29738" target="_top">Bug#29738</a>)</p></li><li><p>
        XA transaction rollbacks could result in corrupted transaction
        states and a server crash.
       (<a href="http://bugs.mysql.com/28323" target="_top">Bug#28323</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> build script failed if
        <span><strong class="command">gcc</strong></span> had a different name (such as
        <span><strong class="command">gcc.real</strong></span> on Debian).
       (<a href="http://bugs.mysql.com/27526" target="_top">Bug#27526</a>)</p></li><li><p>
        On Windows, Visual Studio does not take into account some x86
        hardware limitations, which led to incorrect results converting
        large <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> values to unsigned
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> values.
       (<a href="http://bugs.mysql.com/27483" target="_top">Bug#27483</a>)</p></li><li><p>
        SSL support was not included in some “<span class="quote">generic</span>” RPM
        packages.
       (<a href="http://bugs.mysql.com/26760" target="_top">Bug#26760</a>)</p></li><li><p>
        In some cases, the parser interpreted the <code class="literal">;</code>
        character as the end of input and misinterpreted stored program
        definitions.
       (<a href="http://bugs.mysql.com/26030" target="_top">Bug#26030</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> status variable
        is intended as a count of statements sent by clients to the
        server, but was also counting statements executed within stored
        routines.
       (<a href="http://bugs.mysql.com/24289" target="_top">Bug#24289</a>)</p></li><li><p>
        For access to the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table, the
        server did not check the <a href="server-administration.html#priv_show-view"><code class="literal">SHOW
        VIEW</code></a> and <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        privileges, leading to inconsistency between output from that
        table and the <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22763" target="_top">Bug#22763</a>)</p></li><li><p>
        The <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement did not produce an error when it
        failed.
       (<a href="http://bugs.mysql.com/21226" target="_top">Bug#21226</a>)</p></li><li><p>
        A race condition between the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld.exe</strong></span></a>
        server and the Windows service manager could lead to inability
        to stop the server from the service manager.
       (<a href="http://bugs.mysql.com/20430" target="_top">Bug#20430</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-76"></a>C.1.11. Release Notes for MySQL Enterprise 5.0.76 [MRU] (05 January 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.74).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A new status variable,
        <a href="server-administration.html#statvar_Queries"><code class="literal">Queries</code></a>, indicates the number
        of statements executed by the server. This includes statements
        executed within stored programs, unlike the
        <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> variable which
        includes only statements sent to the server by clients.
       (<a href="http://bugs.mysql.com/41131" target="_top">Bug#41131</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        When rotating relay log files, the slave deletes relay log files
        and then edits the relay log index file. Formerly, if the slave
        shut down unexpectedly between these two events, the relay log
        index file could then reference relay logs that no longer
        existed. Depending on the circumstances, this could when
        restarting the slave cause either a race condition or the
        failure of replication.
       (<a href="http://bugs.mysql.com/38826" target="_top">Bug#38826</a>, <a href="http://bugs.mysql.com/39325" target="_top">Bug#39325</a>)</p></li><li><p>
        In example option files provided in MySQL distributions, the
        <a href="server-administration.html#sysvar_thread_stack"><code class="literal">thread_stack</code></a> value was
        increased from 64K to 128K.
       (<a href="http://bugs.mysql.com/41577" target="_top">Bug#41577</a>)</p></li><li><p>
        <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> caused a server
        crash if the account name was given as
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
       (<a href="http://bugs.mysql.com/41456" target="_top">Bug#41456</a>)</p></li><li><p>
        The
        <a href="information-schema.html#schema-privileges-table" title="19.6. The INFORMATION_SCHEMA SCHEMA_PRIVILEGES Table"><code class="literal">INFORMATION_SCHEMA.SCHEMA_PRIVILEGES</code></a>
        table was limited to 7680 rows.
       (<a href="http://bugs.mysql.com/41079" target="_top">Bug#41079</a>)</p></li><li><p>
        In debug builds, obsolete debug code could be used to crash the
        server.
       (<a href="http://bugs.mysql.com/41041" target="_top">Bug#41041</a>)</p></li><li><p>
        Some queries that used a “<span class="quote">range checked for each
        record</span>” scan could return incorrect results.
       (<a href="http://bugs.mysql.com/40974" target="_top">Bug#40974</a>)</p><p>See also <a href="http://bugs.mysql.com/44810" target="_top">Bug#44810</a>.</p></li><li><p>
        Certain <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries could fail
        with a <code class="literal">Duplicate entry</code> error.
       (<a href="http://bugs.mysql.com/40953" target="_top">Bug#40953</a>)</p></li><li><p>
        <code class="literal">IF(..., CAST(<em class="replaceable"><code>longtext_val</code></em> AS
        UNSIGNED), <em class="replaceable"><code>signed_val</code></em>)</code> as
        an argument to an aggregate function could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/40761" target="_top">Bug#40761</a>)</p></li><li><p>
        The server crashed if an integer field in a CSV file did not
        have delimiting quotes.
       (<a href="http://bugs.mysql.com/39616" target="_top">Bug#39616</a>)</p></li><li><p>
        Creating a table with a comment of 62 characters or longer
        caused a server crash.
       (<a href="http://bugs.mysql.com/39591" target="_top">Bug#39591</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could hang trying to open an adaptive
        hash index.
       (<a href="http://bugs.mysql.com/39483" target="_top">Bug#39483</a>)</p></li><li><p>
        Use of spatial data types in prepared statements could cause
        memory leaks or server crashes.
       (<a href="http://bugs.mysql.com/37956" target="_top">Bug#37956</a>, <a href="http://bugs.mysql.com/37671" target="_top">Bug#37671</a>)</p></li><li><p>
        The <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> functions returned a
        binary string, so that using
        <a href="functions.html#function_lower"><code class="literal">LOWER()</code></a> or
        <a href="functions.html#function_upper"><code class="literal">UPPER()</code></a> had no effect. Now
        <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> return a value in
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
        character set.
       (<a href="http://bugs.mysql.com/37575" target="_top">Bug#37575</a>)</p></li><li><p>
        Certain boolean-mode <code class="literal">FULLTEXT</code> searches that
        used the truncation operator did not return matching records and
        calculated relevance incorrectly.
       (<a href="http://bugs.mysql.com/37245" target="_top">Bug#37245</a>)</p></li><li><p>
        The code for the <code class="function">ut_usectime()</code> function in
        <code class="literal">InnoDB</code> did not handle errors from the
        <code class="function">gettimeofday()</code> system call. Now it retries
        <code class="function">gettimeofday()</code> several times and updates
        the value of the
        <a href="server-administration.html#statvar_Innodb_row_lock_time_max"><code class="literal">Innodb_row_lock_time_max</code></a>
        status variable only if <code class="function">ut_usectime()</code> was
        successful.
       (<a href="http://bugs.mysql.com/36819" target="_top">Bug#36819</a>)</p></li><li><p>
        A read past the end of the string could occur while parsing the
        value of the
        <a href="storage-engines.html#sysvar_innodb_data_file_path"><code class="option">--innodb-data-file-path</code></a> option.
       (<a href="http://bugs.mysql.com/36149" target="_top">Bug#36149</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        a printable value for the default value of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/35796" target="_top">Bug#35796</a>)</p></li><li><p>
        The <code class="literal">max_length</code> metadata value was calculated
        incorrectly for the <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a>
        function, which could cause incorrect result set metadata to be
        sent to clients.
       (<a href="http://bugs.mysql.com/35558" target="_top">Bug#35558</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> evaluation of aggregate functions that
        required a temporary table caused a server crash.
       (<a href="http://bugs.mysql.com/34773" target="_top">Bug#34773</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client incorrectly parsed
        statements containing the word “<span class="quote">delimiter</span>” in
        mid-statement.
      </p><p>
        This fix is different from the one applied for this bug in MySQL
        5.0.66.
       (<a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a>)</p><p>See also <a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>.</p></li><li><p>
        Queries executed using join buffering of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns could produce
        incorrect results.
       (<a href="http://bugs.mysql.com/31399" target="_top">Bug#31399</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE CONVERT TO CHARACTER SET</code> did not
        convert <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMTEXT</code></a> columns to a longer
        text type if necessary when converting the column to a different
        character set.
       (<a href="http://bugs.mysql.com/31291" target="_top">Bug#31291</a>)</p></li><li><p>
        On Windows, Visual Studio does not take into account some x86
        hardware limitations, which led to incorrect results converting
        large <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> values to unsigned
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> values.
       (<a href="http://bugs.mysql.com/27483" target="_top">Bug#27483</a>)</p></li><li><p>
        SSL support was not included in some “<span class="quote">generic</span>” RPM
        packages.
       (<a href="http://bugs.mysql.com/26760" target="_top">Bug#26760</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-75"></a>C.1.12. Release Notes for MySQL Community Server 5.0.75 (17 December 2008)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.67.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        To enable stricter control over the location from which
        user-defined functions can be loaded, the
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable has
        been backported from MySQL 5.1. If the value is nonempty,
        user-defined function object files can be loaded only from the
        directory named by this variable. If the value is empty, the
        behavior that is used prior to the inclusion of
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> applies: The UDF
        object files must be located in a directory that is searched by
        your system's dynamic linker.
       (<a href="http://bugs.mysql.com/37428" target="_top">Bug#37428</a>)</p></li><li><p>
        Previously, index hints did not work for
        <code class="literal">FULLTEXT</code> searches. Now they work as follows:
      </p><p>
        For natural language mode searches, index hints are silently
        ignored. For example, <code class="literal">IGNORE INDEX(i)</code> is
        ignored with no warning and the index is still used.
      </p><p>
        For boolean mode searches, index hints are honored.
       (<a href="http://bugs.mysql.com/38842" target="_top">Bug#38842</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        Additional corrections were made for the symlink-related
        privilege problem originally addressed in MySQL 5.0.60. The
        original fix did not correctly handle the data directory path
        name if it contained symlinked directories in its path, and the
        check was made only at table-creation time, not at table-opening
        time later.
       (<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        The server consumed excess memory while parsing statements with
        hundreds or thousands of nested boolean conditions (such as
        <code class="literal">OR (OR ... (OR ... ))</code>). This could lead to a
        server crash or incorrect statement execution, or cause other
        client statements to fail due to lack of memory. The latter
        result constitutes a denial of service.
       (<a href="http://bugs.mysql.com/38296" target="_top">Bug#38296</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        There were some problems using <code class="function">DllMain()</code>
        hook functions on Windows that automatically do global and
        per-thread initialization for
        <code class="filename">libmysqld.dll</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Per-thread initialization: MySQL internally counts the
            number of active threads, which causes a delay in
            <code class="function">my_end()</code> if not all threads have
            exited. But there are threads that can be started either by
            Windows internally (often in TCP/IP scenarios) or by users.
            Those threads do not necessarily use
            <code class="filename">libmysql.dll</code> functionality but still
            contribute to the open-thread count. (One symptom is a
            five-second delay in times for PHP scripts to finish.)
          </p></li><li><p>
            Process-initialization:
            <a href="connectors-apis.html#my-init" title="20.9.8.1. my_init()"><code class="literal">my_init()</code></a> calls
            <code class="function">WSAStartup</code> that itself loads DLLs and
            can lead to a deadlock in the Windows loader.
          </p></li></ul></div><p>
        To correct these problems, DLL initialization code now is not
        invoked from <code class="filename">libmysql.dll</code> by default. To
        obtain the previous behavior (DLL initialization code will be
        called), set the <code class="literal">LIBMYSQL_DLLINIT</code> environment
        variable to any value. This variable exists only to prevent
        breakage of existing Windows-only applications that do not call
        <a href="connectors-apis.html#mysql-thread-init" title="20.9.8.3. mysql_thread_init()"><code class="literal">mysql_thread_init()</code></a> and work
        okay today. Use of <code class="literal">LIBMYSQL_DLLINIT</code> is
        discouraged and is removed in MySQL 6.0.
       (<a href="http://bugs.mysql.com/37226" target="_top">Bug#37226</a>, <a href="http://bugs.mysql.com/33031" target="_top">Bug#33031</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> took a lot of CPU
        time for calculating the value of the
        <a href="server-administration.html#statvar_Innodb_buffer_pool_pages_latched"><code class="literal">Innodb_buffer_pool_pages_latched</code></a>
        status variable. Now this variable is calculated and included in
        the output of <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> only if
        the <code class="literal">UNIV_DEBUG</code> symbol is defined at MySQL
        build time.
       (<a href="http://bugs.mysql.com/36600" target="_top">Bug#36600</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In connection with view creation, the server created
        <code class="filename">arc</code> directories inside database directories
        and maintained useless copies of <code class="filename">.frm</code> files
        there. Creation and renaming procedures of those copies as well
        as creation of <code class="filename">arc</code> directories has been
        discontinued.
      </p><p>
        This change does cause a problem when downgrading to older
        server versions which manifests itself under these
        circumstances:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Create a view <code class="literal">v_orig</code> in MySQL 5.0.72 or
            higher.
          </p></li><li><p>
            Rename the view to <code class="literal">v_new</code> and then back to
            <code class="literal">v_orig</code>.
          </p></li><li><p>
            Downgrade to an older 5.0.x server and run
            <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
          </p></li><li><p>
            Try to rename <code class="literal">v_orig</code> to
            <code class="literal">v_new</code> again. This operation fails.
          </p></li></ol></div><p>
        As a workaround to avoid this problem, use either of these
        approaches:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Dump your data using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before
            downgrading and reload the dump file after downgrading.
          </p></li><li><p>
            Instead of renaming a view after the downgrade, drop it and
            recreate it.
          </p></li></ul></div><p>
        The downgrade problem introduced by the fix for this bug has
        been addressed as <a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>.
       (<a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> did not check for incompatible collation
        changes made in MySQL 5.0.48 (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>, <a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>, <a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>).
        This also affects <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/40984" target="_top">Bug#40984</a>)</p><p>See also <a href="http://bugs.mysql.com/39585" target="_top">Bug#39585</a>.</p></li><li><p>
        The <code class="literal">FEDERATED</code> handler had a memory
        leak.
       (<a href="http://bugs.mysql.com/40875" target="_top">Bug#40875</a>)</p></li><li><p>
        Prepared statements allowed invalid dates to be inserted when
        the <a href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
        mode was not enabled.
       (<a href="http://bugs.mysql.com/40365" target="_top">Bug#40365</a>)</p></li><li><p>
        <span><strong class="command">mc.exe</strong></span> is no longer needed to compile MySQL
        on Windows. This makes it possible to build MySQL from source
        using Visual Studio Express 2008.
       (<a href="http://bugs.mysql.com/40280" target="_top">Bug#40280</a>)</p></li><li><p>
        Support for the <code class="literal">revision</code> field in
        <code class="filename">.frm</code> files has been removed. This addresses
        the downgrading problem introduced by the fix for <a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>.
       (<a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>)</p></li><li><p>
        If the operating system is configured to return leap seconds
        from OS time calls or if the MySQL server uses a time zone
        definition that has leap seconds, functions such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> could return a value having
        a time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code>. If such values are inserted into a
        table, they would be dumped as is by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> but considered invalid when
        reloaded, leading to backup/restore problems.
      </p><p>
        Now leap second values are returned with a time part that ends
        with <code class="literal">:59:59</code>. This means that a function such
        as <a href="functions.html#function_now"><code class="literal">NOW()</code></a> can return the same
        value for two or three consecutive seconds during the leap
        second. It remains true that literal temporal values having a
        time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code> are considered invalid.
      </p><p>
        For additional details about leap-second handling, see
        <a href="internationalization-localization.html#time-zone-leap-seconds" title="9.7.2. Time Zone Leap Second Support">Section 9.7.2, “Time Zone Leap Second Support”</a>.
       (<a href="http://bugs.mysql.com/39920" target="_top">Bug#39920</a>)</p></li><li><p>
        The server could crash during a sort-order optimization of a
        dependent subquery.
       (<a href="http://bugs.mysql.com/39844" target="_top">Bug#39844</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        SQL mode enabled, the check for nonaggregated columns in queries
        with aggregate functions, but without a <code class="literal">GROUP
        BY</code> clause was treating all the parts of the query as
        if they were in the select list. This is fixed by ignoring the
        nonaggregated columns in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/39656" target="_top">Bug#39656</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> failed for
        <code class="literal">MyISAM</code>
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/39541" target="_top">Bug#39541</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column in an
        <code class="literal">InnoDB</code> table, testing the column with
        multiple conditions in the <code class="literal">WHERE</code> clause
        caused a server crash.
       (<a href="http://bugs.mysql.com/39353" target="_top">Bug#39353</a>)</p></li><li><p>
        The server returned a column type of
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> rather than
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as the result from the
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, or
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> functions or
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expression if the result was
        obtained using <code class="literal">filesort</code> in an anonymous
        temporary table during the query execution.
       (<a href="http://bugs.mysql.com/39283" target="_top">Bug#39283</a>)</p></li><li><p>
        References to local variables in stored procedures are replaced
        with
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,
        <em class="replaceable"><code>value</code></em>)</code></a> when written to the
        binary log. However, an “<span class="quote">illegal mix of collation</span>”
        error might occur when executing the log contents if the value's
        collation differed from that of the variable. Now information
        about the variable collation is written as well.
       (<a href="http://bugs.mysql.com/39182" target="_top">Bug#39182</a>)</p></li><li><p>
        Some recent releases for Solaris 10 were built on Solaris 10 U5,
        which included a new version of <code class="filename">libnsl.so</code>
        that does not work on U4 or earlier. To correct this, Solaris 10
        builds now are created on machines that do not have that
        upgraded <code class="filename">libnsl.so</code>, so that they will work
        on Solaris 10 installations both with and without the upgraded
        <code class="filename">libnsl.so</code>.
       (<a href="http://bugs.mysql.com/39074" target="_top">Bug#39074</a>)</p></li><li><p>
        With binary logging enabled <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> was subject to possible buffer overwrite and a
        server crash.
       (<a href="http://bugs.mysql.com/39040" target="_top">Bug#39040</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... REGEXP BINARY
        NULL</code> could lead to a hung or crashed server.
       (<a href="http://bugs.mysql.com/39021" target="_top">Bug#39021</a>)</p></li><li><p>
        Statements of the form <code class="literal">INSERT ... SELECT .. ON
        DUPLICATE KEY UPDATE <em class="replaceable"><code>col_name</code></em> =
        DEFAULT</code> could result in a server crash.
       (<a href="http://bugs.mysql.com/39002" target="_top">Bug#39002</a>)</p></li><li><p>
        Column names constructed due to wild-card expansion done inside
        a stored procedure could point to freed memory if the expansion
        was performed after the first call to the stored procedure.
       (<a href="http://bugs.mysql.com/38823" target="_top">Bug#38823</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT</code></a> statements, where the created table
        contained an <code class="literal">AUTO_INCREMENT</code> column, could
        lead to an assertion failure.
       (<a href="http://bugs.mysql.com/38821" target="_top">Bug#38821</a>)</p></li><li><p>
        If delayed insert failed to upgrade the lock, it did not free
        the temporary memory storage used to keep newly constructed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values in memory, resulting
        in a memory leak.
       (<a href="http://bugs.mysql.com/38693" target="_top">Bug#38693</a>)</p></li><li><p>
        A server crash resulted from concurrent execution of a
        multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that used a
        <code class="literal">NATURAL</code> or <code class="literal">USING</code> join
        together with <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES WITH READ LOCK</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> for the table being updated.
       (<a href="http://bugs.mysql.com/38691" target="_top">Bug#38691</a>)</p></li><li><p>
        On ActiveState Perl, <span><strong class="command">mysql-test-run.pl
        --start-and-exit</strong></span> started but did not exit.
       (<a href="http://bugs.mysql.com/38629" target="_top">Bug#38629</a>)</p></li><li><p>
        Server-side cursors were not initialized properly, which could
        cause a server crash.
       (<a href="http://bugs.mysql.com/38486" target="_top">Bug#38486</a>)</p></li><li><p>
        Stored procedures involving substrings could crash the server on
        certain platforms due to invalid memory reads.
       (<a href="http://bugs.mysql.com/38469" target="_top">Bug#38469</a>)</p></li><li><p>
        A server crash or Valgrind warnings could result when a stored
        procedure selected from a view that referenced a function.
       (<a href="http://bugs.mysql.com/38291" target="_top">Bug#38291</a>)</p></li><li><p>
        Incorrect handling of aggregate functions when loose index scan
        was used caused a server crash.
       (<a href="http://bugs.mysql.com/38195" target="_top">Bug#38195</a>)</p></li><li><p>
        Queries containing a subquery with <code class="literal">DISTINCT</code>
        and <code class="literal">ORDER BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/38191" target="_top">Bug#38191</a>)</p></li><li><p>
        Queries with a <code class="literal">HAVING</code> clause could return a
        spurious row.
       (<a href="http://bugs.mysql.com/38072" target="_top">Bug#38072</a>)</p></li><li><p>
        The server crashed if an argument to a stored procedure was a
        subquery that returned more than one row.
       (<a href="http://bugs.mysql.com/37949" target="_top">Bug#37949</a>)</p></li><li><p>
        When analyzing the possible index use cases, the server was
        incorrectly reusing an internal structure, leading to a server
        crash.
       (<a href="http://bugs.mysql.com/37943" target="_top">Bug#37943</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with a <code class="literal">NULL NOT
        IN</code> condition containing a complex subquery from the
        same table as in the outer select caused an assertion failure.
       (<a href="http://bugs.mysql.com/37894" target="_top">Bug#37894</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ORDER BY ...
        DESC</code> sometimes returned results in ascending order.
       (<a href="http://bugs.mysql.com/37830" target="_top">Bug#37830</a>)</p></li><li><p>
        If a table has a <code class="literal">BIT NOT NULL</code> column
        <code class="literal">c1</code> with a length shorter than 8 bits and some
        additional <code class="literal">NOT NULL</code> columns
        <code class="literal">c2</code>, ..., and a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query has a
        <code class="literal">WHERE</code> clause of the form <code class="literal">(c1 =
        <em class="replaceable"><code>constant</code></em>) AND c2 ...</code>, the
        query could return an unexpected result set.
       (<a href="http://bugs.mysql.com/37799" target="_top">Bug#37799</a>)</p></li><li><p>
        Nesting of <a href="functions.html#function_if"><code class="literal">IF()</code></a> inside of
        <a href="functions.html#function_sum"><code class="literal">SUM()</code></a> could cause an extreme
        server slowdown.
       (<a href="http://bugs.mysql.com/37662" target="_top">Bug#37662</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> was erroneously
        treated as always returning a positive result. Also,
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> dropped the sign of
        negative values.
       (<a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a>)</p><p>See also <a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>.</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> used
        <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW FULL
        TABLES</code></a> to get the list of tables in a database. For
        some problems, such as an empty <code class="filename">.frm</code> file
        for a table, this would fail and <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
        then would neglect to check other tables in the database.
       (<a href="http://bugs.mysql.com/37527" target="_top">Bug#37527</a>)</p></li><li><p>
        The <a href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
        operator could return incorrect results when comparing
        <code class="literal">NULL</code> to <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>, or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/37526" target="_top">Bug#37526</a>)</p></li><li><p>
        Updating a view with a subquery in the <code class="literal">CHECK</code>
        option could cause an assertion failure.
       (<a href="http://bugs.mysql.com/37460" target="_top">Bug#37460</a>)</p></li><li><p>
        Statements that displayed the value of system variables (for
        example, <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>) expect
        variable values to be encoded in
        <a href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a>. However,
        variables set from the command line such as
        <a href="server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a> or
        <a href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a> were encoded using
        <a href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a> and
        not converted correctly.
       (<a href="http://bugs.mysql.com/37339" target="_top">Bug#37339</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with <code class="literal">CHECKSUM =
        1</code> and <code class="literal">ROW_FORMAT = DYNAMIC</code> table
        options, a data consistency check (maximum record length) could
        fail and cause the table to be marked as corrupted.
       (<a href="http://bugs.mysql.com/37310" target="_top">Bug#37310</a>)</p></li><li><p>
        The <code class="literal">max_length</code> result set metadata value was
        calculated incorrectly under some circumstances.
       (<a href="http://bugs.mysql.com/37301" target="_top">Bug#37301</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> could crash with
        <code class="literal">InnoDB</code> plugin 1.0.1.
       (<a href="http://bugs.mysql.com/37284" target="_top">Bug#37284</a>)</p></li><li><p>
        The <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
        mode was ignored for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> and <code class="literal">SELECT INTO ... OUTFILE</code>.
        The setting is taken into account now.
       (<a href="http://bugs.mysql.com/37114" target="_top">Bug#37114</a>)</p></li><li><p>
        On a 32-bit server built without big tables support, the offset
        argument in a <code class="literal">LIMIT</code> clause might be truncated
        due to a 64-bit to 32-bit cast.
       (<a href="http://bugs.mysql.com/37075" target="_top">Bug#37075</a>)</p></li><li><p>
        If the server failed to expire binary log files at startup, it
        could crash.
       (<a href="http://bugs.mysql.com/37027" target="_top">Bug#37027</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with
        <code class="literal">GROUP BY</code> to convert numeric values to
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> could return truncated
        results.
       (<a href="http://bugs.mysql.com/36772" target="_top">Bug#36772</a>)</p></li><li><p>
        A query which had an <code class="literal">ORDER BY DESC</code> clause
        that is satisfied with a reverse range scan could cause a server
        crash for some specific CPU/compiler combinations.
       (<a href="http://bugs.mysql.com/36639" target="_top">Bug#36639</a>)</p></li><li><p>
        Dumping information about locks in use by sending a
        <code class="literal">SIGHUP</code> signal to the server or by invoking
        the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin debug</strong></span></a> command could lead to a
        server crash in debug builds or to undefined behavior in
        production builds.
       (<a href="http://bugs.mysql.com/36579" target="_top">Bug#36579</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, when built with Visual
        Studio 2005, did not display Japanese characters.
       (<a href="http://bugs.mysql.com/36279" target="_top">Bug#36279</a>)</p></li><li><p>
        When the fractional part in a multiplication of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values overflowed, the
        server truncated the first operand rather than the longest. Now
        the server truncates so as to produce more precise
        multiplications.
       (<a href="http://bugs.mysql.com/36270" target="_top">Bug#36270</a>)</p></li><li><p>
        Host name values in SQL statements were not being checked for
        <code class="literal">'@'</code>, which is illegal according to RFC952.
       (<a href="http://bugs.mysql.com/35924" target="_top">Bug#35924</a>)</p></li><li><p>
        The <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> function returned
        UUIDs with the wrong time; this was because the offset for the
        time part in UUIDs was miscalculated.
       (<a href="http://bugs.mysql.com/35848" target="_top">Bug#35848</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed on machines that had
        the host name set to <code class="literal">localhost</code>.
       (<a href="http://bugs.mysql.com/35754" target="_top">Bug#35754</a>)</p></li><li><p>
        Dynamic plugins failed to load on i5/OS.
       (<a href="http://bugs.mysql.com/35743" target="_top">Bug#35743</a>)</p></li><li><p>
        Freeing of an internal parser stack during parsing of complex
        stored programs caused a server crash.
       (<a href="http://bugs.mysql.com/35577" target="_top">Bug#35577</a>, <a href="http://bugs.mysql.com/37269" target="_top">Bug#37269</a>, <a href="http://bugs.mysql.com/37228" target="_top">Bug#37228</a>)</p></li><li><p>
        Index scans performed with the <code class="literal">sort_union()</code>
        access method returned wrong results, caused memory to be
        leaked, and caused temporary files to be deleted when the limit
        set by <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        reached.
       (<a href="http://bugs.mysql.com/35477" target="_top">Bug#35477</a>, <a href="http://bugs.mysql.com/35478" target="_top">Bug#35478</a>)</p></li><li><p>
        If the server crashed with an <code class="literal">InnoDB</code> error
        due to unavailability of undo slots, errors could persist during
        rollback when the server was restarted: There are two
        <code class="literal">UNDO</code> slot caches (for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>). If all slots end up in
        one of the slot caches, a request for a slot from the other slot
        cache would fail. This can happen if the request is for an
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> slot and all slots are in
        the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> slot cache, or vice
        versa.
       (<a href="http://bugs.mysql.com/35352" target="_top">Bug#35352</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ALTER TABLE
        DROP</code> failed if the name of the column to be dropped
        began with “<span class="quote">foreign</span>”.
       (<a href="http://bugs.mysql.com/35220" target="_top">Bug#35220</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> on Windows did not know about Win32
        system error codes.
       (<a href="http://bugs.mysql.com/34825" target="_top">Bug#34825</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... WHERE
        <em class="replaceable"><code>string</code></em> = ANY(...)</code> failed
        when the server used a single-byte character set and the client
        used a multi-byte character set.
       (<a href="http://bugs.mysql.com/34760" target="_top">Bug#34760</a>)</p><p>See also <a href="http://bugs.mysql.com/20835" target="_top">Bug#20835</a>.</p></li><li><p>
        Using <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> as the first
        statement on an <code class="literal">InnoDB</code> table with an
        <code class="literal">AUTO_INCREMENT</code> column could cause a server
        crash.
       (<a href="http://bugs.mysql.com/34286" target="_top">Bug#34286</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the server was
        running with an SQL mode of
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>. This program now
        resets the SQL mode internally to avoid this problem.
       (<a href="http://bugs.mysql.com/34159" target="_top">Bug#34159</a>)</p></li><li><p>
        Changes to build files were made to enable the MySQL
        distribution to compile on Microsoft Visual C++ Express 2008.
       (<a href="http://bugs.mysql.com/33907" target="_top">Bug#33907</a>)</p></li><li><p>
        For a stored procedure containing a <code class="literal">SELECT * ... RIGHT
        JOIN</code> query, execution failed for the second call.
       (<a href="http://bugs.mysql.com/33811" target="_top">Bug#33811</a>)</p></li><li><p>
        Previously, use of index hints with views (which do not have
        indexes) produced the error <span class="errortext">ERROR 1221 (HY000):
        Incorrect usage of USE/IGNORE INDEX and VIEW</span>. Now
        this produces <span class="errortext">ERROR 1176 (HY000): Key '...' doesn't
        exist in table '...'</span>, the same error as for base
        tables without an appropriate index.
       (<a href="http://bugs.mysql.com/33461" target="_top">Bug#33461</a>)</p></li><li><p>
        Cached queries that used 256 or more tables were not properly
        cached, so that later query invalidation due to a
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for one of the tables caused the server to hang.
       (<a href="http://bugs.mysql.com/33362" target="_top">Bug#33362</a>)</p></li><li><p>
        Some division operations produced a result with incorrect
        precision.
       (<a href="http://bugs.mysql.com/31616" target="_top">Bug#31616</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> attempted to use the
        <code class="filename">/proc</code> file system even on systems that do
        not have it.
       (<a href="http://bugs.mysql.com/31605" target="_top">Bug#31605</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could fail to dump views containing
        a large number of columns.
       (<a href="http://bugs.mysql.com/31434" target="_top">Bug#31434</a>)</p></li><li><p>
        Several MySQL programs could fail if the <code class="literal">HOME</code>
        environment variable had an empty value.
       (<a href="http://bugs.mysql.com/30394" target="_top">Bug#30394</a>)</p></li><li><p>
        On NetWare, <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could appear to
        execute normally even if it failed to create the initial
        databases.
       (<a href="http://bugs.mysql.com/30129" target="_top">Bug#30129</a>)</p></li><li><p>
        The Serbian translation for the
        <a href="error-handling.html#error_er_incorrect_global_local_var"><code class="literal">ER_INCORRECT_GLOBAL_LOCAL_VAR</code></a>
        error was corrected.
       (<a href="http://bugs.mysql.com/29738" target="_top">Bug#29738</a>)</p></li><li><p>
        XA transaction rollbacks could result in corrupted transaction
        states and a server crash.
       (<a href="http://bugs.mysql.com/28323" target="_top">Bug#28323</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> build script failed if
        <span><strong class="command">gcc</strong></span> had a different name (such as
        <span><strong class="command">gcc.real</strong></span> on Debian).
       (<a href="http://bugs.mysql.com/27526" target="_top">Bug#27526</a>)</p></li><li><p>
        In some cases, the parser interpreted the <code class="literal">;</code>
        character as the end of input and misinterpreted stored program
        definitions.
       (<a href="http://bugs.mysql.com/26030" target="_top">Bug#26030</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> status variable
        is intended as a count of statements sent by clients to the
        server, but was also counting statements executed within stored
        routines.
       (<a href="http://bugs.mysql.com/24289" target="_top">Bug#24289</a>)</p></li><li><p>
        For access to the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table, the
        server did not check the <a href="server-administration.html#priv_show-view"><code class="literal">SHOW
        VIEW</code></a> and <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        privileges, leading to inconsistency between output from that
        table and the <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22763" target="_top">Bug#22763</a>)</p></li><li><p>
        The <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement did not produce an error when it
        failed.
       (<a href="http://bugs.mysql.com/21226" target="_top">Bug#21226</a>)</p></li><li><p>
        A race condition between the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld.exe</strong></span></a>
        server and the Windows service manager could lead to inability
        to stop the server from the service manager.
       (<a href="http://bugs.mysql.com/20430" target="_top">Bug#20430</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-74sp1"></a>C.1.13. Release Notes for MySQL Enterprise 5.0.74sp1 [QSP] (30 April 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.74).
    </p><p>
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">libedit</code> library was upgraded to version
        2.11.
       (<a href="http://bugs.mysql.com/42433" target="_top">Bug#42433</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An attempt by a user who did not have the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege to kill a system
        thread could cause a server crash.
       (<a href="http://bugs.mysql.com/43748" target="_top">Bug#43748</a>)</p></li><li><p>
        Tables could enter open table cache for a thread without being
        properly cleaned up, leading to a server crash.
       (<a href="http://bugs.mysql.com/42419" target="_top">Bug#42419</a>)</p></li><li><p>
        The SSL certficates included with MySQL distributions were
        regenerated because the previous ones had expired.
       (<a href="http://bugs.mysql.com/42366" target="_top">Bug#42366</a>)</p></li><li><p>
        Some queries using <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(.. COLLATE
        ...)</code></a> led to a server crash due to a failed type cast.
       (<a href="http://bugs.mysql.com/42014" target="_top">Bug#42014</a>)</p></li><li><p>
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> could cause a
        server crash for year-zero dates.
       (<a href="http://bugs.mysql.com/41470" target="_top">Bug#41470</a>)</p></li><li><p>
        <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> caused a server
        crash if the account name was given as
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
       (<a href="http://bugs.mysql.com/41456" target="_top">Bug#41456</a>)</p></li><li><p>
        When substituting system constant functions with a constant
        result, the server was not expecting <code class="literal">NULL</code>
        function return values and could crash.
       (<a href="http://bugs.mysql.com/41437" target="_top">Bug#41437</a>)</p></li><li><p>
        Creating a table with a comment of 62 characters or longer
        caused a server crash.
       (<a href="http://bugs.mysql.com/39591" target="_top">Bug#39591</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> evaluation of aggregate functions that
        required a temporary table caused a server crash.
       (<a href="http://bugs.mysql.com/34773" target="_top">Bug#34773</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-74"></a>C.1.14. Release Notes for MySQL Enterprise 5.0.74 [MRU] (03 December 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.72).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Previously, index hints did not work for
        <code class="literal">FULLTEXT</code> searches. Now they work as follows:
      </p><p>
        For natural language mode searches, index hints are silently
        ignored. For example, <code class="literal">IGNORE INDEX(i)</code> is
        ignored with no warning and the index is still used.
      </p><p>
        For boolean mode searches, index hints are honored.
       (<a href="http://bugs.mysql.com/38842" target="_top">Bug#38842</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> did not check for incompatible collation
        changes made in MySQL 5.0.48 (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>, <a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>, <a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>).
        This also affects <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/40984" target="_top">Bug#40984</a>)</p><p>See also <a href="http://bugs.mysql.com/39585" target="_top">Bug#39585</a>.</p></li><li><p>
        The <code class="literal">FEDERATED</code> handler had a memory
        leak.
       (<a href="http://bugs.mysql.com/40875" target="_top">Bug#40875</a>)</p></li><li><p>
        Prepared statements allowed invalid dates to be inserted when
        the <a href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
        mode was not enabled.
       (<a href="http://bugs.mysql.com/40365" target="_top">Bug#40365</a>)</p></li><li><p>
        Support for the <code class="literal">revision</code> field in
        <code class="filename">.frm</code> files has been removed. This addresses
        the downgrading problem introduced by the fix for <a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>.
       (<a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>)</p></li><li><p>
        If the operating system is configured to return leap seconds
        from OS time calls or if the MySQL server uses a time zone
        definition that has leap seconds, functions such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> could return a value having
        a time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code>. If such values are inserted into a
        table, they would be dumped as is by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> but considered invalid when
        reloaded, leading to backup/restore problems.
      </p><p>
        Now leap second values are returned with a time part that ends
        with <code class="literal">:59:59</code>. This means that a function such
        as <a href="functions.html#function_now"><code class="literal">NOW()</code></a> can return the same
        value for two or three consecutive seconds during the leap
        second. It remains true that literal temporal values having a
        time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code> are considered invalid.
      </p><p>
        For additional details about leap-second handling, see
        <a href="internationalization-localization.html#time-zone-leap-seconds" title="9.7.2. Time Zone Leap Second Support">Section 9.7.2, “Time Zone Leap Second Support”</a>.
       (<a href="http://bugs.mysql.com/39920" target="_top">Bug#39920</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        SQL mode enabled, the check for nonaggregated columns in queries
        with aggregate functions, but without a <code class="literal">GROUP
        BY</code> clause was treating all the parts of the query as
        if they were in the select list. This is fixed by ignoring the
        nonaggregated columns in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/39656" target="_top">Bug#39656</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> failed for
        <code class="literal">MyISAM</code>
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/39541" target="_top">Bug#39541</a>)</p></li><li><p>
        With binary logging enabled <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> was subject to possible buffer overwrite and a
        server crash.
       (<a href="http://bugs.mysql.com/39040" target="_top">Bug#39040</a>)</p></li><li><p>
        Queries with a <code class="literal">HAVING</code> clause could return a
        spurious row.
       (<a href="http://bugs.mysql.com/38072" target="_top">Bug#38072</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> was erroneously
        treated as always returning a positive result. Also,
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> dropped the sign of
        negative values.
       (<a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a>)</p><p>See also <a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>.</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> used
        <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW FULL
        TABLES</code></a> to get the list of tables in a database. For
        some problems, such as an empty <code class="filename">.frm</code> file
        for a table, this would fail and <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
        then would neglect to check other tables in the database.
       (<a href="http://bugs.mysql.com/37527" target="_top">Bug#37527</a>)</p></li><li><p>
        Updating a view with a subquery in the <code class="literal">CHECK</code>
        option could cause an assertion failure.
       (<a href="http://bugs.mysql.com/37460" target="_top">Bug#37460</a>)</p></li><li><p>
        Statements that displayed the value of system variables (for
        example, <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>) expect
        variable values to be encoded in
        <a href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a>. However,
        variables set from the command line such as
        <a href="server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a> or
        <a href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a> were encoded using
        <a href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a> and
        not converted correctly.
       (<a href="http://bugs.mysql.com/37339" target="_top">Bug#37339</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> could crash with
        <code class="literal">InnoDB</code> plugin 1.0.1.
       (<a href="http://bugs.mysql.com/37284" target="_top">Bug#37284</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with
        <code class="literal">GROUP BY</code> to convert numeric values to
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> could return truncated
        results.
       (<a href="http://bugs.mysql.com/36772" target="_top">Bug#36772</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, when built with Visual
        Studio 2005, did not display Japanese characters.
       (<a href="http://bugs.mysql.com/36279" target="_top">Bug#36279</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> on Windows did not know about Win32
        system error codes.
       (<a href="http://bugs.mysql.com/34825" target="_top">Bug#34825</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... WHERE
        <em class="replaceable"><code>string</code></em> = ANY(...)</code> failed
        when the server used a single-byte character set and the client
        used a multi-byte character set.
       (<a href="http://bugs.mysql.com/34760" target="_top">Bug#34760</a>)</p><p>See also <a href="http://bugs.mysql.com/20835" target="_top">Bug#20835</a>.</p></li><li><p>
        For a stored procedure containing a <code class="literal">SELECT * ... RIGHT
        JOIN</code> query, execution failed for the second call.
       (<a href="http://bugs.mysql.com/33811" target="_top">Bug#33811</a>)</p></li><li><p>
        Previously, use of index hints with views (which do not have
        indexes) produced the error <span class="errortext">ERROR 1221 (HY000):
        Incorrect usage of USE/IGNORE INDEX and VIEW</span>. Now
        this produces <span class="errortext">ERROR 1176 (HY000): Key '...' doesn't
        exist in table '...'</span>, the same error as for base
        tables without an appropriate index.
       (<a href="http://bugs.mysql.com/33461" target="_top">Bug#33461</a>)</p></li><li><p>
        Some division operations produced a result with incorrect
        precision.
       (<a href="http://bugs.mysql.com/31616" target="_top">Bug#31616</a>)</p></li><li><p>
        A race condition between the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld.exe</strong></span></a>
        server and the Windows service manager could lead to inability
        to stop the server from the service manager.
       (<a href="http://bugs.mysql.com/20430" target="_top">Bug#20430</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-72sp1"></a>C.1.15. Release Notes for MySQL Enterprise 5.0.72sp1 [QSP] (13 January 2009)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.72).
    </p><p>
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Previously, index hints did not work for
        <code class="literal">FULLTEXT</code> searches. Now they work as follows:
      </p><p>
        For natural language mode searches, index hints are silently
        ignored. For example, <code class="literal">IGNORE INDEX(i)</code> is
        ignored with no warning and the index is still used.
      </p><p>
        For boolean mode searches, index hints are honored.
       (<a href="http://bugs.mysql.com/38842" target="_top">Bug#38842</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        Packages for MySQL Cluster were missing the
        <code class="filename">libndbclient.so</code> and
        <code class="filename">libndbclient.a</code> files.
       (<a href="http://bugs.mysql.com/42278" target="_top">Bug#42278</a>)</p></li><li><p>
        Support for the <code class="literal">revision</code> field in
        <code class="filename">.frm</code> files has been removed. This addresses
        the downgrading problem introduced by the fix for <a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>.
       (<a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>)</p></li><li><p>
        If the operating system is configured to return leap seconds
        from OS time calls or if the MySQL server uses a time zone
        definition that has leap seconds, functions such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> could return a value having
        a time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code>. If such values are inserted into a
        table, they would be dumped as is by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> but considered invalid when
        reloaded, leading to backup/restore problems.
      </p><p>
        Now leap second values are returned with a time part that ends
        with <code class="literal">:59:59</code>. This means that a function such
        as <a href="functions.html#function_now"><code class="literal">NOW()</code></a> can return the same
        value for two or three consecutive seconds during the leap
        second. It remains true that literal temporal values having a
        time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code> are considered invalid.
      </p><p>
        For additional details about leap-second handling, see
        <a href="internationalization-localization.html#time-zone-leap-seconds" title="9.7.2. Time Zone Leap Second Support">Section 9.7.2, “Time Zone Leap Second Support”</a>.
       (<a href="http://bugs.mysql.com/39920" target="_top">Bug#39920</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... WHERE
        <em class="replaceable"><code>string</code></em> = ANY(...)</code> failed
        when the server used a single-byte character set and the client
        used a multi-byte character set.
       (<a href="http://bugs.mysql.com/34760" target="_top">Bug#34760</a>)</p><p>See also <a href="http://bugs.mysql.com/20835" target="_top">Bug#20835</a>.</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-72"></a>C.1.16. Release Notes for MySQL Enterprise 5.0.72 [MRU] (24 October 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.70).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In connection with view creation, the server created
        <code class="filename">arc</code> directories inside database directories
        and maintained useless copies of <code class="filename">.frm</code> files
        there. Creation and renaming procedures of those copies as well
        as creation of <code class="filename">arc</code> directories has been
        discontinued.
      </p><p>
        This change does cause a problem when downgrading to older
        server versions which manifests itself under these
        circumstances:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Create a view <code class="literal">v_orig</code> in MySQL 5.0.72 or
            higher.
          </p></li><li><p>
            Rename the view to <code class="literal">v_new</code> and then back to
            <code class="literal">v_orig</code>.
          </p></li><li><p>
            Downgrade to an older 5.0.x server and run
            <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
          </p></li><li><p>
            Try to rename <code class="literal">v_orig</code> to
            <code class="literal">v_new</code> again. This operation fails.
          </p></li></ol></div><p>
        As a workaround to avoid this problem, use either of these
        approaches:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Dump your data using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before
            downgrading and reload the dump file after downgrading.
          </p></li><li><p>
            Instead of renaming a view after the downgrade, drop it and
            recreate it.
          </p></li></ul></div><p>
        The downgrade problem introduced by the fix for this bug has
        been addressed as <a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>.
       (<a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>)</p></li><li><p>
        <span><strong class="command">mc.exe</strong></span> is no longer needed to compile MySQL
        on Windows. This makes it possible to build MySQL from source
        using Visual Studio Express 2008.
       (<a href="http://bugs.mysql.com/40280" target="_top">Bug#40280</a>)</p></li><li><p>
        The server could crash during a sort-order optimization of a
        dependent subquery.
       (<a href="http://bugs.mysql.com/39844" target="_top">Bug#39844</a>)</p></li><li><p>
        The server returned a column type of
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> rather than
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as the result from the
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, or
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> functions or
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expression if the result was
        obtained using <code class="literal">filesort</code> in an anonymous
        temporary table during the query execution.
       (<a href="http://bugs.mysql.com/39283" target="_top">Bug#39283</a>)</p></li><li><p>
        References to local variables in stored procedures are replaced
        with
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,
        <em class="replaceable"><code>value</code></em>)</code></a> when written to the
        binary log. However, an “<span class="quote">illegal mix of collation</span>”
        error might occur when executing the log contents if the value's
        collation differed from that of the variable. Now information
        about the variable collation is written as well.
       (<a href="http://bugs.mysql.com/39182" target="_top">Bug#39182</a>)</p></li><li><p>
        Some recent releases for Solaris 10 were built on Solaris 10 U5,
        which included a new version of <code class="filename">libnsl.so</code>
        that does not work on U4 or earlier. To correct this, Solaris 10
        builds now are created on machines that do not have that
        upgraded <code class="filename">libnsl.so</code>, so that they will work
        on Solaris 10 installations both with and without the upgraded
        <code class="filename">libnsl.so</code>.
       (<a href="http://bugs.mysql.com/39074" target="_top">Bug#39074</a>)</p></li><li><p>
        Column names constructed due to wild-card expansion done inside
        a stored procedure could point to freed memory if the expansion
        was performed after the first call to the stored procedure.
       (<a href="http://bugs.mysql.com/38823" target="_top">Bug#38823</a>)</p></li><li><p>
        If delayed insert failed to upgrade the lock, it did not free
        the temporary memory storage used to keep newly constructed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values in memory, resulting
        in a memory leak.
       (<a href="http://bugs.mysql.com/38693" target="_top">Bug#38693</a>)</p></li><li><p>
        A server crash resulted from concurrent execution of a
        multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that used a
        <code class="literal">NATURAL</code> or <code class="literal">USING</code> join
        together with <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES WITH READ LOCK</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> for the table being updated.
       (<a href="http://bugs.mysql.com/38691" target="_top">Bug#38691</a>)</p></li><li><p>
        On ActiveState Perl, <span><strong class="command">mysql-test-run.pl
        --start-and-exit</strong></span> started but did not exit.
       (<a href="http://bugs.mysql.com/38629" target="_top">Bug#38629</a>)</p></li><li><p>
        Stored procedures involving substrings could crash the server on
        certain platforms due to invalid memory reads.
       (<a href="http://bugs.mysql.com/38469" target="_top">Bug#38469</a>)</p></li><li><p>
        The server crashed if an argument to a stored procedure was a
        subquery that returned more than one row.
       (<a href="http://bugs.mysql.com/37949" target="_top">Bug#37949</a>)</p></li><li><p>
        When analyzing the possible index use cases, the server was
        incorrectly reusing an internal structure, leading to a server
        crash.
       (<a href="http://bugs.mysql.com/37943" target="_top">Bug#37943</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with a <code class="literal">NULL NOT
        IN</code> condition containing a complex subquery from the
        same table as in the outer select caused an assertion failure.
       (<a href="http://bugs.mysql.com/37894" target="_top">Bug#37894</a>)</p></li><li><p>
        On a 32-bit server built without big tables support, the offset
        argument in a <code class="literal">LIMIT</code> clause might be truncated
        due to a 64-bit to 32-bit cast.
       (<a href="http://bugs.mysql.com/37075" target="_top">Bug#37075</a>)</p></li><li><p>
        Host name values in SQL statements were not being checked for
        <code class="literal">'@'</code>, which is illegal according to RFC952.
       (<a href="http://bugs.mysql.com/35924" target="_top">Bug#35924</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed on machines that had
        the host name set to <code class="literal">localhost</code>.
       (<a href="http://bugs.mysql.com/35754" target="_top">Bug#35754</a>)</p></li><li><p>
        Dynamic plugins failed to load on i5/OS.
       (<a href="http://bugs.mysql.com/35743" target="_top">Bug#35743</a>)</p></li><li><p>
        XA transaction rollbacks could result in corrupted transaction
        states and a server crash.
       (<a href="http://bugs.mysql.com/28323" target="_top">Bug#28323</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> status variable
        is intended as a count of statements sent by clients to the
        server, but was also counting statements executed within stored
        routines.
       (<a href="http://bugs.mysql.com/24289" target="_top">Bug#24289</a>)</p></li><li><p>
        For access to the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table, the
        server did not check the <a href="server-administration.html#priv_show-view"><code class="literal">SHOW
        VIEW</code></a> and <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        privileges, leading to inconsistency between output from that
        table and the <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22763" target="_top">Bug#22763</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-70"></a>C.1.17. Release Notes for MySQL Enterprise 5.0.70 [MRU] (27 September 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.68).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        To enable stricter control over the location from which
        user-defined functions can be loaded, the
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable has
        been backported from MySQL 5.1. If the value is nonempty,
        user-defined function object files can be loaded only from the
        directory named by this variable. If the value is empty, the
        behavior that is used prior to the inclusion of
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> applies: The UDF
        object files must be located in a directory that is searched by
        your system's dynamic linker.
       (<a href="http://bugs.mysql.com/37428" target="_top">Bug#37428</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        Additional corrections were made for the symlink-related
        privilege problem originally addressed in MySQL 5.0.60. The
        original fix did not correctly handle the data directory path
        name if it contained symlinked directories in its path, and the
        check was made only at table-creation time, not at table-opening
        time later.
       (<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        There were some problems using <code class="function">DllMain()</code>
        hook functions on Windows that automatically do global and
        per-thread initialization for
        <code class="filename">libmysqld.dll</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Per-thread initialization: MySQL internally counts the
            number of active threads, which causes a delay in
            <code class="function">my_end()</code> if not all threads have
            exited. But there are threads that can be started either by
            Windows internally (often in TCP/IP scenarios) or by users.
            Those threads do not necessarily use
            <code class="filename">libmysql.dll</code> functionality but still
            contribute to the open-thread count. (One symptom is a
            five-second delay in times for PHP scripts to finish.)
          </p></li><li><p>
            Process-initialization:
            <a href="connectors-apis.html#my-init" title="20.9.8.1. my_init()"><code class="literal">my_init()</code></a> calls
            <code class="function">WSAStartup</code> that itself loads DLLs and
            can lead to a deadlock in the Windows loader.
          </p></li></ul></div><p>
        To correct these problems, DLL initialization code now is not
        invoked from <code class="filename">libmysql.dll</code> by default. To
        obtain the previous behavior (DLL initialization code will be
        called), set the <code class="literal">LIBMYSQL_DLLINIT</code> environment
        variable to any value. This variable exists only to prevent
        breakage of existing Windows-only applications that do not call
        <a href="connectors-apis.html#mysql-thread-init" title="20.9.8.3. mysql_thread_init()"><code class="literal">mysql_thread_init()</code></a> and work
        okay today. Use of <code class="literal">LIBMYSQL_DLLINIT</code> is
        discouraged and is removed in MySQL 6.0.
       (<a href="http://bugs.mysql.com/37226" target="_top">Bug#37226</a>, <a href="http://bugs.mysql.com/33031" target="_top">Bug#33031</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column in an
        <code class="literal">InnoDB</code> table, testing the column with
        multiple conditions in the <code class="literal">WHERE</code> clause
        caused a server crash.
       (<a href="http://bugs.mysql.com/39353" target="_top">Bug#39353</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... REGEXP BINARY
        NULL</code> could lead to a hung or crashed server.
       (<a href="http://bugs.mysql.com/39021" target="_top">Bug#39021</a>)</p></li><li><p>
        Statements of the form <code class="literal">INSERT ... SELECT .. ON
        DUPLICATE KEY UPDATE <em class="replaceable"><code>col_name</code></em> =
        DEFAULT</code> could result in a server crash.
       (<a href="http://bugs.mysql.com/39002" target="_top">Bug#39002</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT</code></a> statements, where the created table
        contained an <code class="literal">AUTO_INCREMENT</code> column, could
        lead to an assertion failure.
       (<a href="http://bugs.mysql.com/38821" target="_top">Bug#38821</a>)</p></li><li><p>
        A server crash or Valgrind warnings could result when a stored
        procedure selected from a view that referenced a function.
       (<a href="http://bugs.mysql.com/38291" target="_top">Bug#38291</a>)</p></li><li><p>
        Incorrect handling of aggregate functions when loose index scan
        was used caused a server crash.
       (<a href="http://bugs.mysql.com/38195" target="_top">Bug#38195</a>)</p></li><li><p>
        If a table has a <code class="literal">BIT NOT NULL</code> column
        <code class="literal">c1</code> with a length shorter than 8 bits and some
        additional <code class="literal">NOT NULL</code> columns
        <code class="literal">c2</code>, ..., and a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query has a
        <code class="literal">WHERE</code> clause of the form <code class="literal">(c1 =
        <em class="replaceable"><code>constant</code></em>) AND c2 ...</code>, the
        query could return an unexpected result set.
       (<a href="http://bugs.mysql.com/37799" target="_top">Bug#37799</a>)</p></li><li><p>
        The <a href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
        operator could return incorrect results when comparing
        <code class="literal">NULL</code> to <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>, or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/37526" target="_top">Bug#37526</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with <code class="literal">CHECKSUM =
        1</code> and <code class="literal">ROW_FORMAT = DYNAMIC</code> table
        options, a data consistency check (maximum record length) could
        fail and cause the table to be marked as corrupted.
       (<a href="http://bugs.mysql.com/37310" target="_top">Bug#37310</a>)</p></li><li><p>
        The <code class="literal">max_length</code> result set metadata value was
        calculated incorrectly under some circumstances.
       (<a href="http://bugs.mysql.com/37301" target="_top">Bug#37301</a>)</p></li><li><p>
        The <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
        mode was ignored for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> and <code class="literal">SELECT INTO ... OUTFILE</code>.
        The setting is taken into account now.
       (<a href="http://bugs.mysql.com/37114" target="_top">Bug#37114</a>)</p></li><li><p>
        A query which had an <code class="literal">ORDER BY DESC</code> clause
        that is satisfied with a reverse range scan could cause a server
        crash for some specific CPU/compiler combinations.
       (<a href="http://bugs.mysql.com/36639" target="_top">Bug#36639</a>)</p></li><li><p>
        Dumping information about locks in use by sending a
        <code class="literal">SIGHUP</code> signal to the server or by invoking
        the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin debug</strong></span></a> command could lead to a
        server crash in debug builds or to undefined behavior in
        production builds.
       (<a href="http://bugs.mysql.com/36579" target="_top">Bug#36579</a>)</p></li><li><p>
        When the fractional part in a multiplication of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values overflowed, the
        server truncated the first operand rather than the longest. Now
        the server truncates so as to produce more precise
        multiplications.
       (<a href="http://bugs.mysql.com/36270" target="_top">Bug#36270</a>)</p></li><li><p>
        Changes to build files were made to enable the MySQL
        distribution to compile on Microsoft Visual C++ Express 2008.
       (<a href="http://bugs.mysql.com/33907" target="_top">Bug#33907</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could fail to dump views containing
        a large number of columns.
       (<a href="http://bugs.mysql.com/31434" target="_top">Bug#31434</a>)</p></li><li><p>
        Several MySQL programs could fail if the <code class="literal">HOME</code>
        environment variable had an empty value.
       (<a href="http://bugs.mysql.com/30394" target="_top">Bug#30394</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> build script failed if
        <span><strong class="command">gcc</strong></span> had a different name (such as
        <span><strong class="command">gcc.real</strong></span> on Debian).
       (<a href="http://bugs.mysql.com/27526" target="_top">Bug#27526</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-68"></a>C.1.18. Release Notes for MySQL Enterprise 5.0.68 [MRU] (13 August 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.66a).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        The server consumed excess memory while parsing statements with
        hundreds or thousands of nested boolean conditions (such as
        <code class="literal">OR (OR ... (OR ... ))</code>). This could lead to a
        server crash or incorrect statement execution, or cause other
        client statements to fail due to lack of memory. The latter
        result constitutes a denial of service.
       (<a href="http://bugs.mysql.com/38296" target="_top">Bug#38296</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> took a lot of CPU
        time for calculating the value of the
        <a href="server-administration.html#statvar_Innodb_buffer_pool_pages_latched"><code class="literal">Innodb_buffer_pool_pages_latched</code></a>
        status variable. Now this variable is calculated and included in
        the output of <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> only if
        the <code class="literal">UNIV_DEBUG</code> symbol is defined at MySQL
        build time.
       (<a href="http://bugs.mysql.com/36600" target="_top">Bug#36600</a>)</p></li><li><p>
        Server-side cursors were not initialized properly, which could
        cause a server crash.
       (<a href="http://bugs.mysql.com/38486" target="_top">Bug#38486</a>)</p></li><li><p>
        Queries containing a subquery with <code class="literal">DISTINCT</code>
        and <code class="literal">ORDER BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/38191" target="_top">Bug#38191</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ORDER BY ...
        DESC</code> sometimes returned results in ascending order.
       (<a href="http://bugs.mysql.com/37830" target="_top">Bug#37830</a>)</p></li><li><p>
        Nesting of <a href="functions.html#function_if"><code class="literal">IF()</code></a> inside of
        <a href="functions.html#function_sum"><code class="literal">SUM()</code></a> could cause an extreme
        server slowdown.
       (<a href="http://bugs.mysql.com/37662" target="_top">Bug#37662</a>)</p></li><li><p>
        If the server failed to expire binary log files at startup, it
        could crash.
       (<a href="http://bugs.mysql.com/37027" target="_top">Bug#37027</a>)</p></li><li><p>
        The <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> function returned
        UUIDs with the wrong time; this was because the offset for the
        time part in UUIDs was miscalculated.
       (<a href="http://bugs.mysql.com/35848" target="_top">Bug#35848</a>)</p></li><li><p>
        Freeing of an internal parser stack during parsing of complex
        stored programs caused a server crash.
       (<a href="http://bugs.mysql.com/35577" target="_top">Bug#35577</a>, <a href="http://bugs.mysql.com/37269" target="_top">Bug#37269</a>, <a href="http://bugs.mysql.com/37228" target="_top">Bug#37228</a>)</p></li><li><p>
        Index scans performed with the <code class="literal">sort_union()</code>
        access method returned wrong results, caused memory to be
        leaked, and caused temporary files to be deleted when the limit
        set by <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        reached.
       (<a href="http://bugs.mysql.com/35477" target="_top">Bug#35477</a>, <a href="http://bugs.mysql.com/35478" target="_top">Bug#35478</a>)</p></li><li><p>
        If the server crashed with an <code class="literal">InnoDB</code> error
        due to unavailability of undo slots, errors could persist during
        rollback when the server was restarted: There are two
        <code class="literal">UNDO</code> slot caches (for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>). If all slots end up in
        one of the slot caches, a request for a slot from the other slot
        cache would fail. This can happen if the request is for an
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> slot and all slots are in
        the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> slot cache, or vice
        versa.
       (<a href="http://bugs.mysql.com/35352" target="_top">Bug#35352</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ALTER TABLE
        DROP</code> failed if the name of the column to be dropped
        began with “<span class="quote">foreign</span>”.
       (<a href="http://bugs.mysql.com/35220" target="_top">Bug#35220</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> as the first
        statement on an <code class="literal">InnoDB</code> table with an
        <code class="literal">AUTO_INCREMENT</code> column could cause a server
        crash.
       (<a href="http://bugs.mysql.com/34286" target="_top">Bug#34286</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the server was
        running with an SQL mode of
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>. This program now
        resets the SQL mode internally to avoid this problem.
       (<a href="http://bugs.mysql.com/34159" target="_top">Bug#34159</a>)</p></li><li><p>
        Cached queries that used 256 or more tables were not properly
        cached, so that later query invalidation due to a
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for one of the tables caused the server to hang.
       (<a href="http://bugs.mysql.com/33362" target="_top">Bug#33362</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> attempted to use the
        <code class="filename">/proc</code> file system even on systems that do
        not have it.
       (<a href="http://bugs.mysql.com/31605" target="_top">Bug#31605</a>)</p></li><li><p>
        On NetWare, <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could appear to
        execute normally even if it failed to create the initial
        databases.
       (<a href="http://bugs.mysql.com/30129" target="_top">Bug#30129</a>)</p></li><li><p>
        The Serbian translation for the
        <a href="error-handling.html#error_er_incorrect_global_local_var"><code class="literal">ER_INCORRECT_GLOBAL_LOCAL_VAR</code></a>
        error was corrected.
       (<a href="http://bugs.mysql.com/29738" target="_top">Bug#29738</a>)</p></li><li><p>
        In some cases, the parser interpreted the <code class="literal">;</code>
        character as the end of input and misinterpreted stored program
        definitions.
       (<a href="http://bugs.mysql.com/26030" target="_top">Bug#26030</a>)</p></li><li><p>
        The <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement did not produce an error when it
        failed.
       (<a href="http://bugs.mysql.com/21226" target="_top">Bug#21226</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-67"></a>C.1.19. Release Notes for MySQL Community Server 5.0.67 (04 August 2008)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.51b.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        To enable stricter control over the location from which
        user-defined functions can be loaded, the
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable has
        been backported from MySQL 5.1. If the value is nonempty,
        user-defined function object files can be loaded only from the
        directory named by this variable. If the value is empty, the
        behavior that is used prior to the inclusion of
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> applies: The UDF
        object files must be located in a directory that is searched by
        your system's dynamic linker.
       (<a href="http://bugs.mysql.com/37428" target="_top">Bug#37428</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">FEDERATED</code> storage engine is now disabled
        by default in the <code class="filename">.cnf</code> files shipped with
        MySQL distributions (<code class="filename">my-huge.cnf</code>,
        <code class="filename">my-medium.cnf</code>, and so forth). This affects
        server behavior only if you install one of these files.
       (<a href="http://bugs.mysql.com/37069" target="_top">Bug#37069</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: <span class="bold"><strong>Important Change</strong></span>: 
        Because <code class="literal">NDB_LE_MemoryUsage.page_size_kb</code> shows
        memory page sizes in bytes rather than kilobytes, it has been
        renamed to <code class="literal">page_size_bytes</code>. The name
        <code class="literal">page_size_kb</code> is now deprecated and thus
        subject to removal in a future release, although it currently
        remains supported for reasons of backward compatibility. See
        <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-logevent-type.html" target="_top">The <code class="literal">Ndb_logevent_type</code> Type</a>, for more information about
        <code class="literal">NDB_LE_MemoryUsage</code>.
       (<a href="http://bugs.mysql.com/30271" target="_top">Bug#30271</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        Some changes were made to
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> and <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR
        TABLE</code></a> with respect to detection and handling of tables
        with incompatible <code class="filename">.frm</code> files (files created
        with a different version of the MySQL server). These changes
        also affect <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> because that program
        uses <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> and
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>, and thus also
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> because that program invokes
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>.
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            If your table was created by a different version of the
            MySQL server than the one you are currently running,
            <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
            FOR UPGRADE</code></a> indicates that the table has an
            <code class="filename">.frm</code> file with an incompatible version.
            In this case, the result set returned by
            <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> contains a line
            with a <code class="literal">Msg_type</code> value of
            <code class="literal">error</code> and a <code class="literal">Msg_text</code>
            value of <code class="literal">Table upgrade required. Please do "REPAIR
            TABLE `<em class="replaceable"><code>tbl_name</code></em>`" to fix
            it!</code>
          </p></li><li><p>
            <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> without
            <code class="literal">USE_FRM</code> upgrades the
            <code class="filename">.frm</code> file to the current version.
          </p></li><li><p>
            If you use <code class="literal">REPAIR TABLE ...USE_FRM</code> and
            your table was created by a different version of the MySQL
            server than the one you are currently running,
            <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> will not attempt
            to repair the table. In this case, the result set returned
            by <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> contains a
            line with a <code class="literal">Msg_type</code> value of
            <code class="literal">error</code> and a <code class="literal">Msg_text</code>
            value of <code class="literal">Failed repairing incompatible .FRM
            file</code>.
          </p><p>
            Previously, use of <code class="literal">REPAIR TABLE
            ...USE_FRM</code> with a table created by a different
            version of the MySQL server risked the loss of all rows in
            the table.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/36055" target="_top">Bug#36055</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> now has a
        <a href="programs.html#option_mysql_upgrade_tmpdir"><code class="option">--tmpdir</code></a> option to enable
        the location of temporary files to be specified.
       (<a href="http://bugs.mysql.com/36469" target="_top">Bug#36469</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> now supports
        <code class="option">--client-bindir</code> and
        <code class="option">--client-libdir</code> options for specifying the
        directory where client binaries and libraries are located.
       (<a href="http://bugs.mysql.com/34995" target="_top">Bug#34995</a>)</p></li><li><p>
        The <span><strong class="command">ndbd</strong></span> and <span><strong class="command">ndb_mgmd</strong></span> man
        pages have been reclassified from volume 1 to volume 8.
       (<a href="http://bugs.mysql.com/34642" target="_top">Bug#34642</a>)</p></li><li><p>
        For binary <code class="filename">.tar.gz</code> packages,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> and other binaries now are compiled
        with debugging symbols included to enable easier use with a
        debugger. If you do not need debugging symbols and are short on
        disk space, you can use <span><strong class="command">strip</strong></span> to remove the
        symbols from the binaries.
       (<a href="http://bugs.mysql.com/33252" target="_top">Bug#33252</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produces a <code class="literal">-- Dump
        completed on <em class="replaceable"><code>DATE</code></em></code> comment
        at the end of the dump if
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> is given. The date
        causes dump files for identical data take at different times to
        appear to be different. The new options
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> and
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        control whether the date is added to the comment.
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        suppresses date printing. The default is
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> (include the date
        in the comment).
       (<a href="http://bugs.mysql.com/31077" target="_top">Bug#31077</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> now has <code class="literal">mkdir</code>
        and <code class="literal">rmdir</code> commands for creating and removing
        directories.
       (<a href="http://bugs.mysql.com/31004" target="_top">Bug#31004</a>)</p></li><li><p>
        The <code class="function">mysql_odbc_escape_string()</code> C API
        function has been removed. It has multi-byte character escaping
        issues, doesn't honor the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode
        and is not needed anymore by Connector/ODBC as of 3.51.17.
       (<a href="http://bugs.mysql.com/29592" target="_top">Bug#29592</a>)</p></li><li><p>
        The default value of the
        <a href="server-administration.html#sysvar_connect_timeout"><code class="literal">connect_timeout</code></a> system variable
        was increased from 5 to 10 seconds. This might help in cases
        where clients frequently encounter errors of the form
        <code class="literal">Lost connection to MySQL server at
        '<em class="replaceable"><code>XXX</code></em>', system error:
        <em class="replaceable"><code>errno</code></em></code>.
       (<a href="http://bugs.mysql.com/28359" target="_top">Bug#28359</a>)</p></li><li><p>
        The use of <code class="literal">InnoDB</code> hash indexes now can be
        controlled by setting the new
        <a href="storage-engines.html#sysvar_innodb_adaptive_hash_index"><code class="literal">innodb_adaptive_hash_index</code></a>
        system variable at server startup. By default, this variable is
        enabled. See <a href="storage-engines.html#innodb-adaptive-hash" title="13.2.10.4. Adaptive Hash Indexes">Section 13.2.10.4, “Adaptive Hash Indexes”</a>.
      </p></li><li><p>
        The argument for the <span><strong class="command">mysql-test-run.pl</strong></span>
        <code class="option">--do-test</code> and <code class="option">--skip-test</code>
        options is now interpreted as a Perl regular expression if there
        is a pattern metacharacter in the argument value. This allows
        more flexible specification of which tests to perform or skip.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> adaptive hash latches could be held
        too long during filesort operations, resulting in a server
        crash. Now the hash latch is released when a query on
        <code class="literal">InnoDB</code> tables performs a filesort. This
        eliminates the crash and may provide significant performance
        improvements on systems on which many queries using filesorts
        with temporary tables are being performed.
       (<a href="http://bugs.mysql.com/32149" target="_top">Bug#32149</a>)</p></li><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> had a race condition for an adaptive
        hash rw-lock waiting for an X-lock. This fix may also provide
        significant speed improvements on systems experiencing problems
        with contention for the adaptive hash index.
       (<a href="http://bugs.mysql.com/29560" target="_top">Bug#29560</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        It was possible to circumvent privileges through the creation of
        <code class="literal">MyISAM</code> tables employing the <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code>
        options to overwrite existing table files in the MySQL data
        directory. Use of the MySQL data directory in <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code> path
        name is now disallowed.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Additional fixes were made in MySQL 5.0.70.
        </p></div><p>(<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> against a
        table with explicit <code class="literal">DATA DIRECTORY</code> and
        <code class="literal">INDEX DIRECTORY</code> options can be used to
        overwrite system table information by replacing the symbolic
        link points. the file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is
        allowed only to the original definer or users with the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        It was possible to force an error message of excessive length
        which could lead to a buffer overflow. This has been made no
        longer possible as a security precaution.
       (<a href="http://bugs.mysql.com/32707" target="_top">Bug#32707</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to use <code class="literal">FRAC_SECOND</code> as a
        synonym for <code class="literal">MICROSECOND</code> with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, and
        <a href="functions.html#function_interval"><code class="literal">INTERVAL</code></a>; now, using
        <code class="literal">FRAC_SECOND</code> with anything other than
        <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> or
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> produces a syntax
        error.
      </p><p>
        It is now possible (and preferable) to use
        <code class="literal">MICROSECOND</code> with
        <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> and
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a>, and
        <code class="literal">FRAC_SECOND</code> is now deprecated.
       (<a href="http://bugs.mysql.com/33834" target="_top">Bug#33834</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        With <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
        mode enabled, queries such as <code class="literal">SELECT a FROM t1 HAVING
        COUNT(*)&gt;2</code> were not being rejected as they should
        have been.
      </p><p>
        This fix results in the following behavior:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            There is a check against mixing group and nongroup columns
            <span class="emphasis"><em>only</em></span> when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li><li><p>
            This check is done both for the select list and for the
            <code class="literal">HAVING</code> clause if there is one.
          </p></li></ul></div><p>
        This behavior differs from previous versions as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Previously, the <code class="literal">HAVING</code> clause was not
            checked when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was
            enabled; now it is checked.
          </p></li><li><p>
            Previously, the select list was checked even when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was not
            enabled; now it is checked only when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/31794" target="_top">Bug#31794</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The MySQL 5.0.50 patch for this bug was reverted because it
        changed the behavior of a General Availability MySQL release.
       (<a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>)</p><p>See also <a href="http://bugs.mysql.com/27525" target="_top">Bug#27525</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to create a view having a column whose name
        consisted of an empty string or space characters only.
      </p><p>
        One result of this bug fix is that aliases for columns in the
        view <code class="literal">SELECT</code> statement are checked to ensure
        that they are legal column names. In particular, the length must
        be within the maximum column length of 64 characters, not the
        maximum alias length of 256 characters. This can cause problems
        for replication or loading dump files. For additional
        information and workarounds, see
        <a href="restrictions.html#view-restrictions" title="D.4. Restrictions on Views">Section D.4, “Restrictions on Views”</a>.
       (<a href="http://bugs.mysql.com/27695" target="_top">Bug#27695</a>)</p><p>See also <a href="http://bugs.mysql.com/31202" target="_top">Bug#31202</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Several type-preserving functions and operators returned an
        incorrect result type that does not match their argument types:
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>,
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a>. These now aggregate using the
        precise SQL types of their arguments rather than the internal
        type. In addition, the result type of the
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> function is now
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> by default.
       (<a href="http://bugs.mysql.com/27216" target="_top">Bug#27216</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible for option files to be read twice at program
        startup, if some of the standard option file locations turned
        out to be the same directory. Now duplicates are removed from
        the list of files to be read.
      </p><p>
        Also, users could not override system-wide settings using
        <code class="filename">~/.my.cnf</code> because
        <code class="filename"><em class="replaceable"><code>SYSCONFDIR</code></em>/my.cnf</code>
        was read last. The latter file now is read earlier so that
        <code class="filename">~/.my.cnf</code> can override system-wide
        settings.
      </p><p>
        The fix for this problem had a side effect such that on Unix,
        MySQL programs looked for options in
        <code class="filename">~/my.cnf</code> rather than the standard location
        of <code class="filename">~/.my.cnf</code>. That problem was addressed as
        <a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">AUTO_INCREMENT</code> columns had the following
        problems when used in <code class="literal">NDB</code> tables:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              The <code class="literal">AUTO_INCREMENT</code> counter was not
              updated correctly when such a column was updated.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not
              prefetched beyond statement boundaries.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not handled
              correctly with
              <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
              IGNORE</code></a> statements.
            </p></li><li><p>
              After being set,
              <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
              showed a value of 1, regardless of the value it had
              actually been set to.
            </p></li></ul></div><p>
        As part of this fix, the behavior of
        <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
        has changed. Setting this to less than 32 no longer has any
        effect on prefetching within statements (where IDs are now
        always obtained in batches of 32 or more), but only between
        statements. The default value for this variable has also
        changed, and is now <code class="literal">1</code>.
       (<a href="http://bugs.mysql.com/25176" target="_top">Bug#25176</a>, <a href="http://bugs.mysql.com/31956" target="_top">Bug#31956</a>, <a href="http://bugs.mysql.com/32055" target="_top">Bug#32055</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        When the master crashed during an update on a transactional
        table while in <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> mode,
        the slave failed. This fix causes every transaction (including
        <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> transactions) to be
        recorded in the binlog as starting with a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> and
        ending with a <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> or
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>.
       (<a href="http://bugs.mysql.com/26395" target="_top">Bug#26395</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The server no longer issues warnings for truncation of excess
        spaces for values inserted into
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns. This reverts a
        change in the previous release that caused warnings to be
        issued.
       (<a href="http://bugs.mysql.com/30059" target="_top">Bug#30059</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        When installing MySQL on AIX 5.3, you must upgrade AIX to
        technology level 7 (5300-07) to ensure the required thread
        libraries are available.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        Network timeouts between the master and the slave could result
        in corruption of the relay log. This fix rectifies a
        long-standing replication issue when using unreliable networks,
        including replication over wide area networks such as the
        Internet. If you experience reliability issues and see many
        <span class="errortext">You have an error in your SQL syntax</span>
        errors on replication slaves, we strongly recommend that you
        upgrade to a MySQL version which includes this fix.
       (<a href="http://bugs.mysql.com/26489" target="_top">Bug#26489</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When configured with <code class="literal">NDB</code> support,
        MySQL failed to compile using <span><strong class="command">gcc</strong></span> 4.3 on
        64bit FreeBSD systems.
       (<a href="http://bugs.mysql.com/34169" target="_top">Bug#34169</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a DDL statement could sometimes lead to node
        failures when attempting to execute subsequent DDL statements.
       (<a href="http://bugs.mysql.com/34160" target="_top">Bug#34160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Extremely long <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        (where the text of the statement was in excess of 50000
        characters) against <code class="literal">NDB</code> tables
        returned empty results.
       (<a href="http://bugs.mysql.com/34107" target="_top">Bug#34107</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A periodic failure to flush the send buffer by the
        <code class="literal">NDB</code> TCP transporter could cause a
        unnecessary delay of 10 ms between operations.
       (<a href="http://bugs.mysql.com/34005" target="_top">Bug#34005</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When all data and SQL nodes in the cluster were shut down
        abnormally (that is, other than by using <code class="literal">STOP</code>
        in the cluster management client), <span><strong class="command">ndb_mgm</strong></span>
        used excessive amounts of CPU.
       (<a href="http://bugs.mysql.com/33237" target="_top">Bug#33237</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An improperly reset internal signal was observed as a hang when
        using events in the <code class="literal">NDB</code> API but
        could result in various errors.
       (<a href="http://bugs.mysql.com/33206" target="_top">Bug#33206</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Incorrectly handled parameters could lead to a crash in the
        Transaction Coordinator during a node failure, causing other
        data nodes to fail.
       (<a href="http://bugs.mysql.com/33168" target="_top">Bug#33168</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node could lead to subsequent failures
        in local checkpointing.
       (<a href="http://bugs.mysql.com/32160" target="_top">Bug#32160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An uninitialized variable in the
        <code class="literal">NDB</code> storage engine code led to
        <code class="literal">AUTO_INCREMENT</code> failures when the server was
        compiled with <span><strong class="command">gcc</strong></span> 4.2.1.
       (<a href="http://bugs.mysql.com/31848" target="_top">Bug#31848</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An error with an <code class="literal">if</code> statement in
        <code class="filename">sql/ha_ndbcluster.cc</code> could potentially lead
        to an infinite loop in case of failure when working with
        <code class="literal">AUTO_INCREMENT</code> columns in
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/31810" target="_top">Bug#31810</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine code was not
        safe for strict-alias optimization in <span><strong class="command">gcc</strong></span>
        4.2.1.
       (<a href="http://bugs.mysql.com/31761" target="_top">Bug#31761</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Primary keys on variable-length columns (such as
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>) did not work correctly.
       (<a href="http://bugs.mysql.com/31635" target="_top">Bug#31635</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction atomicity was sometimes not preserved between reads
        and inserts under high loads.
       (<a href="http://bugs.mysql.com/31477" target="_top">Bug#31477</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Numerous <code class="literal">NDBCLUSTER</code> test failures
        occurred in builds compiled using <span><strong class="command">icc</strong></span> on IA64
        platforms.
       (<a href="http://bugs.mysql.com/31239" target="_top">Bug#31239</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction timeouts were not handled well in some
        circumstances, leading to excessive number of transactions being
        aborted unnecessarily.
       (<a href="http://bugs.mysql.com/30379" target="_top">Bug#30379</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Having tables with a great many columns could cause Cluster
        backups to fail.
       (<a href="http://bugs.mysql.com/30172" target="_top">Bug#30172</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Issuing an
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> concurrently with or following
        a <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statement on an
        <code class="literal">NDB</code> table failed with
        <code class="literal">NDB</code> error 4350
        <span class="errortext">Transaction already aborted</span>.
       (<a href="http://bugs.mysql.com/29851" target="_top">Bug#29851</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, the cluster managment server logged entries
        multiple times following a restart of <span><strong class="command">mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/29565" target="_top">Bug#29565</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An interpreted program of sufficient size and complexity could
        cause all cluster data nodes to shut down due to buffer
        overruns.
       (<a href="http://bugs.mysql.com/29390" target="_top">Bug#29390</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was possible in <code class="filename">config.ini</code> to define
        cluster nodes having node IDs greater than the maximum allowed
        value.
       (<a href="http://bugs.mysql.com/28298" target="_top">Bug#28298</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> could sometimes fail on
        <code class="literal">NDB</code> tables due to the use of
        unitialized data when checking for duplicate keys to be ignored.
       (<a href="http://bugs.mysql.com/25817" target="_top">Bug#25817</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code>
        table with a duplicate value for a nonprimary unique key, the
        error issued would reference the wrong key.
      </p><p>
        This improves on an initial fix for this issue made in MySQL
        5.0.30 and MySQL 5.0.33
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some kinds of internal errors, such as <span class="errortext">Out of
        memory</span> errors, could cause the server to crash when
        replicating statements with user variables.
      </p><p>
        certain internal errors.
       (<a href="http://bugs.mysql.com/37150" target="_top">Bug#37150</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> and
        <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> statements
        containing extended comments were not written to the binary log
        correctly, causing parse errors on the slave.
       (<a href="http://bugs.mysql.com/36570" target="_top">Bug#36570</a>)</p><p>See also <a href="http://bugs.mysql.com/32575" target="_top">Bug#32575</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="server-administration.html#sysvar_insert_id"><code class="literal">insert_id</code></a> was not written to
        the binary log for inserts into <code class="literal">BLACKHOLE</code>
        tables.
       (<a href="http://bugs.mysql.com/35178" target="_top">Bug#35178</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The character sets and collations used for constant identifiers
        in stored procedures were not replicated correctly.
       (<a href="http://bugs.mysql.com/34289" target="_top">Bug#34289</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>,
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a>, or
        <a href="sql-syntax.html#rename-user" title="12.5.1.4. RENAME USER Syntax"><code class="literal">RENAME USER</code></a> statement that fails
        on the master, or that is a duplicate of any of these
        statements, is no longer written to the binlog; previously,
        either of these occurrences could cause the slave to fail.
      </p><p> (<a href="http://bugs.mysql.com/33862" target="_top">Bug#33862</a>)</p><p>See also <a href="http://bugs.mysql.com/29749" target="_top">Bug#29749</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> could fail
        when the binlog contained one or more events whose size was
        close to the value of
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/33413" target="_top">Bug#33413</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An extraneous
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        statement was written to the binary log by a connection that did
        not use any transactional tables.
       (<a href="http://bugs.mysql.com/33329" target="_top">Bug#33329</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When a stored routine or trigger, running on a master that used
        MySQL 5.0 or MySQL 5.1.11 or earlier, performed an insert on an
        <code class="literal">AUTO_INCREMENT</code> column, the
        <a href="server-administration.html#sysvar_insert_id"><code class="literal">insert_id</code></a> value was not
        replicated correctly to a slave running MySQL 5.1.12 or later
        (including any MySQL 6.0 release).
       (<a href="http://bugs.mysql.com/33029" target="_top">Bug#33029</a>)</p><p>See also <a href="http://bugs.mysql.com/19630" target="_top">Bug#19630</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statements containing
        extended comments were not written to the binary log correctly,
        causing parse errors on the slave. Now, all comments are
        stripped from such statements before being written to the binary
        log.
       (<a href="http://bugs.mysql.com/32575" target="_top">Bug#32575</a>)</p><p>See also <a href="http://bugs.mysql.com/36570" target="_top">Bug#36570</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements containing comments using <code class="literal">--</code>
        syntax were not replayable by <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>,
        even though such statements replicated correctly.
       (<a href="http://bugs.mysql.com/32205" target="_top">Bug#32205</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        It was possible for the name of the relay log file to exceed the
        amount of memory reserved for it, possibly leading to a crash of
        the server.
       (<a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>)</p><p>See also <a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Corruption of log events caused the server to crash on 64-bit
        Linux systems having 4 GB or more of memory.
       (<a href="http://bugs.mysql.com/31793" target="_top">Bug#31793</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Use of the <code class="literal">@@hostname</code> system variable in
        inserts in <code class="filename">mysql_system_tables_data.sql</code> did
        not replicate. The workaround is to select its value into a user
        variable (which does replicate) and insert that.
       (<a href="http://bugs.mysql.com/31167" target="_top">Bug#31167</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a> did not stop
        connection attempts properly. If the IO slave thread was
        attempting to connect, <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a>
        waited for the attempt to finish, sometimes for a long period of
        time, rather than stopping the slave immediately.
       (<a href="http://bugs.mysql.com/31024" target="_top">Bug#31024</a>)</p><p>See also <a href="http://bugs.mysql.com/30932" target="_top">Bug#30932</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing a <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> statement
        caused replication to fail if the view did not actually exist.
       (<a href="http://bugs.mysql.com/30998" target="_top">Bug#30998</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        One thread could read uninitialized memory from the stack of
        another thread. This issue was only known to occur in a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process acting as both a master and a
        slave.
       (<a href="http://bugs.mysql.com/30752" target="_top">Bug#30752</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> could fail when
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> was larger
        than <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/30435" target="_top">Bug#30435</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Setting <a href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> did not
        update its value for the current session.
       (<a href="http://bugs.mysql.com/28908" target="_top">Bug#28908</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Due a previous change in how the default name and location of
        the binary log file were determined, replication failed
        following some upgrades.
       (<a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>, <a href="http://bugs.mysql.com/28603" target="_top">Bug#28603</a>)</p><p>See also <a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">MASTER_POS_WAIT()</code> did not return
        <code class="literal">NULL</code> when the server was not a slave.
       (<a href="http://bugs.mysql.com/26622" target="_top">Bug#26622</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Stored procedures having <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>
        parameters were not replicated correctly.
       (<a href="http://bugs.mysql.com/26199" target="_top">Bug#26199</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> as
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was shutting down could cause a crash.
       (<a href="http://bugs.mysql.com/26000" target="_top">Bug#26000</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement using a
        stored function that modified a nontransactional table was not
        logged if it failed. This caused the copy of the
        nontransactional table on the master have a row that the copy on
        the slave did not.
      </p><p>
        In addition, when an
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> statement encountered a
        duplicate key constraint, but the
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> did not actually change
        any data, the statement was not logged. As a result of this fix,
        such statements are now treated the same for logging purposes as
        other <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements, and so
        are written to the binary log.
       (<a href="http://bugs.mysql.com/23333" target="_top">Bug#23333</a>)</p><p>See also <a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The nonspecific error message <span class="errortext">Wrong parameters to
        function register_slave</span> resulted when
        <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> failed to register on
        the master due to excess length of any the slave server options
        <a href="replication.html#option_mysqld_report-host"><code class="option">--report-host</code></a>,
        <a href="replication.html#option_mysqld_report-user"><code class="option">--report-user</code></a>, or
        <a href="replication.html#option_mysqld_report-password"><code class="option">--report-password</code></a>. An error
        message specific to each of these options is now returned in
        such cases. The new error messages are:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <span class="errortext">Failed to register slave: too long
              'report-host'</span>
            </p></li><li><p>
              <span class="errortext">Failed to register slave: too long
              'report-user'</span>
            </p></li><li><p>
              <span class="errortext">Failed to register slave; too long
              'report-password'</span>
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/22989" target="_top">Bug#22989</a>)</p><p>See also <a href="http://bugs.mysql.com/19328" target="_top">Bug#19328</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave sometimes failed to reconnect because it was
        unable to run <a href="sql-syntax.html#show-slave-hosts" title="12.5.5.30. SHOW SLAVE HOSTS Syntax"><code class="literal">SHOW SLAVE HOSTS</code></a>.
        It was not necessary to run this statement on slaves (since the
        master should track connection IDs), and the execution of this
        statement by slaves was removed.
       (<a href="http://bugs.mysql.com/21132" target="_top">Bug#21132</a>)</p><p>See also <a href="http://bugs.mysql.com/13963" target="_top">Bug#13963</a>, <a href="http://bugs.mysql.com/21869" target="_top">Bug#21869</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">PURGE BINARY LOGS TO</code> and <code class="literal">PURGE
        BINARY LOGS BEFORE</code> did not handle missing binary log
        files correctly or in the same way. Now for both of these
        statements, if any files listed in the
        <code class="filename">.index</code> file are missing from the file
        system, the statement fails with an error.
       (<a href="http://bugs.mysql.com/18199" target="_top">Bug#18199</a>, <a href="http://bugs.mysql.com/18453" target="_top">Bug#18453</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">START SLAVE UNTIL
        MASTER_LOG_POS=<em class="replaceable"><code>position</code></em></code>
        issued on a slave that was using
        <a href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> and that was
        involved in circular replication would cause the slave to run
        and stop one event later than that specified by the value of
        <em class="replaceable"><code>position</code></em>.
       (<a href="http://bugs.mysql.com/13861" target="_top">Bug#13861</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        When reading a <code class="literal">BIT(64)</code> value using
        <code class="literal">NdbOperation:getValue()</code>, 12 bytes were
        written to the buffer rather than the expected 8 bytes.
       (<a href="http://bugs.mysql.com/33750" target="_top">Bug#33750</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a> caused a problem such that on Unix, MySQL
        programs looked for options in <code class="filename">~/my.cnf</code>
        rather than the standard location of
        <code class="filename">~/.my.cnf</code>.
       (<a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a> had the side effect of causing the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client not to be able to read some dump
        files produced with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>. To address
        this, that fix was reverted.
       (<a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>)</p></li><li><p>
        Some binary distributions had a duplicate “<span class="quote">-64bit</span>”
        suffix in the file name.
       (<a href="http://bugs.mysql.com/37623" target="_top">Bug#37623</a>)</p></li><li><p>
        On Windows 64-bit systems, temporary variables of
        <code class="literal">long</code> types were used to store
        <code class="literal">ulong</code> values, causing key cache
        initialization to receive distorted parameters. The effect was
        that setting <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> to
        values of 2GB or more caused memory exhaustion to due allocation
        of too much memory.
       (<a href="http://bugs.mysql.com/36705" target="_top">Bug#36705</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements
        that used a temporary table could fail to update all qualifying
        rows or fail with a spurious duplicate-key error.
       (<a href="http://bugs.mysql.com/36676" target="_top">Bug#36676</a>)</p></li><li><p>
        A <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> match could return
        incorrect rows when the previous row matched the expression and
        used <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> with an empty
        string.
       (<a href="http://bugs.mysql.com/36488" target="_top">Bug#36488</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> ignored the value of
        <code class="option">--tmpdir</code> in one place.
       (<a href="http://bugs.mysql.com/36465" target="_top">Bug#36465</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client failed to recognize comment
        lines consisting of <code class="literal">--</code> followed by a newline.
       (<a href="http://bugs.mysql.com/36244" target="_top">Bug#36244</a>)</p></li><li><p>
        Conversion of a <code class="literal">FLOAT ZEROFILL</code> value to
        string could cause a server crash if the value was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36139" target="_top">Bug#36139</a>)</p></li><li><p>
        On Windows, the installer attempted to use JScript to determine
        whether the target data directory already existed. On Windows
        Vista x64, this resulted in an error because the installer was
        attempting to run the JScript in a 32-bit engine, which wasn't
        registered on Vista. The installer no longer uses JScript but
        instead relies on a native WiX command.
       (<a href="http://bugs.mysql.com/36103" target="_top">Bug#36103</a>)</p></li><li><p>
        An error in calculation of the precision of zero-length items
        (such as <code class="literal">NULL</code>) caused a server crash for
        queries that employed temporary tables.
       (<a href="http://bugs.mysql.com/36023" target="_top">Bug#36023</a>)</p></li><li><p>
        For <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a>, execution of an uncorrelated
        <code class="literal">IN</code> subquery caused a crash if the subquery
        required a temporary table for its execution.
       (<a href="http://bugs.mysql.com/36011" target="_top">Bug#36011</a>)</p></li><li><p>
        The server crashed inside <code class="literal">NOT IN</code> subqueries
        with an impossible <code class="literal">WHERE</code> or
        <code class="literal">HAVING</code> clause, such as <code class="literal">NOT IN
        (SELECT ... FROM t1, t2, ... WHERE 0)</code>.
       (<a href="http://bugs.mysql.com/36005" target="_top">Bug#36005</a>)</p></li><li><p>
        Grouping or ordering of long values in unindexed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns with the
        <code class="literal">gbk</code> or <code class="literal">big5</code> character set
        crashed the server.
       (<a href="http://bugs.mysql.com/35993" target="_top">Bug#35993</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL debug=''</code> resulted in a Valgrind
        warning in <code class="function">DbugParse()</code>, which was reading
        beyond the end of the control string.
       (<a href="http://bugs.mysql.com/35986" target="_top">Bug#35986</a>)</p></li><li><p>
        An empty bit-string literal (<code class="literal">b''</code>) caused a
        server crash. Now the value is parsed as an empty bit value
        (which is treated as an empty string in string context or 0 in
        numeric context).
       (<a href="http://bugs.mysql.com/35658" target="_top">Bug#35658</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> left temporary files on the disk
        after shutdown, leading to the pollution of the temporary
        directory, which eventually caused
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> to fail. This caused problems in
        testing and other situations where
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> might be invoked many times in a
        relatively short period of time.
       (<a href="http://bugs.mysql.com/35543" target="_top">Bug#35543</a>)</p></li><li><p>
        There was a memory leak when connecting to a
        <code class="literal">FEDERATED</code> table using a connection string
        that had a host value of <code class="literal">localhost</code> or omitted
        the host and a port value of <code class="literal">0</code> or omitted the
        port.
       (<a href="http://bugs.mysql.com/35509" target="_top">Bug#35509</a>)</p></li><li><p>
        The code for detecting a byte order mark (BOM) caused
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to crash for empty input.
       (<a href="http://bugs.mysql.com/35480" target="_top">Bug#35480</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> with a view could crash the server.
       (<a href="http://bugs.mysql.com/35469" target="_top">Bug#35469</a>)</p></li><li><p>
        The combination of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>,
        <code class="literal">DISTINCT</code>, and <code class="literal">LEFT JOIN</code>
        could crash the server when the right table is empty.
       (<a href="http://bugs.mysql.com/35298" target="_top">Bug#35298</a>)</p></li><li><p>
        When a view containing a reference to <code class="literal">DUAL</code>
        was created, the reference was removed when the definition was
        stored, causing some queries against the view to fail with
        invalid SQL syntax errors.
       (<a href="http://bugs.mysql.com/35193" target="_top">Bug#35193</a>)</p></li><li><p>
        Debugging symbols were missing for some executables in Windows
        binary distributions.
       (<a href="http://bugs.mysql.com/35104" target="_top">Bug#35104</a>)</p></li><li><p>
        A query that performed a
        <a href="optimization.html#jointype_ref_or_null"><code class="literal">ref_or_null</code></a> join where the
        second table used a key having one or columns that could be
        <code class="literal">NULL</code> and had a column value that was
        <code class="literal">NULL</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/34945" target="_top">Bug#34945</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/12144" target="_top">Bug#12144</a>.</p></li><li><p>
        Some binaries produced stack corruption messages due to being
        built with versions of <span><strong class="command">bison</strong></span> older than 2.1.
        Builds are now created using <span><strong class="command">bison</strong></span> 2.3.
       (<a href="http://bugs.mysql.com/34926" target="_top">Bug#34926</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed to return an error code when
        using the <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> option
        without binary logging being enabled on the server.
       (<a href="http://bugs.mysql.com/34909" target="_top">Bug#34909</a>)</p></li><li><p>
        Under some circumstances, the value of
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> following a
        <code class="literal">SELECT ... INSERT</code> statement could return an
        incorrect value. This could happen when the last <code class="literal">SELECT
        ... INSERT</code> did not involve an
        <code class="literal">AUTO_INCREMENT</code> column, but the value of
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> was changed by
        some previous statements.
       (<a href="http://bugs.mysql.com/34889" target="_top">Bug#34889</a>)</p></li><li><p>
        Table and database names were mixed up in some places of the
        subquery transformation procedure. This could affect debugging
        trace output and further extensions of that procedure.
       (<a href="http://bugs.mysql.com/34830" target="_top">Bug#34830</a>)</p></li><li><p>
        A malformed URL used for a <code class="literal">FEDERATED</code>
        table's <code class="literal">CONNECTION</code> option value in a
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement was not
        handled correctly and could crash the server.
       (<a href="http://bugs.mysql.com/34788" target="_top">Bug#34788</a>)</p></li><li><p>
        Queries such as <code class="literal">SELECT ROW(1, 2) IN (SELECT t1.a, 2)
        FROM t1 GROUP BY t1.a</code> (combining row constructors and
        subqueries in the <code class="literal">FROM</code> clause) could lead to
        assertion failure or unexpected error messages.
       (<a href="http://bugs.mysql.com/34763" target="_top">Bug#34763</a>)</p></li><li><p>
        Using <code class="literal">NAME_CONST()</code> with a negative number and
        an aggregate function caused MySQL to crash. This could also
        have a negative impact on replication.
       (<a href="http://bugs.mysql.com/34749" target="_top">Bug#34749</a>)</p></li><li><p>
        A memory-handling error associated with use of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> in subqueries
        could result in a server crash.
       (<a href="http://bugs.mysql.com/34747" target="_top">Bug#34747</a>)</p></li><li><p>
        For an indexed integer column
        <em class="replaceable"><code>col_name</code></em> and a value
        <em class="replaceable"><code>N</code></em> that is one greater than the
        maximum value allowed for the data type of
        <em class="replaceable"><code>col_name</code></em>, conditions of the form
        <code class="literal">WHERE <em class="replaceable"><code>col_name</code></em> &lt;
        <em class="replaceable"><code>N</code></em></code> failed to return rows
        where the value of <em class="replaceable"><code>col_name</code></em> is
        <code class="literal"><em class="replaceable"><code>N</code></em> - 1</code>.
       (<a href="http://bugs.mysql.com/34731" target="_top">Bug#34731</a>)</p></li><li><p>
        Executing a <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statement on
        a table having both a foreign key reference and a
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> trigger crashed the
        server.
       (<a href="http://bugs.mysql.com/34643" target="_top">Bug#34643</a>)</p></li><li><p>
        Some subqueries using an expression that included an aggregate
        function could fail or in some cases lead to a crash of the
        server.
       (<a href="http://bugs.mysql.com/34620" target="_top">Bug#34620</a>)</p></li><li><p>
        A server crash could occur if
        <code class="literal">INFORMATION_SCHEMA</code> tables built in memory
        were swapped out to disk during query execution.
       (<a href="http://bugs.mysql.com/34529" target="_top">Bug#34529</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(AVG(<em class="replaceable"><code>arg</code></em>) AS
        DECIMAL)</code></a> produced incorrect results for
        non-<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> arguments.
       (<a href="http://bugs.mysql.com/34512" target="_top">Bug#34512</a>)</p></li><li><p>
        <a href="programs.html#mysql-explain-log" title="4.6.12. mysql_explain_log — Use EXPLAIN on Statements in Query Log"><span><strong class="command">mysql_explain_log</strong></span></a> concatenated multiple-line
        statements, causing malformed results for statements that
        contained SQL comments beginning with <code class="literal">--</code>.
       (<a href="http://bugs.mysql.com/34339" target="_top">Bug#34339</a>)</p></li><li><p>
        Executing an <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> statement
        on a table crashed the server.
       (<a href="http://bugs.mysql.com/34337" target="_top">Bug#34337</a>)</p></li><li><p>
        Several additional configuration scripts in the
        <code class="filename">BUILD</code> directory now are included in source
        distributions. These may be useful for users who wish to build
        MySQL from source. (See
        <a href="installing.html#installing-source-tree" title="2.16.3. Installing from the Development Source Tree">Section 2.16.3, “Installing from the Development Source Tree”</a>, for information about
        what they do.)
       (<a href="http://bugs.mysql.com/34291" target="_top">Bug#34291</a>)</p></li><li><p>
        Under some conditions, a <code class="literal">SET GLOBAL
        innodb_commit_concurrency</code> or <code class="literal">SET GLOBAL
        innodb_autoextend_increment</code> statement could fail.
       (<a href="http://bugs.mysql.com/34223" target="_top">Bug#34223</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> attempts to set the
        <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> system
        variable after connecting to the server. This failed for pre-4.1
        servers that have no such variable, but
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> did not account for this and 1)
        failed to dump database contents; 2) failed to produce any error
        message alerting the user to the problem.
       (<a href="http://bugs.mysql.com/34192" target="_top">Bug#34192</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the server was
        running with an SQL mode of
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>. This program now
        resets the SQL mode internally to avoid this problem.
       (<a href="http://bugs.mysql.com/34159" target="_top">Bug#34159</a>)</p></li><li><p>
        For a <code class="literal">FEDERATED</code> table with an index on a
        nullable column, accessing the table could crash a server,
        return an incorrect result set, or return <code class="literal">ERROR 1030
        (HY000): Got error 1430 from storage engine</code>.
       (<a href="http://bugs.mysql.com/33946" target="_top">Bug#33946</a>)</p></li><li><p>
        Passing anything other than an integer argument to a
        <code class="literal">LIMIT</code> clause in a prepared statement would
        fail. (This limitation was introduced to avoid replication
        problems; for example, replicating the statement with a string
        argument would cause a parse failure in the slave). Now,
        arguments to the <code class="literal">LIMIT</code> clause are converted
        to integer values, and these converted values are used when
        logging the statement.
       (<a href="http://bugs.mysql.com/33851" target="_top">Bug#33851</a>)</p></li><li><p>
        An internal buffer in <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> was too short.
        Overextending it could cause stack problems or segmentation
        violations on some architectures. (This is not a problem that
        could be exploited to run arbitrary code.)
       (<a href="http://bugs.mysql.com/33841" target="_top">Bug#33841</a>)</p></li><li><p>
        A query using <code class="literal">WHERE
        (column1='<em class="replaceable"><code>string1</code></em>' AND
        column2=<em class="replaceable"><code>constant1</code></em>) OR
        (column1='<em class="replaceable"><code>string2</code></em>' AND
        column2=<em class="replaceable"><code>constant2</code></em>)</code>, where
        <code class="literal">col1</code> used a binary collation and
        <em class="replaceable"><code>string1</code></em> matched
        <em class="replaceable"><code>string2</code></em> except for case, failed to
        match any records even when matches were found by a query using
        the equivalent clause <code class="literal">WHERE
        column2=<em class="replaceable"><code>constant1</code></em> OR
        column2=<em class="replaceable"><code>constant2</code></em></code>.
       (<a href="http://bugs.mysql.com/33833" target="_top">Bug#33833</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client incorrectly parsed
        statements containing the word “<span class="quote">delimiter</span>” in
        mid-statement.
      </p><p>
        The fix for this bug had the side effect of causing the problem
        reported in <a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>, so it was reverted in MySQL 5.0.67.
       (<a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a>)</p></li><li><p>
        Large unsigned integers were improperly handled for prepared
        statements, resulting in truncation or conversion to negative
        numbers.
       (<a href="http://bugs.mysql.com/33798" target="_top">Bug#33798</a>)</p></li><li><p>
        Reuse of prepared statements could cause a memory leak in the
        embedded server.
       (<a href="http://bugs.mysql.com/33796" target="_top">Bug#33796</a>)</p></li><li><p>
        The server crashed when executing a query that had a subquery
        containing an equality X=Y where Y referred to a named select
        list expression from the parent select. The server crashed when
        trying to use the X=Y equality for
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>-based access.
       (<a href="http://bugs.mysql.com/33794" target="_top">Bug#33794</a>)</p></li><li><p>
        Some queries using a combination of <code class="literal">IN</code>,
        <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>, and an implicit type
        conversion could return an incorrect result.
       (<a href="http://bugs.mysql.com/33764" target="_top">Bug#33764</a>)</p></li><li><p>
        In some cases a query that produced a result set when using
        <code class="literal">ORDER BY ASC</code> did not return any results when
        this was changed to <code class="literal">ORDER BY DESC</code>.
       (<a href="http://bugs.mysql.com/33758" target="_top">Bug#33758</a>)</p></li><li><p>
        Disabling concurrent inserts caused some cacheable queries not
        to be saved in the query cache.
       (<a href="http://bugs.mysql.com/33756" target="_top">Bug#33756</a>)</p></li><li><p>
        Use of uninitialized memory for <code class="literal">filesort</code> in a
        subquery caused a server crash.
       (<a href="http://bugs.mysql.com/33675" target="_top">Bug#33675</a>)</p></li><li><p>
        The server could crash when
        <a href="sql-syntax.html#repeat-statement" title="12.8.6.6. REPEAT
        Statement"><code class="literal">REPEAT</code></a>
        or another control instruction was used in conjunction with
        labels and a
        <a href="sql-syntax.html#leave-statement" title="12.8.6.4. LEAVE
        Statement"><code class="literal">LEAVE</code></a>
        instruction.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        The parser allowed control structures in compound statements to
        have mismatched beginning and ending labels.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        <span><strong class="command">make_binary_distribution</strong></span> passed the
        <code class="option">--print-libgcc-file</code> option to the C compiler,
        but this does not work with the <span><strong class="command">ICC</strong></span> compiler.
       (<a href="http://bugs.mysql.com/33536" target="_top">Bug#33536</a>)</p></li><li><p>
        Certain combinations of views, subselects with outer references
        and stored routines or triggers could cause the server to crash.
       (<a href="http://bugs.mysql.com/33389" target="_top">Bug#33389</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL myisam_max_sort_file_size=DEFAULT</code>
        set <a href="server-administration.html#sysvar_myisam_max_sort_file_size"><code class="literal">myisam_max_sort_file_size</code></a>
        to an incorrect value.
       (<a href="http://bugs.mysql.com/33382" target="_top">Bug#33382</a>)</p><p>See also <a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>.</p></li><li><p>
        <a href="functions.html#function_sleep"><code class="literal">SLEEP(0)</code></a> failed to return on
        64-bit Mac OS X due to a bug in
        <code class="function">pthread_cond_timedwait()</code>.
       (<a href="http://bugs.mysql.com/33304" target="_top">Bug#33304</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> created tables that for date columns used the
        obsolete <code class="literal">Field_date</code> type instead of
        <code class="literal">Field_newdate</code>.
       (<a href="http://bugs.mysql.com/33256" target="_top">Bug#33256</a>)</p></li><li><p>
        Granting the <a href="server-administration.html#priv_update"><code class="literal">UPDATE</code></a> privilege on
        one column of a view caused the server to crash.
       (<a href="http://bugs.mysql.com/33201" target="_top">Bug#33201</a>)</p></li><li><p>
        For <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns used with the
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        function with a nonconstant value of
        <em class="replaceable"><code>D</code></em>, adding an <code class="literal">ORDER
        BY</code> for the function result produced misordered output.
       (<a href="http://bugs.mysql.com/33143" target="_top">Bug#33143</a>)</p><p>See also <a href="http://bugs.mysql.com/33402" target="_top">Bug#33402</a>, <a href="http://bugs.mysql.com/30617" target="_top">Bug#30617</a>.</p></li><li><p>
        Some valid <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        could not be used as views due to incorrect column reference
        resolution.
       (<a href="http://bugs.mysql.com/33133" target="_top">Bug#33133</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a> and <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a> introduced a significant
        input-parsing slowdown for the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
        This has been corrected.
       (<a href="http://bugs.mysql.com/33057" target="_top">Bug#33057</a>)</p></li><li><p>
        When MySQL was built with OpenSSL, the SSL library was not
        properly initialized with information of which endpoint it was
        (server or client), causing connection failures.
       (<a href="http://bugs.mysql.com/33050" target="_top">Bug#33050</a>)</p></li><li><p>
        Under some circumstances a combination of aggregate functions
        and <code class="literal">GROUP BY</code> in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query over a view could
        lead to incorrect calculation of the result type of the
        aggregate function. This in turn could lead to incorrect
        results, or to crashes on debug builds of the server.
       (<a href="http://bugs.mysql.com/33049" target="_top">Bug#33049</a>)</p></li><li><p>
        For <code class="literal">DISTINCT</code> queries, MySQL 4.0 and 4.1
        stopped reading joined tables as soon as the first matching row
        was found. However, this optimization was lost in MySQL 5.0,
        which instead read all matching rows. This fix for this
        regression may result in a major improvement in performance for
        <code class="literal">DISTINCT</code> queries in cases where many rows
        match.
       (<a href="http://bugs.mysql.com/32942" target="_top">Bug#32942</a>)</p></li><li><p>
        The server was built even when <span><strong class="command">configure</strong></span> was
        run with the <a href="installing.html#option_configure_without-server"><code class="option">--without-server</code></a>
        option.
       (<a href="http://bugs.mysql.com/32898" target="_top">Bug#32898</a>)</p><p>See also <a href="http://bugs.mysql.com/23973" target="_top">Bug#23973</a>.</p></li><li><p>
        Repeated creation and deletion of views within prepared
        statements could eventually crash the server.
       (<a href="http://bugs.mysql.com/32890" target="_top">Bug#32890</a>)</p><p>See also <a href="http://bugs.mysql.com/34587" target="_top">Bug#34587</a>.</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> constructs cannot contain
        <code class="literal">SELECT ... INTO</code> except in the final
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>. However, if a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> was used in a subquery and
        an <code class="literal">INTO</code> clause appeared in the top-level
        query, the parser interpreted it as having appeared in the
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> and raised an error.
       (<a href="http://bugs.mysql.com/32858" target="_top">Bug#32858</a>)</p></li><li><p>
        The correct data type for a <code class="literal">NULL</code> column
        resulting from a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could be
        determined incorrectly in some cases: 1) Not correctly inferred
        as <code class="literal">NULL</code> depending on the number of selects;
        2) Not inferred correctly as <code class="literal">NULL</code> if one
        select used a subquery.
       (<a href="http://bugs.mysql.com/32848" target="_top">Bug#32848</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query using <code class="literal">IS
        NULL</code> in the <code class="literal">WHERE</code> clause did not
        return correct results.
       (<a href="http://bugs.mysql.com/32815" target="_top">Bug#32815</a>)</p></li><li><p>
        For queries containing <code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>col_list</code></em> ORDER BY
        <em class="replaceable"><code>col_list</code></em>)</code>, there was a
        limitation that the <code class="literal">DISTINCT</code> columns had to
        be the same as <code class="literal">ORDER BY</code> columns. Incorrect
        results could be returned if this was not true.
       (<a href="http://bugs.mysql.com/32798" target="_top">Bug#32798</a>)</p></li><li><p>
        Incorrect assertions could cause a server crash for
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> triggers for transactional
        tables.
       (<a href="http://bugs.mysql.com/32790" target="_top">Bug#32790</a>)</p></li><li><p>
        Use of the <code class="literal">cp932</code> character set with
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> in an <code class="literal">ORDER
        BY</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/32726" target="_top">Bug#32726</a>)</p></li><li><p>
        Inserting strings with a common prefix into a table that used
        the <code class="literal">ucs2</code> character set corrupted the table.
       (<a href="http://bugs.mysql.com/32705" target="_top">Bug#32705</a>)</p></li><li><p>
        A subquery using an <code class="literal">IS NULL</code> check of a column
        defined as <code class="literal">NOT NULL</code> in a table used in the
        <code class="literal">FROM</code> clause of the outer query produced an
        invalid result.
       (<a href="http://bugs.mysql.com/32694" target="_top">Bug#32694</a>)</p></li><li><p>
        Specifying a nonexistent column for an
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statement caused a
        server crash rather than producing an error.
       (<a href="http://bugs.mysql.com/32676" target="_top">Bug#32676</a>)</p></li><li><p>
        Use of <code class="literal">CLIENT_MULTI_QUERIES</code> caused
        <code class="literal">libmysqld</code> to crash.
       (<a href="http://bugs.mysql.com/32624" target="_top">Bug#32624</a>)</p></li><li><p>
        The <a href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a> function
        incorrectly handled <code class="literal">NULL</code> values in the value
        list.
       (<a href="http://bugs.mysql.com/32560" target="_top">Bug#32560</a>)</p></li><li><p>
        Use of a <code class="literal">NULL</code>-returning <code class="literal">GROUP
        BY</code> expression in conjunction with <code class="literal">WITH
        ROLLUP</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>)</p><p>See also <a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>.</p></li><li><p>
        A <code class="literal">SELECT ... GROUP BY
        <em class="replaceable"><code>bit_column</code></em></code> query failed
        with an assertion if the length of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column used for the
        <code class="literal">GROUP BY</code> was not an integer multiple of 8.
       (<a href="http://bugs.mysql.com/32556" target="_top">Bug#32556</a>)</p></li><li><p>
        Using <code class="literal">SELECT INTO OUTFILE</code> with 8-bit
        <code class="literal">ENCLOSED BY</code> characters led to corrupted data
        when the data was reloaded using LOAD DATA INFILE. This was
        because <code class="literal">SELECT INTO OUTFILE</code> failed to escape
        the 8-bit characters.
       (<a href="http://bugs.mysql.com/32533" target="_top">Bug#32533</a>)</p></li><li><p>
        For <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
        READ LOCK</code></a>, the server failed to properly detect
        write-locked tables when running with low-priority updates,
        resulting in a crash or deadlock.
       (<a href="http://bugs.mysql.com/32528" target="_top">Bug#32528</a>)</p></li><li><p>
        A build problem introduced in MySQL 5.0.52 was resolved: The x86
        32-bit Intel <span><strong class="command">icc</strong></span>-compiled server binary had
        unwanted dependences on Intel <span><strong class="command">icc</strong></span> runtime
        libraries.
       (<a href="http://bugs.mysql.com/32514" target="_top">Bug#32514</a>)</p></li><li><p>
        Queries using <code class="literal">LIKE</code> on tables having indexed
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns using either of the
        <code class="literal">eucjpms</code> or <code class="literal">ujis</code> character
        sets did not return correct results.
       (<a href="http://bugs.mysql.com/32510" target="_top">Bug#32510</a>)</p></li><li><p>
        The rules for valid column names were being applied differently
        for base tables and views.
       (<a href="http://bugs.mysql.com/32496" target="_top">Bug#32496</a>)</p></li><li><p>
        Sending several <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL
        QUERY</code></a> statements to target a connection running
        <code class="literal">SELECT SLEEP()</code> could freeze the server.
       (<a href="http://bugs.mysql.com/32436" target="_top">Bug#32436</a>)</p></li><li><p>
        <code class="literal">ssl-cipher</code> values in option files were not
        being read by <code class="literal">libmysqlclient</code>.
       (<a href="http://bugs.mysql.com/32429" target="_top">Bug#32429</a>)</p></li><li><p>
        Repeated execution of a query containing a
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        expression and numerous <code class="literal">AND</code> and
        <code class="literal">OR</code> relations could crash the server. The root
        cause of the issue was determined to be that the internal
        <code class="literal">SEL_ARG</code> structure was not properly
        initialized when created.
       (<a href="http://bugs.mysql.com/32403" target="_top">Bug#32403</a>)</p></li><li><p>
        Referencing within a subquery an alias used in the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> list of the outer query
        was incorrectly permitted.
       (<a href="http://bugs.mysql.com/32400" target="_top">Bug#32400</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query on a view created using a
        <code class="literal">FEDERATED</code> table as a base table caused the
        server to crash.
       (<a href="http://bugs.mysql.com/32374" target="_top">Bug#32374</a>)</p></li><li><p>
        Comparison of a <code class="literal">BIGINT NOT NULL</code> column with a
        constant arithmetic expression that evaluated to NULL mistakenly
        caused the error <span class="errortext">Column '...' cannot be
        null</span> (error 1048).
       (<a href="http://bugs.mysql.com/32335" target="_top">Bug#32335</a>)</p></li><li><p>
        Assigning a 65,536-byte string to a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column (which can hold a
        maximum of 65,535 bytes) resulted in truncation without a
        warning. Now a truncation warning is generated.
       (<a href="http://bugs.mysql.com/32282" target="_top">Bug#32282</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> function returns a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value, but internally the
        value did not have the time fields zeroed and calculations
        involving the value could return incorrect results.
       (<a href="http://bugs.mysql.com/32270" target="_top">Bug#32270</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return incorrect
        results when an index was present if a loose index scan was
        used.
       (<a href="http://bugs.mysql.com/32268" target="_top">Bug#32268</a>)</p></li><li><p>
        Executing a prepared statement associated with a materialized
        cursor sent to the client a metadata packet with incorrect table
        and database names. The problem occurred because the server sent
        the name of the temporary table used by the cursor instead of
        the table name of the original table.
      </p><p>
        The same problem occured when selecting from a view, in which
        case the name of the table name was sent, rather than the name
        of the view.
       (<a href="http://bugs.mysql.com/32265" target="_top">Bug#32265</a>)</p></li><li><p>
        Memory corruption could occur due to large index map in
        <code class="literal">Range checked for each record</code> status reported
        by <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        SELECT</code></a>. The problem was based in an incorrectly
        calculated length of the buffer used to store a hexadecimal
        representation of an index map, which could result in buffer
        overrun and stack corruption under some circumstances.
       (<a href="http://bugs.mysql.com/32241" target="_top">Bug#32241</a>)</p></li><li><p>
        Various test program cleanups were made: 1)
        <span><strong class="command">mytest</strong></span> and <code class="literal">libmysqltest</code>
        were removed. 2) <span><strong class="command">bug25714</strong></span> displays an error
        message when invoked with incorrect arguments or the
        <code class="option">--help</code> option. 3)
        <span><strong class="command">mysql_client_test</strong></span> exits cleanly with a proper
        error status.
       (<a href="http://bugs.mysql.com/32221" target="_top">Bug#32221</a>)</p></li><li><p>
        The default grant tables on Windows contained information for
        host <code class="literal">production.mysql.com</code>, which should not
        be there.
       (<a href="http://bugs.mysql.com/32219" target="_top">Bug#32219</a>)</p></li><li><p>
        Under certain conditions, the presence of a <code class="literal">GROUP
        BY</code> clause could cause an <code class="literal">ORDER BY</code>
        clause to be ignored.
       (<a href="http://bugs.mysql.com/32202" target="_top">Bug#32202</a>)</p></li><li><p>
        For comparisons of the form <em class="replaceable"><code>date_col OP
        datetime_const</code></em> (where
        <em class="replaceable"><code>OP</code></em> is
        <a href="functions.html#operator_equal"><code class="literal">=</code></a>,
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>,
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>,
        <a href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>,
        or
        <a href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>),
        the comparison is done using
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, per the fix for
        <a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>. However that fix caused any index on
        <em class="replaceable"><code>date_col</code></em> not to be used and
        compromised performance. Now the index is used again.
       (<a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> arguments specified in
        numeric form were treated by
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/32180" target="_top">Bug#32180</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        The server crashed on optimizations involving a join of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">MEDIUMINT</code></a> columns and a system
        variable in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/32103" target="_top">Bug#32103</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> caused a server crash
        if <code class="literal">InnoDB</code> had not been initialized.
       (<a href="http://bugs.mysql.com/32083" target="_top">Bug#32083</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        set, <code class="literal">CREATE TABLE LIKE</code> was treated
        differently by <code class="literal">libmysqld</code> than by the
        nonembedded server.
       (<a href="http://bugs.mysql.com/32063" target="_top">Bug#32063</a>)</p></li><li><p>
        Within a subquery, <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> was
        handled differently than at the top level, which could result in
        incorrect results or a server crash.
       (<a href="http://bugs.mysql.com/32036" target="_top">Bug#32036</a>, <a href="http://bugs.mysql.com/32051" target="_top">Bug#32051</a>)</p></li><li><p>
        User-defined functions are not loaded if the server is started
        with the <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
        option, but the server did not properly handle this case and
        issued an <span class="errortext">Out of memory</span> error message
        instead.
       (<a href="http://bugs.mysql.com/32020" target="_top">Bug#32020</a>)</p></li><li><p>
        <a href="functions.html#function_hour"><code class="literal">HOUR()</code></a>,
        <a href="functions.html#function_minute"><code class="literal">MINUTE()</code></a>, and
        <a href="functions.html#function_second"><code class="literal">SECOND()</code></a> could return nonzero
        values for <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> arguments.
       (<a href="http://bugs.mysql.com/31990" target="_top">Bug#31990</a>)</p></li><li><p>
        A column with malformed multi-byte characters could cause the
        full-text parser to go into an infinite loop.
       (<a href="http://bugs.mysql.com/31950" target="_top">Bug#31950</a>)</p></li><li><p>
        Changing the SQL mode to cause dates with “<span class="quote">zero</span>”
        parts to be considered invalid (such as
        <code class="literal">'1000-00-00'</code>) could result in indexed and
        nonindexed searches returning different results for a column
        that contained such dates.
       (<a href="http://bugs.mysql.com/31928" target="_top">Bug#31928</a>)</p></li><li><p>
        Queries testing numeric constants containing leading zeroes
        against <code class="literal">ZEROFILL</code> columns were not evaluated
        correctly.
       (<a href="http://bugs.mysql.com/31887" target="_top">Bug#31887</a>)</p></li><li><p>
        In debug builds, testing the result of an <code class="literal">IN</code>
        subquery against <code class="literal">NULL</code> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/31884" target="_top">Bug#31884</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> sometimes set up test
        scenarios in which the same port number was passed to multiple
        servers, causing one of them to be unable to start.
       (<a href="http://bugs.mysql.com/31880" target="_top">Bug#31880</a>)</p></li><li><p>
        Comparison results for <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> were
        different from those for operators like
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a> and
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>-like values with
        trailing extra characters such as <code class="literal">'2007-10-01 00:00:00
        GMT-6'</code>. <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> treated
        the values as <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>, whereas
        the other operators performed a binary-string comparison. Now
        they all uniformly use a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        comparison, but generate warnings for values with trailing
        garbage.
       (<a href="http://bugs.mysql.com/31800" target="_top">Bug#31800</a>)</p></li><li><p>
        Name resolution for correlated subqueries and
        <code class="literal">HAVING</code> clauses failed to distinguish which of
        two was being performed when there was a reference to an outer
        aliased field. This could result in error messages about a
        <code class="literal">HAVING</code> clause for queries that had no such
        clause.
       (<a href="http://bugs.mysql.com/31797" target="_top">Bug#31797</a>)</p></li><li><p>
        If an error occurred during file creation, the server sometimes
        did not remove the file, resulting in an unused file in the file
        system.
       (<a href="http://bugs.mysql.com/31781" target="_top">Bug#31781</a>)</p></li><li><p>
        The server could crash during <code class="literal">filesort</code> for
        <code class="literal">ORDER BY</code> based on expressions with
        <a href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> or
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a> if those functions returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/31758" target="_top">Bug#31758</a>)</p></li><li><p>
        The <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> crash handler failed on Windows.
       (<a href="http://bugs.mysql.com/31745" target="_top">Bug#31745</a>)</p></li><li><p>
        For a fatal error during a filesort in
        <code class="literal">find_all_keys()</code>, the error was returned
        without the necessary handler uninitialization, causing an
        assertion failure.
       (<a href="http://bugs.mysql.com/31742" target="_top">Bug#31742</a>)</p></li><li><p>
        The examined-rows count was not incremented for
        <a href="optimization.html#jointype_const"><code class="literal">const</code></a> queries.
       (<a href="http://bugs.mysql.com/31700" target="_top">Bug#31700</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function was subject to buffer overflow.
       (<a href="http://bugs.mysql.com/31669" target="_top">Bug#31669</a>)</p></li><li><p>
        For <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a>, if the <code class="literal">ENCLOSED BY</code> string
        is empty and the <code class="literal">FIELDS TERMINATED BY</code> string
        started with a special character (one of <code class="literal">n</code>,
        <code class="literal">t</code>, <code class="literal">r</code>,
        <code class="literal">b</code>, <code class="literal">0</code>,
        <code class="literal">Z</code>, or <code class="literal">N</code>), every occurrence
        of the character within field values would be duplicated.
       (<a href="http://bugs.mysql.com/31663" target="_top">Bug#31663</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> and
        <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> displayed
        <code class="literal">null</code> as the column type for a view with no
        valid definer. This caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to
        produce a nonreloadable dump file for the view.
       (<a href="http://bugs.mysql.com/31662" target="_top">Bug#31662</a>)</p></li><li><p>
        The <a href="programs.html#mysqlbug" title="4.4.4. mysqlbug — Generate Bug Report"><span><strong class="command">mysqlbug</strong></span></a> script did not include the
        correct values of <code class="literal">CFLAGS</code> and
        <code class="literal">CXXFLAGS</code> that were used to configure the
        distribution.
       (<a href="http://bugs.mysql.com/31644" target="_top">Bug#31644</a>)</p></li><li><p>
        <code class="literal">ucs2</code> does not work as a client character set,
        but attempts to use it as such were not rejected. Now
        <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> cannot be
        set to <code class="literal">ucs2</code>. This also affects statements
        such as <code class="literal">SET NAMES</code> and <code class="literal">SET CHARACTER
        SET</code>.
       (<a href="http://bugs.mysql.com/31615" target="_top">Bug#31615</a>)</p></li><li><p>
        The server returned the error message <span class="errortext">Out of memory;
        restart server and try again</span> when the actual problem
        was that the sort buffer was too small. Now an appropriate error
        message is returned in such cases.
       (<a href="http://bugs.mysql.com/31590" target="_top">Bug#31590</a>)</p></li><li><p>
        A buffer used when setting variables was not dimensioned to
        accommodate the trailing <code class="literal">'\0'</code> byte, so a
        single-byte buffer overrun was possible.
       (<a href="http://bugs.mysql.com/31588" target="_top">Bug#31588</a>)</p></li><li><p>
        <code class="literal">HAVING</code> could treat lettercase of table
        aliases incorrectly if
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was
        enabled.
       (<a href="http://bugs.mysql.com/31562" target="_top">Bug#31562</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a> introduced a problem such that a
        <code class="literal">NULL</code> thread handler could be used during a
        rollback operation. This problem is unlikely to be seen in
        practice.
       (<a href="http://bugs.mysql.com/31517" target="_top">Bug#31517</a>)</p></li><li><p>
        Killing a <code class="literal">CREATE TABLE ... LIKE</code> statement
        that was waiting for a name lock caused a server crash. When the
        statement was killed, the server attempted to release locks that
        were not held.
       (<a href="http://bugs.mysql.com/31479" target="_top">Bug#31479</a>)</p></li><li><p>
        The length of the result from
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could be calculated
        incorrectly because the sign of the result was not taken into
        account.
       (<a href="http://bugs.mysql.com/31471" target="_top">Bug#31471</a>)</p></li><li><p>
        Queries that used the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>
        access method or index-based subquery execution over indexes
        that have <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns could
        fail with an error <code class="literal">Column
        <em class="replaceable"><code>col_name</code></em> cannot be null</code>.
       (<a href="http://bugs.mysql.com/31450" target="_top">Bug#31450</a>)</p></li><li><p>
        <code class="literal">SELECT 1 REGEX NULL</code> caused an assertion
        failure for debug servers.
       (<a href="http://bugs.mysql.com/31440" target="_top">Bug#31440</a>)</p></li><li><p>
        Executing <code class="literal">RENAME</code> while tables were open for
        use with <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> statements could
        cause a server crash.
       (<a href="http://bugs.mysql.com/31409" target="_top">Bug#31409</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> tried to create files in a
        directory where it could not be expected to have write
        permission. <span><strong class="command">mysqltest</strong></span> created
        <code class="filename">.reject</code> files in a directory other than the
        one where test results go.
       (<a href="http://bugs.mysql.com/31398" target="_top">Bug#31398</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> caused an increase in
        memory usage.
       (<a href="http://bugs.mysql.com/31347" target="_top">Bug#31347</a>)</p></li><li><p>
        For an almost-full <code class="literal">MyISAM</code> table, an insert
        that failed could leave the table in a corrupt state.
       (<a href="http://bugs.mysql.com/31305" target="_top">Bug#31305</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk --unpack</strong></span></a> could corrupt a table that
        when unpacked has static (fixed-length) row format.
       (<a href="http://bugs.mysql.com/31277" target="_top">Bug#31277</a>)</p></li><li><p>
        <a href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>val</code></em>,
        DATETIME)</code></a> would fail on invalid input, but processing
        was not aborted for the <code class="literal">WHERE</code> clause, leading
        to a server crash.
       (<a href="http://bugs.mysql.com/31253" target="_top">Bug#31253</a>)</p></li><li><p>
        Allocation of an insufficiently large group-by buffer following
        creation of a temporary table could lead to a server crash.
       (<a href="http://bugs.mysql.com/31249" target="_top">Bug#31249</a>)</p></li><li><p>
        Use of <code class="literal">DECIMAL(<em class="replaceable"><code>n</code></em>,
        <em class="replaceable"><code>n</code></em>) ZEROFILL</code> in
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31227" target="_top">Bug#31227</a>)</p></li><li><p>
        When sorting privilege table rows, the server treated escaped
        wildcard characters (<code class="literal">\%</code> and
        <code class="literal">\_</code>) the same as unescaped wildcard characters
        (<code class="literal">%</code> and <code class="literal">_</code>), resulting in
        incorrect row ordering.
       (<a href="http://bugs.mysql.com/31194" target="_top">Bug#31194</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms.
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>.</p></li><li><p>
        WIth small values of
        <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> for
        <code class="literal">MyISAM</code> tables could cause a server crash.
       (<a href="http://bugs.mysql.com/31174" target="_top">Bug#31174</a>)</p></li><li><p>
        If <a href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a> returned
        <code class="literal">NULL</code> when used in an <code class="literal">ORDER
        BY</code> that was evaluated using
        <code class="literal">filesort</code>, a server crash could result.
       (<a href="http://bugs.mysql.com/31160" target="_top">Bug#31160</a>)</p></li><li><p>
        Full-text searches on <code class="literal">ucs2</code> columns caused a
        server crash. (<code class="literal">FULLTEXT</code> indexes on
        <code class="literal">ucs2</code> columns cannot be used, but it should be
        possible to perform <code class="literal">IN BOOLEAN MODE</code> searches
        on <code class="literal">ucs2</code> columns without a crash.)
       (<a href="http://bugs.mysql.com/31159" target="_top">Bug#31159</a>)</p></li><li><p>
        Data in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <code class="literal">GEOMETRY</code> columns could be cropped when
        performing a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> query.
       (<a href="http://bugs.mysql.com/31158" target="_top">Bug#31158</a>)</p></li><li><p>
        An assertion designed to detect a bug in the
        <code class="literal">ROLLUP</code> implementation would incorrectly be
        triggered when used in a subquery context with noncacheable
        statements.
       (<a href="http://bugs.mysql.com/31156" target="_top">Bug#31156</a>)</p></li><li><p>
        Selecting spatial types in a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could cause a server crash.
       (<a href="http://bugs.mysql.com/31155" target="_top">Bug#31155</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> caused an
        assertion failure.
       (<a href="http://bugs.mysql.com/31154" target="_top">Bug#31154</a>)</p></li><li><p>
        The server crashed in the parser when running out of memory.
        Memory handling in the parser has been improved to gracefully
        return an error when out-of-memory conditions occur in the
        parser.
       (<a href="http://bugs.mysql.com/31153" target="_top">Bug#31153</a>)</p></li><li><p>
        MySQL declares a <code class="literal">UNIQUE</code> key as a
        <code class="literal">PRIMARY</code> key if it doesn't have
        <code class="literal">NULL</code> columns and is not a partial key, and
        the <code class="literal">PRIMARY</code> key must alway be the first key.
        However, in some cases, a nonfirst key could be reported as
        <code class="literal">PRIMARY</code>, leading to an assert failure by
        <code class="literal">InnoDB</code>. This is fixed by correcting the key
        sort order.
       (<a href="http://bugs.mysql.com/31137" target="_top">Bug#31137</a>)</p></li><li><p>
        <code class="literal">GROUP BY NULL WITH ROLLUP</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>)</p><p>See also <a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>.</p></li><li><p>
        <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> operations could cause a
        server crash for character sets such as <code class="literal">ucs2</code>.
        Now the arguments are converted to <code class="literal">utf8</code> if
        possible, to allow correct results to be produced if the
        resulting strings contain only 8-bit characters.
       (<a href="http://bugs.mysql.com/31081" target="_top">Bug#31081</a>)</p></li><li><p>
        Internal conversion routines could fail for several multi-byte
        character sets (<code class="literal">big5</code>,
        <code class="literal">cp932</code>, <code class="literal">euckr</code>,
        <code class="literal">gb2312</code>, <code class="literal">sjis</code>) for empty
        strings or during evaluation of <a href="functions.html#operator_sounds-like"><code class="literal">SOUNDS
        LIKE</code></a>.
       (<a href="http://bugs.mysql.com/31069" target="_top">Bug#31069</a>, <a href="http://bugs.mysql.com/31070" target="_top">Bug#31070</a>)</p></li><li><p>
        Many nested subqueries in a single query could led to excessive
        memory consumption and possibly a crash of the server.
       (<a href="http://bugs.mysql.com/31048" target="_top">Bug#31048</a>)</p></li><li><p>
        The <a href="functions.html#function_mod"><code class="literal">MOD()</code></a> function and the
        <code class="literal">%</code> operator crashed the server for a divisor
        less than 1 with a very long fractional part.
       (<a href="http://bugs.mysql.com/31019" target="_top">Bug#31019</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect.
       (<a href="http://bugs.mysql.com/30992" target="_top">Bug#30992</a>)</p></li><li><p>
        A character set introducer followed by a hexadecimal or
        bit-value literal did not check its argument and could return an
        ill-formed result for invalid input.
       (<a href="http://bugs.mysql.com/30986" target="_top">Bug#30986</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        <em class="replaceable"><code>charset</code></em>)</code></a> did not check its
        argument and could return an ill-formed result for invalid
        input.
       (<a href="http://bugs.mysql.com/30982" target="_top">Bug#30982</a>)</p></li><li><p>
        The result from
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        ucs2</code></a>) did not add a leading 0x00 byte for input
        strings with an odd number of bytes.
       (<a href="http://bugs.mysql.com/30981" target="_top">Bug#30981</a>)</p></li><li><p>
        On Windows, <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>
        could display process entries with a <code class="literal">State</code>
        value of <code class="literal">*** DEAD ***</code>.
       (<a href="http://bugs.mysql.com/30960" target="_top">Bug#30960</a>)</p></li><li><p>
        The <a href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a> function could
        cause a server crash if the first argument was
        <code class="literal">NULL</code> or the empty string.
       (<a href="http://bugs.mysql.com/30955" target="_top">Bug#30955</a>)</p></li><li><p>
        <a href="functions.html#function_makedate"><code class="literal">MAKEDATE()</code></a> incorrectly moved year
        values in the 100–200 range into the 1970–2069
        range. (This is legitimate for 00–99, but three-digit
        years should be used unchanged.)
       (<a href="http://bugs.mysql.com/30951" target="_top">Bug#30951</a>)</p></li><li><p>
        When invoked with constant arguments,
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> could use a cached
        value for the format string and return incorrect results.
       (<a href="http://bugs.mysql.com/30942" target="_top">Bug#30942</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> returned
        <code class="literal">','</code> rather than an empty string when the
        argument column contained only empty strings.
       (<a href="http://bugs.mysql.com/30897" target="_top">Bug#30897</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        for nonconstant values of <em class="replaceable"><code>D</code></em> could
        crash the server if these functions were used in an
        <code class="literal">ORDER BY</code> that was resolved using
        <code class="literal">filesort</code>.
       (<a href="http://bugs.mysql.com/30889" target="_top">Bug#30889</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, lookups for
        <code class="literal">NULL</code> values in <code class="literal">BTREE</code>
        indexes could return incorrect results.
       (<a href="http://bugs.mysql.com/30885" target="_top">Bug#30885</a>)</p></li><li><p>
        Calling <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> with
        nonconstant arguments triggered an assertion failure.
        Nonconstant arguments are now disallowed.
       (<a href="http://bugs.mysql.com/30832" target="_top">Bug#30832</a>)</p></li><li><p>
        For a spatial column with a regular
        (non-<code class="literal">SPATIAL</code>) index, queries failed if the
        optimizer tried to use the index.
       (<a href="http://bugs.mysql.com/30825" target="_top">Bug#30825</a>)</p></li><li><p>
        Values for the <code class="option">--tc-heuristic-recover</code> option
        incorrectly were treated as values for the
        <code class="option">--myisam-stats-method</code> option.
       (<a href="http://bugs.mysql.com/30821" target="_top">Bug#30821</a>)</p></li><li><p>
        The optimizer incorrectly optimized conditions out of the
        <code class="literal">WHERE</code> clause in some queries involving
        subqueries and indexed columns.
       (<a href="http://bugs.mysql.com/30788" target="_top">Bug#30788</a>)</p></li><li><p>
        If an alias was used to refer to the value returned by a stored
        function within a subselect, the outer select recognized the
        alias but failed to retrieve the value assigned to it in the
        subselect.
       (<a href="http://bugs.mysql.com/30787" target="_top">Bug#30787</a>)</p></li><li><p>
        Improper calculation of <a href="functions.html#operator_case"><code class="literal">CASE</code></a>
        expression results could lead to value truncation.
       (<a href="http://bugs.mysql.com/30782" target="_top">Bug#30782</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect. One symptom was that invalidating
        the query cache could cause a server crash.
       (<a href="http://bugs.mysql.com/30768" target="_top">Bug#30768</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> involving
        transactional and nontransactional tables caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/30763" target="_top">Bug#30763</a>)</p></li><li><p>
        Under some circumstances,
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> could crash the server or incorrectly report
        that the table row size was too large.
       (<a href="http://bugs.mysql.com/30736" target="_top">Bug#30736</a>)</p></li><li><p>
        Using the <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> function to select one part
        of a multi-part key could cause a crash when the function result
        was <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/30715" target="_top">Bug#30715</a>)</p></li><li><p>
        The optimizer could ignore <code class="literal">ORDER BY</code> in cases
        when the result set is ordered by <code class="literal">filesort</code>,
        resulting in rows being returned in incorrect order.
       (<a href="http://bugs.mysql.com/30666" target="_top">Bug#30666</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> tables could not exceed 4294967295
        (2<sup>32</sup> – 1) rows on Windows.
       (<a href="http://bugs.mysql.com/30638" target="_top">Bug#30638</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li><li><p>
        Binary logging for a stored procedure differed depending on
        whether or not execution occurred in a prepared statement.
       (<a href="http://bugs.mysql.com/30604" target="_top">Bug#30604</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements that remove
        rows based on an index read could fail to remove all matching
        rows.
       (<a href="http://bugs.mysql.com/30590" target="_top">Bug#30590</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on an expression of the form
        <code class="literal"><em class="replaceable"><code>timestamp_col</code></em> DIV
        <em class="replaceable"><code>number</code></em></code> caused a server
        crash due to incorrect calculation of number of decimals.
       (<a href="http://bugs.mysql.com/30587" target="_top">Bug#30587</a>)</p></li><li><p>
        The options available to the <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> statement were also allowed in
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> and
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a> statements, but
        caused corruption during their execution. These options were
        never supported for these statements, and an error is now raised
        if you try to apply these options to these statements.
       (<a href="http://bugs.mysql.com/30495" target="_top">Bug#30495</a>)</p></li><li><p>
        When expanding a <code class="literal">*</code> in a
        <code class="literal">USING</code> or <code class="literal">NATURAL</code> join, the
        check for table access for both tables in the join was done
        using only the grant information of the first table.
       (<a href="http://bugs.mysql.com/30468" target="_top">Bug#30468</a>)</p></li><li><p>
        When casting a string value to an integer, cases where the input
        string contained a decimal point and was long enough to overrun
        the <code class="literal">unsigned long long</code> type were not handled
        correctly. The position of the decimal point was not taken into
        account which resulted in miscalculated numbers and incorrect
        truncation to appropriate SQL data type limits.
       (<a href="http://bugs.mysql.com/30453" target="_top">Bug#30453</a>)</p></li><li><p>
        Versions of <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> from MySQL 4.1 or
        higher tried to use <code class="literal">START TRANSACTION WITH CONSISTENT
        SNAPSHOT</code> if the
        <a href="programs.html#option_mysqldump_single-transaction"><code class="option">--single-transaction</code></a> and
        <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> options were
        given, even with servers older than 4.1 that do not support
        consistent snapshots.
       (<a href="http://bugs.mysql.com/30444" target="_top">Bug#30444</a>)</p></li><li><p>
        For <code class="literal">CREATE ... SELECT ... FROM</code>, where the
        resulting table contained indexes, adding
        <code class="literal">SQL_BUFFER_RESULT</code> to the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part caused index
        corruption in the table.
       (<a href="http://bugs.mysql.com/30384" target="_top">Bug#30384</a>)</p></li><li><p>
        An orphaned PID file from a no-longer-running process could
        cause <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> to wait for that process
        to exit even though it does not exist.
       (<a href="http://bugs.mysql.com/30378" target="_top">Bug#30378</a>)</p></li><li><p>
        The optimizer made incorrect assumptions about the value of the
        <code class="literal">is_member</code> value for user-defined functions,
        sometimes resulting in incorrect ordering of UDF results.
       (<a href="http://bugs.mysql.com/30355" target="_top">Bug#30355</a>)</p></li><li><p>
        Some valid <code class="literal">euc-kr</code> characters having the
        second byte in the ranges <code class="literal">[0x41..0x5A]</code> and
        <code class="literal">[0x61..0x7A]</code> were rejected.
       (<a href="http://bugs.mysql.com/30315" target="_top">Bug#30315</a>)</p></li><li><p>
        Simultaneous <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statements for <code class="literal">BLACKHOLE</code> tables caused 100%
        CPU use due to locking problems.
       (<a href="http://bugs.mysql.com/30294" target="_top">Bug#30294</a>)</p></li><li><p>
        Setting certain values on a table using a spatial index could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/30286" target="_top">Bug#30286</a>)</p></li><li><p>
        Tables with a <code class="literal">GEOMETRY</code> column could be marked
        as corrupt if you added a non-<code class="literal">SPATIAL</code> index
        on a <code class="literal">GEOMETRY</code> column.
       (<a href="http://bugs.mysql.com/30284" target="_top">Bug#30284</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> tables are intended
        for internal use, but could be accessed by using
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements.
       (<a href="http://bugs.mysql.com/30079" target="_top">Bug#30079</a>)</p></li><li><p>
        On some 64-bit systems, inserting the largest negative value
        into a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column resulted in
        incorrect data.
       (<a href="http://bugs.mysql.com/30069" target="_top">Bug#30069</a>)</p></li><li><p>
        Specifying the <code class="option">--without-geometry</code> option for
        <span><strong class="command">configure</strong></span> caused server compilation to fail.
       (<a href="http://bugs.mysql.com/29972" target="_top">Bug#29972</a>)</p></li><li><p>
        Under some circumstances, a UDF initialization function could be
        passed incorrect argument lengths.
       (<a href="http://bugs.mysql.com/29804" target="_top">Bug#29804</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not find <code class="literal">nss</code>
        on some Linux platforms.
       (<a href="http://bugs.mysql.com/29658" target="_top">Bug#29658</a>)</p></li><li><p>
        The <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> command would output
        <code class="literal">CFLAGS</code> values that were incompatible with C++
        for the HP-UX platform.
       (<a href="http://bugs.mysql.com/29645" target="_top">Bug#29645</a>)</p></li><li><p>
        Views were treated as insertable even if some base table columns
        with no default value were omitted from the view definition.
        (This is contrary to the condition for insertability that a view
        must contain all columns in the base table that do not have a
        default value.)
       (<a href="http://bugs.mysql.com/29477" target="_top">Bug#29477</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client program now ignores Unicode
        byte order mark (BOM) characters at the beginning of input
        files. Previously, it read them and sent them to the server,
        resulting in a syntax error.
      </p><p>
        Presence of a BOM does not cause <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to
        change its default character set. To do that, invoke
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> with an option such as
        <a href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8</code></a>.
       (<a href="http://bugs.mysql.com/29323" target="_top">Bug#29323</a>)</p></li><li><p>
        For transactional tables, an error during a multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement did not roll
        back the statement.
       (<a href="http://bugs.mysql.com/29136" target="_top">Bug#29136</a>)</p></li><li><p>
        The <code class="literal">log</code> and
        <a href="server-administration.html#sysvar_log_slow_queries"><code class="literal">log_slow_queries</code></a> system
        variables were displayed by <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a> but could not be accessed in expressions as
        <code class="literal">@@log</code> and
        <code class="literal">@@log_slow_queries</code>. Also, attempting to set
        them with <code class="literal">SET</code> produced an incorrect
        <code class="literal">Unknown system variable</code> message. Now these
        variables can be accessed in expressions and attempting to set
        their values produces an error message that the variable is read
        only.
       (<a href="http://bugs.mysql.com/29131" target="_top">Bug#29131</a>)</p></li><li><p>
        Denormalized double-precision numbers cannot be handled properly
        by old MIPS pocessors. For IRIX, this is now handled by enabling
        a mode to use a software workaround.
       (<a href="http://bugs.mysql.com/29085" target="_top">Bug#29085</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> did not display
        the <code class="literal">relay_log</code>,
        <code class="literal">relay_log_index</code>, or
        <code class="literal">relay_log_info_file</code> system variables.
       (<a href="http://bugs.mysql.com/28893" target="_top">Bug#28893</a>)</p></li><li><p>
        The MySQL preferences pane did not work to start or stop MySQL
        on Mac OS X 10.5 (Leopard).
       (<a href="http://bugs.mysql.com/28854" target="_top">Bug#28854</a>)</p></li><li><p>
        When doing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> on a table
        that involved a <code class="literal">JOIN</code> with
        <code class="literal">MyISAM</code> or <code class="literal">MERGE</code> tables and
        the <code class="literal">JOIN</code> referred to the same table, the
        operation could fail reporting <code class="literal">ERROR 1030 (HY000): Got
        error 134 from storage engine</code>. This was because scans
        on the table contents would change because of rows that had
        already been deleted.
       (<a href="http://bugs.mysql.com/28837" target="_top">Bug#28837</a>)</p></li><li><p>
        On Windows, <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> created temporary
        files in <code class="filename">C:\</code> and did not clean them up.
       (<a href="http://bugs.mysql.com/28774" target="_top">Bug#28774</a>)</p></li><li><p>
        Index hints specified in view definitions were ignored when
        using the view to select from the base table.
       (<a href="http://bugs.mysql.com/28702" target="_top">Bug#28702</a>)</p></li><li><p>
        Views do not have indexes, so index hints do not apply. Use of
        index hints when selecting from a view is now disallowed.
       (<a href="http://bugs.mysql.com/28701" target="_top">Bug#28701</a>)</p></li><li><p>
        After changing the SQL mode to a restrictive value that would
        make already-inserted dates in a column be considered invalid,
        searches returned different results depending on whether the
        column was indexed.
       (<a href="http://bugs.mysql.com/28687" target="_top">Bug#28687</a>)</p></li><li><p>
        For upgrading to a new major version using RPM packages (such as
        4.1 to 5.0), if the installation procedure found an existing
        MySQL server running, it could fail to shut down the old server,
        but also erroneously removed the server's socket file. Now the
        procedure checks for an existing server package from a different
        vendor or major MySQL version. In such case, it refuses to
        install the server and recommends how to safely remove the old
        packages before installing the new ones.
       (<a href="http://bugs.mysql.com/28555" target="_top">Bug#28555</a>)</p></li><li><p>
        The result from <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> was
        incorrectly assumed in some contexts to return a single-byte
        result.
       (<a href="http://bugs.mysql.com/28550" target="_top">Bug#28550</a>)</p></li><li><p>
        <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> silently skipped databases with
        names consisting of two alphanumeric characters.
       (<a href="http://bugs.mysql.com/28460" target="_top">Bug#28460</a>)</p></li><li><p>
        The parser confused user-defined function (UDF) and stored
        function creation for <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE
        FUNCTION</code></a> and required that there be a default database
        when creating UDFs, although there is no such requirement.
       (<a href="http://bugs.mysql.com/28318" target="_top">Bug#28318</a>, <a href="http://bugs.mysql.com/29816" target="_top">Bug#29816</a>)</p></li><li><p>
        The SQL parser did not accept an empty
        <code class="literal">UNION=()</code> clause. This meant that, when there
        were no underlying tables specified for a
        <code class="literal">MERGE</code> table, <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> both output
        statements that could not be executed.
      </p><p>
        Now it is possible to execute a <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statement with an empty <code class="literal">UNION=()</code> clause.
        However, <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> and
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> do not output the
        <code class="literal">UNION=()</code> clause if there are no underlying
        tables specified for a <code class="literal">MERGE</code> table. This also
        means it is now possible to remove the underlying tables for a
        <code class="literal">MERGE</code> table using <code class="literal">ALTER TABLE ...
        UNION=()</code>.
       (<a href="http://bugs.mysql.com/28248" target="_top">Bug#28248</a>)</p></li><li><p>
        The result of a comparison between
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> columns differed depending
        on whether the <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        was indexed.
       (<a href="http://bugs.mysql.com/28076" target="_top">Bug#28076</a>)</p></li><li><p>
        The metadata in some <code class="literal">MYSQL_FIELD</code> members
        could be incorrect when a temporary table was used to evaluate a
        query.
       (<a href="http://bugs.mysql.com/27990" target="_top">Bug#27990</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> at the end of a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> affected individual
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements rather than the
        overall query result.
       (<a href="http://bugs.mysql.com/27848" target="_top">Bug#27848</a>)</p></li><li><p>
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> created files with permissions such
        that they might be inaccessible during <span><strong class="command">make
        install</strong></span> operations.
       (<a href="http://bugs.mysql.com/27789" target="_top">Bug#27789</a>)</p></li><li><p>
        It was possible to exhaust memory by repeatedly running
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> queries and never
        performing any <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES</code></a> statements.
       (<a href="http://bugs.mysql.com/27732" target="_top">Bug#27732</a>)</p></li><li><p>
        The anonymous accounts were not being created during MySQL
        installation.
       (<a href="http://bugs.mysql.com/27692" target="_top">Bug#27692</a>)</p></li><li><p>
        When <code class="literal">utf8</code> was set as the connection character
        set, using <a href="functions.html#function_space"><code class="literal">SPACE()</code></a> with a
        non-Unicode column produced an error.
       (<a href="http://bugs.mysql.com/27580" target="_top">Bug#27580</a>)</p><p>See also <a href="http://bugs.mysql.com/23637" target="_top">Bug#23637</a>.</p></li><li><p>
        A race condition between killing a statement and the thread
        executing the statement could lead to a situation such that the
        binary log contained an event indicating that the statement was
        killed, whereas the statement actually executed to completion.
       (<a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>)</p></li><li><p>
        Some queries using the
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> function failed to
        return either a result or an error to the client, causing it to
        hang. This was due to the fact that there was no check to insure
        that both arguments to this function were constant expressions.
       (<a href="http://bugs.mysql.com/27545" target="_top">Bug#27545</a>, <a href="http://bugs.mysql.com/32559" target="_top">Bug#32559</a>)</p></li><li><p>
        With the <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system
        variable enabled, <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
        and <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> were allowed to
        users who did not have the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a>
        privilege.
       (<a href="http://bugs.mysql.com/27440" target="_top">Bug#27440</a>)</p></li><li><p>
        <a href="programs.html#resolveip" title="4.8.3. resolveip — Resolve Host name to IP Address or Vice
Versa"><span><strong class="command">resolveip</strong></span></a> failed to produce correct results
        for host names that begin with a digit.
       (<a href="http://bugs.mysql.com/27427" target="_top">Bug#27427</a>)</p></li><li><p>
        In <code class="literal">ORDER BY</code> clauses, mixing aggregate
        functions and nongrouping columns is not allowed if the
        <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode is
        enabled. However, in some cases, no error was thrown because of
        insufficient checking.
       (<a href="http://bugs.mysql.com/27219" target="_top">Bug#27219</a>)</p></li><li><p>
        For the <a href="programs.html#option_mysqlhotcopy_record_log_pos"><code class="option">--record_log_pos</code></a>
        option, <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> now determines the slave
        status information from the result of <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW
        SLAVE STATUS</code></a> by using the
        <code class="literal">Relay_Master_Log_File</code> and
        <code class="literal">Exec_Master_Log_Pos</code> values rather than the
        <code class="literal">Master_Log_File</code> and
        <code class="literal">Read_Master_Log_Pos</code> values. This provides a
        more accurate indication of slave execution relative to the
        master.
       (<a href="http://bugs.mysql.com/27101" target="_top">Bug#27101</a>)</p></li><li><p>
        The MySQL Instance Configuration Wizard would not allow you to
        choose a service name, even though the criteria for the service
        name were valid. The code that checks the name has been updated
        to support the correct criteria of any string less than 256
        character and not containing either a forward or backward slash
        character.
       (<a href="http://bugs.mysql.com/27013" target="_top">Bug#27013</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> sometimes miscalculated the number of
        digits required when storing a floating-point number in a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column. This caused the
        value to be truncated, or (when using a debug build) caused the
        server to crash.
       (<a href="http://bugs.mysql.com/26788" target="_top">Bug#26788</a>)</p><p>See also <a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>.</p></li><li><p>
        <code class="filename">config-win.h</code> unconditionally defined
        <code class="literal">bool</code> as <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a>,
        causing problems on systems where <code class="literal">bool</code> is 1
        byte and <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a> is 4 bytes.
       (<a href="http://bugs.mysql.com/26461" target="_top">Bug#26461</a>)</p></li><li><p>
        The internal <code class="function">init_time()</code> library function
        was renamed to <code class="function">my_init_time()</code> to avoid
        conflicts with external libraries.
       (<a href="http://bugs.mysql.com/26294" target="_top">Bug#26294</a>)</p></li><li><p>
        On Windows, for distributions built with debugging support,
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> could crash if the user typed
        Control-C.
       (<a href="http://bugs.mysql.com/26243" target="_top">Bug#26243</a>)</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck -A -r</strong></span></a> did not correctly identify
        all tables that needed repairing.
       (<a href="http://bugs.mysql.com/25347" target="_top">Bug#25347</a>)</p></li><li><p>
        On Windows, an error in <code class="filename">configure.js</code> caused
        installation of source distributions to fail.
       (<a href="http://bugs.mysql.com/25340" target="_top">Bug#25340</a>)</p></li><li><p>
        Using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> in MySQL 5.1 resulted in dump
        files that could not be loaded in MySQL 5.0 because
        <code class="literal">USING <em class="replaceable"><code>type_name</code></em></code>
        options in index definitions appeared after the index column
        list, whereas 5.0 accepted only the old syntax that has
        <code class="literal">USING</code> before the column list. The parser in
        5.0 now accepts <code class="literal">USING</code> following the column
        list.
       (<a href="http://bugs.mysql.com/25162" target="_top">Bug#25162</a>)</p></li><li><p>
        The client library had no way to return an error if no
        connection had been established. This caused problems such as
        <a href="connectors-apis.html#mysql-library-init" title="20.9.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> failing
        silently if no <code class="filename">errmsg.sys</code> file was
        available.
       (<a href="http://bugs.mysql.com/25097" target="_top">Bug#25097</a>)</p></li><li><p>
        On Mac OS X, the StartupItem for MySQL did not work.
       (<a href="http://bugs.mysql.com/25008" target="_top">Bug#25008</a>)</p></li><li><p>
        For Windows 64-bit builds, enabling shared-memory support caused
        client connections to fail.
       (<a href="http://bugs.mysql.com/24992" target="_top">Bug#24992</a>)</p></li><li><p>
        If the expected precision of an arithmetic expression exceeded
        the maximum precision supported by MySQL, the precision of the
        result was reduced by an unpredictable or arbitrary amount,
        rather than to the maximum precision. In some cases, exceeding
        the maximum supported precision could also lead to a crash of
        the server.
       (<a href="http://bugs.mysql.com/24907" target="_top">Bug#24907</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not use its completion table. Also,
        the table contained few entries.
       (<a href="http://bugs.mysql.com/24624" target="_top">Bug#24624</a>)</p></li><li><p>
        If a user installed MySQL Server and set a password for the
        <code class="literal">root</code> user, and then uninstalled and
        reinstalled MySQL Server to the same location, the user could
        not use the MySQL Instance Config wizard to configure the server
        because the uninstall operation left the previous data directory
        intact. The config wizard <span class="emphasis"><em>assumed</em></span> that any
        new install (not an upgrade) would have the default data
        directory where the <code class="literal">root</code> user has no
        password. The installer now writes a registry key named
        <code class="literal">FoundExistingDataDir</code>. If the installer finds
        an existing data directory, the key will have a value of 1,
        otherwise it will have a value of 0. When
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> is run, it will
        attempt to read the key. If it can read the key, and the value
        is 1 and there is no existing instance of the server (indicating
        a new installation), the Config Wizard will allow the user to
        input the old password so the server can be configured.
       (<a href="http://bugs.mysql.com/24215" target="_top">Bug#24215</a>)</p></li><li><p>
        The MySQL header files contained some duplicate macro
        definitions that could cause compilation problems.
       (<a href="http://bugs.mysql.com/23839" target="_top">Bug#23839</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> on a
        <code class="literal">TEMPOARY</code> table caused locking issues.
       (<a href="http://bugs.mysql.com/23588" target="_top">Bug#23588</a>)</p></li><li><p>
        For distributions compiled with the bundled
        <code class="literal">libedit</code> library, there were difficulties
        using the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client to enter input for
        non-ASCII or multi-byte characters.
       (<a href="http://bugs.mysql.com/23097" target="_top">Bug#23097</a>)</p></li><li><p>
        For Windows Vista, <span><strong class="command">MySQLInstanceConfig.exe</strong></span>
        did not include a proper manifest enabling it to run with
        administrative privileges.
       (<a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>)</p><p>See also <a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>.</p></li><li><p>
        On Mac OS X, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> did not react to Ctrl-C
        when run under <span><strong class="command">gdb</strong></span>, even when run with the
        <a href="server-administration.html#option_mysqld_gdb"><code class="option">--gdb</code></a> option.
       (<a href="http://bugs.mysql.com/21567" target="_top">Bug#21567</a>)</p></li><li><p>
        <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> output did not include
        <code class="literal">-lmygcc</code> on some platforms when it was needed.
       (<a href="http://bugs.mysql.com/21158" target="_top">Bug#21158</a>)</p></li><li><p>
        <span><strong class="command">mysql-stress-test.pl</strong></span> and
        <span><strong class="command">mysqld_multi.server.sh</strong></span> were missing from some
        binary distributions.
       (<a href="http://bugs.mysql.com/21023" target="_top">Bug#21023</a>, <a href="http://bugs.mysql.com/25486" target="_top">Bug#25486</a>)</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.8. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> returned a confusing error
        message when no configuration file was found.
       (<a href="http://bugs.mysql.com/20455" target="_top">Bug#20455</a>)</p></li><li><p>
        Host names sometimes were treated as case sensitive in
        account-management statements (<a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE
        USER</code></a>, <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a>,
        <a href="sql-syntax.html#revoke" title="12.5.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a>, and so forth).
       (<a href="http://bugs.mysql.com/19828" target="_top">Bug#19828</a>)</p></li><li><p>
        The <code class="literal">readline</code> library has been updated to
        version 5.2. This addresses issues in the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client where history and editing within
        the client would fail to work as expected.
       (<a href="http://bugs.mysql.com/18431" target="_top">Bug#18431</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Aborted_clients"><code class="literal">Aborted_clients</code></a> status
        variable was incremented twice if a client exited without
        calling <a href="connectors-apis.html#mysql-close" title="20.9.3.5. mysql_close()"><code class="literal">mysql_close()</code></a>.
       (<a href="http://bugs.mysql.com/16918" target="_top">Bug#16918</a>)</p></li><li><p>
        The parser used signed rather than unsigned values in some cases
        that caused legal lengths in column declarations to be rejected.
       (<a href="http://bugs.mysql.com/15776" target="_top">Bug#15776</a>)</p></li><li><p>
        A <code class="literal">SET</code> column whose definition specified 64
        elements could not be updated using integer values.
       (<a href="http://bugs.mysql.com/15409" target="_top">Bug#15409</a>)</p></li><li><p>
        Clients were ignoring the TCP/IP port number specified as the
        default port via the --with-tcp-port configuration option.
       (<a href="http://bugs.mysql.com/15327" target="_top">Bug#15327</a>)</p></li><li><p>
        Zero-padding of exponent values was not the same across
        platforms.
       (<a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>)</p></li><li><p>
        Values of types <code class="literal">REAL ZEROFILL</code>,
        <code class="literal">DOUBLE ZEROFILL</code>, <code class="literal">FLOAT
        ZEROFILL</code>, were not zero-filled when converted to a
        character representation in the C prepared statement API.
       (<a href="http://bugs.mysql.com/11589" target="_top">Bug#11589</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> stripped comments from statements sent
        to the server. Now the
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> or
        <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a> option can be
        used to control whether to retain or strip comments. The default
        is <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a>.
       (<a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a>, <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a>)</p></li><li><p>
        If an <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statement is executed, and no automatically
        generated value is successfully inserted, then
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns the ID
        of the last inserted row.
      </p><p>
        If no automatically generated value is successfully inserted,
        then <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns
        0.
       (<a href="http://bugs.mysql.com/9481" target="_top">Bug#9481</a>)</p></li><li><p>
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> did not save the
        <a href="storage-engines.html#sysvar_innodb_data_home_dir"><code class="literal">innodb_data_home_dir</code></a> value to
        the <code class="filename">my.ini</code> file under certain
        circumstances.
       (<a href="http://bugs.mysql.com/6627" target="_top">Bug#6627</a>)</p></li><li><p>
        Several buffer-size system variables were either being handled
        incorrectly for large values (for settings larger than 4GB, they
        were truncated to values less than 4GB without a warning), or
        were limited unnecessarily to 4GB even on 64-bit systems. The
        following changes were made:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            For <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a>, values
            larger than 4GB are allowed on 64-bit platforms (except
            Windows, for which large values are truncated to 4GB with a
            warning).
          </p></li><li><p>
            For <a href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a>,
            <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a>, and
            <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
            values are limited to 4GB on all platforms. Larger values
            are truncated to 4GB with a warning.
          </p></li></ul></div><p>
        In addition, settings for
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> and
        <a href="server-administration.html#sysvar_read_rnd_buffer_size"><code class="literal">read_rnd_buffer_size</code></a> are
        limited to 2GB on all platforms. Larger values are truncated to
        2GB with a warning.
       (<a href="http://bugs.mysql.com/5731" target="_top">Bug#5731</a>, <a href="http://bugs.mysql.com/29419" target="_top">Bug#29419</a>, <a href="http://bugs.mysql.com/29446" target="_top">Bug#29446</a>)</p></li><li><p>
        Executing <code class="literal">DISABLE KEYS</code> and <code class="literal">ENABLE
        KEYS</code> on a nonempty table would cause the size of the
        index file for the table to grow considerable. This was because
        the <code class="literal">DISABLE KEYS</code> operation would only mark
        the existing index, without deleting the index blocks. The
        <code class="literal">ENABLE KEYS</code> operation would re-create the
        index, adding new blocks, while the previous index blocks would
        remain. Existing indexes are now dropped and recreated when the
        <code class="literal">ENABLE KEYS</code> statement is executed.
       (<a href="http://bugs.mysql.com/4692" target="_top">Bug#4692</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-66sp1"></a>C.1.20. Release Notes for MySQL Enterprise 5.0.66sp1 [QSP] (23 October 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.66a).
    </p><p>
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        To enable stricter control over the location from which
        user-defined functions can be loaded, the
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable has
        been backported from MySQL 5.1. If the value is nonempty,
        user-defined function object files can be loaded only from the
        directory named by this variable. If the value is empty, the
        behavior that is used prior to the inclusion of
        <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> applies: The UDF
        object files must be located in a directory that is searched by
        your system's dynamic linker.
       (<a href="http://bugs.mysql.com/37428" target="_top">Bug#37428</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        It was possible to circumvent privileges through the creation of
        <code class="literal">MyISAM</code> tables employing the <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code>
        options to overwrite existing table files in the MySQL data
        directory. Use of the MySQL data directory in <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code> path
        name is now disallowed.
      </p><p>
        Additional corrections were made to handle the data directory
        path name if it contains symlinked directories in its path, and
        to make the check both at table-creation time and at
        table-opening time later.
       (<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        The server consumed excess memory while parsing statements with
        hundreds or thousands of nested boolean conditions (such as
        <code class="literal">OR (OR ... (OR ... ))</code>). This could lead to a
        server crash or incorrect statement execution, or cause other
        client statements to fail due to lack of memory. The latter
        result constitutes a denial of service.
       (<a href="http://bugs.mysql.com/38296" target="_top">Bug#38296</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-66a"></a>C.1.21. Release Notes for MySQL Enterprise 5.0.66a [MRU] (16 July 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This is a bugfix release that replaces MySQL 5.0.66.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The fix for <a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a> caused a problem such that on Unix, MySQL
        programs looked for options in <code class="filename">~/my.cnf</code>
        rather than the standard location of
        <code class="filename">~/.my.cnf</code>.
       (<a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-66"></a>C.1.22. Release Notes for MySQL Enterprise 5.0.66 [MRU] (09 July 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          This release was withdrawn from production due to the side
          effect produced by <a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>. It has been replaced by MySQL
          5.0.66a, which should be used instead.
        </p></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.64).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> now supports
        <code class="option">--client-bindir</code> and
        <code class="option">--client-libdir</code> options for specifying the
        directory where client binaries and libraries are located.
       (<a href="http://bugs.mysql.com/34995" target="_top">Bug#34995</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        An additional correction to the original MySQL 5.0.64 fix was
        made to normalize directory names before adding them to the list
        of directories. This prevents <code class="filename">/etc/</code> and
        <code class="filename">/etc</code> from being considered different, for
        example.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p><p>See also <a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some kinds of internal errors, such as <span class="errortext">Out of
        memory</span> errors, could cause the server to crash when
        replicating statements with user variables.
      </p><p>
        certain internal errors.
       (<a href="http://bugs.mysql.com/37150" target="_top">Bug#37150</a>)</p></li><li><p>
        Some binary distributions had a duplicate “<span class="quote">-64bit</span>”
        suffix in the file name.
       (<a href="http://bugs.mysql.com/37623" target="_top">Bug#37623</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client failed to recognize comment
        lines consisting of <code class="literal">--</code> followed by a newline.
       (<a href="http://bugs.mysql.com/36244" target="_top">Bug#36244</a>)</p></li><li><p>
        An empty bit-string literal (<code class="literal">b''</code>) caused a
        server crash. Now the value is parsed as an empty bit value
        (which is treated as an empty string in string context or 0 in
        numeric context).
       (<a href="http://bugs.mysql.com/35658" target="_top">Bug#35658</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> left temporary files on the disk
        after shutdown, leading to the pollution of the temporary
        directory, which eventually caused
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> to fail. This caused problems in
        testing and other situations where
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> might be invoked many times in a
        relatively short period of time.
       (<a href="http://bugs.mysql.com/35543" target="_top">Bug#35543</a>)</p></li><li><p>
        The code for detecting a byte order mark (BOM) caused
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to crash for empty input.
       (<a href="http://bugs.mysql.com/35480" target="_top">Bug#35480</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client incorrectly parsed
        statements containing the word “<span class="quote">delimiter</span>” in
        mid-statement.
      </p><p>
        The fix for this bug had the side effect of causing the problem
        reported in <a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>, so it was reverted in MySQL 5.0.67.
       (<a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-64"></a>C.1.23. Release Notes for MySQL Enterprise 5.0.64 [MRU] (10 June 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.62).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">FEDERATED</code> storage engine is now disabled
        by default in the <code class="filename">.cnf</code> files shipped with
        MySQL distributions (<code class="filename">my-huge.cnf</code>,
        <code class="filename">my-medium.cnf</code>, and so forth). This affects
        server behavior only if you install one of these files.
       (<a href="http://bugs.mysql.com/37069" target="_top">Bug#37069</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> and
        <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> statements
        containing extended comments were not written to the binary log
        correctly, causing parse errors on the slave.
       (<a href="http://bugs.mysql.com/36570" target="_top">Bug#36570</a>)</p><p>See also <a href="http://bugs.mysql.com/32575" target="_top">Bug#32575</a>.</p></li><li><p>
        On Windows 64-bit systems, temporary variables of
        <code class="literal">long</code> types were used to store
        <code class="literal">ulong</code> values, causing key cache
        initialization to receive distorted parameters. The effect was
        that setting <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> to
        values of 2GB or more caused memory exhaustion to due allocation
        of too much memory.
       (<a href="http://bugs.mysql.com/36705" target="_top">Bug#36705</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements
        that used a temporary table could fail to update all qualifying
        rows or fail with a spurious duplicate-key error.
       (<a href="http://bugs.mysql.com/36676" target="_top">Bug#36676</a>)</p></li><li><p>
        A <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> match could return
        incorrect rows when the previous row matched the expression and
        used <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> with an empty
        string.
       (<a href="http://bugs.mysql.com/36488" target="_top">Bug#36488</a>)</p></li><li><p>
        For <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a>, execution of an uncorrelated
        <code class="literal">IN</code> subquery caused a crash if the subquery
        required a temporary table for its execution.
       (<a href="http://bugs.mysql.com/36011" target="_top">Bug#36011</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-62"></a>C.1.24. Release Notes for MySQL Enterprise 5.0.62 [MRU] (12 May 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.60).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        Some changes were made to
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> and <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR
        TABLE</code></a> with respect to detection and handling of tables
        with incompatible <code class="filename">.frm</code> files (files created
        with a different version of the MySQL server). These changes
        also affect <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> because that program
        uses <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> and
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>, and thus also
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> because that program invokes
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>.
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            If your table was created by a different version of the
            MySQL server than the one you are currently running,
            <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
            FOR UPGRADE</code></a> indicates that the table has an
            <code class="filename">.frm</code> file with an incompatible version.
            In this case, the result set returned by
            <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> contains a line
            with a <code class="literal">Msg_type</code> value of
            <code class="literal">error</code> and a <code class="literal">Msg_text</code>
            value of <code class="literal">Table upgrade required. Please do "REPAIR
            TABLE `<em class="replaceable"><code>tbl_name</code></em>`" to fix
            it!</code>
          </p></li><li><p>
            <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> without
            <code class="literal">USE_FRM</code> upgrades the
            <code class="filename">.frm</code> file to the current version.
          </p></li><li><p>
            If you use <code class="literal">REPAIR TABLE ...USE_FRM</code> and
            your table was created by a different version of the MySQL
            server than the one you are currently running,
            <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> will not attempt
            to repair the table. In this case, the result set returned
            by <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> contains a
            line with a <code class="literal">Msg_type</code> value of
            <code class="literal">error</code> and a <code class="literal">Msg_text</code>
            value of <code class="literal">Failed repairing incompatible .FRM
            file</code>.
          </p><p>
            Previously, use of <code class="literal">REPAIR TABLE
            ...USE_FRM</code> with a table created by a different
            version of the MySQL server risked the loss of all rows in
            the table.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/36055" target="_top">Bug#36055</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> now has a
        <a href="programs.html#option_mysql_upgrade_tmpdir"><code class="option">--tmpdir</code></a> option to enable
        the location of temporary files to be specified.
       (<a href="http://bugs.mysql.com/36469" target="_top">Bug#36469</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The server no longer issues warnings for truncation of excess
        spaces for values inserted into
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns. This reverts a
        change in the previous release that caused warnings to be
        issued.
       (<a href="http://bugs.mysql.com/30059" target="_top">Bug#30059</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statements containing
        extended comments were not written to the binary log correctly,
        causing parse errors on the slave. Now, all comments are
        stripped from such statements before being written to the binary
        log.
       (<a href="http://bugs.mysql.com/32575" target="_top">Bug#32575</a>)</p><p>See also <a href="http://bugs.mysql.com/36570" target="_top">Bug#36570</a>.</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> ignored the value of
        <code class="option">--tmpdir</code> in one place.
       (<a href="http://bugs.mysql.com/36465" target="_top">Bug#36465</a>)</p></li><li><p>
        Conversion of a <code class="literal">FLOAT ZEROFILL</code> value to
        string could cause a server crash if the value was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36139" target="_top">Bug#36139</a>)</p></li><li><p>
        An error in calculation of the precision of zero-length items
        (such as <code class="literal">NULL</code>) caused a server crash for
        queries that employed temporary tables.
       (<a href="http://bugs.mysql.com/36023" target="_top">Bug#36023</a>)</p></li><li><p>
        The server crashed inside <code class="literal">NOT IN</code> subqueries
        with an impossible <code class="literal">WHERE</code> or
        <code class="literal">HAVING</code> clause, such as <code class="literal">NOT IN
        (SELECT ... FROM t1, t2, ... WHERE 0)</code>.
       (<a href="http://bugs.mysql.com/36005" target="_top">Bug#36005</a>)</p></li><li><p>
        Grouping or ordering of long values in unindexed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns with the
        <code class="literal">gbk</code> or <code class="literal">big5</code> character set
        crashed the server.
       (<a href="http://bugs.mysql.com/35993" target="_top">Bug#35993</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL debug=''</code> resulted in a Valgrind
        warning in <code class="function">DbugParse()</code>, which was reading
        beyond the end of the control string.
       (<a href="http://bugs.mysql.com/35986" target="_top">Bug#35986</a>)</p></li><li><p>
        The combination of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>,
        <code class="literal">DISTINCT</code>, and <code class="literal">LEFT JOIN</code>
        could crash the server when the right table is empty.
       (<a href="http://bugs.mysql.com/35298" target="_top">Bug#35298</a>)</p></li><li><p>
        Several additional configuration scripts in the
        <code class="filename">BUILD</code> directory now are included in source
        distributions. These may be useful for users who wish to build
        MySQL from source. (See
        <a href="installing.html#installing-source-tree" title="2.16.3. Installing from the Development Source Tree">Section 2.16.3, “Installing from the Development Source Tree”</a>, for information about
        what they do.)
       (<a href="http://bugs.mysql.com/34291" target="_top">Bug#34291</a>)</p></li><li><p>
        The internal <code class="function">init_time()</code> library function
        was renamed to <code class="function">my_init_time()</code> to avoid
        conflicts with external libraries.
       (<a href="http://bugs.mysql.com/26294" target="_top">Bug#26294</a>)</p></li><li><p>
        The parser used signed rather than unsigned values in some cases
        that caused legal lengths in column declarations to be rejected.
       (<a href="http://bugs.mysql.com/15776" target="_top">Bug#15776</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-60sp1"></a>C.1.25. Release Notes for MySQL Enterprise 5.0.60sp1 [QSP] (27 June 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.60).
      For this release, there are no such changes or fixes.
    </p><p>
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-60"></a>C.1.26. Release Notes for MySQL Enterprise 5.0.60 [MRU] (28 April 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.58).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        For binary <code class="filename">.tar.gz</code> packages,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> and other binaries now are compiled
        with debugging symbols included to enable easier use with a
        debugger. If you do not need debugging symbols and are short on
        disk space, you can use <span><strong class="command">strip</strong></span> to remove the
        symbols from the binaries.
       (<a href="http://bugs.mysql.com/33252" target="_top">Bug#33252</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        It was possible to circumvent privileges through the creation of
        <code class="literal">MyISAM</code> tables employing the <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code>
        options to overwrite existing table files in the MySQL data
        directory. Use of the MySQL data directory in <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code> path
        name is now disallowed.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Additional fixes were made in MySQL 5.0.70.
        </p></div><p>(<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to use <code class="literal">FRAC_SECOND</code> as a
        synonym for <code class="literal">MICROSECOND</code> with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, and
        <a href="functions.html#function_interval"><code class="literal">INTERVAL</code></a>; now, using
        <code class="literal">FRAC_SECOND</code> with anything other than
        <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> or
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> produces a syntax
        error.
      </p><p>
        It is now possible (and preferable) to use
        <code class="literal">MICROSECOND</code> with
        <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> and
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a>, and
        <code class="literal">FRAC_SECOND</code> is now deprecated.
       (<a href="http://bugs.mysql.com/33834" target="_top">Bug#33834</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The server handled truncation of values having excess trailing
        spaces into <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>, and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns in different ways.
        This behavior has now been made consistent for columns of all
        three of these types, and now follows the existing behavior of
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns in this regard;
        that is, a <code class="literal">Note</code> is always issued whenever
        such truncation occurs.
      </p><p>
        This change does not affect columns of these three types when
        using a binary encoding; <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        columns are also unaffected by the change, since they always use
        a binary encoding.
       (<a href="http://bugs.mysql.com/30059" target="_top">Bug#30059</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="server-administration.html#sysvar_insert_id"><code class="literal">insert_id</code></a> was not written to
        the binary log for inserts into <code class="literal">BLACKHOLE</code>
        tables.
       (<a href="http://bugs.mysql.com/35178" target="_top">Bug#35178</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The character sets and collations used for constant identifiers
        in stored procedures were not replicated correctly.
       (<a href="http://bugs.mysql.com/34289" target="_top">Bug#34289</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An extraneous
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        statement was written to the binary log by a connection that did
        not use any transactional tables.
       (<a href="http://bugs.mysql.com/33329" target="_top">Bug#33329</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When a stored routine or trigger, running on a master that used
        MySQL 5.0 or MySQL 5.1.11 or earlier, performed an insert on an
        <code class="literal">AUTO_INCREMENT</code> column, the
        <a href="server-administration.html#sysvar_insert_id"><code class="literal">insert_id</code></a> value was not
        replicated correctly to a slave running MySQL 5.1.12 or later
        (including any MySQL 6.0 release).
       (<a href="http://bugs.mysql.com/33029" target="_top">Bug#33029</a>)</p><p>See also <a href="http://bugs.mysql.com/19630" target="_top">Bug#19630</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a> did not stop
        connection attempts properly. If the IO slave thread was
        attempting to connect, <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a>
        waited for the attempt to finish, sometimes for a long period of
        time, rather than stopping the slave immediately.
       (<a href="http://bugs.mysql.com/31024" target="_top">Bug#31024</a>)</p><p>See also <a href="http://bugs.mysql.com/30932" target="_top">Bug#30932</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">MASTER_POS_WAIT()</code> did not return
        <code class="literal">NULL</code> when the server was not a slave.
       (<a href="http://bugs.mysql.com/26622" target="_top">Bug#26622</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The nonspecific error message <span class="errortext">Wrong parameters to
        function register_slave</span> resulted when
        <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> failed to register on
        the master due to excess length of any the slave server options
        <a href="replication.html#option_mysqld_report-host"><code class="option">--report-host</code></a>,
        <a href="replication.html#option_mysqld_report-user"><code class="option">--report-user</code></a>, or
        <a href="replication.html#option_mysqld_report-password"><code class="option">--report-password</code></a>. An error
        message specific to each of these options is now returned in
        such cases. The new error messages are:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <span class="errortext">Failed to register slave: too long
              'report-host'</span>
            </p></li><li><p>
              <span class="errortext">Failed to register slave: too long
              'report-user'</span>
            </p></li><li><p>
              <span class="errortext">Failed to register slave; too long
              'report-password'</span>
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/22989" target="_top">Bug#22989</a>)</p><p>See also <a href="http://bugs.mysql.com/19328" target="_top">Bug#19328</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">PURGE BINARY LOGS TO</code> and <code class="literal">PURGE
        BINARY LOGS BEFORE</code> did not handle missing binary log
        files correctly or in the same way. Now for both of these
        statements, if any files listed in the
        <code class="filename">.index</code> file are missing from the file
        system, the statement fails with an error.
       (<a href="http://bugs.mysql.com/18199" target="_top">Bug#18199</a>, <a href="http://bugs.mysql.com/18453" target="_top">Bug#18453</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">START SLAVE UNTIL
        MASTER_LOG_POS=<em class="replaceable"><code>position</code></em></code>
        issued on a slave that was using
        <a href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> and that was
        involved in circular replication would cause the slave to run
        and stop one event later than that specified by the value of
        <em class="replaceable"><code>position</code></em>.
       (<a href="http://bugs.mysql.com/13861" target="_top">Bug#13861</a>)</p></li><li><p>
        On Windows, the installer attempted to use JScript to determine
        whether the target data directory already existed. On Windows
        Vista x64, this resulted in an error because the installer was
        attempting to run the JScript in a 32-bit engine, which wasn't
        registered on Vista. The installer no longer uses JScript but
        instead relies on a native WiX command.
       (<a href="http://bugs.mysql.com/36103" target="_top">Bug#36103</a>)</p></li><li><p>
        There was a memory leak when connecting to a
        <code class="literal">FEDERATED</code> table using a connection string
        that had a host value of <code class="literal">localhost</code> or omitted
        the host and a port value of <code class="literal">0</code> or omitted the
        port.
       (<a href="http://bugs.mysql.com/35509" target="_top">Bug#35509</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> with a view could crash the server.
       (<a href="http://bugs.mysql.com/35469" target="_top">Bug#35469</a>)</p></li><li><p>
        When a view containing a reference to <code class="literal">DUAL</code>
        was created, the reference was removed when the definition was
        stored, causing some queries against the view to fail with
        invalid SQL syntax errors.
       (<a href="http://bugs.mysql.com/35193" target="_top">Bug#35193</a>)</p></li><li><p>
        Debugging symbols were missing for some executables in Windows
        binary distributions.
       (<a href="http://bugs.mysql.com/35104" target="_top">Bug#35104</a>)</p></li><li><p>
        A query that performed a
        <a href="optimization.html#jointype_ref_or_null"><code class="literal">ref_or_null</code></a> join where the
        second table used a key having one or columns that could be
        <code class="literal">NULL</code> and had a column value that was
        <code class="literal">NULL</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/34945" target="_top">Bug#34945</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/12144" target="_top">Bug#12144</a>.</p></li><li><p>
        Some binaries produced stack corruption messages due to being
        built with versions of <span><strong class="command">bison</strong></span> older than 2.1.
        Builds are now created using <span><strong class="command">bison</strong></span> 2.3.
       (<a href="http://bugs.mysql.com/34926" target="_top">Bug#34926</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed to return an error code when
        using the <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> option
        without binary logging being enabled on the server.
       (<a href="http://bugs.mysql.com/34909" target="_top">Bug#34909</a>)</p></li><li><p>
        Under some circumstances, the value of
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> following a
        <code class="literal">SELECT ... INSERT</code> statement could return an
        incorrect value. This could happen when the last <code class="literal">SELECT
        ... INSERT</code> did not involve an
        <code class="literal">AUTO_INCREMENT</code> column, but the value of
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> was changed by
        some previous statements.
       (<a href="http://bugs.mysql.com/34889" target="_top">Bug#34889</a>)</p></li><li><p>
        Table and database names were mixed up in some places of the
        subquery transformation procedure. This could affect debugging
        trace output and further extensions of that procedure.
       (<a href="http://bugs.mysql.com/34830" target="_top">Bug#34830</a>)</p></li><li><p>
        A malformed URL used for a <code class="literal">FEDERATED</code>
        table's <code class="literal">CONNECTION</code> option value in a
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement was not
        handled correctly and could crash the server.
       (<a href="http://bugs.mysql.com/34788" target="_top">Bug#34788</a>)</p></li><li><p>
        Queries such as <code class="literal">SELECT ROW(1, 2) IN (SELECT t1.a, 2)
        FROM t1 GROUP BY t1.a</code> (combining row constructors and
        subqueries in the <code class="literal">FROM</code> clause) could lead to
        assertion failure or unexpected error messages.
       (<a href="http://bugs.mysql.com/34763" target="_top">Bug#34763</a>)</p></li><li><p>
        Using <code class="literal">NAME_CONST()</code> with a negative number and
        an aggregate function caused MySQL to crash. This could also
        have a negative impact on replication.
       (<a href="http://bugs.mysql.com/34749" target="_top">Bug#34749</a>)</p></li><li><p>
        A memory-handling error associated with use of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> in subqueries
        could result in a server crash.
       (<a href="http://bugs.mysql.com/34747" target="_top">Bug#34747</a>)</p></li><li><p>
        For an indexed integer column
        <em class="replaceable"><code>col_name</code></em> and a value
        <em class="replaceable"><code>N</code></em> that is one greater than the
        maximum value allowed for the data type of
        <em class="replaceable"><code>col_name</code></em>, conditions of the form
        <code class="literal">WHERE <em class="replaceable"><code>col_name</code></em> &lt;
        <em class="replaceable"><code>N</code></em></code> failed to return rows
        where the value of <em class="replaceable"><code>col_name</code></em> is
        <code class="literal"><em class="replaceable"><code>N</code></em> - 1</code>.
       (<a href="http://bugs.mysql.com/34731" target="_top">Bug#34731</a>)</p></li><li><p>
        Executing a <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statement on
        a table having both a foreign key reference and a
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> trigger crashed the
        server.
       (<a href="http://bugs.mysql.com/34643" target="_top">Bug#34643</a>)</p></li><li><p>
        Some subqueries using an expression that included an aggregate
        function could fail or in some cases lead to a crash of the
        server.
       (<a href="http://bugs.mysql.com/34620" target="_top">Bug#34620</a>)</p></li><li><p>
        A server crash could occur if
        <code class="literal">INFORMATION_SCHEMA</code> tables built in memory
        were swapped out to disk during query execution.
       (<a href="http://bugs.mysql.com/34529" target="_top">Bug#34529</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(AVG(<em class="replaceable"><code>arg</code></em>) AS
        DECIMAL)</code></a> produced incorrect results for
        non-<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> arguments.
       (<a href="http://bugs.mysql.com/34512" target="_top">Bug#34512</a>)</p></li><li><p>
        Under some conditions, a <code class="literal">SET GLOBAL
        innodb_commit_concurrency</code> or <code class="literal">SET GLOBAL
        innodb_autoextend_increment</code> statement could fail.
       (<a href="http://bugs.mysql.com/34223" target="_top">Bug#34223</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> attempts to set the
        <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> system
        variable after connecting to the server. This failed for pre-4.1
        servers that have no such variable, but
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> did not account for this and 1)
        failed to dump database contents; 2) failed to produce any error
        message alerting the user to the problem.
       (<a href="http://bugs.mysql.com/34192" target="_top">Bug#34192</a>)</p></li><li><p>
        For a <code class="literal">FEDERATED</code> table with an index on a
        nullable column, accessing the table could crash a server,
        return an incorrect result set, or return <code class="literal">ERROR 1030
        (HY000): Got error 1430 from storage engine</code>.
       (<a href="http://bugs.mysql.com/33946" target="_top">Bug#33946</a>)</p></li><li><p>
        A query using <code class="literal">WHERE
        (column1='<em class="replaceable"><code>string1</code></em>' AND
        column2=<em class="replaceable"><code>constant1</code></em>) OR
        (column1='<em class="replaceable"><code>string2</code></em>' AND
        column2=<em class="replaceable"><code>constant2</code></em>)</code>, where
        <code class="literal">col1</code> used a binary collation and
        <em class="replaceable"><code>string1</code></em> matched
        <em class="replaceable"><code>string2</code></em> except for case, failed to
        match any records even when matches were found by a query using
        the equivalent clause <code class="literal">WHERE
        column2=<em class="replaceable"><code>constant1</code></em> OR
        column2=<em class="replaceable"><code>constant2</code></em></code>.
       (<a href="http://bugs.mysql.com/33833" target="_top">Bug#33833</a>)</p></li><li><p>
        Reuse of prepared statements could cause a memory leak in the
        embedded server.
       (<a href="http://bugs.mysql.com/33796" target="_top">Bug#33796</a>)</p></li><li><p>
        Some queries using a combination of <code class="literal">IN</code>,
        <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>, and an implicit type
        conversion could return an incorrect result.
       (<a href="http://bugs.mysql.com/33764" target="_top">Bug#33764</a>)</p></li><li><p>
        In some cases a query that produced a result set when using
        <code class="literal">ORDER BY ASC</code> did not return any results when
        this was changed to <code class="literal">ORDER BY DESC</code>.
       (<a href="http://bugs.mysql.com/33758" target="_top">Bug#33758</a>)</p></li><li><p>
        Disabling concurrent inserts caused some cacheable queries not
        to be saved in the query cache.
       (<a href="http://bugs.mysql.com/33756" target="_top">Bug#33756</a>)</p></li><li><p>
        Certain combinations of views, subselects with outer references
        and stored routines or triggers could cause the server to crash.
       (<a href="http://bugs.mysql.com/33389" target="_top">Bug#33389</a>)</p></li><li><p>
        <a href="functions.html#function_sleep"><code class="literal">SLEEP(0)</code></a> failed to return on
        64-bit Mac OS X due to a bug in
        <code class="function">pthread_cond_timedwait()</code>.
       (<a href="http://bugs.mysql.com/33304" target="_top">Bug#33304</a>)</p></li><li><p>
        Granting the <a href="server-administration.html#priv_update"><code class="literal">UPDATE</code></a> privilege on
        one column of a view caused the server to crash.
       (<a href="http://bugs.mysql.com/33201" target="_top">Bug#33201</a>)</p></li><li><p>
        Under some circumstances a combination of aggregate functions
        and <code class="literal">GROUP BY</code> in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query over a view could
        lead to incorrect calculation of the result type of the
        aggregate function. This in turn could lead to incorrect
        results, or to crashes on debug builds of the server.
       (<a href="http://bugs.mysql.com/33049" target="_top">Bug#33049</a>)</p></li><li><p>
        For <code class="literal">DISTINCT</code> queries, MySQL 4.0 and 4.1
        stopped reading joined tables as soon as the first matching row
        was found. However, this optimization was lost in MySQL 5.0,
        which instead read all matching rows. This fix for this
        regression may result in a major improvement in performance for
        <code class="literal">DISTINCT</code> queries in cases where many rows
        match.
       (<a href="http://bugs.mysql.com/32942" target="_top">Bug#32942</a>)</p></li><li><p>
        Incorrect assertions could cause a server crash for
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> triggers for transactional
        tables.
       (<a href="http://bugs.mysql.com/32790" target="_top">Bug#32790</a>)</p></li><li><p>
        Inserting strings with a common prefix into a table that used
        the <code class="literal">ucs2</code> character set corrupted the table.
       (<a href="http://bugs.mysql.com/32705" target="_top">Bug#32705</a>)</p></li><li><p>
        Queries using <code class="literal">LIKE</code> on tables having indexed
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns using either of the
        <code class="literal">eucjpms</code> or <code class="literal">ujis</code> character
        sets did not return correct results.
       (<a href="http://bugs.mysql.com/32510" target="_top">Bug#32510</a>)</p></li><li><p>
        Queries testing numeric constants containing leading zeroes
        against <code class="literal">ZEROFILL</code> columns were not evaluated
        correctly.
       (<a href="http://bugs.mysql.com/31887" target="_top">Bug#31887</a>)</p></li><li><p>
        If an error occurred during file creation, the server sometimes
        did not remove the file, resulting in an unused file in the file
        system.
       (<a href="http://bugs.mysql.com/31781" target="_top">Bug#31781</a>)</p></li><li><p>
        The server returned the error message <span class="errortext">Out of memory;
        restart server and try again</span> when the actual problem
        was that the sort buffer was too small. Now an appropriate error
        message is returned in such cases.
       (<a href="http://bugs.mysql.com/31590" target="_top">Bug#31590</a>)</p></li><li><p>
        When sorting privilege table rows, the server treated escaped
        wildcard characters (<code class="literal">\%</code> and
        <code class="literal">\_</code>) the same as unescaped wildcard characters
        (<code class="literal">%</code> and <code class="literal">_</code>), resulting in
        incorrect row ordering.
       (<a href="http://bugs.mysql.com/31194" target="_top">Bug#31194</a>)</p></li><li><p>
        On Windows, <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>
        could display process entries with a <code class="literal">State</code>
        value of <code class="literal">*** DEAD ***</code>.
       (<a href="http://bugs.mysql.com/30960" target="_top">Bug#30960</a>)</p></li><li><p>
        If an alias was used to refer to the value returned by a stored
        function within a subselect, the outer select recognized the
        alias but failed to retrieve the value assigned to it in the
        subselect.
       (<a href="http://bugs.mysql.com/30787" target="_top">Bug#30787</a>)</p></li><li><p>
        Binary logging for a stored procedure differed depending on
        whether or not execution occurred in a prepared statement.
       (<a href="http://bugs.mysql.com/30604" target="_top">Bug#30604</a>)</p></li><li><p>
        An orphaned PID file from a no-longer-running process could
        cause <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> to wait for that process
        to exit even though it does not exist.
       (<a href="http://bugs.mysql.com/30378" target="_top">Bug#30378</a>)</p></li><li><p>
        The <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> command would output
        <code class="literal">CFLAGS</code> values that were incompatible with C++
        for the HP-UX platform.
       (<a href="http://bugs.mysql.com/29645" target="_top">Bug#29645</a>)</p></li><li><p>
        The SQL parser did not accept an empty
        <code class="literal">UNION=()</code> clause. This meant that, when there
        were no underlying tables specified for a
        <code class="literal">MERGE</code> table, <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> both output
        statements that could not be executed.
      </p><p>
        Now it is possible to execute a <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statement with an empty <code class="literal">UNION=()</code> clause.
        However, <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> and
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> do not output the
        <code class="literal">UNION=()</code> clause if there are no underlying
        tables specified for a <code class="literal">MERGE</code> table. This also
        means it is now possible to remove the underlying tables for a
        <code class="literal">MERGE</code> table using <code class="literal">ALTER TABLE ...
        UNION=()</code>.
       (<a href="http://bugs.mysql.com/28248" target="_top">Bug#28248</a>)</p></li><li><p>
        It was possible to exhaust memory by repeatedly running
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> queries and never
        performing any <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES</code></a> statements.
       (<a href="http://bugs.mysql.com/27732" target="_top">Bug#27732</a>)</p></li><li><p>
        When <code class="literal">utf8</code> was set as the connection character
        set, using <a href="functions.html#function_space"><code class="literal">SPACE()</code></a> with a
        non-Unicode column produced an error.
       (<a href="http://bugs.mysql.com/27580" target="_top">Bug#27580</a>)</p><p>See also <a href="http://bugs.mysql.com/23637" target="_top">Bug#23637</a>.</p></li><li><p>
        In <code class="literal">ORDER BY</code> clauses, mixing aggregate
        functions and nongrouping columns is not allowed if the
        <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode is
        enabled. However, in some cases, no error was thrown because of
        insufficient checking.
       (<a href="http://bugs.mysql.com/27219" target="_top">Bug#27219</a>)</p></li><li><p>
        For the <a href="programs.html#option_mysqlhotcopy_record_log_pos"><code class="option">--record_log_pos</code></a>
        option, <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> now determines the slave
        status information from the result of <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW
        SLAVE STATUS</code></a> by using the
        <code class="literal">Relay_Master_Log_File</code> and
        <code class="literal">Exec_Master_Log_Pos</code> values rather than the
        <code class="literal">Master_Log_File</code> and
        <code class="literal">Read_Master_Log_Pos</code> values. This provides a
        more accurate indication of slave execution relative to the
        master.
       (<a href="http://bugs.mysql.com/27101" target="_top">Bug#27101</a>)</p></li><li><p>
        The MySQL Instance Configuration Wizard would not allow you to
        choose a service name, even though the criteria for the service
        name were valid. The code that checks the name has been updated
        to support the correct criteria of any string less than 256
        character and not containing either a forward or backward slash
        character.
       (<a href="http://bugs.mysql.com/27013" target="_top">Bug#27013</a>)</p></li><li><p>
        <code class="filename">config-win.h</code> unconditionally defined
        <code class="literal">bool</code> as <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a>,
        causing problems on systems where <code class="literal">bool</code> is 1
        byte and <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a> is 4 bytes.
       (<a href="http://bugs.mysql.com/26461" target="_top">Bug#26461</a>)</p></li><li><p>
        On Windows, for distributions built with debugging support,
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> could crash if the user typed
        Control-C.
       (<a href="http://bugs.mysql.com/26243" target="_top">Bug#26243</a>)</p></li><li><p>
        On Windows, an error in <code class="filename">configure.js</code> caused
        installation of source distributions to fail.
       (<a href="http://bugs.mysql.com/25340" target="_top">Bug#25340</a>)</p></li><li><p>
        Using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> in MySQL 5.1 resulted in dump
        files that could not be loaded in MySQL 5.0 because
        <code class="literal">USING <em class="replaceable"><code>type_name</code></em></code>
        options in index definitions appeared after the index column
        list, whereas 5.0 accepted only the old syntax that has
        <code class="literal">USING</code> before the column list. The parser in
        5.0 now accepts <code class="literal">USING</code> following the column
        list.
       (<a href="http://bugs.mysql.com/25162" target="_top">Bug#25162</a>)</p></li><li><p>
        The client library had no way to return an error if no
        connection had been established. This caused problems such as
        <a href="connectors-apis.html#mysql-library-init" title="20.9.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> failing
        silently if no <code class="filename">errmsg.sys</code> file was
        available.
       (<a href="http://bugs.mysql.com/25097" target="_top">Bug#25097</a>)</p></li><li><p>
        On Mac OS X, the StartupItem for MySQL did not work.
       (<a href="http://bugs.mysql.com/25008" target="_top">Bug#25008</a>)</p></li><li><p>
        For Windows 64-bit builds, enabling shared-memory support caused
        client connections to fail.
       (<a href="http://bugs.mysql.com/24992" target="_top">Bug#24992</a>)</p></li><li><p>
        If a user installed MySQL Server and set a password for the
        <code class="literal">root</code> user, and then uninstalled and
        reinstalled MySQL Server to the same location, the user could
        not use the MySQL Instance Config wizard to configure the server
        because the uninstall operation left the previous data directory
        intact. The config wizard <span class="emphasis"><em>assumed</em></span> that any
        new install (not an upgrade) would have the default data
        directory where the <code class="literal">root</code> user has no
        password. The installer now writes a registry key named
        <code class="literal">FoundExistingDataDir</code>. If the installer finds
        an existing data directory, the key will have a value of 1,
        otherwise it will have a value of 0. When
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> is run, it will
        attempt to read the key. If it can read the key, and the value
        is 1 and there is no existing instance of the server (indicating
        a new installation), the Config Wizard will allow the user to
        input the old password so the server can be configured.
       (<a href="http://bugs.mysql.com/24215" target="_top">Bug#24215</a>)</p></li><li><p>
        The MySQL header files contained some duplicate macro
        definitions that could cause compilation problems.
       (<a href="http://bugs.mysql.com/23839" target="_top">Bug#23839</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> on a
        <code class="literal">TEMPOARY</code> table caused locking issues.
       (<a href="http://bugs.mysql.com/23588" target="_top">Bug#23588</a>)</p></li><li><p>
        For distributions compiled with the bundled
        <code class="literal">libedit</code> library, there were difficulties
        using the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client to enter input for
        non-ASCII or multi-byte characters.
       (<a href="http://bugs.mysql.com/23097" target="_top">Bug#23097</a>)</p></li><li><p>
        On Mac OS X, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> did not react to Ctrl-C
        when run under <span><strong class="command">gdb</strong></span>, even when run with the
        <a href="server-administration.html#option_mysqld_gdb"><code class="option">--gdb</code></a> option.
       (<a href="http://bugs.mysql.com/21567" target="_top">Bug#21567</a>)</p></li><li><p>
        <span><strong class="command">mysql-stress-test.pl</strong></span> and
        <span><strong class="command">mysqld_multi.server.sh</strong></span> were missing from some
        binary distributions.
       (<a href="http://bugs.mysql.com/21023" target="_top">Bug#21023</a>, <a href="http://bugs.mysql.com/25486" target="_top">Bug#25486</a>)</p></li><li><p>
        A <code class="literal">SET</code> column whose definition specified 64
        elements could not be updated using integer values.
       (<a href="http://bugs.mysql.com/15409" target="_top">Bug#15409</a>)</p></li><li><p>
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> did not save the
        <a href="storage-engines.html#sysvar_innodb_data_home_dir"><code class="literal">innodb_data_home_dir</code></a> value to
        the <code class="filename">my.ini</code> file under certain
        circumstances.
       (<a href="http://bugs.mysql.com/6627" target="_top">Bug#6627</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-58"></a>C.1.27. Release Notes for MySQL Enterprise 5.0.58 [MRU] (05 March 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.56).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Cluster API</strong></span>: <span class="bold"><strong>Important Change</strong></span>: 
        Because <code class="literal">NDB_LE_MemoryUsage.page_size_kb</code> shows
        memory page sizes in bytes rather than kilobytes, it has been
        renamed to <code class="literal">page_size_bytes</code>. The name
        <code class="literal">page_size_kb</code> is now deprecated and thus
        subject to removal in a future release, although it currently
        remains supported for reasons of backward compatibility. See
        <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-logevent-type.html" target="_top">The <code class="literal">Ndb_logevent_type</code> Type</a>, for more information about
        <code class="literal">NDB_LE_MemoryUsage</code>.
       (<a href="http://bugs.mysql.com/30271" target="_top">Bug#30271</a>)</p></li><li><p>
        The <span><strong class="command">ndbd</strong></span> and <span><strong class="command">ndb_mgmd</strong></span> man
        pages have been reclassified from volume 1 to volume 8.
       (<a href="http://bugs.mysql.com/34642" target="_top">Bug#34642</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> now has <code class="literal">mkdir</code>
        and <code class="literal">rmdir</code> commands for creating and removing
        directories.
       (<a href="http://bugs.mysql.com/31004" target="_top">Bug#31004</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> adaptive hash latches could be held
        too long during filesort operations, resulting in a server
        crash. Now the hash latch is released when a query on
        <code class="literal">InnoDB</code> tables performs a filesort. This
        eliminates the crash and may provide significant performance
        improvements on systems on which many queries using filesorts
        with temporary tables are being performed.
       (<a href="http://bugs.mysql.com/32149" target="_top">Bug#32149</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When configured with <code class="literal">NDB</code> support,
        MySQL failed to compile using <span><strong class="command">gcc</strong></span> 4.3 on
        64bit FreeBSD systems.
       (<a href="http://bugs.mysql.com/34169" target="_top">Bug#34169</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a DDL statement could sometimes lead to node
        failures when attempting to execute subsequent DDL statements.
       (<a href="http://bugs.mysql.com/34160" target="_top">Bug#34160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Extremely long <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        (where the text of the statement was in excess of 50000
        characters) against <code class="literal">NDB</code> tables
        returned empty results.
       (<a href="http://bugs.mysql.com/34107" target="_top">Bug#34107</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A periodic failure to flush the send buffer by the
        <code class="literal">NDB</code> TCP transporter could cause a
        unnecessary delay of 10 ms between operations.
       (<a href="http://bugs.mysql.com/34005" target="_top">Bug#34005</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When all data and SQL nodes in the cluster were shut down
        abnormally (that is, other than by using <code class="literal">STOP</code>
        in the cluster management client), <span><strong class="command">ndb_mgm</strong></span>
        used excessive amounts of CPU.
       (<a href="http://bugs.mysql.com/33237" target="_top">Bug#33237</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction atomicity was sometimes not preserved between reads
        and inserts under high loads.
       (<a href="http://bugs.mysql.com/31477" target="_top">Bug#31477</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Numerous <code class="literal">NDBCLUSTER</code> test failures
        occurred in builds compiled using <span><strong class="command">icc</strong></span> on IA64
        platforms.
       (<a href="http://bugs.mysql.com/31239" target="_top">Bug#31239</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Having tables with a great many columns could cause Cluster
        backups to fail.
       (<a href="http://bugs.mysql.com/30172" target="_top">Bug#30172</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Issuing an
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> concurrently with or following
        a <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statement on an
        <code class="literal">NDB</code> table failed with
        <code class="literal">NDB</code> error 4350
        <span class="errortext">Transaction already aborted</span>.
       (<a href="http://bugs.mysql.com/29851" target="_top">Bug#29851</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was possible in <code class="filename">config.ini</code> to define
        cluster nodes having node IDs greater than the maximum allowed
        value.
       (<a href="http://bugs.mysql.com/28298" target="_top">Bug#28298</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        When reading a <code class="literal">BIT(64)</code> value using
        <code class="literal">NdbOperation:getValue()</code>, 12 bytes were
        written to the buffer rather than the expected 8 bytes.
       (<a href="http://bugs.mysql.com/33750" target="_top">Bug#33750</a>)</p></li><li><p>
        <a href="programs.html#mysql-explain-log" title="4.6.12. mysql_explain_log — Use EXPLAIN on Statements in Query Log"><span><strong class="command">mysql_explain_log</strong></span></a> concatenated multiple-line
        statements, causing malformed results for statements that
        contained SQL comments beginning with <code class="literal">--</code>.
       (<a href="http://bugs.mysql.com/34339" target="_top">Bug#34339</a>)</p></li><li><p>
        Executing an <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> statement
        on a table crashed the server.
       (<a href="http://bugs.mysql.com/34337" target="_top">Bug#34337</a>)</p></li><li><p>
        Passing anything other than an integer argument to a
        <code class="literal">LIMIT</code> clause in a prepared statement would
        fail. (This limitation was introduced to avoid replication
        problems; for example, replicating the statement with a string
        argument would cause a parse failure in the slave). Now,
        arguments to the <code class="literal">LIMIT</code> clause are converted
        to integer values, and these converted values are used when
        logging the statement.
       (<a href="http://bugs.mysql.com/33851" target="_top">Bug#33851</a>)</p></li><li><p>
        An internal buffer in <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> was too short.
        Overextending it could cause stack problems or segmentation
        violations on some architectures. (This is not a problem that
        could be exploited to run arbitrary code.)
       (<a href="http://bugs.mysql.com/33841" target="_top">Bug#33841</a>)</p></li><li><p>
        Large unsigned integers were improperly handled for prepared
        statements, resulting in truncation or conversion to negative
        numbers.
       (<a href="http://bugs.mysql.com/33798" target="_top">Bug#33798</a>)</p></li><li><p>
        <span><strong class="command">make_binary_distribution</strong></span> passed the
        <code class="option">--print-libgcc-file</code> option to the C compiler,
        but this does not work with the <span><strong class="command">ICC</strong></span> compiler.
       (<a href="http://bugs.mysql.com/33536" target="_top">Bug#33536</a>)</p></li><li><p>
        When MySQL was built with OpenSSL, the SSL library was not
        properly initialized with information of which endpoint it was
        (server or client), causing connection failures.
       (<a href="http://bugs.mysql.com/33050" target="_top">Bug#33050</a>)</p></li><li><p>
        Repeated creation and deletion of views within prepared
        statements could eventually crash the server.
       (<a href="http://bugs.mysql.com/32890" target="_top">Bug#32890</a>)</p><p>See also <a href="http://bugs.mysql.com/34587" target="_top">Bug#34587</a>.</p></li><li><p>
        Executing a prepared statement associated with a materialized
        cursor sent to the client a metadata packet with incorrect table
        and database names. The problem occurred because the server sent
        the name of the temporary table used by the cursor instead of
        the table name of the original table.
      </p><p>
        The same problem occured when selecting from a view, in which
        case the name of the table name was sent, rather than the name
        of the view.
       (<a href="http://bugs.mysql.com/32265" target="_top">Bug#32265</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> caused a server crash
        if <code class="literal">InnoDB</code> had not been initialized.
       (<a href="http://bugs.mysql.com/32083" target="_top">Bug#32083</a>)</p></li><li><p>
        The <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> crash handler failed on Windows.
       (<a href="http://bugs.mysql.com/31745" target="_top">Bug#31745</a>)</p></li><li><p>
        The MySQL preferences pane did not work to start or stop MySQL
        on Mac OS X 10.5 (Leopard).
       (<a href="http://bugs.mysql.com/28854" target="_top">Bug#28854</a>)</p></li><li><p>
        For upgrading to a new major version using RPM packages (such as
        4.1 to 5.0), if the installation procedure found an existing
        MySQL server running, it could fail to shut down the old server,
        but also erroneously removed the server's socket file. Now the
        procedure checks for an existing server package from a different
        vendor or major MySQL version. In such case, it refuses to
        install the server and recommends how to safely remove the old
        packages before installing the new ones.
       (<a href="http://bugs.mysql.com/28555" target="_top">Bug#28555</a>)</p></li><li><p>
        <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> silently skipped databases with
        names consisting of two alphanumeric characters.
       (<a href="http://bugs.mysql.com/28460" target="_top">Bug#28460</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not use its completion table. Also,
        the table contained few entries.
       (<a href="http://bugs.mysql.com/24624" target="_top">Bug#24624</a>)</p></li><li><p>
        <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> output did not include
        <code class="literal">-lmygcc</code> on some platforms when it was needed.
       (<a href="http://bugs.mysql.com/21158" target="_top">Bug#21158</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-56sp1"></a>C.1.28. Release Notes for MySQL Enterprise 5.0.56sp1 [QSP] (30 March 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied in MySQL 5.0.56sp1 since the previous MySQL Enterprise
      Server Quarterly Service Pack release (5.0.50sp1a). If you would
      like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produces a <code class="literal">-- Dump
        completed on <em class="replaceable"><code>DATE</code></em></code> comment
        at the end of the dump if
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> is given. The date
        causes dump files for identical data take at different times to
        appear to be different. The new options
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> and
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        control whether the date is added to the comment.
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        suppresses date printing. The default is
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> (include the date
        in the comment).
       (<a href="http://bugs.mysql.com/31077" target="_top">Bug#31077</a>)</p></li><li><p>
        The <code class="function">mysql_odbc_escape_string()</code> C API
        function has been removed. It has multi-byte character escaping
        issues, doesn't honor the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode
        and is not needed anymore by Connector/ODBC as of 3.51.17.
       (<a href="http://bugs.mysql.com/29592" target="_top">Bug#29592</a>)</p></li><li><p>
        The default value of the
        <a href="server-administration.html#sysvar_connect_timeout"><code class="literal">connect_timeout</code></a> system variable
        was increased from 5 to 10 seconds. This might help in cases
        where clients frequently encounter errors of the form
        <code class="literal">Lost connection to MySQL server at
        '<em class="replaceable"><code>XXX</code></em>', system error:
        <em class="replaceable"><code>errno</code></em></code>.
       (<a href="http://bugs.mysql.com/28359" target="_top">Bug#28359</a>)</p></li><li><p>
        The use of <code class="literal">InnoDB</code> hash indexes now can be
        controlled by setting the new
        <a href="storage-engines.html#sysvar_innodb_adaptive_hash_index"><code class="literal">innodb_adaptive_hash_index</code></a>
        system variable at server startup. By default, this variable is
        enabled. See <a href="storage-engines.html#innodb-adaptive-hash" title="13.2.10.4. Adaptive Hash Indexes">Section 13.2.10.4, “Adaptive Hash Indexes”</a>.
      </p></li><li><p>
        The argument for the <span><strong class="command">mysql-test-run.pl</strong></span>
        <code class="option">--do-test</code> and <code class="option">--skip-test</code>
        options is now interpreted as a Perl regular expression if there
        is a pattern metacharacter in the argument value. This allows
        more flexible specification of which tests to perform or skip.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> had a race condition for an adaptive
        hash rw-lock waiting for an X-lock. This fix may also provide
        significant speed improvements on systems experiencing problems
        with contention for the adaptive hash index.
       (<a href="http://bugs.mysql.com/29560" target="_top">Bug#29560</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> against a
        table with explicit <code class="literal">DATA DIRECTORY</code> and
        <code class="literal">INDEX DIRECTORY</code> options can be used to
        overwrite system table information by replacing the symbolic
        link points. the file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is
        allowed only to the original definer or users with the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        It was possible to force an error message of excessive length
        which could lead to a buffer overflow. This has been made no
        longer possible as a security precaution.
       (<a href="http://bugs.mysql.com/32707" target="_top">Bug#32707</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        With <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
        mode enabled, queries such as <code class="literal">SELECT a FROM t1 HAVING
        COUNT(*)&gt;2</code> were not being rejected as they should
        have been.
      </p><p>
        This fix results in the following behavior:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            There is a check against mixing group and nongroup columns
            <span class="emphasis"><em>only</em></span> when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li><li><p>
            This check is done both for the select list and for the
            <code class="literal">HAVING</code> clause if there is one.
          </p></li></ul></div><p>
        This behavior differs from previous versions as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Previously, the <code class="literal">HAVING</code> clause was not
            checked when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was
            enabled; now it is checked.
          </p></li><li><p>
            Previously, the select list was checked even when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was not
            enabled; now it is checked only when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/31794" target="_top">Bug#31794</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The MySQL 5.0.50 patch for this bug was reverted because it
        changed the behavior of a General Availability MySQL release.
       (<a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>)</p><p>See also <a href="http://bugs.mysql.com/27525" target="_top">Bug#27525</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to create a view having a column whose name
        consisted of an empty string or space characters only.
      </p><p>
        One result of this bug fix is that aliases for columns in the
        view <code class="literal">SELECT</code> statement are checked to ensure
        that they are legal column names. In particular, the length must
        be within the maximum column length of 64 characters, not the
        maximum alias length of 256 characters. This can cause problems
        for replication or loading dump files. For additional
        information and workarounds, see
        <a href="restrictions.html#view-restrictions" title="D.4. Restrictions on Views">Section D.4, “Restrictions on Views”</a>.
       (<a href="http://bugs.mysql.com/27695" target="_top">Bug#27695</a>)</p><p>See also <a href="http://bugs.mysql.com/31202" target="_top">Bug#31202</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Several type-preserving functions and operators returned an
        incorrect result type that does not match their argument types:
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>,
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a>. These now aggregate using the
        precise SQL types of their arguments rather than the internal
        type. In addition, the result type of the
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> function is now
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> by default.
       (<a href="http://bugs.mysql.com/27216" target="_top">Bug#27216</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible for option files to be read twice at program
        startup, if some of the standard option file locations turned
        out to be the same directory. Now duplicates are removed from
        the list of files to be read.
      </p><p>
        Also, users could not override system-wide settings using
        <code class="filename">~/.my.cnf</code> because
        <code class="filename"><em class="replaceable"><code>SYSCONFDIR</code></em>/my.cnf</code>
        was read last. The latter file now is read earlier so that
        <code class="filename">~/.my.cnf</code> can override system-wide
        settings.
      </p><p>
        The fix for this problem had a side effect such that on Unix,
        MySQL programs looked for options in
        <code class="filename">~/my.cnf</code> rather than the standard location
        of <code class="filename">~/.my.cnf</code>. That problem was addressed as
        <a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">AUTO_INCREMENT</code> columns had the following
        problems when used in <code class="literal">NDB</code> tables:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              The <code class="literal">AUTO_INCREMENT</code> counter was not
              updated correctly when such a column was updated.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not
              prefetched beyond statement boundaries.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not handled
              correctly with
              <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
              IGNORE</code></a> statements.
            </p></li><li><p>
              After being set,
              <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
              showed a value of 1, regardless of the value it had
              actually been set to.
            </p></li></ul></div><p>
        As part of this fix, the behavior of
        <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
        has changed. Setting this to less than 32 no longer has any
        effect on prefetching within statements (where IDs are now
        always obtained in batches of 32 or more), but only between
        statements. The default value for this variable has also
        changed, and is now <code class="literal">1</code>.
       (<a href="http://bugs.mysql.com/25176" target="_top">Bug#25176</a>, <a href="http://bugs.mysql.com/31956" target="_top">Bug#31956</a>, <a href="http://bugs.mysql.com/32055" target="_top">Bug#32055</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        When the master crashed during an update on a transactional
        table while in <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> mode,
        the slave failed. This fix causes every transaction (including
        <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> transactions) to be
        recorded in the binlog as starting with a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> and
        ending with a <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> or
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>.
       (<a href="http://bugs.mysql.com/26395" target="_top">Bug#26395</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        Network timeouts between the master and the slave could result
        in corruption of the relay log. This fix rectifies a
        long-standing replication issue when using unreliable networks,
        including replication over wide area networks such as the
        Internet. If you experience reliability issues and see many
        <span class="errortext">You have an error in your SQL syntax</span>
        errors on replication slaves, we strongly recommend that you
        upgrade to a MySQL version which includes this fix.
       (<a href="http://bugs.mysql.com/26489" target="_top">Bug#26489</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An improperly reset internal signal was observed as a hang when
        using events in the <code class="literal">NDB</code> API but
        could result in various errors.
       (<a href="http://bugs.mysql.com/33206" target="_top">Bug#33206</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Incorrectly handled parameters could lead to a crash in the
        Transaction Coordinator during a node failure, causing other
        data nodes to fail.
       (<a href="http://bugs.mysql.com/33168" target="_top">Bug#33168</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node could lead to subsequent failures
        in local checkpointing.
       (<a href="http://bugs.mysql.com/32160" target="_top">Bug#32160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An uninitialized variable in the
        <code class="literal">NDB</code> storage engine code led to
        <code class="literal">AUTO_INCREMENT</code> failures when the server was
        compiled with <span><strong class="command">gcc</strong></span> 4.2.1.
       (<a href="http://bugs.mysql.com/31848" target="_top">Bug#31848</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An error with an <code class="literal">if</code> statement in
        <code class="filename">sql/ha_ndbcluster.cc</code> could potentially lead
        to an infinite loop in case of failure when working with
        <code class="literal">AUTO_INCREMENT</code> columns in
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/31810" target="_top">Bug#31810</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine code was not
        safe for strict-alias optimization in <span><strong class="command">gcc</strong></span>
        4.2.1.
       (<a href="http://bugs.mysql.com/31761" target="_top">Bug#31761</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Primary keys on variable-length columns (such as
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>) did not work correctly.
       (<a href="http://bugs.mysql.com/31635" target="_top">Bug#31635</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction timeouts were not handled well in some
        circumstances, leading to excessive number of transactions being
        aborted unnecessarily.
       (<a href="http://bugs.mysql.com/30379" target="_top">Bug#30379</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, the cluster managment server logged entries
        multiple times following a restart of <span><strong class="command">mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/29565" target="_top">Bug#29565</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An interpreted program of sufficient size and complexity could
        cause all cluster data nodes to shut down due to buffer
        overruns.
       (<a href="http://bugs.mysql.com/29390" target="_top">Bug#29390</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> could sometimes fail on
        <code class="literal">NDB</code> tables due to the use of
        unitialized data when checking for duplicate keys to be ignored.
       (<a href="http://bugs.mysql.com/25817" target="_top">Bug#25817</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code>
        table with a duplicate value for a nonprimary unique key, the
        error issued would reference the wrong key.
      </p><p>
        This improves on an initial fix for this issue made in MySQL
        5.0.30 and MySQL 5.0.33
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>,
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a>, or
        <a href="sql-syntax.html#rename-user" title="12.5.1.4. RENAME USER Syntax"><code class="literal">RENAME USER</code></a> statement that fails
        on the master, or that is a duplicate of any of these
        statements, is no longer written to the binlog; previously,
        either of these occurrences could cause the slave to fail.
      </p><p> (<a href="http://bugs.mysql.com/33862" target="_top">Bug#33862</a>)</p><p>See also <a href="http://bugs.mysql.com/29749" target="_top">Bug#29749</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> could fail
        when the binlog contained one or more events whose size was
        close to the value of
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/33413" target="_top">Bug#33413</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements containing comments using <code class="literal">--</code>
        syntax were not replayable by <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>,
        even though such statements replicated correctly.
       (<a href="http://bugs.mysql.com/32205" target="_top">Bug#32205</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        It was possible for the name of the relay log file to exceed the
        amount of memory reserved for it, possibly leading to a crash of
        the server.
       (<a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>)</p><p>See also <a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Corruption of log events caused the server to crash on 64-bit
        Linux systems having 4 GB or more of memory.
       (<a href="http://bugs.mysql.com/31793" target="_top">Bug#31793</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Use of the <code class="literal">@@hostname</code> system variable in
        inserts in <code class="filename">mysql_system_tables_data.sql</code> did
        not replicate. The workaround is to select its value into a user
        variable (which does replicate) and insert that.
       (<a href="http://bugs.mysql.com/31167" target="_top">Bug#31167</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing a <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> statement
        caused replication to fail if the view did not actually exist.
       (<a href="http://bugs.mysql.com/30998" target="_top">Bug#30998</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        One thread could read uninitialized memory from the stack of
        another thread. This issue was only known to occur in a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process acting as both a master and a
        slave.
       (<a href="http://bugs.mysql.com/30752" target="_top">Bug#30752</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> could fail when
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> was larger
        than <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/30435" target="_top">Bug#30435</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Setting <a href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> did not
        update its value for the current session.
       (<a href="http://bugs.mysql.com/28908" target="_top">Bug#28908</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Due a previous change in how the default name and location of
        the binary log file were determined, replication failed
        following some upgrades.
       (<a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>, <a href="http://bugs.mysql.com/28603" target="_top">Bug#28603</a>)</p><p>See also <a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Stored procedures having <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>
        parameters were not replicated correctly.
       (<a href="http://bugs.mysql.com/26199" target="_top">Bug#26199</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> as
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was shutting down could cause a crash.
       (<a href="http://bugs.mysql.com/26000" target="_top">Bug#26000</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement using a
        stored function that modified a nontransactional table was not
        logged if it failed. This caused the copy of the
        nontransactional table on the master have a row that the copy on
        the slave did not.
      </p><p>
        In addition, when an
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> statement encountered a
        duplicate key constraint, but the
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> did not actually change
        any data, the statement was not logged. As a result of this fix,
        such statements are now treated the same for logging purposes as
        other <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements, and so
        are written to the binary log.
       (<a href="http://bugs.mysql.com/23333" target="_top">Bug#23333</a>)</p><p>See also <a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave sometimes failed to reconnect because it was
        unable to run <a href="sql-syntax.html#show-slave-hosts" title="12.5.5.30. SHOW SLAVE HOSTS Syntax"><code class="literal">SHOW SLAVE HOSTS</code></a>.
        It was not necessary to run this statement on slaves (since the
        master should track connection IDs), and the execution of this
        statement by slaves was removed.
       (<a href="http://bugs.mysql.com/21132" target="_top">Bug#21132</a>)</p><p>See also <a href="http://bugs.mysql.com/13963" target="_top">Bug#13963</a>, <a href="http://bugs.mysql.com/21869" target="_top">Bug#21869</a>.</p></li><li><p>
        The server crashed when executing a query that had a subquery
        containing an equality X=Y where Y referred to a named select
        list expression from the parent select. The server crashed when
        trying to use the X=Y equality for
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>-based access.
       (<a href="http://bugs.mysql.com/33794" target="_top">Bug#33794</a>)</p></li><li><p>
        Use of uninitialized memory for <code class="literal">filesort</code> in a
        subquery caused a server crash.
       (<a href="http://bugs.mysql.com/33675" target="_top">Bug#33675</a>)</p></li><li><p>
        The server could crash when
        <a href="sql-syntax.html#repeat-statement" title="12.8.6.6. REPEAT
        Statement"><code class="literal">REPEAT</code></a>
        or another control instruction was used in conjunction with
        labels and a
        <a href="sql-syntax.html#leave-statement" title="12.8.6.4. LEAVE
        Statement"><code class="literal">LEAVE</code></a>
        instruction.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        The parser allowed control structures in compound statements to
        have mismatched beginning and ending labels.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL myisam_max_sort_file_size=DEFAULT</code>
        set <a href="server-administration.html#sysvar_myisam_max_sort_file_size"><code class="literal">myisam_max_sort_file_size</code></a>
        to an incorrect value.
       (<a href="http://bugs.mysql.com/33382" target="_top">Bug#33382</a>)</p><p>See also <a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>.</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> created tables that for date columns used the
        obsolete <code class="literal">Field_date</code> type instead of
        <code class="literal">Field_newdate</code>.
       (<a href="http://bugs.mysql.com/33256" target="_top">Bug#33256</a>)</p></li><li><p>
        For <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns used with the
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        function with a nonconstant value of
        <em class="replaceable"><code>D</code></em>, adding an <code class="literal">ORDER
        BY</code> for the function result produced misordered output.
       (<a href="http://bugs.mysql.com/33143" target="_top">Bug#33143</a>)</p><p>See also <a href="http://bugs.mysql.com/33402" target="_top">Bug#33402</a>, <a href="http://bugs.mysql.com/30617" target="_top">Bug#30617</a>.</p></li><li><p>
        Some valid <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        could not be used as views due to incorrect column reference
        resolution.
       (<a href="http://bugs.mysql.com/33133" target="_top">Bug#33133</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a> and <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a> introduced a significant
        input-parsing slowdown for the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
        This has been corrected.
       (<a href="http://bugs.mysql.com/33057" target="_top">Bug#33057</a>)</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> constructs cannot contain
        <code class="literal">SELECT ... INTO</code> except in the final
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>. However, if a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> was used in a subquery and
        an <code class="literal">INTO</code> clause appeared in the top-level
        query, the parser interpreted it as having appeared in the
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> and raised an error.
       (<a href="http://bugs.mysql.com/32858" target="_top">Bug#32858</a>)</p></li><li><p>
        The correct data type for a <code class="literal">NULL</code> column
        resulting from a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could be
        determined incorrectly in some cases: 1) Not correctly inferred
        as <code class="literal">NULL</code> depending on the number of selects;
        2) Not inferred correctly as <code class="literal">NULL</code> if one
        select used a subquery.
       (<a href="http://bugs.mysql.com/32848" target="_top">Bug#32848</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query using <code class="literal">IS
        NULL</code> in the <code class="literal">WHERE</code> clause did not
        return correct results.
       (<a href="http://bugs.mysql.com/32815" target="_top">Bug#32815</a>)</p></li><li><p>
        For queries containing <code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>col_list</code></em> ORDER BY
        <em class="replaceable"><code>col_list</code></em>)</code>, there was a
        limitation that the <code class="literal">DISTINCT</code> columns had to
        be the same as <code class="literal">ORDER BY</code> columns. Incorrect
        results could be returned if this was not true.
       (<a href="http://bugs.mysql.com/32798" target="_top">Bug#32798</a>)</p></li><li><p>
        Use of the <code class="literal">cp932</code> character set with
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> in an <code class="literal">ORDER
        BY</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/32726" target="_top">Bug#32726</a>)</p></li><li><p>
        A subquery using an <code class="literal">IS NULL</code> check of a column
        defined as <code class="literal">NOT NULL</code> in a table used in the
        <code class="literal">FROM</code> clause of the outer query produced an
        invalid result.
       (<a href="http://bugs.mysql.com/32694" target="_top">Bug#32694</a>)</p></li><li><p>
        Specifying a nonexistent column for an
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statement caused a
        server crash rather than producing an error.
       (<a href="http://bugs.mysql.com/32676" target="_top">Bug#32676</a>)</p></li><li><p>
        Use of <code class="literal">CLIENT_MULTI_QUERIES</code> caused
        <code class="literal">libmysqld</code> to crash.
       (<a href="http://bugs.mysql.com/32624" target="_top">Bug#32624</a>)</p></li><li><p>
        The <a href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a> function
        incorrectly handled <code class="literal">NULL</code> values in the value
        list.
       (<a href="http://bugs.mysql.com/32560" target="_top">Bug#32560</a>)</p></li><li><p>
        Use of a <code class="literal">NULL</code>-returning <code class="literal">GROUP
        BY</code> expression in conjunction with <code class="literal">WITH
        ROLLUP</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>)</p><p>See also <a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>.</p></li><li><p>
        A <code class="literal">SELECT ... GROUP BY
        <em class="replaceable"><code>bit_column</code></em></code> query failed
        with an assertion if the length of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column used for the
        <code class="literal">GROUP BY</code> was not an integer multiple of 8.
       (<a href="http://bugs.mysql.com/32556" target="_top">Bug#32556</a>)</p></li><li><p>
        Using <code class="literal">SELECT INTO OUTFILE</code> with 8-bit
        <code class="literal">ENCLOSED BY</code> characters led to corrupted data
        when the data was reloaded using LOAD DATA INFILE. This was
        because <code class="literal">SELECT INTO OUTFILE</code> failed to escape
        the 8-bit characters.
       (<a href="http://bugs.mysql.com/32533" target="_top">Bug#32533</a>)</p></li><li><p>
        For <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
        READ LOCK</code></a>, the server failed to properly detect
        write-locked tables when running with low-priority updates,
        resulting in a crash or deadlock.
       (<a href="http://bugs.mysql.com/32528" target="_top">Bug#32528</a>)</p></li><li><p>
        A build problem introduced in MySQL 5.0.52 was resolved: The x86
        32-bit Intel <span><strong class="command">icc</strong></span>-compiled server binary had
        unwanted dependences on Intel <span><strong class="command">icc</strong></span> runtime
        libraries.
       (<a href="http://bugs.mysql.com/32514" target="_top">Bug#32514</a>)</p></li><li><p>
        The rules for valid column names were being applied differently
        for base tables and views.
       (<a href="http://bugs.mysql.com/32496" target="_top">Bug#32496</a>)</p></li><li><p>
        Sending several <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL
        QUERY</code></a> statements to target a connection running
        <code class="literal">SELECT SLEEP()</code> could freeze the server.
       (<a href="http://bugs.mysql.com/32436" target="_top">Bug#32436</a>)</p></li><li><p>
        <code class="literal">ssl-cipher</code> values in option files were not
        being read by <code class="literal">libmysqlclient</code>.
       (<a href="http://bugs.mysql.com/32429" target="_top">Bug#32429</a>)</p></li><li><p>
        Repeated execution of a query containing a
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        expression and numerous <code class="literal">AND</code> and
        <code class="literal">OR</code> relations could crash the server. The root
        cause of the issue was determined to be that the internal
        <code class="literal">SEL_ARG</code> structure was not properly
        initialized when created.
       (<a href="http://bugs.mysql.com/32403" target="_top">Bug#32403</a>)</p></li><li><p>
        Referencing within a subquery an alias used in the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> list of the outer query
        was incorrectly permitted.
       (<a href="http://bugs.mysql.com/32400" target="_top">Bug#32400</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query on a view created using a
        <code class="literal">FEDERATED</code> table as a base table caused the
        server to crash.
       (<a href="http://bugs.mysql.com/32374" target="_top">Bug#32374</a>)</p></li><li><p>
        Comparison of a <code class="literal">BIGINT NOT NULL</code> column with a
        constant arithmetic expression that evaluated to NULL mistakenly
        caused the error <span class="errortext">Column '...' cannot be
        null</span> (error 1048).
       (<a href="http://bugs.mysql.com/32335" target="_top">Bug#32335</a>)</p></li><li><p>
        Assigning a 65,536-byte string to a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column (which can hold a
        maximum of 65,535 bytes) resulted in truncation without a
        warning. Now a truncation warning is generated.
       (<a href="http://bugs.mysql.com/32282" target="_top">Bug#32282</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> function returns a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value, but internally the
        value did not have the time fields zeroed and calculations
        involving the value could return incorrect results.
       (<a href="http://bugs.mysql.com/32270" target="_top">Bug#32270</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return incorrect
        results when an index was present if a loose index scan was
        used.
       (<a href="http://bugs.mysql.com/32268" target="_top">Bug#32268</a>)</p></li><li><p>
        Memory corruption could occur due to large index map in
        <code class="literal">Range checked for each record</code> status reported
        by <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        SELECT</code></a>. The problem was based in an incorrectly
        calculated length of the buffer used to store a hexadecimal
        representation of an index map, which could result in buffer
        overrun and stack corruption under some circumstances.
       (<a href="http://bugs.mysql.com/32241" target="_top">Bug#32241</a>)</p></li><li><p>
        Various test program cleanups were made: 1)
        <span><strong class="command">mytest</strong></span> and <code class="literal">libmysqltest</code>
        were removed. 2) <span><strong class="command">bug25714</strong></span> displays an error
        message when invoked with incorrect arguments or the
        <code class="option">--help</code> option. 3)
        <span><strong class="command">mysql_client_test</strong></span> exits cleanly with a proper
        error status.
       (<a href="http://bugs.mysql.com/32221" target="_top">Bug#32221</a>)</p></li><li><p>
        The default grant tables on Windows contained information for
        host <code class="literal">production.mysql.com</code>, which should not
        be there.
       (<a href="http://bugs.mysql.com/32219" target="_top">Bug#32219</a>)</p></li><li><p>
        Under certain conditions, the presence of a <code class="literal">GROUP
        BY</code> clause could cause an <code class="literal">ORDER BY</code>
        clause to be ignored.
       (<a href="http://bugs.mysql.com/32202" target="_top">Bug#32202</a>)</p></li><li><p>
        For comparisons of the form <em class="replaceable"><code>date_col OP
        datetime_const</code></em> (where
        <em class="replaceable"><code>OP</code></em> is
        <a href="functions.html#operator_equal"><code class="literal">=</code></a>,
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>,
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>,
        <a href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>,
        or
        <a href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>),
        the comparison is done using
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, per the fix for
        <a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>. However that fix caused any index on
        <em class="replaceable"><code>date_col</code></em> not to be used and
        compromised performance. Now the index is used again.
       (<a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> arguments specified in
        numeric form were treated by
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/32180" target="_top">Bug#32180</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        The server crashed on optimizations involving a join of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">MEDIUMINT</code></a> columns and a system
        variable in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/32103" target="_top">Bug#32103</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        set, <code class="literal">CREATE TABLE LIKE</code> was treated
        differently by <code class="literal">libmysqld</code> than by the
        nonembedded server.
       (<a href="http://bugs.mysql.com/32063" target="_top">Bug#32063</a>)</p></li><li><p>
        Within a subquery, <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> was
        handled differently than at the top level, which could result in
        incorrect results or a server crash.
       (<a href="http://bugs.mysql.com/32036" target="_top">Bug#32036</a>, <a href="http://bugs.mysql.com/32051" target="_top">Bug#32051</a>)</p></li><li><p>
        User-defined functions are not loaded if the server is started
        with the <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
        option, but the server did not properly handle this case and
        issued an <span class="errortext">Out of memory</span> error message
        instead.
       (<a href="http://bugs.mysql.com/32020" target="_top">Bug#32020</a>)</p></li><li><p>
        <a href="functions.html#function_hour"><code class="literal">HOUR()</code></a>,
        <a href="functions.html#function_minute"><code class="literal">MINUTE()</code></a>, and
        <a href="functions.html#function_second"><code class="literal">SECOND()</code></a> could return nonzero
        values for <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> arguments.
       (<a href="http://bugs.mysql.com/31990" target="_top">Bug#31990</a>)</p></li><li><p>
        A column with malformed multi-byte characters could cause the
        full-text parser to go into an infinite loop.
       (<a href="http://bugs.mysql.com/31950" target="_top">Bug#31950</a>)</p></li><li><p>
        Changing the SQL mode to cause dates with “<span class="quote">zero</span>”
        parts to be considered invalid (such as
        <code class="literal">'1000-00-00'</code>) could result in indexed and
        nonindexed searches returning different results for a column
        that contained such dates.
       (<a href="http://bugs.mysql.com/31928" target="_top">Bug#31928</a>)</p></li><li><p>
        In debug builds, testing the result of an <code class="literal">IN</code>
        subquery against <code class="literal">NULL</code> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/31884" target="_top">Bug#31884</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> sometimes set up test
        scenarios in which the same port number was passed to multiple
        servers, causing one of them to be unable to start.
       (<a href="http://bugs.mysql.com/31880" target="_top">Bug#31880</a>)</p></li><li><p>
        Comparison results for <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> were
        different from those for operators like
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a> and
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>-like values with
        trailing extra characters such as <code class="literal">'2007-10-01 00:00:00
        GMT-6'</code>. <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> treated
        the values as <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>, whereas
        the other operators performed a binary-string comparison. Now
        they all uniformly use a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        comparison, but generate warnings for values with trailing
        garbage.
       (<a href="http://bugs.mysql.com/31800" target="_top">Bug#31800</a>)</p></li><li><p>
        Name resolution for correlated subqueries and
        <code class="literal">HAVING</code> clauses failed to distinguish which of
        two was being performed when there was a reference to an outer
        aliased field. This could result in error messages about a
        <code class="literal">HAVING</code> clause for queries that had no such
        clause.
       (<a href="http://bugs.mysql.com/31797" target="_top">Bug#31797</a>)</p></li><li><p>
        The server could crash during <code class="literal">filesort</code> for
        <code class="literal">ORDER BY</code> based on expressions with
        <a href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> or
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a> if those functions returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/31758" target="_top">Bug#31758</a>)</p></li><li><p>
        For a fatal error during a filesort in
        <code class="literal">find_all_keys()</code>, the error was returned
        without the necessary handler uninitialization, causing an
        assertion failure.
       (<a href="http://bugs.mysql.com/31742" target="_top">Bug#31742</a>)</p></li><li><p>
        The examined-rows count was not incremented for
        <a href="optimization.html#jointype_const"><code class="literal">const</code></a> queries.
       (<a href="http://bugs.mysql.com/31700" target="_top">Bug#31700</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function was subject to buffer overflow.
       (<a href="http://bugs.mysql.com/31669" target="_top">Bug#31669</a>)</p></li><li><p>
        For <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a>, if the <code class="literal">ENCLOSED BY</code> string
        is empty and the <code class="literal">FIELDS TERMINATED BY</code> string
        started with a special character (one of <code class="literal">n</code>,
        <code class="literal">t</code>, <code class="literal">r</code>,
        <code class="literal">b</code>, <code class="literal">0</code>,
        <code class="literal">Z</code>, or <code class="literal">N</code>), every occurrence
        of the character within field values would be duplicated.
       (<a href="http://bugs.mysql.com/31663" target="_top">Bug#31663</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> and
        <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> displayed
        <code class="literal">null</code> as the column type for a view with no
        valid definer. This caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to
        produce a nonreloadable dump file for the view.
       (<a href="http://bugs.mysql.com/31662" target="_top">Bug#31662</a>)</p></li><li><p>
        The <a href="programs.html#mysqlbug" title="4.4.4. mysqlbug — Generate Bug Report"><span><strong class="command">mysqlbug</strong></span></a> script did not include the
        correct values of <code class="literal">CFLAGS</code> and
        <code class="literal">CXXFLAGS</code> that were used to configure the
        distribution.
       (<a href="http://bugs.mysql.com/31644" target="_top">Bug#31644</a>)</p></li><li><p>
        <code class="literal">ucs2</code> does not work as a client character set,
        but attempts to use it as such were not rejected. Now
        <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> cannot be
        set to <code class="literal">ucs2</code>. This also affects statements
        such as <code class="literal">SET NAMES</code> and <code class="literal">SET CHARACTER
        SET</code>.
       (<a href="http://bugs.mysql.com/31615" target="_top">Bug#31615</a>)</p></li><li><p>
        A buffer used when setting variables was not dimensioned to
        accommodate the trailing <code class="literal">'\0'</code> byte, so a
        single-byte buffer overrun was possible.
       (<a href="http://bugs.mysql.com/31588" target="_top">Bug#31588</a>)</p></li><li><p>
        <code class="literal">HAVING</code> could treat lettercase of table
        aliases incorrectly if
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was
        enabled.
       (<a href="http://bugs.mysql.com/31562" target="_top">Bug#31562</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a> introduced a problem such that a
        <code class="literal">NULL</code> thread handler could be used during a
        rollback operation. This problem is unlikely to be seen in
        practice.
       (<a href="http://bugs.mysql.com/31517" target="_top">Bug#31517</a>)</p></li><li><p>
        Killing a <code class="literal">CREATE TABLE ... LIKE</code> statement
        that was waiting for a name lock caused a server crash. When the
        statement was killed, the server attempted to release locks that
        were not held.
       (<a href="http://bugs.mysql.com/31479" target="_top">Bug#31479</a>)</p></li><li><p>
        The length of the result from
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could be calculated
        incorrectly because the sign of the result was not taken into
        account.
       (<a href="http://bugs.mysql.com/31471" target="_top">Bug#31471</a>)</p></li><li><p>
        Queries that used the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>
        access method or index-based subquery execution over indexes
        that have <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns could
        fail with an error <code class="literal">Column
        <em class="replaceable"><code>col_name</code></em> cannot be null</code>.
       (<a href="http://bugs.mysql.com/31450" target="_top">Bug#31450</a>)</p></li><li><p>
        <code class="literal">SELECT 1 REGEX NULL</code> caused an assertion
        failure for debug servers.
       (<a href="http://bugs.mysql.com/31440" target="_top">Bug#31440</a>)</p></li><li><p>
        Executing <code class="literal">RENAME</code> while tables were open for
        use with <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> statements could
        cause a server crash.
       (<a href="http://bugs.mysql.com/31409" target="_top">Bug#31409</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> tried to create files in a
        directory where it could not be expected to have write
        permission. <span><strong class="command">mysqltest</strong></span> created
        <code class="filename">.reject</code> files in a directory other than the
        one where test results go.
       (<a href="http://bugs.mysql.com/31398" target="_top">Bug#31398</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> caused an increase in
        memory usage.
       (<a href="http://bugs.mysql.com/31347" target="_top">Bug#31347</a>)</p></li><li><p>
        For an almost-full <code class="literal">MyISAM</code> table, an insert
        that failed could leave the table in a corrupt state.
       (<a href="http://bugs.mysql.com/31305" target="_top">Bug#31305</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk --unpack</strong></span></a> could corrupt a table that
        when unpacked has static (fixed-length) row format.
       (<a href="http://bugs.mysql.com/31277" target="_top">Bug#31277</a>)</p></li><li><p>
        <a href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>val</code></em>,
        DATETIME)</code></a> would fail on invalid input, but processing
        was not aborted for the <code class="literal">WHERE</code> clause, leading
        to a server crash.
       (<a href="http://bugs.mysql.com/31253" target="_top">Bug#31253</a>)</p></li><li><p>
        Allocation of an insufficiently large group-by buffer following
        creation of a temporary table could lead to a server crash.
       (<a href="http://bugs.mysql.com/31249" target="_top">Bug#31249</a>)</p></li><li><p>
        Use of <code class="literal">DECIMAL(<em class="replaceable"><code>n</code></em>,
        <em class="replaceable"><code>n</code></em>) ZEROFILL</code> in
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31227" target="_top">Bug#31227</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms.
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>.</p></li><li><p>
        WIth small values of
        <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> for
        <code class="literal">MyISAM</code> tables could cause a server crash.
       (<a href="http://bugs.mysql.com/31174" target="_top">Bug#31174</a>)</p></li><li><p>
        If <a href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a> returned
        <code class="literal">NULL</code> when used in an <code class="literal">ORDER
        BY</code> that was evaluated using
        <code class="literal">filesort</code>, a server crash could result.
       (<a href="http://bugs.mysql.com/31160" target="_top">Bug#31160</a>)</p></li><li><p>
        Full-text searches on <code class="literal">ucs2</code> columns caused a
        server crash. (<code class="literal">FULLTEXT</code> indexes on
        <code class="literal">ucs2</code> columns cannot be used, but it should be
        possible to perform <code class="literal">IN BOOLEAN MODE</code> searches
        on <code class="literal">ucs2</code> columns without a crash.)
       (<a href="http://bugs.mysql.com/31159" target="_top">Bug#31159</a>)</p></li><li><p>
        Data in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <code class="literal">GEOMETRY</code> columns could be cropped when
        performing a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> query.
       (<a href="http://bugs.mysql.com/31158" target="_top">Bug#31158</a>)</p></li><li><p>
        An assertion designed to detect a bug in the
        <code class="literal">ROLLUP</code> implementation would incorrectly be
        triggered when used in a subquery context with noncacheable
        statements.
       (<a href="http://bugs.mysql.com/31156" target="_top">Bug#31156</a>)</p></li><li><p>
        Selecting spatial types in a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could cause a server crash.
       (<a href="http://bugs.mysql.com/31155" target="_top">Bug#31155</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> caused an
        assertion failure.
       (<a href="http://bugs.mysql.com/31154" target="_top">Bug#31154</a>)</p></li><li><p>
        The server crashed in the parser when running out of memory.
        Memory handling in the parser has been improved to gracefully
        return an error when out-of-memory conditions occur in the
        parser.
       (<a href="http://bugs.mysql.com/31153" target="_top">Bug#31153</a>)</p></li><li><p>
        MySQL declares a <code class="literal">UNIQUE</code> key as a
        <code class="literal">PRIMARY</code> key if it doesn't have
        <code class="literal">NULL</code> columns and is not a partial key, and
        the <code class="literal">PRIMARY</code> key must alway be the first key.
        However, in some cases, a nonfirst key could be reported as
        <code class="literal">PRIMARY</code>, leading to an assert failure by
        <code class="literal">InnoDB</code>. This is fixed by correcting the key
        sort order.
       (<a href="http://bugs.mysql.com/31137" target="_top">Bug#31137</a>)</p></li><li><p>
        <code class="literal">GROUP BY NULL WITH ROLLUP</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>)</p><p>See also <a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>.</p></li><li><p>
        <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> operations could cause a
        server crash for character sets such as <code class="literal">ucs2</code>.
        Now the arguments are converted to <code class="literal">utf8</code> if
        possible, to allow correct results to be produced if the
        resulting strings contain only 8-bit characters.
       (<a href="http://bugs.mysql.com/31081" target="_top">Bug#31081</a>)</p></li><li><p>
        Internal conversion routines could fail for several multi-byte
        character sets (<code class="literal">big5</code>,
        <code class="literal">cp932</code>, <code class="literal">euckr</code>,
        <code class="literal">gb2312</code>, <code class="literal">sjis</code>) for empty
        strings or during evaluation of <a href="functions.html#operator_sounds-like"><code class="literal">SOUNDS
        LIKE</code></a>.
       (<a href="http://bugs.mysql.com/31069" target="_top">Bug#31069</a>, <a href="http://bugs.mysql.com/31070" target="_top">Bug#31070</a>)</p></li><li><p>
        Many nested subqueries in a single query could led to excessive
        memory consumption and possibly a crash of the server.
       (<a href="http://bugs.mysql.com/31048" target="_top">Bug#31048</a>)</p></li><li><p>
        The <a href="functions.html#function_mod"><code class="literal">MOD()</code></a> function and the
        <code class="literal">%</code> operator crashed the server for a divisor
        less than 1 with a very long fractional part.
       (<a href="http://bugs.mysql.com/31019" target="_top">Bug#31019</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect.
       (<a href="http://bugs.mysql.com/30992" target="_top">Bug#30992</a>)</p></li><li><p>
        A character set introducer followed by a hexadecimal or
        bit-value literal did not check its argument and could return an
        ill-formed result for invalid input.
       (<a href="http://bugs.mysql.com/30986" target="_top">Bug#30986</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        <em class="replaceable"><code>charset</code></em>)</code></a> did not check its
        argument and could return an ill-formed result for invalid
        input.
       (<a href="http://bugs.mysql.com/30982" target="_top">Bug#30982</a>)</p></li><li><p>
        The result from
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        ucs2</code></a>) did not add a leading 0x00 byte for input
        strings with an odd number of bytes.
       (<a href="http://bugs.mysql.com/30981" target="_top">Bug#30981</a>)</p></li><li><p>
        The <a href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a> function could
        cause a server crash if the first argument was
        <code class="literal">NULL</code> or the empty string.
       (<a href="http://bugs.mysql.com/30955" target="_top">Bug#30955</a>)</p></li><li><p>
        <a href="functions.html#function_makedate"><code class="literal">MAKEDATE()</code></a> incorrectly moved year
        values in the 100–200 range into the 1970–2069
        range. (This is legitimate for 00–99, but three-digit
        years should be used unchanged.)
       (<a href="http://bugs.mysql.com/30951" target="_top">Bug#30951</a>)</p></li><li><p>
        When invoked with constant arguments,
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> could use a cached
        value for the format string and return incorrect results.
       (<a href="http://bugs.mysql.com/30942" target="_top">Bug#30942</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> returned
        <code class="literal">','</code> rather than an empty string when the
        argument column contained only empty strings.
       (<a href="http://bugs.mysql.com/30897" target="_top">Bug#30897</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        for nonconstant values of <em class="replaceable"><code>D</code></em> could
        crash the server if these functions were used in an
        <code class="literal">ORDER BY</code> that was resolved using
        <code class="literal">filesort</code>.
       (<a href="http://bugs.mysql.com/30889" target="_top">Bug#30889</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, lookups for
        <code class="literal">NULL</code> values in <code class="literal">BTREE</code>
        indexes could return incorrect results.
       (<a href="http://bugs.mysql.com/30885" target="_top">Bug#30885</a>)</p></li><li><p>
        Calling <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> with
        nonconstant arguments triggered an assertion failure.
        Nonconstant arguments are now disallowed.
       (<a href="http://bugs.mysql.com/30832" target="_top">Bug#30832</a>)</p></li><li><p>
        For a spatial column with a regular
        (non-<code class="literal">SPATIAL</code>) index, queries failed if the
        optimizer tried to use the index.
       (<a href="http://bugs.mysql.com/30825" target="_top">Bug#30825</a>)</p></li><li><p>
        Values for the <code class="option">--tc-heuristic-recover</code> option
        incorrectly were treated as values for the
        <code class="option">--myisam-stats-method</code> option.
       (<a href="http://bugs.mysql.com/30821" target="_top">Bug#30821</a>)</p></li><li><p>
        The optimizer incorrectly optimized conditions out of the
        <code class="literal">WHERE</code> clause in some queries involving
        subqueries and indexed columns.
       (<a href="http://bugs.mysql.com/30788" target="_top">Bug#30788</a>)</p></li><li><p>
        Improper calculation of <a href="functions.html#operator_case"><code class="literal">CASE</code></a>
        expression results could lead to value truncation.
       (<a href="http://bugs.mysql.com/30782" target="_top">Bug#30782</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect. One symptom was that invalidating
        the query cache could cause a server crash.
       (<a href="http://bugs.mysql.com/30768" target="_top">Bug#30768</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> involving
        transactional and nontransactional tables caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/30763" target="_top">Bug#30763</a>)</p></li><li><p>
        Under some circumstances,
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> could crash the server or incorrectly report
        that the table row size was too large.
       (<a href="http://bugs.mysql.com/30736" target="_top">Bug#30736</a>)</p></li><li><p>
        Using the <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> function to select one part
        of a multi-part key could cause a crash when the function result
        was <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/30715" target="_top">Bug#30715</a>)</p></li><li><p>
        The optimizer could ignore <code class="literal">ORDER BY</code> in cases
        when the result set is ordered by <code class="literal">filesort</code>,
        resulting in rows being returned in incorrect order.
       (<a href="http://bugs.mysql.com/30666" target="_top">Bug#30666</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> tables could not exceed 4294967295
        (2<sup>32</sup> – 1) rows on Windows.
       (<a href="http://bugs.mysql.com/30638" target="_top">Bug#30638</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements that remove
        rows based on an index read could fail to remove all matching
        rows.
       (<a href="http://bugs.mysql.com/30590" target="_top">Bug#30590</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on an expression of the form
        <code class="literal"><em class="replaceable"><code>timestamp_col</code></em> DIV
        <em class="replaceable"><code>number</code></em></code> caused a server
        crash due to incorrect calculation of number of decimals.
       (<a href="http://bugs.mysql.com/30587" target="_top">Bug#30587</a>)</p></li><li><p>
        The options available to the <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> statement were also allowed in
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> and
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a> statements, but
        caused corruption during their execution. These options were
        never supported for these statements, and an error is now raised
        if you try to apply these options to these statements.
       (<a href="http://bugs.mysql.com/30495" target="_top">Bug#30495</a>)</p></li><li><p>
        When expanding a <code class="literal">*</code> in a
        <code class="literal">USING</code> or <code class="literal">NATURAL</code> join, the
        check for table access for both tables in the join was done
        using only the grant information of the first table.
       (<a href="http://bugs.mysql.com/30468" target="_top">Bug#30468</a>)</p></li><li><p>
        When casting a string value to an integer, cases where the input
        string contained a decimal point and was long enough to overrun
        the <code class="literal">unsigned long long</code> type were not handled
        correctly. The position of the decimal point was not taken into
        account which resulted in miscalculated numbers and incorrect
        truncation to appropriate SQL data type limits.
       (<a href="http://bugs.mysql.com/30453" target="_top">Bug#30453</a>)</p></li><li><p>
        Versions of <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> from MySQL 4.1 or
        higher tried to use <code class="literal">START TRANSACTION WITH CONSISTENT
        SNAPSHOT</code> if the
        <a href="programs.html#option_mysqldump_single-transaction"><code class="option">--single-transaction</code></a> and
        <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> options were
        given, even with servers older than 4.1 that do not support
        consistent snapshots.
       (<a href="http://bugs.mysql.com/30444" target="_top">Bug#30444</a>)</p></li><li><p>
        For <code class="literal">CREATE ... SELECT ... FROM</code>, where the
        resulting table contained indexes, adding
        <code class="literal">SQL_BUFFER_RESULT</code> to the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part caused index
        corruption in the table.
       (<a href="http://bugs.mysql.com/30384" target="_top">Bug#30384</a>)</p></li><li><p>
        The optimizer made incorrect assumptions about the value of the
        <code class="literal">is_member</code> value for user-defined functions,
        sometimes resulting in incorrect ordering of UDF results.
       (<a href="http://bugs.mysql.com/30355" target="_top">Bug#30355</a>)</p></li><li><p>
        Some valid <code class="literal">euc-kr</code> characters having the
        second byte in the ranges <code class="literal">[0x41..0x5A]</code> and
        <code class="literal">[0x61..0x7A]</code> were rejected.
       (<a href="http://bugs.mysql.com/30315" target="_top">Bug#30315</a>)</p></li><li><p>
        Simultaneous <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statements for <code class="literal">BLACKHOLE</code> tables caused 100%
        CPU use due to locking problems.
       (<a href="http://bugs.mysql.com/30294" target="_top">Bug#30294</a>)</p></li><li><p>
        Setting certain values on a table using a spatial index could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/30286" target="_top">Bug#30286</a>)</p></li><li><p>
        Tables with a <code class="literal">GEOMETRY</code> column could be marked
        as corrupt if you added a non-<code class="literal">SPATIAL</code> index
        on a <code class="literal">GEOMETRY</code> column.
       (<a href="http://bugs.mysql.com/30284" target="_top">Bug#30284</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> tables are intended
        for internal use, but could be accessed by using
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements.
       (<a href="http://bugs.mysql.com/30079" target="_top">Bug#30079</a>)</p></li><li><p>
        On some 64-bit systems, inserting the largest negative value
        into a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column resulted in
        incorrect data.
       (<a href="http://bugs.mysql.com/30069" target="_top">Bug#30069</a>)</p></li><li><p>
        Specifying the <code class="option">--without-geometry</code> option for
        <span><strong class="command">configure</strong></span> caused server compilation to fail.
       (<a href="http://bugs.mysql.com/29972" target="_top">Bug#29972</a>)</p></li><li><p>
        Under some circumstances, a UDF initialization function could be
        passed incorrect argument lengths.
       (<a href="http://bugs.mysql.com/29804" target="_top">Bug#29804</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not find <code class="literal">nss</code>
        on some Linux platforms.
       (<a href="http://bugs.mysql.com/29658" target="_top">Bug#29658</a>)</p></li><li><p>
        Views were treated as insertable even if some base table columns
        with no default value were omitted from the view definition.
        (This is contrary to the condition for insertability that a view
        must contain all columns in the base table that do not have a
        default value.)
       (<a href="http://bugs.mysql.com/29477" target="_top">Bug#29477</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client program now ignores Unicode
        byte order mark (BOM) characters at the beginning of input
        files. Previously, it read them and sent them to the server,
        resulting in a syntax error.
      </p><p>
        Presence of a BOM does not cause <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to
        change its default character set. To do that, invoke
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> with an option such as
        <a href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8</code></a>.
       (<a href="http://bugs.mysql.com/29323" target="_top">Bug#29323</a>)</p></li><li><p>
        For transactional tables, an error during a multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement did not roll
        back the statement.
       (<a href="http://bugs.mysql.com/29136" target="_top">Bug#29136</a>)</p></li><li><p>
        The <code class="literal">log</code> and
        <a href="server-administration.html#sysvar_log_slow_queries"><code class="literal">log_slow_queries</code></a> system
        variables were displayed by <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a> but could not be accessed in expressions as
        <code class="literal">@@log</code> and
        <code class="literal">@@log_slow_queries</code>. Also, attempting to set
        them with <code class="literal">SET</code> produced an incorrect
        <code class="literal">Unknown system variable</code> message. Now these
        variables can be accessed in expressions and attempting to set
        their values produces an error message that the variable is read
        only.
       (<a href="http://bugs.mysql.com/29131" target="_top">Bug#29131</a>)</p></li><li><p>
        Denormalized double-precision numbers cannot be handled properly
        by old MIPS pocessors. For IRIX, this is now handled by enabling
        a mode to use a software workaround.
       (<a href="http://bugs.mysql.com/29085" target="_top">Bug#29085</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> did not display
        the <code class="literal">relay_log</code>,
        <code class="literal">relay_log_index</code>, or
        <code class="literal">relay_log_info_file</code> system variables.
       (<a href="http://bugs.mysql.com/28893" target="_top">Bug#28893</a>)</p></li><li><p>
        When doing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> on a table
        that involved a <code class="literal">JOIN</code> with
        <code class="literal">MyISAM</code> or <code class="literal">MERGE</code> tables and
        the <code class="literal">JOIN</code> referred to the same table, the
        operation could fail reporting <code class="literal">ERROR 1030 (HY000): Got
        error 134 from storage engine</code>. This was because scans
        on the table contents would change because of rows that had
        already been deleted.
       (<a href="http://bugs.mysql.com/28837" target="_top">Bug#28837</a>)</p></li><li><p>
        On Windows, <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> created temporary
        files in <code class="filename">C:\</code> and did not clean them up.
       (<a href="http://bugs.mysql.com/28774" target="_top">Bug#28774</a>)</p></li><li><p>
        Index hints specified in view definitions were ignored when
        using the view to select from the base table.
       (<a href="http://bugs.mysql.com/28702" target="_top">Bug#28702</a>)</p></li><li><p>
        Views do not have indexes, so index hints do not apply. Use of
        index hints when selecting from a view is now disallowed.
       (<a href="http://bugs.mysql.com/28701" target="_top">Bug#28701</a>)</p></li><li><p>
        After changing the SQL mode to a restrictive value that would
        make already-inserted dates in a column be considered invalid,
        searches returned different results depending on whether the
        column was indexed.
       (<a href="http://bugs.mysql.com/28687" target="_top">Bug#28687</a>)</p></li><li><p>
        The result from <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> was
        incorrectly assumed in some contexts to return a single-byte
        result.
       (<a href="http://bugs.mysql.com/28550" target="_top">Bug#28550</a>)</p></li><li><p>
        The parser confused user-defined function (UDF) and stored
        function creation for <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE
        FUNCTION</code></a> and required that there be a default database
        when creating UDFs, although there is no such requirement.
       (<a href="http://bugs.mysql.com/28318" target="_top">Bug#28318</a>, <a href="http://bugs.mysql.com/29816" target="_top">Bug#29816</a>)</p></li><li><p>
        The result of a comparison between
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> columns differed depending
        on whether the <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        was indexed.
       (<a href="http://bugs.mysql.com/28076" target="_top">Bug#28076</a>)</p></li><li><p>
        The metadata in some <code class="literal">MYSQL_FIELD</code> members
        could be incorrect when a temporary table was used to evaluate a
        query.
       (<a href="http://bugs.mysql.com/27990" target="_top">Bug#27990</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> at the end of a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> affected individual
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements rather than the
        overall query result.
       (<a href="http://bugs.mysql.com/27848" target="_top">Bug#27848</a>)</p></li><li><p>
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> created files with permissions such
        that they might be inaccessible during <span><strong class="command">make
        install</strong></span> operations.
       (<a href="http://bugs.mysql.com/27789" target="_top">Bug#27789</a>)</p></li><li><p>
        The anonymous accounts were not being created during MySQL
        installation.
       (<a href="http://bugs.mysql.com/27692" target="_top">Bug#27692</a>)</p></li><li><p>
        A race condition between killing a statement and the thread
        executing the statement could lead to a situation such that the
        binary log contained an event indicating that the statement was
        killed, whereas the statement actually executed to completion.
       (<a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>)</p></li><li><p>
        Some queries using the
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> function failed to
        return either a result or an error to the client, causing it to
        hang. This was due to the fact that there was no check to insure
        that both arguments to this function were constant expressions.
       (<a href="http://bugs.mysql.com/27545" target="_top">Bug#27545</a>, <a href="http://bugs.mysql.com/32559" target="_top">Bug#32559</a>)</p></li><li><p>
        With the <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system
        variable enabled, <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
        and <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> were allowed to
        users who did not have the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a>
        privilege.
       (<a href="http://bugs.mysql.com/27440" target="_top">Bug#27440</a>)</p></li><li><p>
        <a href="programs.html#resolveip" title="4.8.3. resolveip — Resolve Host name to IP Address or Vice
Versa"><span><strong class="command">resolveip</strong></span></a> failed to produce correct results
        for host names that begin with a digit.
       (<a href="http://bugs.mysql.com/27427" target="_top">Bug#27427</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> sometimes miscalculated the number of
        digits required when storing a floating-point number in a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column. This caused the
        value to be truncated, or (when using a debug build) caused the
        server to crash.
       (<a href="http://bugs.mysql.com/26788" target="_top">Bug#26788</a>)</p><p>See also <a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>.</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck -A -r</strong></span></a> did not correctly identify
        all tables that needed repairing.
       (<a href="http://bugs.mysql.com/25347" target="_top">Bug#25347</a>)</p></li><li><p>
        If the expected precision of an arithmetic expression exceeded
        the maximum precision supported by MySQL, the precision of the
        result was reduced by an unpredictable or arbitrary amount,
        rather than to the maximum precision. In some cases, exceeding
        the maximum supported precision could also lead to a crash of
        the server.
       (<a href="http://bugs.mysql.com/24907" target="_top">Bug#24907</a>)</p></li><li><p>
        For Windows Vista, <span><strong class="command">MySQLInstanceConfig.exe</strong></span>
        did not include a proper manifest enabling it to run with
        administrative privileges.
       (<a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>)</p><p>See also <a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>.</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.8. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> returned a confusing error
        message when no configuration file was found.
       (<a href="http://bugs.mysql.com/20455" target="_top">Bug#20455</a>)</p></li><li><p>
        Host names sometimes were treated as case sensitive in
        account-management statements (<a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE
        USER</code></a>, <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a>,
        <a href="sql-syntax.html#revoke" title="12.5.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a>, and so forth).
       (<a href="http://bugs.mysql.com/19828" target="_top">Bug#19828</a>)</p></li><li><p>
        The <code class="literal">readline</code> library has been updated to
        version 5.2. This addresses issues in the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client where history and editing within
        the client would fail to work as expected.
       (<a href="http://bugs.mysql.com/18431" target="_top">Bug#18431</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Aborted_clients"><code class="literal">Aborted_clients</code></a> status
        variable was incremented twice if a client exited without
        calling <a href="connectors-apis.html#mysql-close" title="20.9.3.5. mysql_close()"><code class="literal">mysql_close()</code></a>.
       (<a href="http://bugs.mysql.com/16918" target="_top">Bug#16918</a>)</p></li><li><p>
        Clients were ignoring the TCP/IP port number specified as the
        default port via the --with-tcp-port configuration option.
       (<a href="http://bugs.mysql.com/15327" target="_top">Bug#15327</a>)</p></li><li><p>
        Zero-padding of exponent values was not the same across
        platforms.
       (<a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>)</p></li><li><p>
        Values of types <code class="literal">REAL ZEROFILL</code>,
        <code class="literal">DOUBLE ZEROFILL</code>, <code class="literal">FLOAT
        ZEROFILL</code>, were not zero-filled when converted to a
        character representation in the C prepared statement API.
       (<a href="http://bugs.mysql.com/11589" target="_top">Bug#11589</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> stripped comments from statements sent
        to the server. Now the
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> or
        <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a> option can be
        used to control whether to retain or strip comments. The default
        is <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a>.
       (<a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a>, <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a>)</p></li><li><p>
        If an <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statement is executed, and no automatically
        generated value is successfully inserted, then
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns the ID
        of the last inserted row.
      </p><p>
        If no automatically generated value is successfully inserted,
        then <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns
        0.
       (<a href="http://bugs.mysql.com/9481" target="_top">Bug#9481</a>)</p></li><li><p>
        Several buffer-size system variables were either being handled
        incorrectly for large values (for settings larger than 4GB, they
        were truncated to values less than 4GB without a warning), or
        were limited unnecessarily to 4GB even on 64-bit systems. The
        following changes were made:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            For <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a>, values
            larger than 4GB are allowed on 64-bit platforms (except
            Windows, for which large values are truncated to 4GB with a
            warning).
          </p></li><li><p>
            For <a href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a>,
            <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a>, and
            <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
            values are limited to 4GB on all platforms. Larger values
            are truncated to 4GB with a warning.
          </p></li></ul></div><p>
        In addition, settings for
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> and
        <a href="server-administration.html#sysvar_read_rnd_buffer_size"><code class="literal">read_rnd_buffer_size</code></a> are
        limited to 2GB on all platforms. Larger values are truncated to
        2GB with a warning.
       (<a href="http://bugs.mysql.com/5731" target="_top">Bug#5731</a>, <a href="http://bugs.mysql.com/29419" target="_top">Bug#29419</a>, <a href="http://bugs.mysql.com/29446" target="_top">Bug#29446</a>)</p></li><li><p>
        Executing <code class="literal">DISABLE KEYS</code> and <code class="literal">ENABLE
        KEYS</code> on a nonempty table would cause the size of the
        index file for the table to grow considerable. This was because
        the <code class="literal">DISABLE KEYS</code> operation would only mark
        the existing index, without deleting the index blocks. The
        <code class="literal">ENABLE KEYS</code> operation would re-create the
        index, adding new blocks, while the previous index blocks would
        remain. Existing indexes are now dropped and recreated when the
        <code class="literal">ENABLE KEYS</code> statement is executed.
       (<a href="http://bugs.mysql.com/4692" target="_top">Bug#4692</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-56"></a>C.1.29. Release Notes for MySQL Enterprise 5.0.56 [MRU] (06 February 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.54).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">AUTO_INCREMENT</code> columns had the following
        problems when used in <code class="literal">NDB</code> tables:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              The <code class="literal">AUTO_INCREMENT</code> counter was not
              updated correctly when such a column was updated.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not
              prefetched beyond statement boundaries.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not handled
              correctly with
              <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
              IGNORE</code></a> statements.
            </p></li><li><p>
              After being set,
              <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
              showed a value of 1, regardless of the value it had
              actually been set to.
            </p></li></ul></div><p>
        As part of this fix, the behavior of
        <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
        has changed. Setting this to less than 32 no longer has any
        effect on prefetching within statements (where IDs are now
        always obtained in batches of 32 or more), but only between
        statements. The default value for this variable has also
        changed, and is now <code class="literal">1</code>.
       (<a href="http://bugs.mysql.com/25176" target="_top">Bug#25176</a>, <a href="http://bugs.mysql.com/31956" target="_top">Bug#31956</a>, <a href="http://bugs.mysql.com/32055" target="_top">Bug#32055</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        When the master crashed during an update on a transactional
        table while in <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> mode,
        the slave failed. This fix causes every transaction (including
        <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> transactions) to be
        recorded in the binlog as starting with a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> and
        ending with a <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> or
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>.
       (<a href="http://bugs.mysql.com/26395" target="_top">Bug#26395</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        Network timeouts between the master and the slave could result
        in corruption of the relay log. This fix rectifies a
        long-standing replication issue when using unreliable networks,
        including replication over wide area networks such as the
        Internet. If you experience reliability issues and see many
        <span class="errortext">You have an error in your SQL syntax</span>
        errors on replication slaves, we strongly recommend that you
        upgrade to a MySQL version which includes this fix.
       (<a href="http://bugs.mysql.com/26489" target="_top">Bug#26489</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An improperly reset internal signal was observed as a hang when
        using events in the <code class="literal">NDB</code> API but
        could result in various errors.
       (<a href="http://bugs.mysql.com/33206" target="_top">Bug#33206</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Incorrectly handled parameters could lead to a crash in the
        Transaction Coordinator during a node failure, causing other
        data nodes to fail.
       (<a href="http://bugs.mysql.com/33168" target="_top">Bug#33168</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node could lead to subsequent failures
        in local checkpointing.
       (<a href="http://bugs.mysql.com/32160" target="_top">Bug#32160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Primary keys on variable-length columns (such as
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>) did not work correctly.
       (<a href="http://bugs.mysql.com/31635" target="_top">Bug#31635</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code>
        table with a duplicate value for a nonprimary unique key, the
        error issued would reference the wrong key.
      </p><p>
        This improves on an initial fix for this issue made in MySQL
        5.0.30 and MySQL 5.0.33
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>,
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a>, or
        <a href="sql-syntax.html#rename-user" title="12.5.1.4. RENAME USER Syntax"><code class="literal">RENAME USER</code></a> statement that fails
        on the master, or that is a duplicate of any of these
        statements, is no longer written to the binlog; previously,
        either of these occurrences could cause the slave to fail.
      </p><p> (<a href="http://bugs.mysql.com/33862" target="_top">Bug#33862</a>)</p><p>See also <a href="http://bugs.mysql.com/29749" target="_top">Bug#29749</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> could fail
        when the binlog contained one or more events whose size was
        close to the value of
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/33413" target="_top">Bug#33413</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements containing comments using <code class="literal">--</code>
        syntax were not replayable by <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>,
        even though such statements replicated correctly.
       (<a href="http://bugs.mysql.com/32205" target="_top">Bug#32205</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing a <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> statement
        caused replication to fail if the view did not actually exist.
       (<a href="http://bugs.mysql.com/30998" target="_top">Bug#30998</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> could fail when
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> was larger
        than <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/30435" target="_top">Bug#30435</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Setting <a href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> did not
        update its value for the current session.
       (<a href="http://bugs.mysql.com/28908" target="_top">Bug#28908</a>)</p></li><li><p>
        The server crashed when executing a query that had a subquery
        containing an equality X=Y where Y referred to a named select
        list expression from the parent select. The server crashed when
        trying to use the X=Y equality for
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>-based access.
       (<a href="http://bugs.mysql.com/33794" target="_top">Bug#33794</a>)</p></li><li><p>
        Use of uninitialized memory for <code class="literal">filesort</code> in a
        subquery caused a server crash.
       (<a href="http://bugs.mysql.com/33675" target="_top">Bug#33675</a>)</p></li><li><p>
        The server could crash when
        <a href="sql-syntax.html#repeat-statement" title="12.8.6.6. REPEAT
        Statement"><code class="literal">REPEAT</code></a>
        or another control instruction was used in conjunction with
        labels and a
        <a href="sql-syntax.html#leave-statement" title="12.8.6.4. LEAVE
        Statement"><code class="literal">LEAVE</code></a>
        instruction.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        The parser allowed control structures in compound statements to
        have mismatched beginning and ending labels.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL myisam_max_sort_file_size=DEFAULT</code>
        set <a href="server-administration.html#sysvar_myisam_max_sort_file_size"><code class="literal">myisam_max_sort_file_size</code></a>
        to an incorrect value.
       (<a href="http://bugs.mysql.com/33382" target="_top">Bug#33382</a>)</p><p>See also <a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>.</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> created tables that for date columns used the
        obsolete <code class="literal">Field_date</code> type instead of
        <code class="literal">Field_newdate</code>.
       (<a href="http://bugs.mysql.com/33256" target="_top">Bug#33256</a>)</p></li><li><p>
        For <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns used with the
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        function with a nonconstant value of
        <em class="replaceable"><code>D</code></em>, adding an <code class="literal">ORDER
        BY</code> for the function result produced misordered output.
       (<a href="http://bugs.mysql.com/33143" target="_top">Bug#33143</a>)</p><p>See also <a href="http://bugs.mysql.com/33402" target="_top">Bug#33402</a>, <a href="http://bugs.mysql.com/30617" target="_top">Bug#30617</a>.</p></li><li><p>
        Some valid <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        could not be used as views due to incorrect column reference
        resolution.
       (<a href="http://bugs.mysql.com/33133" target="_top">Bug#33133</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a> and <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a> introduced a significant
        input-parsing slowdown for the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
        This has been corrected.
       (<a href="http://bugs.mysql.com/33057" target="_top">Bug#33057</a>)</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> constructs cannot contain
        <code class="literal">SELECT ... INTO</code> except in the final
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>. However, if a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> was used in a subquery and
        an <code class="literal">INTO</code> clause appeared in the top-level
        query, the parser interpreted it as having appeared in the
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> and raised an error.
       (<a href="http://bugs.mysql.com/32858" target="_top">Bug#32858</a>)</p></li><li><p>
        The correct data type for a <code class="literal">NULL</code> column
        resulting from a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could be
        determined incorrectly in some cases: 1) Not correctly inferred
        as <code class="literal">NULL</code> depending on the number of selects;
        2) Not inferred correctly as <code class="literal">NULL</code> if one
        select used a subquery.
       (<a href="http://bugs.mysql.com/32848" target="_top">Bug#32848</a>)</p></li><li><p>
        For queries containing <code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>col_list</code></em> ORDER BY
        <em class="replaceable"><code>col_list</code></em>)</code>, there was a
        limitation that the <code class="literal">DISTINCT</code> columns had to
        be the same as <code class="literal">ORDER BY</code> columns. Incorrect
        results could be returned if this was not true.
       (<a href="http://bugs.mysql.com/32798" target="_top">Bug#32798</a>)</p></li><li><p>
        <a href="functions.html#function_hour"><code class="literal">HOUR()</code></a>,
        <a href="functions.html#function_minute"><code class="literal">MINUTE()</code></a>, and
        <a href="functions.html#function_second"><code class="literal">SECOND()</code></a> could return nonzero
        values for <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> arguments.
       (<a href="http://bugs.mysql.com/31990" target="_top">Bug#31990</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> sometimes set up test
        scenarios in which the same port number was passed to multiple
        servers, causing one of them to be unable to start.
       (<a href="http://bugs.mysql.com/31880" target="_top">Bug#31880</a>)</p></li><li><p>
        Name resolution for correlated subqueries and
        <code class="literal">HAVING</code> clauses failed to distinguish which of
        two was being performed when there was a reference to an outer
        aliased field. This could result in error messages about a
        <code class="literal">HAVING</code> clause for queries that had no such
        clause.
       (<a href="http://bugs.mysql.com/31797" target="_top">Bug#31797</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        for nonconstant values of <em class="replaceable"><code>D</code></em> could
        crash the server if these functions were used in an
        <code class="literal">ORDER BY</code> that was resolved using
        <code class="literal">filesort</code>.
       (<a href="http://bugs.mysql.com/30889" target="_top">Bug#30889</a>)</p></li><li><p>
        Views were treated as insertable even if some base table columns
        with no default value were omitted from the view definition.
        (This is contrary to the condition for insertability that a view
        must contain all columns in the base table that do not have a
        default value.)
       (<a href="http://bugs.mysql.com/29477" target="_top">Bug#29477</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> at the end of a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> affected individual
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements rather than the
        overall query result.
       (<a href="http://bugs.mysql.com/27848" target="_top">Bug#27848</a>)</p></li><li><p>
        With the <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system
        variable enabled, <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
        and <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> were allowed to
        users who did not have the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a>
        privilege.
       (<a href="http://bugs.mysql.com/27440" target="_top">Bug#27440</a>)</p></li><li><p>
        <a href="programs.html#resolveip" title="4.8.3. resolveip — Resolve Host name to IP Address or Vice
Versa"><span><strong class="command">resolveip</strong></span></a> failed to produce correct results
        for host names that begin with a digit.
       (<a href="http://bugs.mysql.com/27427" target="_top">Bug#27427</a>)</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck -A -r</strong></span></a> did not correctly identify
        all tables that needed repairing.
       (<a href="http://bugs.mysql.com/25347" target="_top">Bug#25347</a>)</p></li><li><p>
        For Windows Vista, <span><strong class="command">MySQLInstanceConfig.exe</strong></span>
        did not include a proper manifest enabling it to run with
        administrative privileges.
       (<a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>)</p><p>See also <a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>.</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.8. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> returned a confusing error
        message when no configuration file was found.
       (<a href="http://bugs.mysql.com/20455" target="_top">Bug#20455</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-54a"></a>C.1.30. Release Notes for MySQL Enterprise 5.0.54a [MRU] (11 January 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This is a bugfix release that replaces MySQL 5.0.54.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-54"></a>C.1.31. Release Notes for MySQL Enterprise 5.0.54 [MRU] (14 December 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.52).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="function">mysql_odbc_escape_string()</code> C API
        function has been removed. It has multi-byte character escaping
        issues, doesn't honor the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode
        and is not needed anymore by Connector/ODBC as of 3.51.17.
       (<a href="http://bugs.mysql.com/29592" target="_top">Bug#29592</a>)</p></li><li><p>
        The argument for the <span><strong class="command">mysql-test-run.pl</strong></span>
        <code class="option">--do-test</code> and <code class="option">--skip-test</code>
        options is now interpreted as a Perl regular expression if there
        is a pattern metacharacter in the argument value. This allows
        more flexible specification of which tests to perform or skip.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> had a race condition for an adaptive
        hash rw-lock waiting for an X-lock. This fix may also provide
        significant speed improvements on systems experiencing problems
        with contention for the adaptive hash index.
       (<a href="http://bugs.mysql.com/29560" target="_top">Bug#29560</a>)</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        It was possible to force an error message of excessive length
        which could lead to a buffer overflow. This has been made no
        longer possible as a security precaution.
       (<a href="http://bugs.mysql.com/32707" target="_top">Bug#32707</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The MySQL 5.0.50 patch for this bug was reverted because it
        changed the behavior of a General Availability MySQL release.
       (<a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>)</p><p>See also <a href="http://bugs.mysql.com/27525" target="_top">Bug#27525</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible for option files to be read twice at program
        startup, if some of the standard option file locations turned
        out to be the same directory. Now duplicates are removed from
        the list of files to be read.
      </p><p>
        Also, users could not override system-wide settings using
        <code class="filename">~/.my.cnf</code> because
        <code class="filename"><em class="replaceable"><code>SYSCONFDIR</code></em>/my.cnf</code>
        was read last. The latter file now is read earlier so that
        <code class="filename">~/.my.cnf</code> can override system-wide
        settings.
      </p><p>
        The fix for this problem had a side effect such that on Unix,
        MySQL programs looked for options in
        <code class="filename">~/my.cnf</code> rather than the standard location
        of <code class="filename">~/.my.cnf</code>. That problem was addressed as
        <a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        It was possible for the name of the relay log file to exceed the
        amount of memory reserved for it, possibly leading to a crash of
        the server.
       (<a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>)</p><p>See also <a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Corruption of log events caused the server to crash on 64-bit
        Linux systems having 4 GB or more of memory.
       (<a href="http://bugs.mysql.com/31793" target="_top">Bug#31793</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        One thread could read uninitialized memory from the stack of
        another thread. This issue was only known to occur in a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process acting as both a master and a
        slave.
       (<a href="http://bugs.mysql.com/30752" target="_top">Bug#30752</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Due a previous change in how the default name and location of
        the binary log file were determined, replication failed
        following some upgrades.
       (<a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>, <a href="http://bugs.mysql.com/28603" target="_top">Bug#28603</a>)</p><p>See also <a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Stored procedures having <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>
        parameters were not replicated correctly.
       (<a href="http://bugs.mysql.com/26199" target="_top">Bug#26199</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> as
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was shutting down could cause a crash.
       (<a href="http://bugs.mysql.com/26000" target="_top">Bug#26000</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement using a
        stored function that modified a nontransactional table was not
        logged if it failed. This caused the copy of the
        nontransactional table on the master have a row that the copy on
        the slave did not.
      </p><p>
        In addition, when an
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> statement encountered a
        duplicate key constraint, but the
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> did not actually change
        any data, the statement was not logged. As a result of this fix,
        such statements are now treated the same for logging purposes as
        other <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements, and so
        are written to the binary log.
       (<a href="http://bugs.mysql.com/23333" target="_top">Bug#23333</a>)</p><p>See also <a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave sometimes failed to reconnect because it was
        unable to run <a href="sql-syntax.html#show-slave-hosts" title="12.5.5.30. SHOW SLAVE HOSTS Syntax"><code class="literal">SHOW SLAVE HOSTS</code></a>.
        It was not necessary to run this statement on slaves (since the
        master should track connection IDs), and the execution of this
        statement by slaves was removed.
       (<a href="http://bugs.mysql.com/21132" target="_top">Bug#21132</a>)</p><p>See also <a href="http://bugs.mysql.com/13963" target="_top">Bug#13963</a>, <a href="http://bugs.mysql.com/21869" target="_top">Bug#21869</a>.</p></li><li><p>
        An <code class="literal">ORDER BY</code> query using <code class="literal">IS
        NULL</code> in the <code class="literal">WHERE</code> clause did not
        return correct results.
       (<a href="http://bugs.mysql.com/32815" target="_top">Bug#32815</a>)</p></li><li><p>
        Use of the <code class="literal">cp932</code> character set with
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> in an <code class="literal">ORDER
        BY</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/32726" target="_top">Bug#32726</a>)</p></li><li><p>
        A subquery using an <code class="literal">IS NULL</code> check of a column
        defined as <code class="literal">NOT NULL</code> in a table used in the
        <code class="literal">FROM</code> clause of the outer query produced an
        invalid result.
       (<a href="http://bugs.mysql.com/32694" target="_top">Bug#32694</a>)</p></li><li><p>
        Specifying a nonexistent column for an
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statement caused a
        server crash rather than producing an error.
       (<a href="http://bugs.mysql.com/32676" target="_top">Bug#32676</a>)</p></li><li><p>
        Use of <code class="literal">CLIENT_MULTI_QUERIES</code> caused
        <code class="literal">libmysqld</code> to crash.
       (<a href="http://bugs.mysql.com/32624" target="_top">Bug#32624</a>)</p></li><li><p>
        The <a href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a> function
        incorrectly handled <code class="literal">NULL</code> values in the value
        list.
       (<a href="http://bugs.mysql.com/32560" target="_top">Bug#32560</a>)</p></li><li><p>
        Use of a <code class="literal">NULL</code>-returning <code class="literal">GROUP
        BY</code> expression in conjunction with <code class="literal">WITH
        ROLLUP</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>)</p><p>See also <a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>.</p></li><li><p>
        A <code class="literal">SELECT ... GROUP BY
        <em class="replaceable"><code>bit_column</code></em></code> query failed
        with an assertion if the length of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column used for the
        <code class="literal">GROUP BY</code> was not an integer multiple of 8.
       (<a href="http://bugs.mysql.com/32556" target="_top">Bug#32556</a>)</p></li><li><p>
        Using <code class="literal">SELECT INTO OUTFILE</code> with 8-bit
        <code class="literal">ENCLOSED BY</code> characters led to corrupted data
        when the data was reloaded using LOAD DATA INFILE. This was
        because <code class="literal">SELECT INTO OUTFILE</code> failed to escape
        the 8-bit characters.
       (<a href="http://bugs.mysql.com/32533" target="_top">Bug#32533</a>)</p></li><li><p>
        For <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
        READ LOCK</code></a>, the server failed to properly detect
        write-locked tables when running with low-priority updates,
        resulting in a crash or deadlock.
       (<a href="http://bugs.mysql.com/32528" target="_top">Bug#32528</a>)</p></li><li><p>
        Sending several <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL
        QUERY</code></a> statements to target a connection running
        <code class="literal">SELECT SLEEP()</code> could freeze the server.
       (<a href="http://bugs.mysql.com/32436" target="_top">Bug#32436</a>)</p></li><li><p>
        <code class="literal">ssl-cipher</code> values in option files were not
        being read by <code class="literal">libmysqlclient</code>.
       (<a href="http://bugs.mysql.com/32429" target="_top">Bug#32429</a>)</p></li><li><p>
        Repeated execution of a query containing a
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        expression and numerous <code class="literal">AND</code> and
        <code class="literal">OR</code> relations could crash the server. The root
        cause of the issue was determined to be that the internal
        <code class="literal">SEL_ARG</code> structure was not properly
        initialized when created.
       (<a href="http://bugs.mysql.com/32403" target="_top">Bug#32403</a>)</p></li><li><p>
        Referencing within a subquery an alias used in the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> list of the outer query
        was incorrectly permitted.
       (<a href="http://bugs.mysql.com/32400" target="_top">Bug#32400</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query on a view created using a
        <code class="literal">FEDERATED</code> table as a base table caused the
        server to crash.
       (<a href="http://bugs.mysql.com/32374" target="_top">Bug#32374</a>)</p></li><li><p>
        Comparison of a <code class="literal">BIGINT NOT NULL</code> column with a
        constant arithmetic expression that evaluated to NULL mistakenly
        caused the error <span class="errortext">Column '...' cannot be
        null</span> (error 1048).
       (<a href="http://bugs.mysql.com/32335" target="_top">Bug#32335</a>)</p></li><li><p>
        Assigning a 65,536-byte string to a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column (which can hold a
        maximum of 65,535 bytes) resulted in truncation without a
        warning. Now a truncation warning is generated.
       (<a href="http://bugs.mysql.com/32282" target="_top">Bug#32282</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> function returns a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value, but internally the
        value did not have the time fields zeroed and calculations
        involving the value could return incorrect results.
       (<a href="http://bugs.mysql.com/32270" target="_top">Bug#32270</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return incorrect
        results when an index was present if a loose index scan was
        used.
       (<a href="http://bugs.mysql.com/32268" target="_top">Bug#32268</a>)</p></li><li><p>
        Memory corruption could occur due to large index map in
        <code class="literal">Range checked for each record</code> status reported
        by <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        SELECT</code></a>. The problem was based in an incorrectly
        calculated length of the buffer used to store a hexadecimal
        representation of an index map, which could result in buffer
        overrun and stack corruption under some circumstances.
       (<a href="http://bugs.mysql.com/32241" target="_top">Bug#32241</a>)</p></li><li><p>
        Various test program cleanups were made: 1)
        <span><strong class="command">mytest</strong></span> and <code class="literal">libmysqltest</code>
        were removed. 2) <span><strong class="command">bug25714</strong></span> displays an error
        message when invoked with incorrect arguments or the
        <code class="option">--help</code> option. 3)
        <span><strong class="command">mysql_client_test</strong></span> exits cleanly with a proper
        error status.
       (<a href="http://bugs.mysql.com/32221" target="_top">Bug#32221</a>)</p></li><li><p>
        For comparisons of the form <em class="replaceable"><code>date_col OP
        datetime_const</code></em> (where
        <em class="replaceable"><code>OP</code></em> is
        <a href="functions.html#operator_equal"><code class="literal">=</code></a>,
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>,
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>,
        <a href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>,
        or
        <a href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>),
        the comparison is done using
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, per the fix for
        <a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>. However that fix caused any index on
        <em class="replaceable"><code>date_col</code></em> not to be used and
        compromised performance. Now the index is used again.
       (<a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> arguments specified in
        numeric form were treated by
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/32180" target="_top">Bug#32180</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        set, <code class="literal">CREATE TABLE LIKE</code> was treated
        differently by <code class="literal">libmysqld</code> than by the
        nonembedded server.
       (<a href="http://bugs.mysql.com/32063" target="_top">Bug#32063</a>)</p></li><li><p>
        Within a subquery, <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> was
        handled differently than at the top level, which could result in
        incorrect results or a server crash.
       (<a href="http://bugs.mysql.com/32036" target="_top">Bug#32036</a>, <a href="http://bugs.mysql.com/32051" target="_top">Bug#32051</a>)</p></li><li><p>
        Changing the SQL mode to cause dates with “<span class="quote">zero</span>”
        parts to be considered invalid (such as
        <code class="literal">'1000-00-00'</code>) could result in indexed and
        nonindexed searches returning different results for a column
        that contained such dates.
       (<a href="http://bugs.mysql.com/31928" target="_top">Bug#31928</a>)</p></li><li><p>
        <code class="literal">ucs2</code> does not work as a client character set,
        but attempts to use it as such were not rejected. Now
        <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> cannot be
        set to <code class="literal">ucs2</code>. This also affects statements
        such as <code class="literal">SET NAMES</code> and <code class="literal">SET CHARACTER
        SET</code>.
       (<a href="http://bugs.mysql.com/31615" target="_top">Bug#31615</a>)</p></li><li><p>
        Killing a <code class="literal">CREATE TABLE ... LIKE</code> statement
        that was waiting for a name lock caused a server crash. When the
        statement was killed, the server attempted to release locks that
        were not held.
       (<a href="http://bugs.mysql.com/31479" target="_top">Bug#31479</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk --unpack</strong></span></a> could corrupt a table that
        when unpacked has static (fixed-length) row format.
       (<a href="http://bugs.mysql.com/31277" target="_top">Bug#31277</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms.
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>.</p></li><li><p>
        Data in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <code class="literal">GEOMETRY</code> columns could be cropped when
        performing a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> query.
       (<a href="http://bugs.mysql.com/31158" target="_top">Bug#31158</a>)</p></li><li><p>
        The server crashed in the parser when running out of memory.
        Memory handling in the parser has been improved to gracefully
        return an error when out-of-memory conditions occur in the
        parser.
       (<a href="http://bugs.mysql.com/31153" target="_top">Bug#31153</a>)</p></li><li><p>
        MySQL declares a <code class="literal">UNIQUE</code> key as a
        <code class="literal">PRIMARY</code> key if it doesn't have
        <code class="literal">NULL</code> columns and is not a partial key, and
        the <code class="literal">PRIMARY</code> key must alway be the first key.
        However, in some cases, a nonfirst key could be reported as
        <code class="literal">PRIMARY</code>, leading to an assert failure by
        <code class="literal">InnoDB</code>. This is fixed by correcting the key
        sort order.
       (<a href="http://bugs.mysql.com/31137" target="_top">Bug#31137</a>)</p></li><li><p>
        <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> operations could cause a
        server crash for character sets such as <code class="literal">ucs2</code>.
        Now the arguments are converted to <code class="literal">utf8</code> if
        possible, to allow correct results to be produced if the
        resulting strings contain only 8-bit characters.
       (<a href="http://bugs.mysql.com/31081" target="_top">Bug#31081</a>)</p></li><li><p>
        Many nested subqueries in a single query could led to excessive
        memory consumption and possibly a crash of the server.
       (<a href="http://bugs.mysql.com/31048" target="_top">Bug#31048</a>)</p></li><li><p>
        The optimizer incorrectly optimized conditions out of the
        <code class="literal">WHERE</code> clause in some queries involving
        subqueries and indexed columns.
       (<a href="http://bugs.mysql.com/30788" target="_top">Bug#30788</a>)</p></li><li><p>
        Improper calculation of <a href="functions.html#operator_case"><code class="literal">CASE</code></a>
        expression results could lead to value truncation.
       (<a href="http://bugs.mysql.com/30782" target="_top">Bug#30782</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> involving
        transactional and nontransactional tables caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/30763" target="_top">Bug#30763</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li><li><p>
        The options available to the <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> statement were also allowed in
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> and
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a> statements, but
        caused corruption during their execution. These options were
        never supported for these statements, and an error is now raised
        if you try to apply these options to these statements.
       (<a href="http://bugs.mysql.com/30495" target="_top">Bug#30495</a>)</p></li><li><p>
        When casting a string value to an integer, cases where the input
        string contained a decimal point and was long enough to overrun
        the <code class="literal">unsigned long long</code> type were not handled
        correctly. The position of the decimal point was not taken into
        account which resulted in miscalculated numbers and incorrect
        truncation to appropriate SQL data type limits.
       (<a href="http://bugs.mysql.com/30453" target="_top">Bug#30453</a>)</p></li><li><p>
        For <code class="literal">CREATE ... SELECT ... FROM</code>, where the
        resulting table contained indexes, adding
        <code class="literal">SQL_BUFFER_RESULT</code> to the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part caused index
        corruption in the table.
       (<a href="http://bugs.mysql.com/30384" target="_top">Bug#30384</a>)</p></li><li><p>
        The optimizer made incorrect assumptions about the value of the
        <code class="literal">is_member</code> value for user-defined functions,
        sometimes resulting in incorrect ordering of UDF results.
       (<a href="http://bugs.mysql.com/30355" target="_top">Bug#30355</a>)</p></li><li><p>
        Some valid <code class="literal">euc-kr</code> characters having the
        second byte in the ranges <code class="literal">[0x41..0x5A]</code> and
        <code class="literal">[0x61..0x7A]</code> were rejected.
       (<a href="http://bugs.mysql.com/30315" target="_top">Bug#30315</a>)</p></li><li><p>
        Simultaneous <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statements for <code class="literal">BLACKHOLE</code> tables caused 100%
        CPU use due to locking problems.
       (<a href="http://bugs.mysql.com/30294" target="_top">Bug#30294</a>)</p></li><li><p>
        Tables with a <code class="literal">GEOMETRY</code> column could be marked
        as corrupt if you added a non-<code class="literal">SPATIAL</code> index
        on a <code class="literal">GEOMETRY</code> column.
       (<a href="http://bugs.mysql.com/30284" target="_top">Bug#30284</a>)</p></li><li><p>
        On some 64-bit systems, inserting the largest negative value
        into a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column resulted in
        incorrect data.
       (<a href="http://bugs.mysql.com/30069" target="_top">Bug#30069</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client program now ignores Unicode
        byte order mark (BOM) characters at the beginning of input
        files. Previously, it read them and sent them to the server,
        resulting in a syntax error.
      </p><p>
        Presence of a BOM does not cause <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to
        change its default character set. To do that, invoke
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> with an option such as
        <a href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8</code></a>.
       (<a href="http://bugs.mysql.com/29323" target="_top">Bug#29323</a>)</p></li><li><p>
        For transactional tables, an error during a multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement did not roll
        back the statement.
       (<a href="http://bugs.mysql.com/29136" target="_top">Bug#29136</a>)</p></li><li><p>
        Denormalized double-precision numbers cannot be handled properly
        by old MIPS pocessors. For IRIX, this is now handled by enabling
        a mode to use a software workaround.
       (<a href="http://bugs.mysql.com/29085" target="_top">Bug#29085</a>)</p></li><li><p>
        When doing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> on a table
        that involved a <code class="literal">JOIN</code> with
        <code class="literal">MyISAM</code> or <code class="literal">MERGE</code> tables and
        the <code class="literal">JOIN</code> referred to the same table, the
        operation could fail reporting <code class="literal">ERROR 1030 (HY000): Got
        error 134 from storage engine</code>. This was because scans
        on the table contents would change because of rows that had
        already been deleted.
       (<a href="http://bugs.mysql.com/28837" target="_top">Bug#28837</a>)</p></li><li><p>
        A race condition between killing a statement and the thread
        executing the statement could lead to a situation such that the
        binary log contained an event indicating that the statement was
        killed, whereas the statement actually executed to completion.
       (<a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>)</p></li><li><p>
        Some queries using the
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> function failed to
        return either a result or an error to the client, causing it to
        hang. This was due to the fact that there was no check to insure
        that both arguments to this function were constant expressions.
       (<a href="http://bugs.mysql.com/27545" target="_top">Bug#27545</a>, <a href="http://bugs.mysql.com/32559" target="_top">Bug#32559</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> sometimes miscalculated the number of
        digits required when storing a floating-point number in a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column. This caused the
        value to be truncated, or (when using a debug build) caused the
        server to crash.
       (<a href="http://bugs.mysql.com/26788" target="_top">Bug#26788</a>)</p><p>See also <a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>.</p></li><li><p>
        If the expected precision of an arithmetic expression exceeded
        the maximum precision supported by MySQL, the precision of the
        result was reduced by an unpredictable or arbitrary amount,
        rather than to the maximum precision. In some cases, exceeding
        the maximum supported precision could also lead to a crash of
        the server.
       (<a href="http://bugs.mysql.com/24907" target="_top">Bug#24907</a>)</p></li><li><p>
        Zero-padding of exponent values was not the same across
        platforms.
       (<a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>)</p></li><li><p>
        If an <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statement is executed, and no automatically
        generated value is successfully inserted, then
        <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns the ID
        of the last inserted row.
      </p><p>
        If no automatically generated value is successfully inserted,
        then <a href="connectors-apis.html#mysql-insert-id" title="20.9.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns
        0.
       (<a href="http://bugs.mysql.com/9481" target="_top">Bug#9481</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-52"></a>C.1.32. Release Notes for MySQL Enterprise 5.0.52 [MRU] (30 November 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.50).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produces a <code class="literal">-- Dump
        completed on <em class="replaceable"><code>DATE</code></em></code> comment
        at the end of the dump if
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> is given. The date
        causes dump files for identical data take at different times to
        appear to be different. The new options
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> and
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        control whether the date is added to the comment.
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        suppresses date printing. The default is
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> (include the date
        in the comment).
       (<a href="http://bugs.mysql.com/31077" target="_top">Bug#31077</a>)</p></li><li><p>
        The default value of the
        <a href="server-administration.html#sysvar_connect_timeout"><code class="literal">connect_timeout</code></a> system variable
        was increased from 5 to 10 seconds. This might help in cases
        where clients frequently encounter errors of the form
        <code class="literal">Lost connection to MySQL server at
        '<em class="replaceable"><code>XXX</code></em>', system error:
        <em class="replaceable"><code>errno</code></em></code>.
       (<a href="http://bugs.mysql.com/28359" target="_top">Bug#28359</a>)</p></li><li><p>
        The use of <code class="literal">InnoDB</code> hash indexes now can be
        controlled by setting the new
        <a href="storage-engines.html#sysvar_innodb_adaptive_hash_index"><code class="literal">innodb_adaptive_hash_index</code></a>
        system variable at server startup. By default, this variable is
        enabled. See <a href="storage-engines.html#innodb-adaptive-hash" title="13.2.10.4. Adaptive Hash Indexes">Section 13.2.10.4, “Adaptive Hash Indexes”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> against a
        table with explicit <code class="literal">DATA DIRECTORY</code> and
        <code class="literal">INDEX DIRECTORY</code> options can be used to
        overwrite system table information by replacing the symbolic
        link points. the file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is
        allowed only to the original definer or users with the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        With <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
        mode enabled, queries such as <code class="literal">SELECT a FROM t1 HAVING
        COUNT(*)&gt;2</code> were not being rejected as they should
        have been.
      </p><p>
        This fix results in the following behavior:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            There is a check against mixing group and nongroup columns
            <span class="emphasis"><em>only</em></span> when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li><li><p>
            This check is done both for the select list and for the
            <code class="literal">HAVING</code> clause if there is one.
          </p></li></ul></div><p>
        This behavior differs from previous versions as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Previously, the <code class="literal">HAVING</code> clause was not
            checked when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was
            enabled; now it is checked.
          </p></li><li><p>
            Previously, the select list was checked even when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was not
            enabled; now it is checked only when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/31794" target="_top">Bug#31794</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to create a view having a column whose name
        consisted of an empty string or space characters only.
      </p><p>
        One result of this bug fix is that aliases for columns in the
        view <code class="literal">SELECT</code> statement are checked to ensure
        that they are legal column names. In particular, the length must
        be within the maximum column length of 64 characters, not the
        maximum alias length of 256 characters. This can cause problems
        for replication or loading dump files. For additional
        information and workarounds, see
        <a href="restrictions.html#view-restrictions" title="D.4. Restrictions on Views">Section D.4, “Restrictions on Views”</a>.
       (<a href="http://bugs.mysql.com/27695" target="_top">Bug#27695</a>)</p><p>See also <a href="http://bugs.mysql.com/31202" target="_top">Bug#31202</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Several type-preserving functions and operators returned an
        incorrect result type that does not match their argument types:
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>,
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a>. These now aggregate using the
        precise SQL types of their arguments rather than the internal
        type. In addition, the result type of the
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> function is now
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> by default.
       (<a href="http://bugs.mysql.com/27216" target="_top">Bug#27216</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An uninitialized variable in the
        <code class="literal">NDB</code> storage engine code led to
        <code class="literal">AUTO_INCREMENT</code> failures when the server was
        compiled with <span><strong class="command">gcc</strong></span> 4.2.1.
       (<a href="http://bugs.mysql.com/31848" target="_top">Bug#31848</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An error with an <code class="literal">if</code> statement in
        <code class="filename">sql/ha_ndbcluster.cc</code> could potentially lead
        to an infinite loop in case of failure when working with
        <code class="literal">AUTO_INCREMENT</code> columns in
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/31810" target="_top">Bug#31810</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine code was not
        safe for strict-alias optimization in <span><strong class="command">gcc</strong></span>
        4.2.1.
       (<a href="http://bugs.mysql.com/31761" target="_top">Bug#31761</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction timeouts were not handled well in some
        circumstances, leading to excessive number of transactions being
        aborted unnecessarily.
       (<a href="http://bugs.mysql.com/30379" target="_top">Bug#30379</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, the cluster managment server logged entries
        multiple times following a restart of <span><strong class="command">mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/29565" target="_top">Bug#29565</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An interpreted program of sufficient size and complexity could
        cause all cluster data nodes to shut down due to buffer
        overruns.
       (<a href="http://bugs.mysql.com/29390" target="_top">Bug#29390</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> could sometimes fail on
        <code class="literal">NDB</code> tables due to the use of
        unitialized data when checking for duplicate keys to be ignored.
       (<a href="http://bugs.mysql.com/25817" target="_top">Bug#25817</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Use of the <code class="literal">@@hostname</code> system variable in
        inserts in <code class="filename">mysql_system_tables_data.sql</code> did
        not replicate. The workaround is to select its value into a user
        variable (which does replicate) and insert that.
       (<a href="http://bugs.mysql.com/31167" target="_top">Bug#31167</a>)</p></li><li><p>
        A build problem introduced in MySQL 5.0.52 was resolved: The x86
        32-bit Intel <span><strong class="command">icc</strong></span>-compiled server binary had
        unwanted dependences on Intel <span><strong class="command">icc</strong></span> runtime
        libraries.
       (<a href="http://bugs.mysql.com/32514" target="_top">Bug#32514</a>)</p></li><li><p>
        The rules for valid column names were being applied differently
        for base tables and views.
       (<a href="http://bugs.mysql.com/32496" target="_top">Bug#32496</a>)</p></li><li><p>
        The default grant tables on Windows contained information for
        host <code class="literal">production.mysql.com</code>, which should not
        be there.
       (<a href="http://bugs.mysql.com/32219" target="_top">Bug#32219</a>)</p></li><li><p>
        Under certain conditions, the presence of a <code class="literal">GROUP
        BY</code> clause could cause an <code class="literal">ORDER BY</code>
        clause to be ignored.
       (<a href="http://bugs.mysql.com/32202" target="_top">Bug#32202</a>)</p></li><li><p>
        The server crashed on optimizations involving a join of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">MEDIUMINT</code></a> columns and a system
        variable in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/32103" target="_top">Bug#32103</a>)</p></li><li><p>
        User-defined functions are not loaded if the server is started
        with the <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
        option, but the server did not properly handle this case and
        issued an <span class="errortext">Out of memory</span> error message
        instead.
       (<a href="http://bugs.mysql.com/32020" target="_top">Bug#32020</a>)</p></li><li><p>
        A column with malformed multi-byte characters could cause the
        full-text parser to go into an infinite loop.
       (<a href="http://bugs.mysql.com/31950" target="_top">Bug#31950</a>)</p></li><li><p>
        In debug builds, testing the result of an <code class="literal">IN</code>
        subquery against <code class="literal">NULL</code> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/31884" target="_top">Bug#31884</a>)</p></li><li><p>
        Comparison results for <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> were
        different from those for operators like
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a> and
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>-like values with
        trailing extra characters such as <code class="literal">'2007-10-01 00:00:00
        GMT-6'</code>. <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> treated
        the values as <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>, whereas
        the other operators performed a binary-string comparison. Now
        they all uniformly use a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        comparison, but generate warnings for values with trailing
        garbage.
       (<a href="http://bugs.mysql.com/31800" target="_top">Bug#31800</a>)</p></li><li><p>
        The server could crash during <code class="literal">filesort</code> for
        <code class="literal">ORDER BY</code> based on expressions with
        <a href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> or
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a> if those functions returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/31758" target="_top">Bug#31758</a>)</p></li><li><p>
        For a fatal error during a filesort in
        <code class="literal">find_all_keys()</code>, the error was returned
        without the necessary handler uninitialization, causing an
        assertion failure.
       (<a href="http://bugs.mysql.com/31742" target="_top">Bug#31742</a>)</p></li><li><p>
        The examined-rows count was not incremented for
        <a href="optimization.html#jointype_const"><code class="literal">const</code></a> queries.
       (<a href="http://bugs.mysql.com/31700" target="_top">Bug#31700</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function was subject to buffer overflow.
       (<a href="http://bugs.mysql.com/31669" target="_top">Bug#31669</a>)</p></li><li><p>
        For <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a>, if the <code class="literal">ENCLOSED BY</code> string
        is empty and the <code class="literal">FIELDS TERMINATED BY</code> string
        started with a special character (one of <code class="literal">n</code>,
        <code class="literal">t</code>, <code class="literal">r</code>,
        <code class="literal">b</code>, <code class="literal">0</code>,
        <code class="literal">Z</code>, or <code class="literal">N</code>), every occurrence
        of the character within field values would be duplicated.
       (<a href="http://bugs.mysql.com/31663" target="_top">Bug#31663</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> and
        <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> displayed
        <code class="literal">null</code> as the column type for a view with no
        valid definer. This caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to
        produce a nonreloadable dump file for the view.
       (<a href="http://bugs.mysql.com/31662" target="_top">Bug#31662</a>)</p></li><li><p>
        The <a href="programs.html#mysqlbug" title="4.4.4. mysqlbug — Generate Bug Report"><span><strong class="command">mysqlbug</strong></span></a> script did not include the
        correct values of <code class="literal">CFLAGS</code> and
        <code class="literal">CXXFLAGS</code> that were used to configure the
        distribution.
       (<a href="http://bugs.mysql.com/31644" target="_top">Bug#31644</a>)</p></li><li><p>
        A buffer used when setting variables was not dimensioned to
        accommodate the trailing <code class="literal">'\0'</code> byte, so a
        single-byte buffer overrun was possible.
       (<a href="http://bugs.mysql.com/31588" target="_top">Bug#31588</a>)</p></li><li><p>
        <code class="literal">HAVING</code> could treat lettercase of table
        aliases incorrectly if
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was
        enabled.
       (<a href="http://bugs.mysql.com/31562" target="_top">Bug#31562</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a> introduced a problem such that a
        <code class="literal">NULL</code> thread handler could be used during a
        rollback operation. This problem is unlikely to be seen in
        practice.
       (<a href="http://bugs.mysql.com/31517" target="_top">Bug#31517</a>)</p></li><li><p>
        The length of the result from
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could be calculated
        incorrectly because the sign of the result was not taken into
        account.
       (<a href="http://bugs.mysql.com/31471" target="_top">Bug#31471</a>)</p></li><li><p>
        Queries that used the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>
        access method or index-based subquery execution over indexes
        that have <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns could
        fail with an error <code class="literal">Column
        <em class="replaceable"><code>col_name</code></em> cannot be null</code>.
       (<a href="http://bugs.mysql.com/31450" target="_top">Bug#31450</a>)</p></li><li><p>
        <code class="literal">SELECT 1 REGEX NULL</code> caused an assertion
        failure for debug servers.
       (<a href="http://bugs.mysql.com/31440" target="_top">Bug#31440</a>)</p></li><li><p>
        Executing <code class="literal">RENAME</code> while tables were open for
        use with <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> statements could
        cause a server crash.
       (<a href="http://bugs.mysql.com/31409" target="_top">Bug#31409</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> tried to create files in a
        directory where it could not be expected to have write
        permission. <span><strong class="command">mysqltest</strong></span> created
        <code class="filename">.reject</code> files in a directory other than the
        one where test results go.
       (<a href="http://bugs.mysql.com/31398" target="_top">Bug#31398</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> caused an increase in
        memory usage.
       (<a href="http://bugs.mysql.com/31347" target="_top">Bug#31347</a>)</p></li><li><p>
        For an almost-full <code class="literal">MyISAM</code> table, an insert
        that failed could leave the table in a corrupt state.
       (<a href="http://bugs.mysql.com/31305" target="_top">Bug#31305</a>)</p></li><li><p>
        <a href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>val</code></em>,
        DATETIME)</code></a> would fail on invalid input, but processing
        was not aborted for the <code class="literal">WHERE</code> clause, leading
        to a server crash.
       (<a href="http://bugs.mysql.com/31253" target="_top">Bug#31253</a>)</p></li><li><p>
        Allocation of an insufficiently large group-by buffer following
        creation of a temporary table could lead to a server crash.
       (<a href="http://bugs.mysql.com/31249" target="_top">Bug#31249</a>)</p></li><li><p>
        Use of <code class="literal">DECIMAL(<em class="replaceable"><code>n</code></em>,
        <em class="replaceable"><code>n</code></em>) ZEROFILL</code> in
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31227" target="_top">Bug#31227</a>)</p></li><li><p>
        WIth small values of
        <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> for
        <code class="literal">MyISAM</code> tables could cause a server crash.
       (<a href="http://bugs.mysql.com/31174" target="_top">Bug#31174</a>)</p></li><li><p>
        If <a href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a> returned
        <code class="literal">NULL</code> when used in an <code class="literal">ORDER
        BY</code> that was evaluated using
        <code class="literal">filesort</code>, a server crash could result.
       (<a href="http://bugs.mysql.com/31160" target="_top">Bug#31160</a>)</p></li><li><p>
        Full-text searches on <code class="literal">ucs2</code> columns caused a
        server crash. (<code class="literal">FULLTEXT</code> indexes on
        <code class="literal">ucs2</code> columns cannot be used, but it should be
        possible to perform <code class="literal">IN BOOLEAN MODE</code> searches
        on <code class="literal">ucs2</code> columns without a crash.)
       (<a href="http://bugs.mysql.com/31159" target="_top">Bug#31159</a>)</p></li><li><p>
        An assertion designed to detect a bug in the
        <code class="literal">ROLLUP</code> implementation would incorrectly be
        triggered when used in a subquery context with noncacheable
        statements.
       (<a href="http://bugs.mysql.com/31156" target="_top">Bug#31156</a>)</p></li><li><p>
        Selecting spatial types in a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could cause a server crash.
       (<a href="http://bugs.mysql.com/31155" target="_top">Bug#31155</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> caused an
        assertion failure.
       (<a href="http://bugs.mysql.com/31154" target="_top">Bug#31154</a>)</p></li><li><p>
        <code class="literal">GROUP BY NULL WITH ROLLUP</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>)</p><p>See also <a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>.</p></li><li><p>
        Internal conversion routines could fail for several multi-byte
        character sets (<code class="literal">big5</code>,
        <code class="literal">cp932</code>, <code class="literal">euckr</code>,
        <code class="literal">gb2312</code>, <code class="literal">sjis</code>) for empty
        strings or during evaluation of <a href="functions.html#operator_sounds-like"><code class="literal">SOUNDS
        LIKE</code></a>.
       (<a href="http://bugs.mysql.com/31069" target="_top">Bug#31069</a>, <a href="http://bugs.mysql.com/31070" target="_top">Bug#31070</a>)</p></li><li><p>
        The <a href="functions.html#function_mod"><code class="literal">MOD()</code></a> function and the
        <code class="literal">%</code> operator crashed the server for a divisor
        less than 1 with a very long fractional part.
       (<a href="http://bugs.mysql.com/31019" target="_top">Bug#31019</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect.
       (<a href="http://bugs.mysql.com/30992" target="_top">Bug#30992</a>)</p></li><li><p>
        A character set introducer followed by a hexadecimal or
        bit-value literal did not check its argument and could return an
        ill-formed result for invalid input.
       (<a href="http://bugs.mysql.com/30986" target="_top">Bug#30986</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        <em class="replaceable"><code>charset</code></em>)</code></a> did not check its
        argument and could return an ill-formed result for invalid
        input.
       (<a href="http://bugs.mysql.com/30982" target="_top">Bug#30982</a>)</p></li><li><p>
        The result from
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        ucs2</code></a>) did not add a leading 0x00 byte for input
        strings with an odd number of bytes.
       (<a href="http://bugs.mysql.com/30981" target="_top">Bug#30981</a>)</p></li><li><p>
        The <a href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a> function could
        cause a server crash if the first argument was
        <code class="literal">NULL</code> or the empty string.
       (<a href="http://bugs.mysql.com/30955" target="_top">Bug#30955</a>)</p></li><li><p>
        <a href="functions.html#function_makedate"><code class="literal">MAKEDATE()</code></a> incorrectly moved year
        values in the 100–200 range into the 1970–2069
        range. (This is legitimate for 00–99, but three-digit
        years should be used unchanged.)
       (<a href="http://bugs.mysql.com/30951" target="_top">Bug#30951</a>)</p></li><li><p>
        When invoked with constant arguments,
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> could use a cached
        value for the format string and return incorrect results.
       (<a href="http://bugs.mysql.com/30942" target="_top">Bug#30942</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> returned
        <code class="literal">','</code> rather than an empty string when the
        argument column contained only empty strings.
       (<a href="http://bugs.mysql.com/30897" target="_top">Bug#30897</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, lookups for
        <code class="literal">NULL</code> values in <code class="literal">BTREE</code>
        indexes could return incorrect results.
       (<a href="http://bugs.mysql.com/30885" target="_top">Bug#30885</a>)</p></li><li><p>
        Calling <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> with
        nonconstant arguments triggered an assertion failure.
        Nonconstant arguments are now disallowed.
       (<a href="http://bugs.mysql.com/30832" target="_top">Bug#30832</a>)</p></li><li><p>
        For a spatial column with a regular
        (non-<code class="literal">SPATIAL</code>) index, queries failed if the
        optimizer tried to use the index.
       (<a href="http://bugs.mysql.com/30825" target="_top">Bug#30825</a>)</p></li><li><p>
        Values for the <code class="option">--tc-heuristic-recover</code> option
        incorrectly were treated as values for the
        <code class="option">--myisam-stats-method</code> option.
       (<a href="http://bugs.mysql.com/30821" target="_top">Bug#30821</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect. One symptom was that invalidating
        the query cache could cause a server crash.
       (<a href="http://bugs.mysql.com/30768" target="_top">Bug#30768</a>)</p></li><li><p>
        Under some circumstances,
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> could crash the server or incorrectly report
        that the table row size was too large.
       (<a href="http://bugs.mysql.com/30736" target="_top">Bug#30736</a>)</p></li><li><p>
        Using the <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> function to select one part
        of a multi-part key could cause a crash when the function result
        was <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/30715" target="_top">Bug#30715</a>)</p></li><li><p>
        The optimizer could ignore <code class="literal">ORDER BY</code> in cases
        when the result set is ordered by <code class="literal">filesort</code>,
        resulting in rows being returned in incorrect order.
       (<a href="http://bugs.mysql.com/30666" target="_top">Bug#30666</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> tables could not exceed 4294967295
        (2<sup>32</sup> – 1) rows on Windows.
       (<a href="http://bugs.mysql.com/30638" target="_top">Bug#30638</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements that remove
        rows based on an index read could fail to remove all matching
        rows.
       (<a href="http://bugs.mysql.com/30590" target="_top">Bug#30590</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on an expression of the form
        <code class="literal"><em class="replaceable"><code>timestamp_col</code></em> DIV
        <em class="replaceable"><code>number</code></em></code> caused a server
        crash due to incorrect calculation of number of decimals.
       (<a href="http://bugs.mysql.com/30587" target="_top">Bug#30587</a>)</p></li><li><p>
        When expanding a <code class="literal">*</code> in a
        <code class="literal">USING</code> or <code class="literal">NATURAL</code> join, the
        check for table access for both tables in the join was done
        using only the grant information of the first table.
       (<a href="http://bugs.mysql.com/30468" target="_top">Bug#30468</a>)</p></li><li><p>
        Versions of <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> from MySQL 4.1 or
        higher tried to use <code class="literal">START TRANSACTION WITH CONSISTENT
        SNAPSHOT</code> if the
        <a href="programs.html#option_mysqldump_single-transaction"><code class="option">--single-transaction</code></a> and
        <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> options were
        given, even with servers older than 4.1 that do not support
        consistent snapshots.
       (<a href="http://bugs.mysql.com/30444" target="_top">Bug#30444</a>)</p></li><li><p>
        Setting certain values on a table using a spatial index could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/30286" target="_top">Bug#30286</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> tables are intended
        for internal use, but could be accessed by using
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements.
       (<a href="http://bugs.mysql.com/30079" target="_top">Bug#30079</a>)</p></li><li><p>
        Specifying the <code class="option">--without-geometry</code> option for
        <span><strong class="command">configure</strong></span> caused server compilation to fail.
       (<a href="http://bugs.mysql.com/29972" target="_top">Bug#29972</a>)</p></li><li><p>
        Under some circumstances, a UDF initialization function could be
        passed incorrect argument lengths.
       (<a href="http://bugs.mysql.com/29804" target="_top">Bug#29804</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not find <code class="literal">nss</code>
        on some Linux platforms.
       (<a href="http://bugs.mysql.com/29658" target="_top">Bug#29658</a>)</p></li><li><p>
        The <code class="literal">log</code> and
        <a href="server-administration.html#sysvar_log_slow_queries"><code class="literal">log_slow_queries</code></a> system
        variables were displayed by <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a> but could not be accessed in expressions as
        <code class="literal">@@log</code> and
        <code class="literal">@@log_slow_queries</code>. Also, attempting to set
        them with <code class="literal">SET</code> produced an incorrect
        <code class="literal">Unknown system variable</code> message. Now these
        variables can be accessed in expressions and attempting to set
        their values produces an error message that the variable is read
        only.
       (<a href="http://bugs.mysql.com/29131" target="_top">Bug#29131</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> did not display
        the <code class="literal">relay_log</code>,
        <code class="literal">relay_log_index</code>, or
        <code class="literal">relay_log_info_file</code> system variables.
       (<a href="http://bugs.mysql.com/28893" target="_top">Bug#28893</a>)</p></li><li><p>
        On Windows, <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> created temporary
        files in <code class="filename">C:\</code> and did not clean them up.
       (<a href="http://bugs.mysql.com/28774" target="_top">Bug#28774</a>)</p></li><li><p>
        Index hints specified in view definitions were ignored when
        using the view to select from the base table.
       (<a href="http://bugs.mysql.com/28702" target="_top">Bug#28702</a>)</p></li><li><p>
        Views do not have indexes, so index hints do not apply. Use of
        index hints when selecting from a view is now disallowed.
       (<a href="http://bugs.mysql.com/28701" target="_top">Bug#28701</a>)</p></li><li><p>
        After changing the SQL mode to a restrictive value that would
        make already-inserted dates in a column be considered invalid,
        searches returned different results depending on whether the
        column was indexed.
       (<a href="http://bugs.mysql.com/28687" target="_top">Bug#28687</a>)</p></li><li><p>
        The result from <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> was
        incorrectly assumed in some contexts to return a single-byte
        result.
       (<a href="http://bugs.mysql.com/28550" target="_top">Bug#28550</a>)</p></li><li><p>
        The parser confused user-defined function (UDF) and stored
        function creation for <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE
        FUNCTION</code></a> and required that there be a default database
        when creating UDFs, although there is no such requirement.
       (<a href="http://bugs.mysql.com/28318" target="_top">Bug#28318</a>, <a href="http://bugs.mysql.com/29816" target="_top">Bug#29816</a>)</p></li><li><p>
        The result of a comparison between
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> columns differed depending
        on whether the <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        was indexed.
       (<a href="http://bugs.mysql.com/28076" target="_top">Bug#28076</a>)</p></li><li><p>
        The metadata in some <code class="literal">MYSQL_FIELD</code> members
        could be incorrect when a temporary table was used to evaluate a
        query.
       (<a href="http://bugs.mysql.com/27990" target="_top">Bug#27990</a>)</p></li><li><p>
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> created files with permissions such
        that they might be inaccessible during <span><strong class="command">make
        install</strong></span> operations.
       (<a href="http://bugs.mysql.com/27789" target="_top">Bug#27789</a>)</p></li><li><p>
        The anonymous accounts were not being created during MySQL
        installation.
       (<a href="http://bugs.mysql.com/27692" target="_top">Bug#27692</a>)</p></li><li><p>
        Host names sometimes were treated as case sensitive in
        account-management statements (<a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE
        USER</code></a>, <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a>,
        <a href="sql-syntax.html#revoke" title="12.5.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a>, and so forth).
       (<a href="http://bugs.mysql.com/19828" target="_top">Bug#19828</a>)</p></li><li><p>
        The <code class="literal">readline</code> library has been updated to
        version 5.2. This addresses issues in the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client where history and editing within
        the client would fail to work as expected.
       (<a href="http://bugs.mysql.com/18431" target="_top">Bug#18431</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Aborted_clients"><code class="literal">Aborted_clients</code></a> status
        variable was incremented twice if a client exited without
        calling <a href="connectors-apis.html#mysql-close" title="20.9.3.5. mysql_close()"><code class="literal">mysql_close()</code></a>.
       (<a href="http://bugs.mysql.com/16918" target="_top">Bug#16918</a>)</p></li><li><p>
        Clients were ignoring the TCP/IP port number specified as the
        default port via the --with-tcp-port configuration option.
       (<a href="http://bugs.mysql.com/15327" target="_top">Bug#15327</a>)</p></li><li><p>
        Values of types <code class="literal">REAL ZEROFILL</code>,
        <code class="literal">DOUBLE ZEROFILL</code>, <code class="literal">FLOAT
        ZEROFILL</code>, were not zero-filled when converted to a
        character representation in the C prepared statement API.
       (<a href="http://bugs.mysql.com/11589" target="_top">Bug#11589</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> stripped comments from statements sent
        to the server. Now the
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> or
        <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a> option can be
        used to control whether to retain or strip comments. The default
        is <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a>.
       (<a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a>, <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a>)</p></li><li><p>
        Several buffer-size system variables were either being handled
        incorrectly for large values (for settings larger than 4GB, they
        were truncated to values less than 4GB without a warning), or
        were limited unnecessarily to 4GB even on 64-bit systems. The
        following changes were made:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            For <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a>, values
            larger than 4GB are allowed on 64-bit platforms (except
            Windows, for which large values are truncated to 4GB with a
            warning).
          </p></li><li><p>
            For <a href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a>,
            <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a>, and
            <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
            values are limited to 4GB on all platforms. Larger values
            are truncated to 4GB with a warning.
          </p></li></ul></div><p>
        In addition, settings for
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> and
        <a href="server-administration.html#sysvar_read_rnd_buffer_size"><code class="literal">read_rnd_buffer_size</code></a> are
        limited to 2GB on all platforms. Larger values are truncated to
        2GB with a warning.
       (<a href="http://bugs.mysql.com/5731" target="_top">Bug#5731</a>, <a href="http://bugs.mysql.com/29419" target="_top">Bug#29419</a>, <a href="http://bugs.mysql.com/29446" target="_top">Bug#29446</a>)</p></li><li><p>
        Executing <code class="literal">DISABLE KEYS</code> and <code class="literal">ENABLE
        KEYS</code> on a nonempty table would cause the size of the
        index file for the table to grow considerable. This was because
        the <code class="literal">DISABLE KEYS</code> operation would only mark
        the existing index, without deleting the index blocks. The
        <code class="literal">ENABLE KEYS</code> operation would re-create the
        index, adding new blocks, while the previous index blocks would
        remain. Existing indexes are now dropped and recreated when the
        <code class="literal">ENABLE KEYS</code> statement is executed.
       (<a href="http://bugs.mysql.com/4692" target="_top">Bug#4692</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-51b"></a>C.1.33. Release Notes for MySQL Community Server 5.0.51b (24 April 2008)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.51.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        On Windows, the installer attempted to use JScript to determine
        whether the target data directory already existed. On Windows
        Vista x64, this resulted in an error because the installer was
        attempting to run the JScript in a 32-bit engine, which wasn't
        registered on Vista. The installer no longer uses JScript but
        instead relies on a native WiX command.
       (<a href="http://bugs.mysql.com/36103" target="_top">Bug#36103</a>)</p></li><li><p>
        The MySQL preferences pane did not work to start or stop MySQL
        on Mac OS X 10.5 (Leopard).
       (<a href="http://bugs.mysql.com/28854" target="_top">Bug#28854</a>)</p></li><li><p>
        On Mac OS X, the StartupItem for MySQL did not work.
       (<a href="http://bugs.mysql.com/25008" target="_top">Bug#25008</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-51a"></a>C.1.34. Release Notes for MySQL Community Server 5.0.51a (11 January 2008)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.51.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is
        allowed only to the original definer or users with the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p>
        When running the MySQL Instance Configuration Wizard, a race
        condition could exist that would fail to connect to a newly
        configured instance. This was because <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        had not completed the startup process before the next stage of
        the installation process.
       (<a href="http://bugs.mysql.com/28628" target="_top">Bug#28628</a>)</p></li><li><p>
        For Windows Vista, <span><strong class="command">MySQLInstanceConfig.exe</strong></span>
        did not include a proper manifest enabling it to run with
        administrative privileges.
       (<a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>)</p><p>See also <a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>.</p></li><li><p>
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> failed to grant
        certain privileges to the <code class="literal">'root'@'%'</code> account.
       (<a href="http://bugs.mysql.com/17303" target="_top">Bug#17303</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-51"></a>C.1.35. Release Notes for MySQL Community Server 5.0.51 (15 November 2007)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.45.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The parser accepted statements that contained <code class="literal">/* ...
        */</code> that were not properly closed with
        <code class="literal">*/</code>, such as <code class="literal">SELECT 1 /* +
        2</code>. Statements that contain unclosed
        <code class="literal">/*</code>-comments now are rejected with a syntax
        error.
      </p><p>
        This fix has the potential to cause incompatibilities. Because
        of <a href="http://bugs.mysql.com/26302" target="_top">Bug#26302</a>, which caused the trailing <code class="literal">*/</code> to
        be truncated from comments in views, stored routines, triggers,
        and events, it is possible that objects of those types may have
        been stored with definitions that now will be rejected as
        syntactically invalid. Such objects should be dropped and
        re-created so that their definitions do not contain truncated
        comments. If a stored object definition contains only a single
        statement (does not use a <code class="literal">BEGIN ... END</code>
        block) and contains a comment within the statement, the comment
        should be moved to follow the statement or the object should be
        rewritten to use a <code class="literal">BEGIN ... END</code> block. For
        example, this statement:
      </p><pre class="programlisting">CREATE PROCEDURE p() SELECT 1 /* my comment */ ;
</pre><p>
        Can be rewritten in either of these ways:
      </p><pre class="programlisting">CREATE PROCEDURE p() SELECT 1; /* my comment */
CREATE PROCEDURE p() BEGIN SELECT 1 /* my comment */ ; END;
</pre><p>(<a href="http://bugs.mysql.com/28779" target="_top">Bug#28779</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Mapping of <code class="literal">NDB</code> error codes to MySQL
        storage engine error codes has been improved.
       (<a href="http://bugs.mysql.com/28423" target="_top">Bug#28423</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a> and
        <a href="replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a> are now
        supported for <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/26342" target="_top">Bug#26342</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output from the cluster management client showing the
        progress of data node starts has been improved.
       (<a href="http://bugs.mysql.com/23354" target="_top">Bug#23354</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>,
        <a href="server-administration.html#sysvar_foreign_key_checks"><code class="literal">foreign_key_checks</code></a>,
        <a href="server-administration.html#sysvar_unique_checks"><code class="literal">unique_checks</code></a>, character
        set/collations, and
        <a href="server-administration.html#sysvar_sql_auto_is_null"><code class="literal">sql_auto_is_null</code></a> session
        variables are written to the binary log and honored during
        replication. See <a href="server-administration.html#binary-log" title="5.2.3. The Binary Log">Section 5.2.3, “The Binary Log”</a>.
      </p></li><li><p>
        Server parser performance was improved for expression parsing by
        lowering the number of state transitions and reductions needed.
       (<a href="http://bugs.mysql.com/30625" target="_top">Bug#30625</a>)</p></li><li><p>
        Server parser performance was improved for boolean expressions.
       (<a href="http://bugs.mysql.com/30237" target="_top">Bug#30237</a>)</p></li><li><p>
        If a <code class="literal">MyISAM</code> table is created with no
        <code class="literal">DATA DIRECTORY</code> option, the
        <code class="filename">.MYD</code> file is created in the database
        directory. By default, if <code class="literal">MyISAM</code> finds an
        existing <code class="filename">.MYD</code> file in this case, it
        overwrites it. The same applies to <code class="filename">.MYI</code>
        files for tables created with no <code class="literal">INDEX
        DIRECTORY</code> option. To suppress this behavior, start the
        server with the new <code class="option">--keep_files_on_create</code>
        option, in which case <code class="literal">MyISAM</code> will not
        overwrite existing files and returns an error instead.
       (<a href="http://bugs.mysql.com/29325" target="_top">Bug#29325</a>)</p></li><li><p>
        MySQL source distributions are now available in Zip format.
       (<a href="http://bugs.mysql.com/27742" target="_top">Bug#27742</a>)</p></li><li><p>
        If a <code class="literal">MERGE</code> table cannot be opened or used
        because of a problem with an underlying table,
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> now displays
        information about which table caused the problem.
       (<a href="http://bugs.mysql.com/26976" target="_top">Bug#26976</a>)</p></li><li><p>
        The <code class="literal">EXAMPLE</code> storage engine is now enabled by
        default.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> against a
        table with explicit <code class="literal">DATA DIRECTORY</code> and
        <code class="literal">INDEX DIRECTORY</code> options can be used to
        overwrite system table information by replacing the symbolic
        link points. the file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The file <code class="filename">mysqld.exe</code> was mistakenly included
        in binary distributions between MySQL 5.0.42 and 5.0.48. You
        should use <code class="filename">mysqld-nt.exe</code>.
       (<a href="http://bugs.mysql.com/32197" target="_top">Bug#32197</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements
        containing ambiguous aliases could have unintended side effects
        such as deleting rows from the wrong table. Example:
      </p><pre class="programlisting">DELETE FROM t1 AS a2 USING t1 AS a1 INNER JOIN t2 AS a2;
</pre><p>
        This bug fix enables alias declarations to be declared only in
        the <em class="replaceable"><code>table_references</code></em> part. Elsewhere
        in the statement, alias references are allowed but not alias
        declarations.
       (<a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>)</p><p>See also <a href="http://bugs.mysql.com/27525" target="_top">Bug#27525</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Failure to consider collation when comparing space characters
        could result in incorrect index entry order, leading to
        incorrect comparisons, inability to find some index values,
        misordered index entries, misordered <code class="literal">ORDER BY</code>
        results, or tables that <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> reports as having corrupt indexes.
      </p><p>
        As a result of this bug fix, indexes must be rebuilt for columns
        that use any of these character sets:
        <code class="literal">eucjpms</code>, <code class="literal">euc_kr</code>,
        <code class="literal">gb2312</code>, <code class="literal">latin7</code>,
        <code class="literal">macce</code>, <code class="literal">ujis</code>. See
        <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        Some commercial MySQL Cluster RPM packages included support for
        the <code class="literal">InnoDB</code> storage engine.
        (<code class="literal">InnoDB</code> is not part of the standard
        commercial MySQL Cluster offering.)
       (<a href="http://bugs.mysql.com/31989" target="_top">Bug#31989</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to restore a backup made on a cluster host using one
        endian to a machine using the other endian could cause the
        cluster to fail.
       (<a href="http://bugs.mysql.com/29674" target="_top">Bug#29674</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When restarting a data node, queries could hang during that
        node's start phase 5, and continue only after the node had
        entered phase 6.
       (<a href="http://bugs.mysql.com/29364" target="_top">Bug#29364</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Replica redo logs were inconsistently handled during a system
        restart.
       (<a href="http://bugs.mysql.com/29354" target="_top">Bug#29354</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Reads on <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns were not
        locked when they needed to be to guarantee consistency.
       (<a href="http://bugs.mysql.com/29102" target="_top">Bug#29102</a>)</p><p>See also <a href="http://bugs.mysql.com/31482" target="_top">Bug#31482</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query using joins between several large tables and requiring
        unique index lookups failed to complete, eventually returning
        <span class="errortext">Uknown Error</span> after a very long period of
        time. This occurred due to inadequate handling of instances
        where the Transaction Coordinator ran out of
        <code class="literal">TransactionBufferMemory</code>, when the cluster
        should have returned NDB error code 4012 (<span class="errortext">Request
        ndbd time-out</span>).
       (<a href="http://bugs.mysql.com/28804" target="_top">Bug#28804</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The description of the <code class="option">--print</code> option provided
        in the output from <span><strong class="command">ndb_restore <code class="option">--help</code>
        </strong></span> was incorrect.
       (<a href="http://bugs.mysql.com/27683" target="_top">Bug#27683</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client's response to <code class="literal">START BACKUP
        WAIT COMPLETED</code> did not include the backup ID.
       (<a href="http://bugs.mysql.com/27640" target="_top">Bug#27640</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An invalid subselect on an <code class="literal">NDB</code>
        table could cause <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/27494" target="_top">Bug#27494</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An attempt to perform a <code class="literal">SELECT ... FROM
        INFORMATION_SCHEMA.TABLES</code> whose result included
        information about <code class="literal">NDB</code> tables for
        which the user had no privileges crashed the MySQL Server on
        which the query was performed.
       (<a href="http://bugs.mysql.com/26793" target="_top">Bug#26793</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Warnings and errors generated by <span><strong class="command">ndb_config
        <code class="option">--config-file=<em class="replaceable"><code>file</code></em></code></strong></span>
        were sent to <code class="literal">stdout</code>, rather than to
        <code class="literal">stderr</code>.
       (<a href="http://bugs.mysql.com/25941" target="_top">Bug#25941</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Large file support did not work in AIX server binaries.
       (<a href="http://bugs.mysql.com/10776" target="_top">Bug#10776</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The thread ID was not reset properly after execution of
        <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a>, which could
        cause replication failure when replicating temporary tables.
       (<a href="http://bugs.mysql.com/29734" target="_top">Bug#29734</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Operations that used the time zone replicated the time zone only
        for successful operations, but did not replicate the time zone
        for errors that need to know it.
       (<a href="http://bugs.mysql.com/29536" target="_top">Bug#29536</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements on a
        master server are replicated as non-<code class="literal">DELAYED</code>
        inserts on slaves (which is normal, to preserve serialization),
        but the inserts on the slave did not use concurrent inserts. Now
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> on a slave is
        converted to a concurrent insert when possible, and to a normal
        insert otherwise.
       (<a href="http://bugs.mysql.com/29152" target="_top">Bug#29152</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> statements that named
        multiple users, only some of which could be dropped, were
        replicated incorrectly.
       (<a href="http://bugs.mysql.com/29030" target="_top">Bug#29030</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An error that happened inside
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>,
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>, or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements performed from
        within a stored function or trigger could cause inconsistency
        between master and slave servers.
       (<a href="http://bugs.mysql.com/27417" target="_top">Bug#27417</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Slave servers could incorrectly interpret an out-of-memory error
        from the master and reconnect using the wrong binary log
        position.
       (<a href="http://bugs.mysql.com/24192" target="_top">Bug#24192</a>)</p></li><li><p>
        When a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> with a nonzero
        time part was converted to a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>
        value, no warning was generated. This caused index lookups to
        assume that this is a valid conversion and was returning rows
        that match a comparison between a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> value and a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> keypart. Now a warning is
        generated so that <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> with
        a nonzero time part will not match
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/31221" target="_top">Bug#31221</a>)</p></li><li><p>
        A server crash could occur when a
        non-<code class="literal">DETERMINISTIC</code> stored function was used in
        a <code class="literal">GROUP BY</code> clause.
       (<a href="http://bugs.mysql.com/31035" target="_top">Bug#31035</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table if a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> was ordered by the primary
        key and also had a <code class="literal">WHERE field = value</code> clause
        on a different field that was indexed, a <code class="literal">DESC</code>
        order instruction would be ignored.
       (<a href="http://bugs.mysql.com/31001" target="_top">Bug#31001</a>)</p></li><li><p>
        A failed <code class="literal">HANDLER ... READ</code> operation could
        leave the table in a locked state.
       (<a href="http://bugs.mysql.com/30632" target="_top">Bug#30632</a>)</p></li><li><p>
        The optimization that uses a unique index to remove
        <code class="literal">GROUP BY</code> did not ensure that the index was
        actually used, thus violating the <code class="literal">ORDER BY</code>
        that is implied by <code class="literal">GROUP BY</code>.
       (<a href="http://bugs.mysql.com/30596" target="_top">Bug#30596</a>)</p></li><li><p>
        <code class="literal">SHOW STATUS LIKE 'Ssl_cipher_list'</code> from a
        MySQL client connected via SSL returned an empty string rather
        than a list of available ciphers.
       (<a href="http://bugs.mysql.com/30593" target="_top">Bug#30593</a>)</p></li><li><p>
        Memory corruption occurred for some queries with a top-level
        <code class="literal">OR</code> operation in the <code class="literal">WHERE</code>
        condition if they contained equality predicates and other
        sargable predicates in disjunctive parts of the condition.
       (<a href="http://bugs.mysql.com/30396" target="_top">Bug#30396</a>)</p></li><li><p>
        Issuing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement having
        both an <code class="literal">ORDER BY</code> clause and a
        <code class="literal">LIMIT</code> clause could cause
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/30385" target="_top">Bug#30385</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Last_query_cost"><code class="literal">Last_query_cost</code></a> status
        variable value can be computed accurately only for simple
        “<span class="quote">flat</span>” queries, not complex queries such as those
        with subqueries or <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>.
        However, the value was not consistently being set to 0 for
        complex queries.
       (<a href="http://bugs.mysql.com/30377" target="_top">Bug#30377</a>)</p></li><li><p>
        Queries that had a <code class="literal">GROUP BY</code> clause and
        selected <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> returned
        incorrect results.
       (<a href="http://bugs.mysql.com/30324" target="_top">Bug#30324</a>)</p></li><li><p>
        The server created temporary tables for filesort operations in
        the working directory, not in the directory specified by the
        <code class="literal">tmpdir</code> system variable.
       (<a href="http://bugs.mysql.com/30287" target="_top">Bug#30287</a>)</p></li><li><p>
        The query cache does not support retrieval of statements for
        which column level access control applies, but the server was
        still caching such statements, thus wasting memory.
       (<a href="http://bugs.mysql.com/30269" target="_top">Bug#30269</a>)</p></li><li><p>
        Using <code class="literal">DISTINCT</code> or <code class="literal">GROUP BY</code>
        on a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement caused the
        column to be cast internally as an integer, with incorrect
        results being returned from the query.
       (<a href="http://bugs.mysql.com/30245" target="_top">Bug#30245</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns produced incorrect
        results.
       (<a href="http://bugs.mysql.com/30219" target="_top">Bug#30219</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL QUERY</code></a>
        or <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL
        CONNECTION</code></a> to kill a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement caused a server
        crash if the query cache was enabled.
       (<a href="http://bugs.mysql.com/30201" target="_top">Bug#30201</a>)</p></li><li><p>
        Prepared statements containing
        <a href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> could be written
        improperly to the binary log.
       (<a href="http://bugs.mysql.com/30200" target="_top">Bug#30200</a>)</p></li><li><p>
        When a thread executing a <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP
        TABLE</code></a> statement was killed, the table name locks that
        had been acquired were not released.
       (<a href="http://bugs.mysql.com/30193" target="_top">Bug#30193</a>)</p></li><li><p>
        Short-format <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> commands embedded within
        <code class="literal">/*! ... */</code> comments were parsed incorrectly
        by <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, which discarded the rest of the
        comment including the terminating <code class="literal">*/</code>
        characters. The result was a malformed (unclosed) comment. Now
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> does not discard the
        <code class="literal">*/</code> characters.
       (<a href="http://bugs.mysql.com/30164" target="_top">Bug#30164</a>)</p></li><li><p>
        When <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> wrote
        <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> statements within
        version-specific comments, it included the terminating semicolon
        in the wrong place, causing following statements to fail when
        the dump file was reloaded.
       (<a href="http://bugs.mysql.com/30126" target="_top">Bug#30126</a>)</p></li><li><p>
        Use of local variables with non-ASCII names in stored procedures
        crashed the server.
       (<a href="http://bugs.mysql.com/30120" target="_top">Bug#30120</a>)</p></li><li><p>
        On Windows, client libraries lacked symbols required for
        linking.
       (<a href="http://bugs.mysql.com/30118" target="_top">Bug#30118</a>)</p></li><li><p>
        <code class="option">--myisam-recover=''</code> (empty option value) did
        not disable <code class="literal">MyISAM</code> recovery.
       (<a href="http://bugs.mysql.com/30088" target="_top">Bug#30088</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table was
        not always set correctly.
       (<a href="http://bugs.mysql.com/30020" target="_top">Bug#30020</a>)</p></li><li><p>
        Statements within stored procedures ignored the value of the
        <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a>)</p><p>See also <a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a>.</p></li><li><p>
        For <code class="literal">MyISAM</code> tables on Windows,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> followed by
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> within
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> could cause table
        corruption.
       (<a href="http://bugs.mysql.com/29957" target="_top">Bug#29957</a>)</p></li><li><p>
        With auto-reconnect enabled, row fetching for a prepared
        statement could crash after reconnect occurred because loss of
        the statement handler was not accounted for.
       (<a href="http://bugs.mysql.com/29948" target="_top">Bug#29948</a>)</p></li><li><p>
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> did not pre-lock
        tables used in triggers of the locked tables. Unexpected locking
        behavior and statement failures similar to <span class="errortext">failed:
        1100: Table '<em class="replaceable"><code>xx</code></em>' was not locked with
        LOCK TABLES</span> could result.
       (<a href="http://bugs.mysql.com/29929" target="_top">Bug#29929</a>)</p></li><li><p>
        <code class="literal">INSERT ... VALUES(CONNECTION_ID(), ...)</code>
        statements were written to the binary log in such a way that
        they could not be properly restored.
       (<a href="http://bugs.mysql.com/29928" target="_top">Bug#29928</a>)</p></li><li><p>
        Adding <code class="literal">DISTINCT</code> could cause incorrect rows to
        appear in a query result.
       (<a href="http://bugs.mysql.com/29911" target="_top">Bug#29911</a>)</p></li><li><p>
        Using the <a href="functions.html#function_date"><code class="literal">DATE()</code></a> function in a
        <code class="literal">WHERE</code> clause did not return any records after
        encountering <code class="literal">NULL</code>. However, using
        <code class="literal">TRIM</code> or <code class="literal">CAST</code> produced the
        correct results.
       (<a href="http://bugs.mysql.com/29898" target="_top">Bug#29898</a>)</p></li><li><p>
        Very long prepared statements in stored procedures could cause a
        server crash.
       (<a href="http://bugs.mysql.com/29856" target="_top">Bug#29856</a>)</p></li><li><p>
        If query execution involved a temporary table,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could return a
        result with an incorrect character set.
       (<a href="http://bugs.mysql.com/29850" target="_top">Bug#29850</a>)</p></li><li><p>
        If one thread was performing concurrent inserts, other threads
        reading from the same table using equality key searches could
        see the index values for new rows before the data values had
        been written, leading to reports of table corruption.
       (<a href="http://bugs.mysql.com/29838" target="_top">Bug#29838</a>)</p></li><li><p>
        Repeatedly accessing a view in a stored procedure (for example,
        in a loop) caused a small amount of memory to be allocated per
        access. Although this memory is deallocated on disconnect, it
        could be a problem for a long running stored procedures that
        make repeated access of views.
       (<a href="http://bugs.mysql.com/29834" target="_top">Bug#29834</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produced output that incorrectly
        discarded the
        <a href="server-administration.html#sqlmode_no_auto_value_on_zero"><code class="literal">NO_AUTO_VALUE_ON_ZERO</code></a> value of
        the <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> variable after
        dumping triggers.
       (<a href="http://bugs.mysql.com/29788" target="_top">Bug#29788</a>)</p></li><li><p>
        An assertion failure occurred within yaSSL for very long keys.
       (<a href="http://bugs.mysql.com/29784" target="_top">Bug#29784</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, the
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> union access
        method could return incorrect results.
       (<a href="http://bugs.mysql.com/29740" target="_top">Bug#29740</a>)</p></li><li><p>
        Comparison of <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values using
        the <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> operator led to string
        comparison, producing incorrect results in some cases. Now the
        values are compared as integers.
       (<a href="http://bugs.mysql.com/29739" target="_top">Bug#29739</a>)</p></li><li><p>
        For a table with a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column
        <em class="replaceable"><code>date_col</code></em> such that selecting rows
        with <code class="literal">WHERE <em class="replaceable"><code>date_col</code></em> =
        '<em class="replaceable"><code>date_val</code></em> 00:00:00'</code> yielded
        a nonempty result, adding <code class="literal">GROUP BY
        <em class="replaceable"><code>date_col</code></em></code> caused the result
        to be empty.
       (<a href="http://bugs.mysql.com/29729" target="_top">Bug#29729</a>)</p></li><li><p>
        In some cases, <code class="literal">INSERT INTO ... SELECT ... GROUP
        BY</code> could insert rows even if the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> by itself produced an
        empty result.
       (<a href="http://bugs.mysql.com/29717" target="_top">Bug#29717</a>)</p></li><li><p>
        For the embedded server, the
        <a href="connectors-apis.html#mysql-stmt-store-result" title="20.9.7.27. mysql_stmt_store_result()"><code class="literal">mysql_stmt_store_result()</code></a> C API
        function caused a memory leak for empty result sets.
       (<a href="http://bugs.mysql.com/29687" target="_top">Bug#29687</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> produced
        <code class="literal">Impossible where</code> for statements of the form
        <code class="literal">SELECT ... FROM t WHERE c=0</code>, where
        <code class="literal">c</code> was an <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>
        column defined as a primary key.
       (<a href="http://bugs.mysql.com/29661" target="_top">Bug#29661</a>)</p></li><li><p>
        On Windows, <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> hung if
        records were locked in share mode by a long-running transaction.
       (<a href="http://bugs.mysql.com/29644" target="_top">Bug#29644</a>)</p></li><li><p>
        A left join between two views could produce incorrect results.
       (<a href="http://bugs.mysql.com/29604" target="_top">Bug#29604</a>)</p></li><li><p>
        Certain statements with unions, subqueries, and joins could
        result in huge memory consumption.
       (<a href="http://bugs.mysql.com/29582" target="_top">Bug#29582</a>)</p></li><li><p>
        Clients using SSL could hang the server.
       (<a href="http://bugs.mysql.com/29579" target="_top">Bug#29579</a>)</p></li><li><p>
        A slave running with
        <a href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> would fail to
        write <code class="literal">INSERT DELAY IGNORE</code> statements to its
        binary log, resulting in different binary log contents on the
        master and slave.
       (<a href="http://bugs.mysql.com/29571" target="_top">Bug#29571</a>)</p></li><li><p>
        An incorrect result was returned when comparing string values
        that were converted to <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>
        values with <a href="functions.html#function_cast"><code class="literal">CAST()</code></a>.
       (<a href="http://bugs.mysql.com/29555" target="_top">Bug#29555</a>)</p></li><li><p>
        <span><strong class="command">gcov</strong></span> coverage-testing information was not
        written if the server crashed.
       (<a href="http://bugs.mysql.com/29543" target="_top">Bug#29543</a>)</p></li><li><p>
        In the <code class="literal">ascii</code> character set, conversion of DEL
        (<code class="literal">0x7F</code>) to Unicode incorrectly resulted in
        QUESTION MARK (<code class="literal">0x3F</code>) rather than DEL.
       (<a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>)</p></li><li><p>
        A field packet with <code class="literal">NULL</code> fields caused a
        <code class="literal">libmysqlclient</code> crash.
       (<a href="http://bugs.mysql.com/29494" target="_top">Bug#29494</a>)</p></li><li><p>
        When using a combination of <code class="literal">HANDLER... READ</code>
        and <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> on a table, MySQL
        continued to open new copies of the table every time, leading to
        an exhaustion of file descriptors.
       (<a href="http://bugs.mysql.com/29474" target="_top">Bug#29474</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21587" target="_top">Bug#21587</a>.</p></li><li><p>
        On Windows, the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client died if the user
        entered a statement and Return after entering Control-C.
       (<a href="http://bugs.mysql.com/29469" target="_top">Bug#29469</a>)</p></li><li><p>
        Corrupt data resulted from use of <code class="literal">SELECT ... INTO
        OUTFILE '<em class="replaceable"><code>file_name</code></em>' FIELDS ENCLOSED
        BY '<em class="replaceable"><code>c</code></em>'</code>, where
        <em class="replaceable"><code>c</code></em> is a digit or minus sign, followed
        by <code class="literal">LOAD DATA INFILE
        '<em class="replaceable"><code>file_name</code></em>' FIELDS ENCLOSED BY
        '<em class="replaceable"><code>c</code></em>'</code>.
       (<a href="http://bugs.mysql.com/29442" target="_top">Bug#29442</a>)</p></li><li><p>
        Killing an <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> thread
        caused a server crash.
       (<a href="http://bugs.mysql.com/29431" target="_top">Bug#29431</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> for a
        nonexistent log file followed by <a href="sql-syntax.html#purge-binary-logs" title="12.6.1.1. PURGE BINARY LOGS Syntax"><code class="literal">PURGE
        BINARY LOGS</code></a> caused a server crash.
       (<a href="http://bugs.mysql.com/29420" target="_top">Bug#29420</a>)</p></li><li><p>
        Assertion failure could occur for grouping queries that employed
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> user variables with
        assignments to them.
       (<a href="http://bugs.mysql.com/29417" target="_top">Bug#29417</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
        DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>))</code></a>,
        the limits of 65 and 30 on the precision
        (<em class="replaceable"><code>M</code></em>) and scale
        (<em class="replaceable"><code>D</code></em>) were not enforced.
       (<a href="http://bugs.mysql.com/29415" target="_top">Bug#29415</a>)</p></li><li><p>
        If a view used a function in its
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement, the columns
        from the view were not inserted into the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table.
       (<a href="http://bugs.mysql.com/29408" target="_top">Bug#29408</a>)</p></li><li><p>
        Results for a select query that aliases the column names against
        a view could duplicate one column while omitting another. This
        bug could occur for a query over a multiple-table view that
        includes an <code class="literal">ORDER BY</code> clause in its
        definition.
       (<a href="http://bugs.mysql.com/29392" target="_top">Bug#29392</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> created a stray file when a given a
        too-long file name argument.
       (<a href="http://bugs.mysql.com/29361" target="_top">Bug#29361</a>)</p></li><li><p>
        The special “<span class="quote">zero</span>”
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> value was coerced to the
        normal empty string <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> value
        during a column-to-column copy. This affected <code class="literal">CREATE
        ... SELECT</code> statements and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements with aggregate
        functions on <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns in the
        <code class="literal">GROUP BY</code> clause.
       (<a href="http://bugs.mysql.com/29360" target="_top">Bug#29360</a>)</p></li><li><p>
        Optimization of queries with <code class="literal">DETERMINISTIC</code>
        stored functions in the <code class="literal">WHERE</code> clause was
        ineffective: A sequential scan was always used.
       (<a href="http://bugs.mysql.com/29338" target="_top">Bug#29338</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> corruption could occur with the
        <code class="literal">cp932_japanese_ci</code> collation for the
        <code class="literal">cp932</code> character set due to incorrect
        comparison for trailing space.
       (<a href="http://bugs.mysql.com/29333" target="_top">Bug#29333</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-list-fields" title="20.9.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a> C API
        function incorrectly set
        <code class="literal">MYSQL_FIELD::decimals</code> for some view columns.
       (<a href="http://bugs.mysql.com/29306" target="_top">Bug#29306</a>)</p></li><li><p>
        <code class="literal">FULLTEXT</code> indexes could be corrupted by
        certain <code class="literal">gbk</code> characters.
       (<a href="http://bugs.mysql.com/29299" target="_top">Bug#29299</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> followed by <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA</code></a> could result in garbled characters when the
        <code class="literal">FIELDS ENCLOSED BY</code> clause named a delimiter
        of <code class="literal">'0'</code>, <code class="literal">'b'</code>,
        <code class="literal">'n'</code>, <code class="literal">'r'</code>,
        <code class="literal">'t'</code>, <code class="literal">'N'</code>, or
        <code class="literal">'Z'</code> due to an interaction of character
        encoding and doubling for data values containing the enclosed-by
        character.
       (<a href="http://bugs.mysql.com/29294" target="_top">Bug#29294</a>)</p></li><li><p>
        Sort order of the collation wasn't used when comparing trailing
        spaces. This could lead to incorrect comparison results,
        incorrectly created indexes, or incorrect result set order for
        queries that include an <code class="literal">ORDER BY</code> clause.
       (<a href="http://bugs.mysql.com/29261" target="_top">Bug#29261</a>)</p></li><li><p>
        If an <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column contained
        <code class="literal">''</code> as one of its members (represented with
        numeric value greater than 0), and the column contained error
        values (represented as 0 and displayed as
        <code class="literal">''</code>), using <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> to modify the column definition caused the 0
        values to be given the numeric value of the nonzero
        <code class="literal">''</code> member.
       (<a href="http://bugs.mysql.com/29251" target="_top">Bug#29251</a>)</p></li><li><p>
        Calling <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> after
        <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> could cause
        clients to crash.
       (<a href="http://bugs.mysql.com/29247" target="_top">Bug#29247</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> for
        <code class="literal">ARCHIVE</code> tables could falsely report table
        corruption or cause a server crash.
       (<a href="http://bugs.mysql.com/29207" target="_top">Bug#29207</a>)</p></li><li><p>
        Mixing binary and <code class="literal">utf8</code> columns in a union
        caused field lengths to be calculated incorrectly, resulting in
        truncation.
       (<a href="http://bugs.mysql.com/29205" target="_top">Bug#29205</a>)</p></li><li><p>
        <code class="literal">AsText()</code> could fail with a buffer overrun.
       (<a href="http://bugs.mysql.com/29166" target="_top">Bug#29166</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> refused to start on some versions of
        FreeBSD with LinuxThreads. This is fixed by enabling file
        locking on FreeBSD.
       (<a href="http://bugs.mysql.com/29155" target="_top">Bug#29155</a>)</p></li><li><p>
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> was not atomic when
        more than one <code class="literal">InnoDB</code> tables were locked.
       (<a href="http://bugs.mysql.com/29154" target="_top">Bug#29154</a>)</p></li><li><p>
        A network structure was initialized incorrectly, leading to
        embedded server crashes.
       (<a href="http://bugs.mysql.com/29117" target="_top">Bug#29117</a>)</p></li><li><p>
        An assertion failure occurred if a query contained a conjunctive
        predicate of the form <code class="literal">
        <em class="replaceable"><code>view_column</code></em> = constant</code> in
        the <code class="literal">WHERE</code> clause and the <code class="literal">GROUP
        BY</code> clause contained a reference to a different view
        column. The fix also enables application of an optimization that
        was being skipped if a query contained a conjunctive predicate
        of the form <code class="literal"><em class="replaceable"><code>view_column</code></em> =
        constant</code> in the <code class="literal">WHERE</code> clause and
        the <code class="literal">GROUP BY</code> clause contained a reference to
        the same view column.
       (<a href="http://bugs.mysql.com/29104" target="_top">Bug#29104</a>)</p></li><li><p>
        A maximum of 4TB <code class="literal">InnoDB</code> free space was
        reported by <code class="literal">SHOW TABLE STATUS,</code> which is
        incorrect on systems with more than 4TB space.
       (<a href="http://bugs.mysql.com/29097" target="_top">Bug#29097</a>)</p></li><li><p>
        If an <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO
        ... SELECT</code></a> statement inserted into the same table that
        the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> retrieved from, and
        the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> included
        <code class="literal">ORDER BY</code> and <code class="literal">LIMIT</code>
        clauses, different data was inserted than the data produced by
        the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> executed by itself.
       (<a href="http://bugs.mysql.com/29095" target="_top">Bug#29095</a>)</p></li><li><p>
        Queries that performed a lookup into a
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> index containing key
        values ending with spaces caused an assertion failure for debug
        builds and incorrect results for nondebug builds.
       (<a href="http://bugs.mysql.com/29087" target="_top">Bug#29087</a>)</p></li><li><p>
        The semantics of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> depended
        on platform-specific characteristics.
       (<a href="http://bugs.mysql.com/29079" target="_top">Bug#29079</a>)</p></li><li><p>
        A byte-order issue in writing a spatial index to disk caused bad
        index files on some systems.
       (<a href="http://bugs.mysql.com/29070" target="_top">Bug#29070</a>)</p></li><li><p>
        If one of the queries in a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>
        used the <code class="literal">SQL_CACHE</code> option and another query
        in the <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> contained a
        nondeterministic function, the result was still cached. For
        example, this query was incorrectly cached:
</p><pre class="programlisting">SELECT NOW() FROM t1 UNION SELECT SQL_CACHE 1 FROM t1;
</pre><p>
       (<a href="http://bugs.mysql.com/29053" target="_top">Bug#29053</a>)</p></li><li><p>
        Creation of a legal stored procedure could fail if no default
        database had been selected.
       (<a href="http://bugs.mysql.com/29050" target="_top">Bug#29050</a>)</p></li><li><p>
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT IGNORE</code></a>,
        and <code class="literal">UPDATE IGNORE</code> did not work for
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/29019" target="_top">Bug#29019</a>)</p></li><li><p>
        Inserting into <code class="literal">InnoDB</code> tables and executing
        <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> in multiple threads
        cause assertion failure in debug server binaries.
       (<a href="http://bugs.mysql.com/28983" target="_top">Bug#28983</a>)</p></li><li><p>
        For a <code class="literal">ucs2</code> column,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> did not convert
        separators to the result character set before inserting them,
        producing a result containing a mixture of two different
        character sets.
       (<a href="http://bugs.mysql.com/28925" target="_top">Bug#28925</a>)</p></li><li><p>
        Queries using UDFs or stored functions were cached.
       (<a href="http://bugs.mysql.com/28921" target="_top">Bug#28921</a>)</p></li><li><p>
        For a join with <code class="literal">GROUP BY</code> and/or
        <code class="literal">ORDER BY</code> and a view reference in the
        <code class="literal">FROM</code> list, the query metadata erroneously
        showed empty table aliases and database names for the view
        columns.
       (<a href="http://bugs.mysql.com/28898" target="_top">Bug#28898</a>)</p></li><li><p>
        Coercion of ASCII values to character sets that are a superset
        of ASCII sometimes was not done, resulting in <span class="errortext">illegal
        mix of collations</span> errors. These cases now are
        resolved using repertoire, a new string expression attribute
        (see <a href="internationalization-localization.html#charset-repertoire" title="9.1.8. String Repertoire">Section 9.1.8, “String Repertoire”</a>).
       (<a href="http://bugs.mysql.com/28875" target="_top">Bug#28875</a>)</p></li><li><p>
        Non-<code class="literal">utf8</code> characters could get mangled when
        stored in <code class="literal">CSV</code> tables.
       (<a href="http://bugs.mysql.com/28862" target="_top">Bug#28862</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is not supported as a
        prepared statement but was not being rejected.
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is now prohibited as a
        prepared statement or when called within stored routines.
       (<a href="http://bugs.mysql.com/28846" target="_top">Bug#28846</a>)</p></li><li><p>
        In strict SQL mode, errors silently stopped the SQL thread even
        for errors named using the <code class="option">--slave-skip-errors</code>
        option.
       (<a href="http://bugs.mysql.com/28839" target="_top">Bug#28839</a>)</p></li><li><p>
        Fast <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> (that works
        without rebuilding the table) acquired duplicate locks in the
        storage engine. In <code class="literal">MyISAM</code>, if
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> was issued under
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLE</code></a>, it caused all data inserted after
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLE</code></a> to disappear.
       (<a href="http://bugs.mysql.com/28838" target="_top">Bug#28838</a>)</p></li><li><p>
        Killing an SSL connection on platforms where MySQL is compiled
        with <code class="literal">-DSIGNAL_WITH_VIO_CLOSE</code> (Windows, Mac OS
        X, and some others) could crash the server.
       (<a href="http://bugs.mysql.com/28812" target="_top">Bug#28812</a>)</p></li><li><p>
        Runtime changes to the
        <a href="server-administration.html#sysvar_log_queries_not_using_indexes"><code class="literal">log_queries_not_using_indexes</code></a>
        system variable were ignored.
       (<a href="http://bugs.mysql.com/28808" target="_top">Bug#28808</a>)</p></li><li><p>
        Tables using the <code class="literal">InnoDB</code> storage engine
        incremented <code class="literal">AUTO_INCREMENT</code> values incorrectly
        with <code class="literal">ON DUPLICATE KEY UPDATE</code>.
       (<a href="http://bugs.mysql.com/28781" target="_top">Bug#28781</a>)</p></li><li><p>
        Selecting a column not present in the selected-from table caused
        an extra error to be produced by <a href="sql-syntax.html#show-errors" title="12.5.5.14. SHOW ERRORS Syntax"><code class="literal">SHOW
        ERRORS</code></a>.
       (<a href="http://bugs.mysql.com/28677" target="_top">Bug#28677</a>)</p></li><li><p>
        For a statement of the form <code class="literal">CREATE t1 SELECT
        <em class="replaceable"><code>integer_constant</code></em></code>, the
        server created the column using the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> data type for large
        negative values that are within the range of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>.
       (<a href="http://bugs.mysql.com/28625" target="_top">Bug#28625</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, MySQL unnecessarily sorted
        records in certain cases when the records were retrieved by
        <code class="literal">InnoDB</code> in the proper order already.
       (<a href="http://bugs.mysql.com/28591" target="_top">Bug#28591</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> in one connection could
        be blocked by
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> in another connection even
        when <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> is
        set.
       (<a href="http://bugs.mysql.com/28587" target="_top">Bug#28587</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could fail to find script
        files that it needs.
       (<a href="http://bugs.mysql.com/28585" target="_top">Bug#28585</a>)</p></li><li><p>
        When one thread attempts to lock two (or more) tables and
        another thread executes a statement that aborts these locks
        (such as <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, or
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>), the thread might
        get a table object with an incorrect lock type in the table
        cache. The result is table corruption or a server crash.
       (<a href="http://bugs.mysql.com/28574" target="_top">Bug#28574</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> could run binaries dynamically
        linked against incorrect versions of shared libraries.
       (<a href="http://bugs.mysql.com/28560" target="_top">Bug#28560</a>)</p></li><li><p>
        If a stored procedure was created and invoked prior to selecting
        a default database with <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a>, a
        <span class="errortext">No database selected</span> error occurred.
       (<a href="http://bugs.mysql.com/28551" target="_top">Bug#28551</a>)</p></li><li><p>
        On Mac OS X, shared-library installation path names were
        incorrect.
       (<a href="http://bugs.mysql.com/28544" target="_top">Bug#28544</a>)</p></li><li><p>
        Using the
        <a href="programs.html#option_mysqldump_add-drop-table"><code class="option">--skip-add-drop-table
        </code></a>option with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> generated
        incorrect SQL if the database included any views. The recreation
        of views requires the creation and removal of temporary tables.
        This option suppressed the removal of those temporary tables.
        The same applied to <a href="programs.html#option_mysqldump_compact"><code class="option">--compact</code></a>
        since this option also invokes
        <a href="programs.html#option_mysqldump_add-drop-table"><code class="option">--skip-add-drop-table</code></a>.
       (<a href="http://bugs.mysql.com/28524" target="_top">Bug#28524</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog --hexdump</strong></span></a> generated incorrect
        output due to omission of the
        “<span class="quote"><code class="literal">#</code></span>” comment character for some
        comment lines.
       (<a href="http://bugs.mysql.com/28293" target="_top">Bug#28293</a>)</p></li><li><p>
        A race condition in the interaction between
        <code class="literal">MyISAM</code> and the query cache code caused the
        query cache not to invalidate itself for concurrently inserted
        data.
       (<a href="http://bugs.mysql.com/28249" target="_top">Bug#28249</a>)</p></li><li><p>
        Indexing column prefixes in <code class="literal">InnoDB</code> tables
        could cause table corruption.
       (<a href="http://bugs.mysql.com/28138" target="_top">Bug#28138</a>)</p></li><li><p>
        Index creation could fail due to truncation of key values to the
        maximum key length rather than to a mulitiple of the maximum
        character length.
       (<a href="http://bugs.mysql.com/28125" target="_top">Bug#28125</a>)</p></li><li><p>
        The <a href="functions.html#function_locate"><code class="literal">LOCATE()</code></a> function returned
        <code class="literal">NULL</code> if any of its arguments evaluated to
        <code class="literal">NULL</code>. Likewise, the predicate,
        <a href="functions.html#function_locate"><code class="literal">LOCATE(<em class="replaceable"><code>str</code></em>,NULL)
        IS NULL</code></a>, erroneously evaluated to
        <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/27932" target="_top">Bug#27932</a>)</p></li><li><p>
        On Windows, symbols for yaSSL and taocrypt were missing from
        <code class="filename">mysqlclient.lib</code>, resulting in unresolved
        symbol errors for clients linked against that library.
       (<a href="http://bugs.mysql.com/27861" target="_top">Bug#27861</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> returned
        <code class="literal">NULL</code> instead of the empty string for the
        <code class="literal">Default</code> value of columns that had no default
        specified.
       (<a href="http://bugs.mysql.com/27747" target="_top">Bug#27747</a>)</p></li><li><p>
        The modification of a table by a partially completed
        multi-column update was not recorded in the binlog, rather than
        being marked by an event and a corresponding error code.
       (<a href="http://bugs.mysql.com/27716" target="_top">Bug#27716</a>)</p></li><li><p>
        With recent versions of DBD::mysql,
        <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> generated table names that were
        doubly qualified with the database name.
       (<a href="http://bugs.mysql.com/27694" target="_top">Bug#27694</a>)</p></li><li><p>
        The anonymous accounts were not being created during MySQL
        installation.
       (<a href="http://bugs.mysql.com/27692" target="_top">Bug#27692</a>)</p></li><li><p>
        Some <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements and
        <code class="literal">INFORMATION_SCHEMA</code> queries could expose
        information not allowed by the user's access privileges.
       (<a href="http://bugs.mysql.com/27629" target="_top">Bug#27629</a>)</p></li><li><p>
        A stack overrun could occur when storing
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values using repeated
        prepared statements.
       (<a href="http://bugs.mysql.com/27592" target="_top">Bug#27592</a>)</p></li><li><p>
        Dropping a user-defined function could cause a server crash if
        the function was still in use by another thread.
       (<a href="http://bugs.mysql.com/27564" target="_top">Bug#27564</a>)</p></li><li><p>
        Some character mappings in the <code class="filename">ascii.xml</code>
        file were incorrect.
      </p><p>
        As a result of this bug fix, indexes must be rebuilt for columns
        that use the <code class="literal">ascii_general_ci</code> collation for
        columns that contain any of these characters:
        <code class="literal">'`'</code>, <code class="literal">'['</code>,
        <code class="literal">'\'</code>, <code class="literal">']'</code>,
        <code class="literal">'~'</code>. See
        <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>)</p></li><li><p>
        The parser rules for the <a href="sql-syntax.html#show-profile" title="12.5.5.28. SHOW PROFILE Syntax"><code class="literal">SHOW
        PROFILE</code></a> statement were revised to work with older
        versions of <span><strong class="command">bison</strong></span>.
       (<a href="http://bugs.mysql.com/27433" target="_top">Bug#27433</a>)</p></li><li><p>
        Unsafe aliasing in the source caused a client library crash when
        compiled with <span><strong class="command">gcc</strong></span> 4 at high optimization
        levels.
       (<a href="http://bugs.mysql.com/27383" target="_top">Bug#27383</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with more than 31 nested
        dependent subqueries returned an incorrect result.
       (<a href="http://bugs.mysql.com/27352" target="_top">Bug#27352</a>)</p></li><li><p>
        Index-based range reads could fail for comparisons that involved
        contraction characters (such as <code class="literal">ch</code> in Czech
        or <code class="literal">ll</code> in Spanish).
       (<a href="http://bugs.mysql.com/27345" target="_top">Bug#27345</a>)</p></li><li><p>
        Aggregations in subqueries that refer to outer query columns
        were not always correctly referenced to the proper outer query.
       (<a href="http://bugs.mysql.com/27333" target="_top">Bug#27333</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO ...
        SELECT</code></a> caused a crash if
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        was enabled.
       (<a href="http://bugs.mysql.com/27294" target="_top">Bug#27294</a>)</p></li><li><p>
        Error returns from the <code class="literal">time()</code> system call
        were ignored.
       (<a href="http://bugs.mysql.com/27198" target="_top">Bug#27198</a>)</p></li><li><p>
        Phantom reads could occur under <code class="literal">InnoDB</code>
        <a href="sql-syntax.html#isolevel_serializable"><code class="literal">SERIALIZABLE</code></a> isolation level.
       (<a href="http://bugs.mysql.com/27197" target="_top">Bug#27197</a>)</p></li><li><p>
        The <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> function returned
        the entire string instead of an empty string when it was called
        from a stored procedure and when the length parameter was
        specified by a variable with the value
        “<span class="quote"><code class="literal">0</code></span>”.
       (<a href="http://bugs.mysql.com/27130" target="_top">Bug#27130</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ENABLE KEYS</code> could cause
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash when executed on a table
        containing on a <code class="literal">MyISAM</code> table containing
        billions of rows.
       (<a href="http://bugs.mysql.com/27029" target="_top">Bug#27029</a>)</p></li><li><p>
        <code class="literal">FEDERATED</code> tables had an artificially low
        maximum of key length.
       (<a href="http://bugs.mysql.com/26909" target="_top">Bug#26909</a>)</p></li><li><p>
        Binary content <code class="literal">0x00</code> in a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column sometimes became
        <code class="literal">0x5C 0x00</code> following a dump and reload, which
        could cause problems with data using multi-byte character sets
        such as <code class="literal">GBK</code> (Chinese). This was due to a
        problem with <code class="literal">SELECT INTO OUTFILE</code> whereby
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> later incorrectly
        interpreted <code class="literal">0x5C</code> as the second byte of a
        multi-byte sequence rather than as the
        <code class="literal">SOLIDUS</code> (“<span class="quote">\</span>”) character, used by
        MySQL as the escape character.
       (<a href="http://bugs.mysql.com/26711" target="_top">Bug#26711</a>)</p></li><li><p>
        Index creation could corrupt the table definition in the
        <code class="filename">.frm</code> file: 1) A table with the maximum
        number of key segments and maximum length key name would have a
        corrupted <code class="filename">.frm</code> file, due to incorrect
        calculation of the total key length. 2)
        <code class="literal">MyISAM</code> would reject a table with the maximum
        number of keys and the maximum number of key segments in all
        keys. (It would allow one less than this total maximum.) Now
        <code class="literal">MyISAM</code> accepts a table defined with the
        maximum.
       (<a href="http://bugs.mysql.com/26642" target="_top">Bug#26642</a>)</p></li><li><p>
        After the first read of a <code class="literal">TEMPORARY</code> table,
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> could report the
        table as being corrupt.
       (<a href="http://bugs.mysql.com/26325" target="_top">Bug#26325</a>)</p></li><li><p>
        If an operation had an <code class="literal">InnoDB</code> table, and two
        triggers, <code class="literal">AFTER UPDATE</code> and <code class="literal">AFTER
        INSERT</code>, competing for different resources (such as two
        distinct <code class="literal">MyISAM</code> tables), the triggers were
        unable to execute concurrently. In addition,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements for the
        <code class="literal">InnoDB</code> table were unable to run concurrently.
       (<a href="http://bugs.mysql.com/26141" target="_top">Bug#26141</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-database" title="12.1.1. ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE</code></a> did not require at
        least one option.
       (<a href="http://bugs.mysql.com/25859" target="_top">Bug#25859</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> to open a table
        having a storage engine not supported by
        <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> properly returned an
        error, but also improperly prevented the table from being
        dropped by other connections.
       (<a href="http://bugs.mysql.com/25856" target="_top">Bug#25856</a>)</p></li><li><p>
        The index merge union access algorithm could produce incorrect
        results with <code class="literal">InnoDB</code> tables. The problem could
        also occur for queries that used <code class="literal">DISTINCT</code>.
       (<a href="http://bugs.mysql.com/25798" target="_top">Bug#25798</a>)</p></li><li><p>
        When using a <code class="literal">FEDERATED</code> table, the value of
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> would not
        correctly update the C API interface, which would affect the
        autogenerated ID returned both through the C API and the MySQL
        protocol, affecting Connectors that used the protocol and/or C
        API.
       (<a href="http://bugs.mysql.com/25714" target="_top">Bug#25714</a>)</p></li><li><p>
        The server was blocked from opening other tables while the
        <code class="literal">FEDERATED</code> engine was attempting to open a
        remote table. Now the server does not check the correctness of a
        <code class="literal">FEDERATED</code> table at
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> time, but waits
        until the table actually is accessed.
       (<a href="http://bugs.mysql.com/25679" target="_top">Bug#25679</a>)</p></li><li><p>
        Under ActiveState Perl, <code class="literal">mysql-test-run.pl</code>
        could kill itself when attempting to kill other processes.
       (<a href="http://bugs.mysql.com/25657" target="_top">Bug#25657</a>)</p></li><li><p>
        Several <code class="literal">InnoDB</code> assertion failures were
        corrected.
       (<a href="http://bugs.mysql.com/25645" target="_top">Bug#25645</a>)</p></li><li><p>
        A query with <code class="literal">DISTINCT</code> in the select list to
        which the loose-scan optimization for grouping queries was
        applied returned an incorrect result set when the query was used
        with the <code class="literal">SQL_BIG_RESULT</code> option.
       (<a href="http://bugs.mysql.com/25602" target="_top">Bug#25602</a>)</p></li><li><p>
        For a multiple-row insert into a <code class="literal">FEDERATED</code>
        table that refers to a remote transactional table, if the insert
        failed for a row due to constraint failure, the remote table
        would contain a partial commit (the rows preceding the failed
        one) instead of rolling back the statement completely. This
        occurred because the rows were treated as individual inserts.
      </p><p>
        Now <code class="literal">FEDERATED</code> performs bulk-insert handling
        such that multiple rows are sent to the remote table in a batch.
        This provides a performance improvement and enables the remote
        table to perform statement rollback properly should an error
        occur. This capability has the following limitations:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The size of the insert cannot exceed the maximum packet size
            between servers. If the insert exceeds this size, it is
            broken into multiple packets and the rollback problem can
            occur.
          </p></li><li><p>
            Bulk-insert handling does not occur for
            <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
            ... ON DUPLICATE KEY UPDATE</code></a>.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/25513" target="_top">Bug#25513</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine failed silently
        for <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> if a duplicate key
        violation occurred. <code class="literal">FEDERATED</code> does not
        support <code class="literal">ON DUPLICATE KEY UPDATE</code>, so now it
        correctly returns an <a href="error-handling.html#error_er_dup_key"><code class="literal">ER_DUP_KEY</code></a>
        error if a duplicate key violation occurs.
       (<a href="http://bugs.mysql.com/25511" target="_top">Bug#25511</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">CREATE TABLE a AS
        SELECT * FROM A</code> would fail.
       (<a href="http://bugs.mysql.com/25164" target="_top">Bug#25164</a>)</p></li><li><p>
        In a stored function or trigger, when <code class="literal">InnoDB</code>
        detected deadlock, it attempted rollback and displayed an
        incorrect error message (<span class="errortext">Explicit or implicit commit
        is not allowed in stored function or trigger</span>). Now
        <code class="literal">InnoDB</code> returns an error under these
        conditions and does not attempt rollback. Rollback is handled
        outside of <code class="literal">InnoDB</code> above the function/trigger
        level.
       (<a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a>)</p></li><li><p>
        A too-long <code class="literal">shared-memory-base-name</code> value
        could cause a buffer overflow and crash the server or clients.
       (<a href="http://bugs.mysql.com/24924" target="_top">Bug#24924</a>)</p></li><li><p>
        Dropping a temporary <code class="literal">InnoDB</code> table that had
        been locked with <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>
        caused a server crash.
       (<a href="http://bugs.mysql.com/24918" target="_top">Bug#24918</a>)</p></li><li><p>
        On Windows, executables did not include Vista manifests.
       (<a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>)</p><p>See also <a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>.</p></li><li><p>
        If MySQL/<code class="literal">InnoDB</code> crashed very quickly after
        starting up, it would not force a checkpoint. In this case,
        <code class="literal">InnoDB</code> would skip crash recovery at next
        startup, and the database would become corrupt. Now, if the redo
        log scan at <code class="literal">InnoDB</code> startup goes past the last
        checkpoint, crash recovery is forced.
       (<a href="http://bugs.mysql.com/23710" target="_top">Bug#23710</a>)</p></li><li><p>
        The server deducted some bytes from the
        <a href="server-administration.html#sysvar_key_cache_block_size"><code class="literal">key_cache_block_size</code></a> option
        value and reduced it to the next lower 512 byte boundary. The
        resulting block size was not a power of two. Setting the
        <a href="server-administration.html#sysvar_key_cache_block_size"><code class="literal">key_cache_block_size</code></a> system
        variable to a value that is not a power of two resulted in
        <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/23068" target="_top">Bug#23068</a>, <a href="http://bugs.mysql.com/28478" target="_top">Bug#28478</a>, <a href="http://bugs.mysql.com/25853" target="_top">Bug#25853</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-innodb-status" title="12.5.5.19. SHOW INNODB STATUS Syntax"><code class="literal">SHOW INNODB STATUS</code></a> caused an
        assertion failure under high load.
       (<a href="http://bugs.mysql.com/22819" target="_top">Bug#22819</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> displayed
        incorrect values of <code class="literal">End_log_pos</code> for events
        associated with transactional storage engines.
       (<a href="http://bugs.mysql.com/22540" target="_top">Bug#22540</a>)</p></li><li><p>
        A statement of the form <code class="literal">CREATE TABLE IF NOT EXISTS t1
        SELECT f1() AS i</code> failed with a deadlock error if the
        stored function <code class="literal">f1()</code> referred to a table with
        the same name as the to-be-created table. Now it correctly
        produces a message that the table already exists.
       (<a href="http://bugs.mysql.com/22427" target="_top">Bug#22427</a>)</p></li><li><p>
        Read lock requests that were blocked by a pending write lock
        request were not allowed to proceed if the statement requesting
        the write lock was killed.
       (<a href="http://bugs.mysql.com/21281" target="_top">Bug#21281</a>)</p></li><li><p>
        Under heavy load with a large query cache, invalidating part of
        the cache could cause the server to freeze (that is, to be
        unable to service other operations until the invalidation was
        complete).
       (<a href="http://bugs.mysql.com/21074" target="_top">Bug#21074</a>)</p></li><li><p>
        <span><strong class="command">mysql-stress-test.pl</strong></span> and
        <span><strong class="command">mysqld_multi.server.sh</strong></span> were missing from some
        binary distributions.
       (<a href="http://bugs.mysql.com/21023" target="_top">Bug#21023</a>, <a href="http://bugs.mysql.com/25486" target="_top">Bug#25486</a>)</p></li><li><p>
        On Windows, the server used 10MB of memory for each connection
        thread, resulting in memory exhaustion. Now each thread uses
        1MB.
       (<a href="http://bugs.mysql.com/20815" target="_top">Bug#20815</a>)</p></li><li><p>
        Worked around an <span><strong class="command">icc</strong></span> problem with an
        incorrect machine instruction being generated in the context of
        software pre-fetching after a subroutine got in-lined.
        (Upgrading to <span><strong class="command">icc</strong></span> 10.0.026 makes the
        workaround unnecessary.)
       (<a href="http://bugs.mysql.com/20803" target="_top">Bug#20803</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> produced an unnecessary (and harmless)
        warning: <code class="literal"><code class="literal">InnoDB</code>: Error: trying to
        declare trx to enter <code class="literal">InnoDB</code>, but
        <code class="literal">InnoDB</code>: it already is declared</code>.
       (<a href="http://bugs.mysql.com/20090" target="_top">Bug#20090</a>)</p></li><li><p>
        Under ActiveState Perl, <code class="literal">mysql-test-run.pl</code>
        would not run.
       (<a href="http://bugs.mysql.com/18415" target="_top">Bug#18415</a>)</p></li><li><p>
        The server crashed when the size of an
        <code class="literal">ARCHIVE</code> table grew larger than 2GB.
       (<a href="http://bugs.mysql.com/15787" target="_top">Bug#15787</a>)</p></li><li><p>
        <code class="literal">SQL_BIG_RESULT</code> had no effect for
        <code class="literal">CREATE TABLE ... SELECT SQL_BIG_RESULT ...</code>
        statements.
       (<a href="http://bugs.mysql.com/15130" target="_top">Bug#15130</a>)</p></li><li><p>
        On 64-bit Windows systems, the Config Wizard failed to complete
        the setup because 64-bit Windows does not resolve dynamic
        linking of the 64-bit <code class="filename">libmysql.dll</code> to a
        32-bit application like the Config Wizard.
       (<a href="http://bugs.mysql.com/14649" target="_top">Bug#14649</a>)</p></li><li><p>
        <a href="programs.html#mysql-setpermission" title="4.6.15. mysql_setpermission — Interactively Set Permissions in Grant
Tables"><span><strong class="command">mysql_setpermission</strong></span></a> tried to grant
        global-only privileges at the database level.
       (<a href="http://bugs.mysql.com/14618" target="_top">Bug#14618</a>)</p></li><li><p>
        Parameters of type <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> in stored procedures were
        silently converted to <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a>.
       (<a href="http://bugs.mysql.com/13675" target="_top">Bug#13675</a>)</p></li><li><p>
        For the general query log, logging of prepared statements
        executed via the C API differed from logging of prepared
        statements performed with <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a>
        and <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>. Logging for the
        latter was missing the <code class="literal">Prepare</code> and
        <code class="literal">Execute</code> lines.
       (<a href="http://bugs.mysql.com/13326" target="_top">Bug#13326</a>)</p></li><li><p>
        The server returned data from <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> statement or a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement on an
        <code class="literal">INFORMATION_SCHEMA</code> table using the
        <code class="literal">binary</code> character set.
       (<a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a>)</p></li><li><p>
        Backup software can cause
        <code class="literal">ERROR_SHARING_VIOLATION</code> or
        <code class="literal">ERROR_LOCK_VIOLATION</code> conditions during file
        operations. <code class="literal">InnoDB</code> now retries forever until
        the condition goes away.
       (<a href="http://bugs.mysql.com/9709" target="_top">Bug#9709</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-50sp1a"></a>C.1.36. Release Notes for MySQL Enterprise 5.0.50sp1a [QSP] (11 January 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This is a bugfix release that replaces MySQL 5.0.50sp1.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-50sp1"></a>C.1.37. Release Notes for MySQL Enterprise 5.0.50sp1 [QSP] (12 December 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.50).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> had a race condition for an adaptive
        hash rw-lock waiting for an X-lock. This fix may also provide
        significant speed improvements on systems experiencing problems
        with contention for the adaptive hash index.
       (<a href="http://bugs.mysql.com/29560" target="_top">Bug#29560</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> against a
        table with explicit <code class="literal">DATA DIRECTORY</code> and
        <code class="literal">INDEX DIRECTORY</code> options can be used to
        overwrite system table information by replacing the symbolic
        link points. the file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is
        allowed only to the original definer or users with the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p>
        A build problem introduced in MySQL 5.0.52 was resolved: The x86
        32-bit Intel <span><strong class="command">icc</strong></span>-compiled server binary had
        unwanted dependences on Intel <span><strong class="command">icc</strong></span> runtime
        libraries.
       (<a href="http://bugs.mysql.com/32514" target="_top">Bug#32514</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-50"></a>C.1.38. Release Notes for MySQL Enterprise 5.0.50 [MRU] (19 October 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.48).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The parser accepted statements that contained <code class="literal">/* ...
        */</code> that were not properly closed with
        <code class="literal">*/</code>, such as <code class="literal">SELECT 1 /* +
        2</code>. Statements that contain unclosed
        <code class="literal">/*</code>-comments now are rejected with a syntax
        error.
      </p><p>
        This fix has the potential to cause incompatibilities. Because
        of <a href="http://bugs.mysql.com/26302" target="_top">Bug#26302</a>, which caused the trailing <code class="literal">*/</code> to
        be truncated from comments in views, stored routines, triggers,
        and events, it is possible that objects of those types may have
        been stored with definitions that now will be rejected as
        syntactically invalid. Such objects should be dropped and
        re-created so that their definitions do not contain truncated
        comments. If a stored object definition contains only a single
        statement (does not use a <code class="literal">BEGIN ... END</code>
        block) and contains a comment within the statement, the comment
        should be moved to follow the statement or the object should be
        rewritten to use a <code class="literal">BEGIN ... END</code> block. For
        example, this statement:
      </p><pre class="programlisting">CREATE PROCEDURE p() SELECT 1 /* my comment */ ;
</pre><p>
        Can be rewritten in either of these ways:
      </p><pre class="programlisting">CREATE PROCEDURE p() SELECT 1; /* my comment */
CREATE PROCEDURE p() BEGIN SELECT 1 /* my comment */ ; END;
</pre><p>(<a href="http://bugs.mysql.com/28779" target="_top">Bug#28779</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Mapping of <code class="literal">NDB</code> error codes to MySQL
        storage engine error codes has been improved.
       (<a href="http://bugs.mysql.com/28423" target="_top">Bug#28423</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output from the cluster management client showing the
        progress of data node starts has been improved.
       (<a href="http://bugs.mysql.com/23354" target="_top">Bug#23354</a>)</p></li><li><p>
        Server parser performance was improved for expression parsing by
        lowering the number of state transitions and reductions needed.
       (<a href="http://bugs.mysql.com/30625" target="_top">Bug#30625</a>)</p></li><li><p>
        Server parser performance was improved for boolean expressions.
       (<a href="http://bugs.mysql.com/30237" target="_top">Bug#30237</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The file <code class="filename">mysqld.exe</code> was mistakenly included
        in binary distributions between MySQL 5.0.42 and 5.0.48. You
        should use <code class="filename">mysqld-nt.exe</code>.
       (<a href="http://bugs.mysql.com/32197" target="_top">Bug#32197</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements
        containing ambiguous aliases could have unintended side effects
        such as deleting rows from the wrong table. Example:
      </p><pre class="programlisting">DELETE FROM t1 AS a2 USING t1 AS a1 INNER JOIN t2 AS a2;
</pre><p>
        This fix enables alias declarations to be made only in the
        <em class="replaceable"><code>table_references</code></em> part. Elsewhere in
        the statement, alias references are allowed but not alias
        declarations. However, this patch was reverted in MySQL 5.0.54
        because it changed the behavior of a General Availability MySQL
        release.
       (<a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>)</p><p>See also <a href="http://bugs.mysql.com/27525" target="_top">Bug#27525</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        Some commercial MySQL Cluster RPM packages included support for
        the <code class="literal">InnoDB</code> storage engine.
        (<code class="literal">InnoDB</code> is not part of the standard
        commercial MySQL Cluster offering.)
       (<a href="http://bugs.mysql.com/31989" target="_top">Bug#31989</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to restore a backup made on a cluster host using one
        endian to a machine using the other endian could cause the
        cluster to fail.
       (<a href="http://bugs.mysql.com/29674" target="_top">Bug#29674</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Reads on <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns were not
        locked when they needed to be to guarantee consistency.
       (<a href="http://bugs.mysql.com/29102" target="_top">Bug#29102</a>)</p><p>See also <a href="http://bugs.mysql.com/31482" target="_top">Bug#31482</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query using joins between several large tables and requiring
        unique index lookups failed to complete, eventually returning
        <span class="errortext">Uknown Error</span> after a very long period of
        time. This occurred due to inadequate handling of instances
        where the Transaction Coordinator ran out of
        <code class="literal">TransactionBufferMemory</code>, when the cluster
        should have returned NDB error code 4012 (<span class="errortext">Request
        ndbd time-out</span>).
       (<a href="http://bugs.mysql.com/28804" target="_top">Bug#28804</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The description of the <code class="option">--print</code> option provided
        in the output from <span><strong class="command">ndb_restore <code class="option">--help</code>
        </strong></span> was incorrect.
       (<a href="http://bugs.mysql.com/27683" target="_top">Bug#27683</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An invalid subselect on an <code class="literal">NDB</code>
        table could cause <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/27494" target="_top">Bug#27494</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An attempt to perform a <code class="literal">SELECT ... FROM
        INFORMATION_SCHEMA.TABLES</code> whose result included
        information about <code class="literal">NDB</code> tables for
        which the user had no privileges crashed the MySQL Server on
        which the query was performed.
       (<a href="http://bugs.mysql.com/26793" target="_top">Bug#26793</a>)</p></li><li><p>
        When a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> with a nonzero
        time part was converted to a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>
        value, no warning was generated. This caused index lookups to
        assume that this is a valid conversion and was returning rows
        that match a comparison between a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> value and a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> keypart. Now a warning is
        generated so that <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> with
        a nonzero time part will not match
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/31221" target="_top">Bug#31221</a>)</p></li><li><p>
        A server crash could occur when a
        non-<code class="literal">DETERMINISTIC</code> stored function was used in
        a <code class="literal">GROUP BY</code> clause.
       (<a href="http://bugs.mysql.com/31035" target="_top">Bug#31035</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table if a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> was ordered by the primary
        key and also had a <code class="literal">WHERE field = value</code> clause
        on a different field that was indexed, a <code class="literal">DESC</code>
        order instruction would be ignored.
       (<a href="http://bugs.mysql.com/31001" target="_top">Bug#31001</a>)</p></li><li><p>
        A failed <code class="literal">HANDLER ... READ</code> operation could
        leave the table in a locked state.
       (<a href="http://bugs.mysql.com/30632" target="_top">Bug#30632</a>)</p></li><li><p>
        The optimization that uses a unique index to remove
        <code class="literal">GROUP BY</code> did not ensure that the index was
        actually used, thus violating the <code class="literal">ORDER BY</code>
        that is implied by <code class="literal">GROUP BY</code>.
       (<a href="http://bugs.mysql.com/30596" target="_top">Bug#30596</a>)</p></li><li><p>
        <code class="literal">SHOW STATUS LIKE 'Ssl_cipher_list'</code> from a
        MySQL client connected via SSL returned an empty string rather
        than a list of available ciphers.
       (<a href="http://bugs.mysql.com/30593" target="_top">Bug#30593</a>)</p></li><li><p>
        Issuing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement having
        both an <code class="literal">ORDER BY</code> clause and a
        <code class="literal">LIMIT</code> clause could cause
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/30385" target="_top">Bug#30385</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Last_query_cost"><code class="literal">Last_query_cost</code></a> status
        variable value can be computed accurately only for simple
        “<span class="quote">flat</span>” queries, not complex queries such as those
        with subqueries or <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>.
        However, the value was not consistently being set to 0 for
        complex queries.
       (<a href="http://bugs.mysql.com/30377" target="_top">Bug#30377</a>)</p></li><li><p>
        Queries that had a <code class="literal">GROUP BY</code> clause and
        selected <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> returned
        incorrect results.
       (<a href="http://bugs.mysql.com/30324" target="_top">Bug#30324</a>)</p></li><li><p>
        Using <code class="literal">DISTINCT</code> or <code class="literal">GROUP BY</code>
        on a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement caused the
        column to be cast internally as an integer, with incorrect
        results being returned from the query.
       (<a href="http://bugs.mysql.com/30245" target="_top">Bug#30245</a>)</p></li><li><p>
        Short-format <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> commands embedded within
        <code class="literal">/*! ... */</code> comments were parsed incorrectly
        by <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, which discarded the rest of the
        comment including the terminating <code class="literal">*/</code>
        characters. The result was a malformed (unclosed) comment. Now
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> does not discard the
        <code class="literal">*/</code> characters.
       (<a href="http://bugs.mysql.com/30164" target="_top">Bug#30164</a>)</p></li><li><p>
        When <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> wrote
        <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> statements within
        version-specific comments, it included the terminating semicolon
        in the wrong place, causing following statements to fail when
        the dump file was reloaded.
       (<a href="http://bugs.mysql.com/30126" target="_top">Bug#30126</a>)</p></li><li><p>
        If a view used a function in its
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement, the columns
        from the view were not inserted into the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table.
       (<a href="http://bugs.mysql.com/29408" target="_top">Bug#29408</a>)</p></li><li><p>
        Killing an SSL connection on platforms where MySQL is compiled
        with <code class="literal">-DSIGNAL_WITH_VIO_CLOSE</code> (Windows, Mac OS
        X, and some others) could crash the server.
       (<a href="http://bugs.mysql.com/28812" target="_top">Bug#28812</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> in one connection could
        be blocked by
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> in another connection even
        when <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> is
        set.
       (<a href="http://bugs.mysql.com/28587" target="_top">Bug#28587</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> could run binaries dynamically
        linked against incorrect versions of shared libraries.
       (<a href="http://bugs.mysql.com/28560" target="_top">Bug#28560</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> returned
        <code class="literal">NULL</code> instead of the empty string for the
        <code class="literal">Default</code> value of columns that had no default
        specified.
       (<a href="http://bugs.mysql.com/27747" target="_top">Bug#27747</a>)</p></li><li><p>
        With recent versions of DBD::mysql,
        <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> generated table names that were
        doubly qualified with the database name.
       (<a href="http://bugs.mysql.com/27694" target="_top">Bug#27694</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">CREATE TABLE a AS
        SELECT * FROM A</code> would fail.
       (<a href="http://bugs.mysql.com/25164" target="_top">Bug#25164</a>)</p></li><li><p>
        Under heavy load with a large query cache, invalidating part of
        the cache could cause the server to freeze (that is, to be
        unable to service other operations until the invalidation was
        complete).
       (<a href="http://bugs.mysql.com/21074" target="_top">Bug#21074</a>)</p></li><li><p>
        Worked around an <span><strong class="command">icc</strong></span> problem with an
        incorrect machine instruction being generated in the context of
        software pre-fetching after a subroutine got in-lined.
        (Upgrading to <span><strong class="command">icc</strong></span> 10.0.026 makes the
        workaround unnecessary.)
       (<a href="http://bugs.mysql.com/20803" target="_top">Bug#20803</a>)</p></li><li><p>
        Parameters of type <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> in stored procedures were
        silently converted to <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a>.
       (<a href="http://bugs.mysql.com/13675" target="_top">Bug#13675</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-48"></a>C.1.39. Release Notes for MySQL Enterprise 5.0.48 [MRU] (27 August 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          This release was withdrawn from production and is no longer
          available.
        </p></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last last MySQL Enterprise Server release
      (5.0.46). If you would like to receive more fine-grained and
      personalized <span class="emphasis"><em>update alerts</em></span> about fixes that
      are relevant to the version and features you use, please consider
      subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial
      MySQL offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        If a <code class="literal">MyISAM</code> table is created with no
        <code class="literal">DATA DIRECTORY</code> option, the
        <code class="filename">.MYD</code> file is created in the database
        directory. By default, if <code class="literal">MyISAM</code> finds an
        existing <code class="filename">.MYD</code> file in this case, it
        overwrites it. The same applies to <code class="filename">.MYI</code>
        files for tables created with no <code class="literal">INDEX
        DIRECTORY</code> option. To suppress this behavior, start the
        server with the new <code class="option">--keep_files_on_create</code>
        option, in which case <code class="literal">MyISAM</code> will not
        overwrite existing files and returns an error instead.
       (<a href="http://bugs.mysql.com/29325" target="_top">Bug#29325</a>)</p></li><li><p>
        MySQL source distributions are now available in Zip format.
       (<a href="http://bugs.mysql.com/27742" target="_top">Bug#27742</a>)</p></li><li><p>
        The <code class="literal">EXAMPLE</code> storage engine is now enabled by
        default.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Failure to consider collation when comparing space characters
        could result in incorrect index entry order, leading to
        incorrect comparisons, inability to find some index values,
        misordered index entries, misordered <code class="literal">ORDER BY</code>
        results, or tables that <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> reports as having corrupt indexes.
      </p><p>
        As a result of this bug fix, indexes must be rebuilt for columns
        that use any of these character sets:
        <code class="literal">eucjpms</code>, <code class="literal">euc_kr</code>,
        <code class="literal">gb2312</code>, <code class="literal">latin7</code>,
        <code class="literal">macce</code>, <code class="literal">ujis</code>. See
        <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Warnings and errors generated by <span><strong class="command">ndb_config
        <code class="option">--config-file=<em class="replaceable"><code>file</code></em></code></strong></span>
        were sent to <code class="literal">stdout</code>, rather than to
        <code class="literal">stderr</code>.
       (<a href="http://bugs.mysql.com/25941" target="_top">Bug#25941</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a cluster backup was terminated using the <code class="literal">ABORT
        BACKUP</code> command in the management client, a misleading
        error message <span class="errortext">Backup aborted by application:
        Permanent error: Internal error</span> was returned. The
        error message returned in such cases now reads <span class="errortext">Backup
        aborted by user request</span>.
       (<a href="http://bugs.mysql.com/21052" target="_top">Bug#21052</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Large file support did not work in AIX server binaries.
       (<a href="http://bugs.mysql.com/10776" target="_top">Bug#10776</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> failed when
        slave I/O was about to terminate.
       (<a href="http://bugs.mysql.com/34305" target="_top">Bug#34305</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The thread ID was not reset properly after execution of
        <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a>, which could
        cause replication failure when replicating temporary tables.
       (<a href="http://bugs.mysql.com/29734" target="_top">Bug#29734</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Operations that used the time zone replicated the time zone only
        for successful operations, but did not replicate the time zone
        for errors that need to know it.
       (<a href="http://bugs.mysql.com/29536" target="_top">Bug#29536</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements on a
        master server are replicated as non-<code class="literal">DELAYED</code>
        inserts on slaves (which is normal, to preserve serialization),
        but the inserts on the slave did not use concurrent inserts. Now
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> on a slave is
        converted to a concurrent insert when possible, and to a normal
        insert otherwise.
       (<a href="http://bugs.mysql.com/29152" target="_top">Bug#29152</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An error that happened inside
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>,
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>, or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements performed from
        within a stored function or trigger could cause inconsistency
        between master and slave servers.
       (<a href="http://bugs.mysql.com/27417" target="_top">Bug#27417</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Slave servers could incorrectly interpret an out-of-memory error
        from the master and reconnect using the wrong binary log
        position.
       (<a href="http://bugs.mysql.com/24192" target="_top">Bug#24192</a>)</p></li><li><p>
        Memory corruption occurred for some queries with a top-level
        <code class="literal">OR</code> operation in the <code class="literal">WHERE</code>
        condition if they contained equality predicates and other
        sargable predicates in disjunctive parts of the condition.
       (<a href="http://bugs.mysql.com/30396" target="_top">Bug#30396</a>)</p></li><li><p>
        The server created temporary tables for filesort operations in
        the working directory, not in the directory specified by the
        <code class="literal">tmpdir</code> system variable.
       (<a href="http://bugs.mysql.com/30287" target="_top">Bug#30287</a>)</p></li><li><p>
        The query cache does not support retrieval of statements for
        which column level access control applies, but the server was
        still caching such statements, thus wasting memory.
       (<a href="http://bugs.mysql.com/30269" target="_top">Bug#30269</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns produced incorrect
        results.
       (<a href="http://bugs.mysql.com/30219" target="_top">Bug#30219</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL QUERY</code></a>
        or <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL
        CONNECTION</code></a> to kill a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement caused a server
        crash if the query cache was enabled.
       (<a href="http://bugs.mysql.com/30201" target="_top">Bug#30201</a>)</p></li><li><p>
        Prepared statements containing
        <a href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> could be written
        improperly to the binary log.
       (<a href="http://bugs.mysql.com/30200" target="_top">Bug#30200</a>)</p></li><li><p>
        When a thread executing a <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP
        TABLE</code></a> statement was killed, the table name locks that
        had been acquired were not released.
       (<a href="http://bugs.mysql.com/30193" target="_top">Bug#30193</a>)</p></li><li><p>
        Use of local variables with non-ASCII names in stored procedures
        crashed the server.
       (<a href="http://bugs.mysql.com/30120" target="_top">Bug#30120</a>)</p></li><li><p>
        On Windows, client libraries lacked symbols required for
        linking.
       (<a href="http://bugs.mysql.com/30118" target="_top">Bug#30118</a>)</p></li><li><p>
        <code class="option">--myisam-recover=''</code> (empty option value) did
        not disable <code class="literal">MyISAM</code> recovery.
       (<a href="http://bugs.mysql.com/30088" target="_top">Bug#30088</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table was
        not always set correctly.
       (<a href="http://bugs.mysql.com/30020" target="_top">Bug#30020</a>)</p></li><li><p>
        Statements within stored procedures ignored the value of the
        <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a>)</p><p>See also <a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a>.</p></li><li><p>
        For <code class="literal">MyISAM</code> tables on Windows,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> followed by
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> within
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> could cause table
        corruption.
       (<a href="http://bugs.mysql.com/29957" target="_top">Bug#29957</a>)</p></li><li><p>
        With auto-reconnect enabled, row fetching for a prepared
        statement could crash after reconnect occurred because loss of
        the statement handler was not accounted for.
       (<a href="http://bugs.mysql.com/29948" target="_top">Bug#29948</a>)</p></li><li><p>
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> did not pre-lock
        tables used in triggers of the locked tables. Unexpected locking
        behavior and statement failures similar to <span class="errortext">failed:
        1100: Table '<em class="replaceable"><code>xx</code></em>' was not locked with
        LOCK TABLES</span> could result.
       (<a href="http://bugs.mysql.com/29929" target="_top">Bug#29929</a>)</p></li><li><p>
        <code class="literal">INSERT ... VALUES(CONNECTION_ID(), ...)</code>
        statements were written to the binary log in such a way that
        they could not be properly restored.
       (<a href="http://bugs.mysql.com/29928" target="_top">Bug#29928</a>)</p></li><li><p>
        Adding <code class="literal">DISTINCT</code> could cause incorrect rows to
        appear in a query result.
       (<a href="http://bugs.mysql.com/29911" target="_top">Bug#29911</a>)</p></li><li><p>
        Using the <a href="functions.html#function_date"><code class="literal">DATE()</code></a> function in a
        <code class="literal">WHERE</code> clause did not return any records after
        encountering <code class="literal">NULL</code>. However, using
        <code class="literal">TRIM</code> or <code class="literal">CAST</code> produced the
        correct results.
       (<a href="http://bugs.mysql.com/29898" target="_top">Bug#29898</a>)</p></li><li><p>
        Very long prepared statements in stored procedures could cause a
        server crash.
       (<a href="http://bugs.mysql.com/29856" target="_top">Bug#29856</a>)</p></li><li><p>
        If query execution involved a temporary table,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could return a
        result with an incorrect character set.
       (<a href="http://bugs.mysql.com/29850" target="_top">Bug#29850</a>)</p></li><li><p>
        If one thread was performing concurrent inserts, other threads
        reading from the same table using equality key searches could
        see the index values for new rows before the data values had
        been written, leading to reports of table corruption.
       (<a href="http://bugs.mysql.com/29838" target="_top">Bug#29838</a>)</p></li><li><p>
        Repeatedly accessing a view in a stored procedure (for example,
        in a loop) caused a small amount of memory to be allocated per
        access. Although this memory is deallocated on disconnect, it
        could be a problem for a long running stored procedures that
        make repeated access of views.
       (<a href="http://bugs.mysql.com/29834" target="_top">Bug#29834</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produced output that incorrectly
        discarded the
        <a href="server-administration.html#sqlmode_no_auto_value_on_zero"><code class="literal">NO_AUTO_VALUE_ON_ZERO</code></a> value of
        the <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> variable after
        dumping triggers.
       (<a href="http://bugs.mysql.com/29788" target="_top">Bug#29788</a>)</p></li><li><p>
        An assertion failure occurred within yaSSL for very long keys.
       (<a href="http://bugs.mysql.com/29784" target="_top">Bug#29784</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, the
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> union access
        method could return incorrect results.
       (<a href="http://bugs.mysql.com/29740" target="_top">Bug#29740</a>)</p></li><li><p>
        Comparison of <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values using
        the <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> operator led to string
        comparison, producing incorrect results in some cases. Now the
        values are compared as integers.
       (<a href="http://bugs.mysql.com/29739" target="_top">Bug#29739</a>)</p></li><li><p>
        For a table with a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column
        <em class="replaceable"><code>date_col</code></em> such that selecting rows
        with <code class="literal">WHERE <em class="replaceable"><code>date_col</code></em> =
        '<em class="replaceable"><code>date_val</code></em> 00:00:00'</code> yielded
        a nonempty result, adding <code class="literal">GROUP BY
        <em class="replaceable"><code>date_col</code></em></code> caused the result
        to be empty.
       (<a href="http://bugs.mysql.com/29729" target="_top">Bug#29729</a>)</p></li><li><p>
        In some cases, <code class="literal">INSERT INTO ... SELECT ... GROUP
        BY</code> could insert rows even if the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> by itself produced an
        empty result.
       (<a href="http://bugs.mysql.com/29717" target="_top">Bug#29717</a>)</p></li><li><p>
        For the embedded server, the
        <a href="connectors-apis.html#mysql-stmt-store-result" title="20.9.7.27. mysql_stmt_store_result()"><code class="literal">mysql_stmt_store_result()</code></a> C API
        function caused a memory leak for empty result sets.
       (<a href="http://bugs.mysql.com/29687" target="_top">Bug#29687</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> produced
        <code class="literal">Impossible where</code> for statements of the form
        <code class="literal">SELECT ... FROM t WHERE c=0</code>, where
        <code class="literal">c</code> was an <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>
        column defined as a primary key.
       (<a href="http://bugs.mysql.com/29661" target="_top">Bug#29661</a>)</p></li><li><p>
        On Windows, <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> hung if
        records were locked in share mode by a long-running transaction.
       (<a href="http://bugs.mysql.com/29644" target="_top">Bug#29644</a>)</p></li><li><p>
        A left join between two views could produce incorrect results.
       (<a href="http://bugs.mysql.com/29604" target="_top">Bug#29604</a>)</p></li><li><p>
        Certain statements with unions, subqueries, and joins could
        result in huge memory consumption.
       (<a href="http://bugs.mysql.com/29582" target="_top">Bug#29582</a>)</p></li><li><p>
        Clients using SSL could hang the server.
       (<a href="http://bugs.mysql.com/29579" target="_top">Bug#29579</a>)</p></li><li><p>
        A slave running with
        <a href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> would fail to
        write <code class="literal">INSERT DELAY IGNORE</code> statements to its
        binary log, resulting in different binary log contents on the
        master and slave.
       (<a href="http://bugs.mysql.com/29571" target="_top">Bug#29571</a>)</p></li><li><p>
        An incorrect result was returned when comparing string values
        that were converted to <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>
        values with <a href="functions.html#function_cast"><code class="literal">CAST()</code></a>.
       (<a href="http://bugs.mysql.com/29555" target="_top">Bug#29555</a>)</p></li><li><p>
        In the <code class="literal">ascii</code> character set, conversion of DEL
        (<code class="literal">0x7F</code>) to Unicode incorrectly resulted in
        QUESTION MARK (<code class="literal">0x3F</code>) rather than DEL.
       (<a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>)</p></li><li><p>
        A field packet with <code class="literal">NULL</code> fields caused a
        <code class="literal">libmysqlclient</code> crash.
       (<a href="http://bugs.mysql.com/29494" target="_top">Bug#29494</a>)</p></li><li><p>
        When using a combination of <code class="literal">HANDLER... READ</code>
        and <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> on a table, MySQL
        continued to open new copies of the table every time, leading to
        an exhaustion of file descriptors.
       (<a href="http://bugs.mysql.com/29474" target="_top">Bug#29474</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21587" target="_top">Bug#21587</a>.</p></li><li><p>
        On Windows, the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client died if the user
        entered a statement and Return after entering Control-C.
       (<a href="http://bugs.mysql.com/29469" target="_top">Bug#29469</a>)</p></li><li><p>
        Killing an <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> thread
        caused a server crash.
       (<a href="http://bugs.mysql.com/29431" target="_top">Bug#29431</a>)</p></li><li><p>
        The special “<span class="quote">zero</span>”
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> value was coerced to the
        normal empty string <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> value
        during a column-to-column copy. This affected <code class="literal">CREATE
        ... SELECT</code> statements and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements with aggregate
        functions on <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns in the
        <code class="literal">GROUP BY</code> clause.
       (<a href="http://bugs.mysql.com/29360" target="_top">Bug#29360</a>)</p></li><li><p>
        Optimization of queries with <code class="literal">DETERMINISTIC</code>
        stored functions in the <code class="literal">WHERE</code> clause was
        ineffective: A sequential scan was always used.
       (<a href="http://bugs.mysql.com/29338" target="_top">Bug#29338</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> corruption could occur with the
        <code class="literal">cp932_japanese_ci</code> collation for the
        <code class="literal">cp932</code> character set due to incorrect
        comparison for trailing space.
       (<a href="http://bugs.mysql.com/29333" target="_top">Bug#29333</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-list-fields" title="20.9.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a> C API
        function incorrectly set
        <code class="literal">MYSQL_FIELD::decimals</code> for some view columns.
       (<a href="http://bugs.mysql.com/29306" target="_top">Bug#29306</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> refused to start on some versions of
        FreeBSD with LinuxThreads. This is fixed by enabling file
        locking on FreeBSD.
       (<a href="http://bugs.mysql.com/29155" target="_top">Bug#29155</a>)</p></li><li><p>
        A maximum of 4TB <code class="literal">InnoDB</code> free space was
        reported by <code class="literal">SHOW TABLE STATUS,</code> which is
        incorrect on systems with more than 4TB space.
       (<a href="http://bugs.mysql.com/29097" target="_top">Bug#29097</a>)</p></li><li><p>
        A byte-order issue in writing a spatial index to disk caused bad
        index files on some systems.
       (<a href="http://bugs.mysql.com/29070" target="_top">Bug#29070</a>)</p></li><li><p>
        Creation of a legal stored procedure could fail if no default
        database had been selected.
       (<a href="http://bugs.mysql.com/29050" target="_top">Bug#29050</a>)</p></li><li><p>
        Coercion of ASCII values to character sets that are a superset
        of ASCII sometimes was not done, resulting in <span class="errortext">illegal
        mix of collations</span> errors. These cases now are
        resolved using repertoire, a new string expression attribute
        (see <a href="internationalization-localization.html#charset-repertoire" title="9.1.8. String Repertoire">Section 9.1.8, “String Repertoire”</a>).
       (<a href="http://bugs.mysql.com/28875" target="_top">Bug#28875</a>)</p></li><li><p>
        Fast <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> (that works
        without rebuilding the table) acquired duplicate locks in the
        storage engine. In <code class="literal">MyISAM</code>, if
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> was issued under
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLE</code></a>, it caused all data inserted after
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLE</code></a> to disappear.
       (<a href="http://bugs.mysql.com/28838" target="_top">Bug#28838</a>)</p></li><li><p>
        Tables using the <code class="literal">InnoDB</code> storage engine
        incremented <code class="literal">AUTO_INCREMENT</code> values incorrectly
        with <code class="literal">ON DUPLICATE KEY UPDATE</code>.
       (<a href="http://bugs.mysql.com/28781" target="_top">Bug#28781</a>)</p></li><li><p>
        Starting the server with an
        <a href="storage-engines.html#sysvar_innodb_force_recovery"><code class="literal">innodb_force_recovery</code></a> value of
        4 did not work.
       (<a href="http://bugs.mysql.com/28604" target="_top">Bug#28604</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, MySQL unnecessarily sorted
        records in certain cases when the records were retrieved by
        <code class="literal">InnoDB</code> in the proper order already.
       (<a href="http://bugs.mysql.com/28591" target="_top">Bug#28591</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could fail to find script
        files that it needs.
       (<a href="http://bugs.mysql.com/28585" target="_top">Bug#28585</a>)</p></li><li><p>
        If a stored procedure was created and invoked prior to selecting
        a default database with <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a>, a
        <span class="errortext">No database selected</span> error occurred.
       (<a href="http://bugs.mysql.com/28551" target="_top">Bug#28551</a>)</p></li><li><p>
        On Mac OS X, shared-library installation path names were
        incorrect.
       (<a href="http://bugs.mysql.com/28544" target="_top">Bug#28544</a>)</p></li><li><p>
        Using the
        <a href="programs.html#option_mysqldump_add-drop-table"><code class="option">--skip-add-drop-table
        </code></a>option with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> generated
        incorrect SQL if the database included any views. The recreation
        of views requires the creation and removal of temporary tables.
        This option suppressed the removal of those temporary tables.
        The same applied to <a href="programs.html#option_mysqldump_compact"><code class="option">--compact</code></a>
        since this option also invokes
        <a href="programs.html#option_mysqldump_add-drop-table"><code class="option">--skip-add-drop-table</code></a>.
       (<a href="http://bugs.mysql.com/28524" target="_top">Bug#28524</a>)</p></li><li><p>
        A race condition in the interaction between
        <code class="literal">MyISAM</code> and the query cache code caused the
        query cache not to invalidate itself for concurrently inserted
        data.
       (<a href="http://bugs.mysql.com/28249" target="_top">Bug#28249</a>)</p></li><li><p>
        Indexing column prefixes in <code class="literal">InnoDB</code> tables
        could cause table corruption.
       (<a href="http://bugs.mysql.com/28138" target="_top">Bug#28138</a>)</p></li><li><p>
        Index creation could fail due to truncation of key values to the
        maximum key length rather than to a mulitiple of the maximum
        character length.
       (<a href="http://bugs.mysql.com/28125" target="_top">Bug#28125</a>)</p></li><li><p>
        On Windows, symbols for yaSSL and taocrypt were missing from
        <code class="filename">mysqlclient.lib</code>, resulting in unresolved
        symbol errors for clients linked against that library.
       (<a href="http://bugs.mysql.com/27861" target="_top">Bug#27861</a>)</p></li><li><p>
        Some <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements and
        <code class="literal">INFORMATION_SCHEMA</code> queries could expose
        information not allowed by the user's access privileges.
       (<a href="http://bugs.mysql.com/27629" target="_top">Bug#27629</a>)</p></li><li><p>
        Some character mappings in the <code class="filename">ascii.xml</code>
        file were incorrect.
      </p><p>
        As a result of this bug fix, indexes must be rebuilt for columns
        that use the <code class="literal">ascii_general_ci</code> collation for
        columns that contain any of these characters:
        <code class="literal">'`'</code>, <code class="literal">'['</code>,
        <code class="literal">'\'</code>, <code class="literal">']'</code>,
        <code class="literal">'~'</code>. See
        <a href="installing.html#checking-index-changes" title="2.18.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.18.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with more than 31 nested
        dependent subqueries returned an incorrect result.
       (<a href="http://bugs.mysql.com/27352" target="_top">Bug#27352</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO ...
        SELECT</code></a> caused a crash if
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        was enabled.
       (<a href="http://bugs.mysql.com/27294" target="_top">Bug#27294</a>)</p></li><li><p>
        <code class="literal">FEDERATED</code> tables had an artificially low
        maximum of key length.
       (<a href="http://bugs.mysql.com/26909" target="_top">Bug#26909</a>)</p></li><li><p>
        After the first read of a <code class="literal">TEMPORARY</code> table,
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> could report the
        table as being corrupt.
       (<a href="http://bugs.mysql.com/26325" target="_top">Bug#26325</a>)</p></li><li><p>
        If an operation had an <code class="literal">InnoDB</code> table, and two
        triggers, <code class="literal">AFTER UPDATE</code> and <code class="literal">AFTER
        INSERT</code>, competing for different resources (such as two
        distinct <code class="literal">MyISAM</code> tables), the triggers were
        unable to execute concurrently. In addition,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements for the
        <code class="literal">InnoDB</code> table were unable to run concurrently.
       (<a href="http://bugs.mysql.com/26141" target="_top">Bug#26141</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-database" title="12.1.1. ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE</code></a> did not require at
        least one option.
       (<a href="http://bugs.mysql.com/25859" target="_top">Bug#25859</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> to open a table
        having a storage engine not supported by
        <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> properly returned an
        error, but also improperly prevented the table from being
        dropped by other connections.
       (<a href="http://bugs.mysql.com/25856" target="_top">Bug#25856</a>)</p></li><li><p>
        When using a <code class="literal">FEDERATED</code> table, the value of
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> would not
        correctly update the C API interface, which would affect the
        autogenerated ID returned both through the C API and the MySQL
        protocol, affecting Connectors that used the protocol and/or C
        API.
       (<a href="http://bugs.mysql.com/25714" target="_top">Bug#25714</a>)</p></li><li><p>
        The server was blocked from opening other tables while the
        <code class="literal">FEDERATED</code> engine was attempting to open a
        remote table. Now the server does not check the correctness of a
        <code class="literal">FEDERATED</code> table at
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> time, but waits
        until the table actually is accessed.
       (<a href="http://bugs.mysql.com/25679" target="_top">Bug#25679</a>)</p></li><li><p>
        Several <code class="literal">InnoDB</code> assertion failures were
        corrected.
       (<a href="http://bugs.mysql.com/25645" target="_top">Bug#25645</a>)</p></li><li><p>
        In a stored function or trigger, when <code class="literal">InnoDB</code>
        detected deadlock, it attempted rollback and displayed an
        incorrect error message (<span class="errortext">Explicit or implicit commit
        is not allowed in stored function or trigger</span>). Now
        <code class="literal">InnoDB</code> returns an error under these
        conditions and does not attempt rollback. Rollback is handled
        outside of <code class="literal">InnoDB</code> above the function/trigger
        level.
       (<a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a>)</p></li><li><p>
        Dropping a temporary <code class="literal">InnoDB</code> table that had
        been locked with <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>
        caused a server crash.
       (<a href="http://bugs.mysql.com/24918" target="_top">Bug#24918</a>)</p></li><li><p>
        On Windows, executables did not include Vista manifests.
       (<a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>)</p><p>See also <a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>.</p></li><li><p>
        If MySQL/<code class="literal">InnoDB</code> crashed very quickly after
        starting up, it would not force a checkpoint. In this case,
        <code class="literal">InnoDB</code> would skip crash recovery at next
        startup, and the database would become corrupt. Now, if the redo
        log scan at <code class="literal">InnoDB</code> startup goes past the last
        checkpoint, crash recovery is forced.
       (<a href="http://bugs.mysql.com/23710" target="_top">Bug#23710</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-innodb-status" title="12.5.5.19. SHOW INNODB STATUS Syntax"><code class="literal">SHOW INNODB STATUS</code></a> caused an
        assertion failure under high load.
       (<a href="http://bugs.mysql.com/22819" target="_top">Bug#22819</a>)</p></li><li><p>
        A statement of the form <code class="literal">CREATE TABLE IF NOT EXISTS t1
        SELECT f1() AS i</code> failed with a deadlock error if the
        stored function <code class="literal">f1()</code> referred to a table with
        the same name as the to-be-created table. Now it correctly
        produces a message that the table already exists.
       (<a href="http://bugs.mysql.com/22427" target="_top">Bug#22427</a>)</p></li><li><p>
        Read lock requests that were blocked by a pending write lock
        request were not allowed to proceed if the statement requesting
        the write lock was killed.
       (<a href="http://bugs.mysql.com/21281" target="_top">Bug#21281</a>)</p></li><li><p>
        On Windows, the server used 10MB of memory for each connection
        thread, resulting in memory exhaustion. Now each thread uses
        1MB.
       (<a href="http://bugs.mysql.com/20815" target="_top">Bug#20815</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> produced an unnecessary (and harmless)
        warning: <code class="literal"><code class="literal">InnoDB</code>: Error: trying to
        declare trx to enter <code class="literal">InnoDB</code>, but
        <code class="literal">InnoDB</code>: it already is declared</code>.
       (<a href="http://bugs.mysql.com/20090" target="_top">Bug#20090</a>)</p></li><li><p>
        <code class="literal">SQL_BIG_RESULT</code> had no effect for
        <code class="literal">CREATE TABLE ... SELECT SQL_BIG_RESULT ...</code>
        statements.
       (<a href="http://bugs.mysql.com/15130" target="_top">Bug#15130</a>)</p></li><li><p>
        <a href="programs.html#mysql-setpermission" title="4.6.15. mysql_setpermission — Interactively Set Permissions in Grant
Tables"><span><strong class="command">mysql_setpermission</strong></span></a> tried to grant
        global-only privileges at the database level.
       (<a href="http://bugs.mysql.com/14618" target="_top">Bug#14618</a>)</p></li><li><p>
        For the general query log, logging of prepared statements
        executed via the C API differed from logging of prepared
        statements performed with <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a>
        and <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>. Logging for the
        latter was missing the <code class="literal">Prepare</code> and
        <code class="literal">Execute</code> lines.
       (<a href="http://bugs.mysql.com/13326" target="_top">Bug#13326</a>)</p></li><li><p>
        Backup software can cause
        <code class="literal">ERROR_SHARING_VIOLATION</code> or
        <code class="literal">ERROR_LOCK_VIOLATION</code> conditions during file
        operations. <code class="literal">InnoDB</code> now retries forever until
        the condition goes away.
       (<a href="http://bugs.mysql.com/9709" target="_top">Bug#9709</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-46"></a>C.1.40. Release Notes for MySQL Enterprise 5.0.46 [MRU] (13 July 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.44).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a> and
        <a href="replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a> are now
        supported for <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/26342" target="_top">Bug#26342</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>,
        <a href="server-administration.html#sysvar_foreign_key_checks"><code class="literal">foreign_key_checks</code></a>,
        <a href="server-administration.html#sysvar_unique_checks"><code class="literal">unique_checks</code></a>, character
        set/collations, and
        <a href="server-administration.html#sysvar_sql_auto_is_null"><code class="literal">sql_auto_is_null</code></a> session
        variables are written to the binary log and honored during
        replication. See <a href="server-administration.html#binary-log" title="5.2.3. The Binary Log">Section 5.2.3, “The Binary Log”</a>.
      </p></li><li><p>
        If a <code class="literal">MERGE</code> table cannot be opened or used
        because of a problem with an underlying table,
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> now displays
        information about which table caused the problem.
       (<a href="http://bugs.mysql.com/26976" target="_top">Bug#26976</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When restarting a data node, queries could hang during that
        node's start phase 5, and continue only after the node had
        entered phase 6.
       (<a href="http://bugs.mysql.com/29364" target="_top">Bug#29364</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Replica redo logs were inconsistently handled during a system
        restart.
       (<a href="http://bugs.mysql.com/29354" target="_top">Bug#29354</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client's response to <code class="literal">START BACKUP
        WAIT COMPLETED</code> did not include the backup ID.
       (<a href="http://bugs.mysql.com/27640" target="_top">Bug#27640</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> statements that named
        multiple users, only some of which could be dropped, were
        replicated incorrectly.
       (<a href="http://bugs.mysql.com/29030" target="_top">Bug#29030</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        <span><strong class="command">gcov</strong></span> coverage-testing information was not
        written if the server crashed.
       (<a href="http://bugs.mysql.com/29543" target="_top">Bug#29543</a>)</p></li><li><p>
        Corrupt data resulted from use of <code class="literal">SELECT ... INTO
        OUTFILE '<em class="replaceable"><code>file_name</code></em>' FIELDS ENCLOSED
        BY '<em class="replaceable"><code>c</code></em>'</code>, where
        <em class="replaceable"><code>c</code></em> is a digit or minus sign, followed
        by <code class="literal">LOAD DATA INFILE
        '<em class="replaceable"><code>file_name</code></em>' FIELDS ENCLOSED BY
        '<em class="replaceable"><code>c</code></em>'</code>.
       (<a href="http://bugs.mysql.com/29442" target="_top">Bug#29442</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> for a
        nonexistent log file followed by <a href="sql-syntax.html#purge-binary-logs" title="12.6.1.1. PURGE BINARY LOGS Syntax"><code class="literal">PURGE
        BINARY LOGS</code></a> caused a server crash.
       (<a href="http://bugs.mysql.com/29420" target="_top">Bug#29420</a>)</p></li><li><p>
        Assertion failure could occur for grouping queries that employed
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> user variables with
        assignments to them.
       (<a href="http://bugs.mysql.com/29417" target="_top">Bug#29417</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
        DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>))</code></a>,
        the limits of 65 and 30 on the precision
        (<em class="replaceable"><code>M</code></em>) and scale
        (<em class="replaceable"><code>D</code></em>) were not enforced.
       (<a href="http://bugs.mysql.com/29415" target="_top">Bug#29415</a>)</p></li><li><p>
        Results for a select query that aliases the column names against
        a view could duplicate one column while omitting another. This
        bug could occur for a query over a multiple-table view that
        includes an <code class="literal">ORDER BY</code> clause in its
        definition.
       (<a href="http://bugs.mysql.com/29392" target="_top">Bug#29392</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> created a stray file when a given a
        too-long file name argument.
       (<a href="http://bugs.mysql.com/29361" target="_top">Bug#29361</a>)</p></li><li><p>
        <code class="literal">FULLTEXT</code> indexes could be corrupted by
        certain <code class="literal">gbk</code> characters.
       (<a href="http://bugs.mysql.com/29299" target="_top">Bug#29299</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> followed by <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA</code></a> could result in garbled characters when the
        <code class="literal">FIELDS ENCLOSED BY</code> clause named a delimiter
        of <code class="literal">'0'</code>, <code class="literal">'b'</code>,
        <code class="literal">'n'</code>, <code class="literal">'r'</code>,
        <code class="literal">'t'</code>, <code class="literal">'N'</code>, or
        <code class="literal">'Z'</code> due to an interaction of character
        encoding and doubling for data values containing the enclosed-by
        character.
       (<a href="http://bugs.mysql.com/29294" target="_top">Bug#29294</a>)</p></li><li><p>
        Sort order of the collation wasn't used when comparing trailing
        spaces. This could lead to incorrect comparison results,
        incorrectly created indexes, or incorrect result set order for
        queries that include an <code class="literal">ORDER BY</code> clause.
       (<a href="http://bugs.mysql.com/29261" target="_top">Bug#29261</a>)</p></li><li><p>
        If an <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column contained
        <code class="literal">''</code> as one of its members (represented with
        numeric value greater than 0), and the column contained error
        values (represented as 0 and displayed as
        <code class="literal">''</code>), using <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> to modify the column definition caused the 0
        values to be given the numeric value of the nonzero
        <code class="literal">''</code> member.
       (<a href="http://bugs.mysql.com/29251" target="_top">Bug#29251</a>)</p></li><li><p>
        Calling <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> after
        <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> could cause
        clients to crash.
       (<a href="http://bugs.mysql.com/29247" target="_top">Bug#29247</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> for
        <code class="literal">ARCHIVE</code> tables could falsely report table
        corruption or cause a server crash.
       (<a href="http://bugs.mysql.com/29207" target="_top">Bug#29207</a>)</p></li><li><p>
        Mixing binary and <code class="literal">utf8</code> columns in a union
        caused field lengths to be calculated incorrectly, resulting in
        truncation.
       (<a href="http://bugs.mysql.com/29205" target="_top">Bug#29205</a>)</p></li><li><p>
        <code class="literal">AsText()</code> could fail with a buffer overrun.
       (<a href="http://bugs.mysql.com/29166" target="_top">Bug#29166</a>)</p></li><li><p>
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> was not atomic when
        more than one <code class="literal">InnoDB</code> tables were locked.
       (<a href="http://bugs.mysql.com/29154" target="_top">Bug#29154</a>)</p></li><li><p>
        A network structure was initialized incorrectly, leading to
        embedded server crashes.
       (<a href="http://bugs.mysql.com/29117" target="_top">Bug#29117</a>)</p></li><li><p>
        An assertion failure occurred if a query contained a conjunctive
        predicate of the form <code class="literal">
        <em class="replaceable"><code>view_column</code></em> = constant</code> in
        the <code class="literal">WHERE</code> clause and the <code class="literal">GROUP
        BY</code> clause contained a reference to a different view
        column. The fix also enables application of an optimization that
        was being skipped if a query contained a conjunctive predicate
        of the form <code class="literal"><em class="replaceable"><code>view_column</code></em> =
        constant</code> in the <code class="literal">WHERE</code> clause and
        the <code class="literal">GROUP BY</code> clause contained a reference to
        the same view column.
       (<a href="http://bugs.mysql.com/29104" target="_top">Bug#29104</a>)</p></li><li><p>
        If an <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO
        ... SELECT</code></a> statement inserted into the same table that
        the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> retrieved from, and
        the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> included
        <code class="literal">ORDER BY</code> and <code class="literal">LIMIT</code>
        clauses, different data was inserted than the data produced by
        the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> executed by itself.
       (<a href="http://bugs.mysql.com/29095" target="_top">Bug#29095</a>)</p></li><li><p>
        Queries that performed a lookup into a
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> index containing key
        values ending with spaces caused an assertion failure for debug
        builds and incorrect results for nondebug builds.
       (<a href="http://bugs.mysql.com/29087" target="_top">Bug#29087</a>)</p></li><li><p>
        The semantics of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> depended
        on platform-specific characteristics.
       (<a href="http://bugs.mysql.com/29079" target="_top">Bug#29079</a>)</p></li><li><p>
        If one of the queries in a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>
        used the <code class="literal">SQL_CACHE</code> option and another query
        in the <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> contained a
        nondeterministic function, the result was still cached. For
        example, this query was incorrectly cached:
</p><pre class="programlisting">SELECT NOW() FROM t1 UNION SELECT SQL_CACHE 1 FROM t1;
</pre><p>
       (<a href="http://bugs.mysql.com/29053" target="_top">Bug#29053</a>)</p></li><li><p>
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT IGNORE</code></a>,
        and <code class="literal">UPDATE IGNORE</code> did not work for
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/29019" target="_top">Bug#29019</a>)</p></li><li><p>
        Inserting into <code class="literal">InnoDB</code> tables and executing
        <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> in multiple threads
        cause assertion failure in debug server binaries.
       (<a href="http://bugs.mysql.com/28983" target="_top">Bug#28983</a>)</p></li><li><p>
        For a <code class="literal">ucs2</code> column,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> did not convert
        separators to the result character set before inserting them,
        producing a result containing a mixture of two different
        character sets.
       (<a href="http://bugs.mysql.com/28925" target="_top">Bug#28925</a>)</p></li><li><p>
        Queries using UDFs or stored functions were cached.
       (<a href="http://bugs.mysql.com/28921" target="_top">Bug#28921</a>)</p></li><li><p>
        For a join with <code class="literal">GROUP BY</code> and/or
        <code class="literal">ORDER BY</code> and a view reference in the
        <code class="literal">FROM</code> list, the query metadata erroneously
        showed empty table aliases and database names for the view
        columns.
       (<a href="http://bugs.mysql.com/28898" target="_top">Bug#28898</a>)</p></li><li><p>
        Non-<code class="literal">utf8</code> characters could get mangled when
        stored in <code class="literal">CSV</code> tables.
       (<a href="http://bugs.mysql.com/28862" target="_top">Bug#28862</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is not supported as a
        prepared statement but was not being rejected.
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is now prohibited as a
        prepared statement or when called within stored routines.
       (<a href="http://bugs.mysql.com/28846" target="_top">Bug#28846</a>)</p></li><li><p>
        In strict SQL mode, errors silently stopped the SQL thread even
        for errors named using the <code class="option">--slave-skip-errors</code>
        option.
       (<a href="http://bugs.mysql.com/28839" target="_top">Bug#28839</a>)</p></li><li><p>
        Runtime changes to the
        <a href="server-administration.html#sysvar_log_queries_not_using_indexes"><code class="literal">log_queries_not_using_indexes</code></a>
        system variable were ignored.
       (<a href="http://bugs.mysql.com/28808" target="_top">Bug#28808</a>)</p></li><li><p>
        Selecting a column not present in the selected-from table caused
        an extra error to be produced by <a href="sql-syntax.html#show-errors" title="12.5.5.14. SHOW ERRORS Syntax"><code class="literal">SHOW
        ERRORS</code></a>.
       (<a href="http://bugs.mysql.com/28677" target="_top">Bug#28677</a>)</p></li><li><p>
        For a statement of the form <code class="literal">CREATE t1 SELECT
        <em class="replaceable"><code>integer_constant</code></em></code>, the
        server created the column using the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> data type for large
        negative values that are within the range of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>.
       (<a href="http://bugs.mysql.com/28625" target="_top">Bug#28625</a>)</p></li><li><p>
        When one thread attempts to lock two (or more) tables and
        another thread executes a statement that aborts these locks
        (such as <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, or
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>), the thread might
        get a table object with an incorrect lock type in the table
        cache. The result is table corruption or a server crash.
       (<a href="http://bugs.mysql.com/28574" target="_top">Bug#28574</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog --hexdump</strong></span></a> generated incorrect
        output due to omission of the
        “<span class="quote"><code class="literal">#</code></span>” comment character for some
        comment lines.
       (<a href="http://bugs.mysql.com/28293" target="_top">Bug#28293</a>)</p></li><li><p>
        The <a href="functions.html#function_locate"><code class="literal">LOCATE()</code></a> function returned
        <code class="literal">NULL</code> if any of its arguments evaluated to
        <code class="literal">NULL</code>. Likewise, the predicate,
        <a href="functions.html#function_locate"><code class="literal">LOCATE(<em class="replaceable"><code>str</code></em>,NULL)
        IS NULL</code></a>, erroneously evaluated to
        <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/27932" target="_top">Bug#27932</a>)</p></li><li><p>
        The modification of a table by a partially completed
        multi-column update was not recorded in the binlog, rather than
        being marked by an event and a corresponding error code.
       (<a href="http://bugs.mysql.com/27716" target="_top">Bug#27716</a>)</p></li><li><p>
        A stack overrun could occur when storing
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values using repeated
        prepared statements.
       (<a href="http://bugs.mysql.com/27592" target="_top">Bug#27592</a>)</p></li><li><p>
        Dropping a user-defined function could cause a server crash if
        the function was still in use by another thread.
       (<a href="http://bugs.mysql.com/27564" target="_top">Bug#27564</a>)</p></li><li><p>
        Unsafe aliasing in the source caused a client library crash when
        compiled with <span><strong class="command">gcc</strong></span> 4 at high optimization
        levels.
       (<a href="http://bugs.mysql.com/27383" target="_top">Bug#27383</a>)</p></li><li><p>
        Index-based range reads could fail for comparisons that involved
        contraction characters (such as <code class="literal">ch</code> in Czech
        or <code class="literal">ll</code> in Spanish).
       (<a href="http://bugs.mysql.com/27345" target="_top">Bug#27345</a>)</p></li><li><p>
        Aggregations in subqueries that refer to outer query columns
        were not always correctly referenced to the proper outer query.
       (<a href="http://bugs.mysql.com/27333" target="_top">Bug#27333</a>)</p></li><li><p>
        Error returns from the <code class="literal">time()</code> system call
        were ignored.
       (<a href="http://bugs.mysql.com/27198" target="_top">Bug#27198</a>)</p></li><li><p>
        Phantom reads could occur under <code class="literal">InnoDB</code>
        <a href="sql-syntax.html#isolevel_serializable"><code class="literal">SERIALIZABLE</code></a> isolation level.
       (<a href="http://bugs.mysql.com/27197" target="_top">Bug#27197</a>)</p></li><li><p>
        The <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> function returned
        the entire string instead of an empty string when it was called
        from a stored procedure and when the length parameter was
        specified by a variable with the value
        “<span class="quote"><code class="literal">0</code></span>”.
       (<a href="http://bugs.mysql.com/27130" target="_top">Bug#27130</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ENABLE KEYS</code> could cause
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash when executed on a table
        containing on a <code class="literal">MyISAM</code> table containing
        billions of rows.
       (<a href="http://bugs.mysql.com/27029" target="_top">Bug#27029</a>)</p></li><li><p>
        Binary content <code class="literal">0x00</code> in a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column sometimes became
        <code class="literal">0x5C 0x00</code> following a dump and reload, which
        could cause problems with data using multi-byte character sets
        such as <code class="literal">GBK</code> (Chinese). This was due to a
        problem with <code class="literal">SELECT INTO OUTFILE</code> whereby
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> later incorrectly
        interpreted <code class="literal">0x5C</code> as the second byte of a
        multi-byte sequence rather than as the
        <code class="literal">SOLIDUS</code> (“<span class="quote">\</span>”) character, used by
        MySQL as the escape character.
       (<a href="http://bugs.mysql.com/26711" target="_top">Bug#26711</a>)</p></li><li><p>
        Index creation could corrupt the table definition in the
        <code class="filename">.frm</code> file: 1) A table with the maximum
        number of key segments and maximum length key name would have a
        corrupted <code class="filename">.frm</code> file, due to incorrect
        calculation of the total key length. 2)
        <code class="literal">MyISAM</code> would reject a table with the maximum
        number of keys and the maximum number of key segments in all
        keys. (It would allow one less than this total maximum.) Now
        <code class="literal">MyISAM</code> accepts a table defined with the
        maximum.
       (<a href="http://bugs.mysql.com/26642" target="_top">Bug#26642</a>)</p></li><li><p>
        The index merge union access algorithm could produce incorrect
        results with <code class="literal">InnoDB</code> tables. The problem could
        also occur for queries that used <code class="literal">DISTINCT</code>.
       (<a href="http://bugs.mysql.com/25798" target="_top">Bug#25798</a>)</p></li><li><p>
        Under ActiveState Perl, <code class="literal">mysql-test-run.pl</code>
        could kill itself when attempting to kill other processes.
       (<a href="http://bugs.mysql.com/25657" target="_top">Bug#25657</a>)</p></li><li><p>
        A query with <code class="literal">DISTINCT</code> in the select list to
        which the loose-scan optimization for grouping queries was
        applied returned an incorrect result set when the query was used
        with the <code class="literal">SQL_BIG_RESULT</code> option.
       (<a href="http://bugs.mysql.com/25602" target="_top">Bug#25602</a>)</p></li><li><p>
        For a multiple-row insert into a <code class="literal">FEDERATED</code>
        table that refers to a remote transactional table, if the insert
        failed for a row due to constraint failure, the remote table
        would contain a partial commit (the rows preceding the failed
        one) instead of rolling back the statement completely. This
        occurred because the rows were treated as individual inserts.
      </p><p>
        Now <code class="literal">FEDERATED</code> performs bulk-insert handling
        such that multiple rows are sent to the remote table in a batch.
        This provides a performance improvement and enables the remote
        table to perform statement rollback properly should an error
        occur. This capability has the following limitations:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The size of the insert cannot exceed the maximum packet size
            between servers. If the insert exceeds this size, it is
            broken into multiple packets and the rollback problem can
            occur.
          </p></li><li><p>
            Bulk-insert handling does not occur for
            <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
            ... ON DUPLICATE KEY UPDATE</code></a>.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/25513" target="_top">Bug#25513</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine failed silently
        for <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> if a duplicate key
        violation occurred. <code class="literal">FEDERATED</code> does not
        support <code class="literal">ON DUPLICATE KEY UPDATE</code>, so now it
        correctly returns an <a href="error-handling.html#error_er_dup_key"><code class="literal">ER_DUP_KEY</code></a>
        error if a duplicate key violation occurs.
       (<a href="http://bugs.mysql.com/25511" target="_top">Bug#25511</a>)</p></li><li><p>
        A too-long <code class="literal">shared-memory-base-name</code> value
        could cause a buffer overflow and crash the server or clients.
       (<a href="http://bugs.mysql.com/24924" target="_top">Bug#24924</a>)</p></li><li><p>
        The server deducted some bytes from the
        <a href="server-administration.html#sysvar_key_cache_block_size"><code class="literal">key_cache_block_size</code></a> option
        value and reduced it to the next lower 512 byte boundary. The
        resulting block size was not a power of two. Setting the
        <a href="server-administration.html#sysvar_key_cache_block_size"><code class="literal">key_cache_block_size</code></a> system
        variable to a value that is not a power of two resulted in
        <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/23068" target="_top">Bug#23068</a>, <a href="http://bugs.mysql.com/28478" target="_top">Bug#28478</a>, <a href="http://bugs.mysql.com/25853" target="_top">Bug#25853</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> displayed
        incorrect values of <code class="literal">End_log_pos</code> for events
        associated with transactional storage engines.
       (<a href="http://bugs.mysql.com/22540" target="_top">Bug#22540</a>)</p></li><li><p>
        Under ActiveState Perl, <code class="literal">mysql-test-run.pl</code>
        would not run.
       (<a href="http://bugs.mysql.com/18415" target="_top">Bug#18415</a>)</p></li><li><p>
        The server crashed when the size of an
        <code class="literal">ARCHIVE</code> table grew larger than 2GB.
       (<a href="http://bugs.mysql.com/15787" target="_top">Bug#15787</a>)</p></li><li><p>
        On 64-bit Windows systems, the Config Wizard failed to complete
        the setup because 64-bit Windows does not resolve dynamic
        linking of the 64-bit <code class="filename">libmysql.dll</code> to a
        32-bit application like the Config Wizard.
       (<a href="http://bugs.mysql.com/14649" target="_top">Bug#14649</a>)</p></li><li><p>
        The server returned data from <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> statement or a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement on an
        <code class="literal">INFORMATION_SCHEMA</code> table using the
        <code class="literal">binary</code> character set.
       (<a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-45"></a>C.1.41. Release Notes for MySQL Community Server 5.0.45 (04 July 2007)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.41.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Prior to this release, when <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>
        values were compared with
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, the time portion
        of the <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value was
        ignored, or the comparison could be performed as a string
        compare. Now a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value is
        coerced to the <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> type by
        adding the time portion as <code class="literal">00:00:00</code>. To mimic
        the old behavior, use the <a href="functions.html#function_cast"><code class="literal">CAST()</code></a>
        function as shown in this example: <code class="literal">SELECT
        <em class="replaceable"><code>date_col</code></em> = CAST(NOW() AS DATE) FROM
        <em class="replaceable"><code>table</code></em>;</code>.
       (<a href="http://bugs.mysql.com/28929" target="_top">Bug#28929</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> is now downgraded
        to a normal <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> if the
        statement uses functions that access tables or triggers, or that
        is called from a function or a trigger.
      </p><p>
        This was done to resolve the following interrelated issues:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The server could abort or deadlock for
            <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements for
            which another insert was performed implicitly (for example,
            via a stored function that inserted a row).
          </p></li><li><p>
            A trigger using an <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT
            DELAYED</code></a> caused the error <span class="errortext">INSERT DELAYED
            can't be used with table ... because it is locked with LOCK
            TABLES</span> although the target table was not
            actually locked.
          </p></li><li><p>
            <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> into a table
            with a <code class="literal">BEFORE INSERT</code> or <code class="literal">AFTER
            INSERT</code> trigger gave an incorrect
            <code class="literal">NEW</code> pseudocolumn value and caused the
            server to deadlock or abort.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/21483" target="_top">Bug#21483</a>)</p><p>See also <a href="http://bugs.mysql.com/20497" target="_top">Bug#20497</a>, <a href="http://bugs.mysql.com/21714" target="_top">Bug#21714</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server source tree now includes scripts to simplify building
        MySQL with SCI support. For more information about SCI
        interconnects and these build scripts, see
        <a href="mysql-cluster.html#mysql-cluster-sci-sockets" title="17.9.1. Configuring MySQL Cluster to use SCI Sockets">Section 17.9.1, “Configuring MySQL Cluster to use SCI Sockets”</a>.
       (<a href="http://bugs.mysql.com/25470" target="_top">Bug#25470</a>)</p></li><li><p>
        Binaries for the Linux x86 statically linked
        <code class="filename">tar.gz</code> Community package were linked
        dynamically, not statically. Static linking has been re-enabled.
       (<a href="http://bugs.mysql.com/29617" target="_top">Bug#29617</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements on
        <code class="literal">BLACKHOLE</code> tables are now rejected, due to the
        fact that the <code class="literal">BLACKHOLE</code> storage engine does
        not support them.
       (<a href="http://bugs.mysql.com/27998" target="_top">Bug#27998</a>)</p></li><li><p>
        A new status variable, <code class="literal">Com_call_procedure</code>,
        indicates the number of calls to stored procedures.
       (<a href="http://bugs.mysql.com/27994" target="_top">Bug#27994</a>)</p></li><li><p>
        Potential memory leaks in <a href="sql-syntax.html#show-profile" title="12.5.5.28. SHOW PROFILE Syntax"><code class="literal">SHOW
        PROFILE</code></a> were eliminated.
       (<a href="http://bugs.mysql.com/24795" target="_top">Bug#24795</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malformed password packet in the connection protocol could
        cause the server to crash. Thanks for Dormando for reporting
        this bug, and for providing details and a proof of concept.
       (<a href="http://bugs.mysql.com/28984" target="_top">Bug#28984</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3780" target="_top">CVE-2007-3780</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Use of a view could allow a user to gain update privileges for
        tables in other databases.
       (<a href="http://bugs.mysql.com/27878" target="_top">Bug#27878</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3782" target="_top">CVE-2007-3782</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        The requirement of the <a href="server-administration.html#priv_drop"><code class="literal">DROP</code></a>
        privilege for <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> was
        not enforced.
       (<a href="http://bugs.mysql.com/27515" target="_top">Bug#27515</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2691" target="_top">CVE-2007-2691</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        If a stored routine was declared using <code class="literal">SQL SECURITY
        INVOKER</code>, a user who invoked the routine could gain
        privileges.
       (<a href="http://bugs.mysql.com/27337" target="_top">Bug#27337</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2692" target="_top">CVE-2007-2692</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <code class="literal">CREATE TABLE LIKE</code> did not require any
        privileges on the source table. Now it requires the
        <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privilege.
      </p><p>
        In addition, <code class="literal">CREATE TABLE LIKE</code> was not
        isolated from alteration by other connections, which resulted in
        various errors and incorrect binary log order when trying to
        execute concurrently a <code class="literal">CREATE TABLE LIKE</code>
        statement and either DDL statements on the source table or DML
        or DDL statements on the target table.
       (<a href="http://bugs.mysql.com/23667" target="_top">Bug#23667</a>, <a href="http://bugs.mysql.com/25578" target="_top">Bug#25578</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3781" target="_top">CVE-2007-3781</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        When <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> was run with the
        <a href="programs.html#option_mysqldump_delete-master-logs"><code class="option">--delete-master-logs</code></a> option,
        binary log files were deleted before it was known that the dump
        had succeeded, not after. (The method for removing log files
        used <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> prior to the
        dump. This also reset the binary log sequence numbering to
        <code class="literal">.000001</code>.) Now <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        flushes the logs (which creates a new binary log number with the
        next sequence number), performs the dump, and then uses
        <a href="sql-syntax.html#purge-binary-logs" title="12.6.1.1. PURGE BINARY LOGS Syntax"><code class="literal">PURGE BINARY LOGS</code></a> to remove the
        log files older than the new one. This also preserves log
        numbering because the new log with the next number is generated
        and only the preceding logs are removed. However, this may
        affect applications if they rely on the log numbering sequence
        being reset.
       (<a href="http://bugs.mysql.com/24733" target="_top">Bug#24733</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The use of an <code class="literal">ORDER BY</code> or
        <code class="literal">DISTINCT</code> clause with a query containing a
        call to the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        function caused results from previous queries to be redisplayed
        in the current result. The fix for this includes replacing a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> value used internally for
        sorting with a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>. This
        means that for long results (more than 65,535 bytes), it is
        possible for truncation to occur; if so, an appropriate warning
        is issued.
       (<a href="http://bugs.mysql.com/23856" target="_top">Bug#23856</a>, <a href="http://bugs.mysql.com/28273" target="_top">Bug#28273</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A corrupt schema file could cause a <span class="errortext">File already
        open</span> error.
       (<a href="http://bugs.mysql.com/28770" target="_top">Bug#28770</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">InitialNoOpenFiles</code> equal to
        <code class="literal">MaxNoOfOpenFiles</code> caused an error. This was
        due to the fact that the actual value of
        <code class="literal">MaxNoOfOpenFiles</code> as used by the cluster was
        offset by 1 from the value set in
        <code class="filename">config.ini</code>.
       (<a href="http://bugs.mysql.com/28749" target="_top">Bug#28749</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> statements involving the
        primary keys of multiple tables could result in data corruption.
       (<a href="http://bugs.mysql.com/28719" target="_top">Bug#28719</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could result when nonmaster nodes (in addition
        to the master node) tried to update active status due to a local
        checkpoint (that is, between <code class="literal">NODE_FAILREP</code> and
        <code class="literal">COPY_GCIREQ</code> events). Now only the master
        updates the active status.
       (<a href="http://bugs.mysql.com/28717" target="_top">Bug#28717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A fast global checkpoint under high load with high usage of the
        redo buffer caused data nodes to fail.
       (<a href="http://bugs.mysql.com/28653" target="_top">Bug#28653</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When an API node sent more than 1024 signals in a single batch,
        <code class="literal">NDB</code> would process only the first
        1024 of these, and then hang.
       (<a href="http://bugs.mysql.com/28443" target="_top">Bug#28443</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A delay in obtaining <code class="literal">AUTO_INCREMENT</code> IDs could
        lead to excess temporary errors.
       (<a href="http://bugs.mysql.com/28410" target="_top">Bug#28410</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster waited 30 seconds instead of 30 milliseconds before
        reading table statistics.
       (<a href="http://bugs.mysql.com/28093" target="_top">Bug#28093</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT IGNORE</code></a>
        wrongly ignored <code class="literal">NULL</code> values in unique
        indexes.
       (<a href="http://bugs.mysql.com/27980" target="_top">Bug#27980</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The name of the month “<span class="quote">March</span>” was given incorrectly
        in the cluster error log.
       (<a href="http://bugs.mysql.com/27926" target="_top">Bug#27926</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to add a unique index to an
        <code class="literal">NDB</code> table while in single user
        mode.
       (<a href="http://bugs.mysql.com/27710" target="_top">Bug#27710</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated insertion of data generated by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> into
        <code class="literal">NDB</code> tables could eventually lead to
        failure of the cluster.
       (<a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">ndb_connectstring</code> did not appear in the
        output of <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>.
       (<a href="http://bugs.mysql.com/26675" target="_top">Bug#26675</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A failure to release internal resources following an error could
        lead to problems with single user mode.
       (<a href="http://bugs.mysql.com/25818" target="_top">Bug#25818</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The result of executing of a prepared statement created with
        <code class="literal">PREPARE s FROM "SELECT 1 LIMIT ?"</code> was not
        replicated correctly.
       (<a href="http://bugs.mysql.com/28464" target="_top">Bug#28464</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Recreating a view that already exists on the master would cause
        a replicating slave to terminate replication with a 'different
        error message on slave and master' error.
       (<a href="http://bugs.mysql.com/28244" target="_top">Bug#28244</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Binary logging of prepared statements could produce
        syntactically incorrect queries in the binary log, replacing
        some parameters with variable names rather than variable values.
        This could lead to incorrect results on replication slaves.
       (<a href="http://bugs.mysql.com/26842" target="_top">Bug#26842</a>, <a href="http://bugs.mysql.com/12826" target="_top">Bug#12826</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Connections from one <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server to another
        failed on Mac OS X, affecting replication and
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/26664" target="_top">Bug#26664</a>)</p><p>See also <a href="http://bugs.mysql.com/29083" target="_top">Bug#29083</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Aborting a statement on the master that applied to a
        nontransactional statement broke replication. The statement was
        written to the binary log but not completely executed on the
        master. Slaves receiving the statement executed it completely,
        resulting in loss of data synchrony. Now an error code is
        written to the error log so that the slaves stop without
        executing the aborted statement. (That is, replication stops,
        but synchrony to the point of the stop is preserved and you can
        investigate the problem.)
       (<a href="http://bugs.mysql.com/26551" target="_top">Bug#26551</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Restoration of the default database after stored routine or
        trigger execution on a slave could cause replication to stop if
        the database no longer existed.
       (<a href="http://bugs.mysql.com/25082" target="_top">Bug#25082</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using transactions and replication, shutting down the
        master in the middle of a transaction would cause all slaves to
        stop replicating.
       (<a href="http://bugs.mysql.com/22725" target="_top">Bug#22725</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Using <code class="literal">CREATE TABLE LIKE ...</code> would raise an
        assertion when replicated to a slave.
       (<a href="http://bugs.mysql.com/18950" target="_top">Bug#18950</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        For <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> reads on operations with
        lock mode <code class="literal">LM_CommittedRead</code>, the lock mode was
        not upgraded to <code class="literal">LM_Read</code> before the state of
        the <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> had already been
        calculated. The <code class="literal">NDB</code> API methods
        affected by this problem included the following:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">NdbOperation::readTuple()</code>
            </p></li><li><p>
              <code class="literal">NdbScanOperation::readTuples()</code>
            </p></li><li><p>
              <code class="literal">NdbIndexScanOperation::readTuples()</code>
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/27320" target="_top">Bug#27320</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script. This problem was
        fixed in a repackaged distribution numbered 5.0.45b.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        Long path names for internal temporary tables could cause stack
        overflows.
       (<a href="http://bugs.mysql.com/29015" target="_top">Bug#29015</a>)</p></li><li><p>
        Using an <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INTEGER</code></a> column from a
        table to <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> a number
        produced different results than using a constant with the same
        value as the <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INTEGER</code></a> column.
       (<a href="http://bugs.mysql.com/28980" target="_top">Bug#28980</a>)</p></li><li><p>
        If a program binds a given number of parameters to a prepared
        statement handle and then somehow changes
        <code class="literal">stmt-&gt;param_count</code> to a different number,
        <a href="connectors-apis.html#mysql-stmt-execute" title="20.9.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> could crash
        the client or server.
       (<a href="http://bugs.mysql.com/28934" target="_top">Bug#28934</a>)</p></li><li><p>
        <code class="literal">INSERT .. ON DUPLICATE KEY UPDATE</code> could under
        some circumstances silently update rows when it should not have.
       (<a href="http://bugs.mysql.com/28904" target="_top">Bug#28904</a>)</p></li><li><p>
        Queries that used <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> were
        incorrectly allowed into the query cache. (This should not
        happen because <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> is
        nondeterministic.)
       (<a href="http://bugs.mysql.com/28897" target="_top">Bug#28897</a>)</p></li><li><p>
        Using a <code class="literal">VIEW</code> created with a nonexisting
        <code class="literal">DEFINER</code> could lead to incorrect results under
        some circumstances.
       (<a href="http://bugs.mysql.com/28895" target="_top">Bug#28895</a>)</p></li><li><p>
        On Windows, <code class="literal">USE_TLS</code> was not defined for
        <code class="filename">mysqlclient.lib</code>.
       (<a href="http://bugs.mysql.com/28860" target="_top">Bug#28860</a>)</p></li><li><p>
        A subquery with <code class="literal">ORDER BY</code> and <code class="literal">LIMIT
        1</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/28811" target="_top">Bug#28811</a>)</p></li><li><p>
        Using <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> with nonindexed date
        columns and short formats of the date string could return
        incorrect results.
       (<a href="http://bugs.mysql.com/28778" target="_top">Bug#28778</a>)</p></li><li><p>
        Selecting <code class="literal">GEOMETRY</code> columns in a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> caused a server crash.
       (<a href="http://bugs.mysql.com/28763" target="_top">Bug#28763</a>)</p></li><li><p>
        When constructing the path to the original
        <code class="filename">.frm</code> file, <code class="literal">ALTER ..
        RENAME</code> was unnecessarily (and incorrectly) lowercasing
        the entire path when not on a case-insensitive file system,
        causing the statement to fail.
       (<a href="http://bugs.mysql.com/28754" target="_top">Bug#28754</a>)</p></li><li><p>
        Searches on indexed and nonindexed
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns could return
        different results for empty strings.
       (<a href="http://bugs.mysql.com/28729" target="_top">Bug#28729</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> on a query using a derived table over a
        grouping subselect could lead to a server crash. This occurred
        only when materialization of the derived tables required
        creation of an auxiliary temporary table, an example being when
        a grouping operation was carried out with usage of a temporary
        table.
       (<a href="http://bugs.mysql.com/28728" target="_top">Bug#28728</a>)</p></li><li><p>
        The result of evaluation for a view's <code class="literal">CHECK
        OPTION</code> option over an updated record and records of
        merged tables was arbitrary and dependant on the order of
        records in the merged tables during the execution of the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement.
       (<a href="http://bugs.mysql.com/28716" target="_top">Bug#28716</a>)</p></li><li><p>
        The “<span class="quote">manager thread</span>” of the LinuxThreads
        implementation was unintentionally started before
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> had dropped privileges (to run as an
        unprivileged user). This caused signaling between threads in
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to fail when the privileges were
        finally dropped.
       (<a href="http://bugs.mysql.com/28690" target="_top">Bug#28690</a>)</p></li><li><p>
        For debug builds, <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        could trigger an assertion failure due to occurrence of a
        deadlock when committing changes.
       (<a href="http://bugs.mysql.com/28652" target="_top">Bug#28652</a>)</p></li><li><p>
        After an upgrade, the names of stored routines referenced by
        views were no longer displayed by <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW
        CREATE VIEW</code></a>.
       (<a href="http://bugs.mysql.com/28605" target="_top">Bug#28605</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a>.</p></li><li><p>
        Killing from one connection a long-running <code class="literal">EXPLAIN
        QUERY</code> started from another connection caused
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/28598" target="_top">Bug#28598</a>)</p></li><li><p>
        Outer join queries with <code class="literal">ON</code> conditions over
        constant outer tables did not return
        <code class="literal">NULL</code>-complemented rows when conditions were
        evaluated to <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/28571" target="_top">Bug#28571</a>)</p></li><li><p>
        An update on a multiple-table view with the <code class="literal">CHECK
        OPTION</code> clause and a subquery in the
        <code class="literal">WHERE</code> condition could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/28561" target="_top">Bug#28561</a>)</p></li><li><p>
        <code class="literal">PURGE MASTER LOGS BEFORE
        (<em class="replaceable"><code>subquery</code></em>)</code> caused a server
        crash. Subqueries are forbidden in the <code class="literal">BEFORE</code>
        clause now.
       (<a href="http://bugs.mysql.com/28553" target="_top">Bug#28553</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> calculated the required memory for
        a hex-blob string incorrectly causing a buffer overrun. This in
        turn caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to crash silently and
        produce incomplete output.
       (<a href="http://bugs.mysql.com/28522" target="_top">Bug#28522</a>)</p></li><li><p>
        Passing a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> value as a
        parameter of a statement prepared with
        <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> resulted in an error.
       (<a href="http://bugs.mysql.com/28509" target="_top">Bug#28509</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-affected-rows" title="20.9.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return an incorrect result for
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> if the
        <code class="literal">CLIENT_FOUND_ROWS</code> flag was set.
       (<a href="http://bugs.mysql.com/28505" target="_top">Bug#28505</a>)</p></li><li><p>
        A query that grouped by the result of an expression returned a
        different result when the expression was assigned to a user
        variable.
       (<a href="http://bugs.mysql.com/28494" target="_top">Bug#28494</a>)</p></li><li><p>
        Subselects returning <code class="literal">LONG</code> values in MySQL
        versions later than 5.0.24a returned <code class="literal">LONGLONG</code>
        prior to this. The previous behavior was restored.
       (<a href="http://bugs.mysql.com/28492" target="_top">Bug#28492</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19714" target="_top">Bug#19714</a>.</p></li><li><p>
        Forcing the use of an index on a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query when the index had
        been disabled would raise an error without running the query.
        The query now executes, with a warning generated noting that the
        use of a disabled index has been ignored.
       (<a href="http://bugs.mysql.com/28476" target="_top">Bug#28476</a>)</p></li><li><p>
        The query <code class="literal">SELECT '2007-01-01' + INTERVAL
        <em class="replaceable"><code>column_name</code></em> DAY FROM
        <em class="replaceable"><code>table_name</code></em></code> caused
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to fail.
       (<a href="http://bugs.mysql.com/28450" target="_top">Bug#28450</a>)</p></li><li><p>
        A server crash could happen under rare conditions such that a
        temporary table outgrew heap memory reserved for it and the
        remaining disk space was not big enough to store the table as a
        <code class="literal">MyISAM</code> table.
       (<a href="http://bugs.mysql.com/28449" target="_top">Bug#28449</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> failed if certain SQL modes
        were set. Now it sets the mode itself to avoid this problem.
       (<a href="http://bugs.mysql.com/28401" target="_top">Bug#28401</a>)</p></li><li><p>
        A query with a <code class="literal">NOT IN</code> subquery predicate
        could cause a crash when the left operand of the predicate
        evaluated to <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/28375" target="_top">Bug#28375</a>)</p></li><li><p>
        The test case for <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed with
        <code class="literal">bin-log</code> disabled.
       (<a href="http://bugs.mysql.com/28372" target="_top">Bug#28372</a>)</p></li><li><p>
        Attempting to <code class="literal">LOAD_FILE</code> from an empty floppy
        drive under Windows, caused the server to hang. For example, if
        you opened a connection to the server and then issued the
        command <span><strong class="command">SELECT LOAD_FILE('a:test');</strong></span>, with no
        floppy in the drive, the server was inaccessible until the modal
        pop-up dialog box was dismissed.
       (<a href="http://bugs.mysql.com/28366" target="_top">Bug#28366</a>)</p></li><li><p>
        A buffer overflow could occur when using
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns on Windows
        operating systems.
       (<a href="http://bugs.mysql.com/28361" target="_top">Bug#28361</a>)</p></li><li><p>
        <code class="literal">libmysql.dll</code> could not be dynamically loaded
        on Windows.
       (<a href="http://bugs.mysql.com/28358" target="_top">Bug#28358</a>)</p></li><li><p>
        Grouping queries with correlated subqueries in
        <code class="literal">WHERE</code> conditions could produce incorrect
        results.
       (<a href="http://bugs.mysql.com/28337" target="_top">Bug#28337</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> used a too-large stack size on
        PPC/Debian Linux, causing thread-creation failure for tests that
        use many threads.
       (<a href="http://bugs.mysql.com/28333" target="_top">Bug#28333</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> for a query on an empty
        table immediately after its creation could result in a server
        crash.
       (<a href="http://bugs.mysql.com/28272" target="_top">Bug#28272</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table was
        not always set correctly.
       (<a href="http://bugs.mysql.com/28266" target="_top">Bug#28266</a>)</p></li><li><p>
        Comparing a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column value
        with a user variable yielded incorrect results.
       (<a href="http://bugs.mysql.com/28261" target="_top">Bug#28261</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of a
        <code class="literal">NULL</code> value with type
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>, the return value was
        incorrectly initialized, producing a runtime error for binaries
        built using Visual C++ 2005.
       (<a href="http://bugs.mysql.com/28250" target="_top">Bug#28250</a>)</p></li><li><p>
        Portability problems caused by use of <code class="literal">isinf()</code>
        were corrected.
       (<a href="http://bugs.mysql.com/28240" target="_top">Bug#28240</a>)</p></li><li><p>
        When dumping procedures, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump
        <a href="programs.html#option_mysqldump_compact"><code class="option">--compact</code></a> </strong></span></a> generated
        output that restored the session variable
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> without first
        capturing it. When dumping routines, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump
        <a href="programs.html#option_mysqldump_compact"><code class="option">--compact</code></a> </strong></span></a> neither
        set nor retrieved the value of
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>.
       (<a href="http://bugs.mysql.com/28223" target="_top">Bug#28223</a>)</p></li><li><p>
        Comparison of the string value of a date showed as unequal to
        <a href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a>. Similar behavior was
        exhibited for <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/28208" target="_top">Bug#28208</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code>, in some rare cases the optimizer
        preferred a more expensive
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access to a less
        expensive range access.
       (<a href="http://bugs.mysql.com/28189" target="_top">Bug#28189</a>)</p></li><li><p>
        A performance degradation was observed for outer join queries to
        which a not-exists optimization was applied.
       (<a href="http://bugs.mysql.com/28188" target="_top">Bug#28188</a>)</p></li><li><p>
        <code class="literal">SELECT * INTO OUTFILE ... FROM
        INFORMATION_SCHEMA.SCHEMATA</code> failed with an
        <span class="errortext">Access denied</span> error, even for a user who
        had the <a href="server-administration.html#priv_file"><code class="literal">FILE</code></a> privilege.
       (<a href="http://bugs.mysql.com/28181" target="_top">Bug#28181</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Bytes_received"><code class="literal">Bytes_received</code></a> and
        <a href="server-administration.html#statvar_Bytes_sent"><code class="literal">Bytes_sent</code></a> status variables
        could hold only 32-bit values (not 64-bit values) on some
        platforms.
       (<a href="http://bugs.mysql.com/28149" target="_top">Bug#28149</a>)</p></li><li><p>
        Comparisons of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values for the
        <a href="functions.html#function_in"><code class="literal">IN()</code></a> function could yield
        incorrect results.
       (<a href="http://bugs.mysql.com/28133" target="_top">Bug#28133</a>)</p></li><li><p>
        Storing a large number into a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> column with a fixed length
        could result in incorrect truncation of the number if the
        column's length was greater than 31.
       (<a href="http://bugs.mysql.com/28121" target="_top">Bug#28121</a>)</p></li><li><p>
        The server could hang for <code class="literal">INSERT IGNORE ... ON
        DUPLICATE KEY UPDATE</code> if an update failed.
       (<a href="http://bugs.mysql.com/28000" target="_top">Bug#28000</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values beginning with
        nine <code class="literal">9</code> digits could be incorrectly rounded.
       (<a href="http://bugs.mysql.com/27984" target="_top">Bug#27984</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> did not check for
        overflow.
       (<a href="http://bugs.mysql.com/27957" target="_top">Bug#27957</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statements that affected
        many rows, updates could be applied to the wrong rows.
       (<a href="http://bugs.mysql.com/27954" target="_top">Bug#27954</a>)</p></li><li><p>
        Early <code class="literal">NULL</code>-filtering optimization did not
        work for <a href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a> table access.
       (<a href="http://bugs.mysql.com/27939" target="_top">Bug#27939</a>)</p></li><li><p>
        The second execution of a prepared statement from a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> query with <code class="literal">ORDER
        BY RAND()</code> caused the server to crash. This problem
        could also occur when invoking a stored procedure containing
        such a query.
       (<a href="http://bugs.mysql.com/27937" target="_top">Bug#27937</a>)</p></li><li><p>
        Views ignored precision for
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> operations.
       (<a href="http://bugs.mysql.com/27921" target="_top">Bug#27921</a>)</p></li><li><p>
        For attempts to open a nonexistent table, the server should
        report <a href="error-handling.html#error_er_no_such_table"><code class="literal">ER_NO_SUCH_TABLE</code></a> but
        sometimes reported
        <a href="error-handling.html#error_er_table_not_locked"><code class="literal">ER_TABLE_NOT_LOCKED</code></a>.
       (<a href="http://bugs.mysql.com/27907" target="_top">Bug#27907</a>)</p></li><li><p>
        A stored program that uses a variable name containing multibyte
        characters could fail to execute.
       (<a href="http://bugs.mysql.com/27876" target="_top">Bug#27876</a>)</p></li><li><p>
        Nongrouped columns were allowed by <code class="literal">*</code> in
        <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode.
       (<a href="http://bugs.mysql.com/27874" target="_top">Bug#27874</a>)</p></li><li><p>
        <code class="literal">ON</code> conditions from <code class="literal">JOIN</code>
        expressions were ignored when checking the <code class="literal">CHECK
        OPTION</code> clause while updating a multiple-table view
        that included such a clause.
       (<a href="http://bugs.mysql.com/27827" target="_top">Bug#27827</a>)</p></li><li><p>
        Debug builds on Windows generated false alarms about
        uninitialized variables with some Visual Studio runtime
        libraries.
       (<a href="http://bugs.mysql.com/27811" target="_top">Bug#27811</a>)</p></li><li><p>
        Certain queries that used uncorrelated scalar subqueries caused
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> to crash.
       (<a href="http://bugs.mysql.com/27807" target="_top">Bug#27807</a>)</p></li><li><p>
        Changes to some system variables should invalidate statements in
        the query cache, but invalidation did not happen.
       (<a href="http://bugs.mysql.com/27792" target="_top">Bug#27792</a>)</p></li><li><p>
        Performing a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> on two views
        that had <code class="literal">ORDER BY</code> clauses resulted in an
        <code class="literal">Unknown column</code> error.
       (<a href="http://bugs.mysql.com/27786" target="_top">Bug#27786</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> is supposed to detect
        existing system tables and create only those that do not exist.
        Instead, it was exiting with an error if tables already existed.
       (<a href="http://bugs.mysql.com/27783" target="_top">Bug#27783</a>)</p></li><li><p>
        On some systems, <code class="filename">udf_example.c</code> returned an
        incorrect result length. Also on some systems,
        <span><strong class="command">mysql-test-run.pl</strong></span> could not find the shared
        object built from <code class="filename">udf_example.c</code>.
       (<a href="http://bugs.mysql.com/27741" target="_top">Bug#27741</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> did not check the length of option
        values and could crash with a buffer overflow for long values.
       (<a href="http://bugs.mysql.com/27715" target="_top">Bug#27715</a>)</p></li><li><p>
        Comparisons using row constructors could fail for rows
        containing <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/27704" target="_top">Bug#27704</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> did not use
        <code class="literal">CURRENT_TIMESTAMP</code> as the default value for a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column for which no
        value was provided.
       (<a href="http://bugs.mysql.com/27670" target="_top">Bug#27670</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could not connect using SSL.
       (<a href="http://bugs.mysql.com/27669" target="_top">Bug#27669</a>)</p></li><li><p>
        On Linux, the server could not create temporary tables if
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was set
        to 1 and the value of <code class="literal">tmpdir</code> was a directory
        name containing any uppercase letters.
       (<a href="http://bugs.mysql.com/27653" target="_top">Bug#27653</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, a multiple-row
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> of the form
        <code class="literal">INSERT INTO t (id...) VALUES (NULL...) ON DUPLICATE KEY
        UPDATE id=VALUES(id)</code>, where <code class="literal">id</code> is
        an <code class="literal">AUTO_INCREMENT</code> column, could cause
        <code class="literal">ERROR 1062 (23000): Duplicate entry...</code> errors
        or lost rows.
       (<a href="http://bugs.mysql.com/27650" target="_top">Bug#27650</a>)</p></li><li><p>
        <code class="literal">HASH</code> indexes on
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns with binary
        collations did not ignore trailing spaces from strings before
        comparisons. This could result in duplicate records being
        successfully inserted into a <code class="literal">MEMORY</code> table
        with unique key constraints. A consequence was that internal
        <code class="literal">MEMORY</code> tables used for <code class="literal">GROUP
        BY</code> calculation contained duplicate rows that resulted
        in duplicate-key errors when converting those temporary tables
        to <code class="literal">MyISAM</code>, and that error was incorrectly
        reported as a <code class="literal">table is full</code> error.
       (<a href="http://bugs.mysql.com/27643" target="_top">Bug#27643</a>)</p></li><li><p>
        The XML output representing an empty result was an empty string
        rather than an empty <code class="literal">&lt;resultset/&gt;</code>
        element.
       (<a href="http://bugs.mysql.com/27608" target="_top">Bug#27608</a>)</p></li><li><p>
        An error occurred trying to connect to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug.exe</strong></span></a>.
       (<a href="http://bugs.mysql.com/27597" target="_top">Bug#27597</a>)</p></li><li><p>
        Comparison of a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> with a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> did not treat the
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as having a time part of
        <code class="literal">00:00:00</code>.
       (<a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>)</p><p>See also <a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>.</p></li><li><p>
        Selecting <a href="functions.html#function_min"><code class="literal">MIN()</code></a> on an indexed
        column that contained only <code class="literal">NULL</code> values caused
        <code class="literal">NULL</code> to be returned for other result columns.
       (<a href="http://bugs.mysql.com/27573" target="_top">Bug#27573</a>)</p></li><li><p>
        If a stored function or trigger was killed, it aborted but no
        error was thrown, allowing the calling statement to continue
        without noticing the problem. This could lead to incorrect
        results.
       (<a href="http://bugs.mysql.com/27563" target="_top">Bug#27563</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/17212" target="_top">Bug#17212</a> provided correct sort order for misordered
        output of certain queries, but caused significant overall query
        performance degradation. (Results were correct (good), but
        returned much more slowly (bad).) The fix also affected
        performance of queries for which results were correct. The
        performance degradation has been addressed.
       (<a href="http://bugs.mysql.com/27531" target="_top">Bug#27531</a>)</p></li><li><p>
        The <a href="functions.html#function_crc32"><code class="literal">CRC32()</code></a> function returns an
        unsigned integer, but the metadata was signed, which could cause
        certain queries to return incorrect results. (For example,
        queries that selected a <a href="functions.html#function_crc32"><code class="literal">CRC32()</code></a>
        value and used that value in the <code class="literal">GROUP BY</code>
        clause.)
       (<a href="http://bugs.mysql.com/27530" target="_top">Bug#27530</a>)</p></li><li><p>
        An interaction between <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> and other concurrent statements that modify the
        table could result in a divide-by-zero error and a server crash.
       (<a href="http://bugs.mysql.com/27516" target="_top">Bug#27516</a>)</p></li><li><p>
        When <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> was used to add
        a new <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column with no
        explicit default value, <code class="literal">'0000-00-00'</code> was used
        as the default even if the SQL mode included the
        <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> mode to prohibit
        that value. A similar problem occurred for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns.
       (<a href="http://bugs.mysql.com/27507" target="_top">Bug#27507</a>)</p></li><li><p>
        A race condition between <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP
        TABLE</code></a> and <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> could cause the latter to display incorrect
        information.
       (<a href="http://bugs.mysql.com/27499" target="_top">Bug#27499</a>)</p></li><li><p>
        Using a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> local variable in a
        stored routine in an expression such as <code class="literal">SET
        <em class="replaceable"><code>var</code></em> =
        SUBSTRING(<em class="replaceable"><code>var</code></em>, 3)</code> produced
        an incorrect result.
       (<a href="http://bugs.mysql.com/27415" target="_top">Bug#27415</a>)</p></li><li><p>
        Nested aggregate functions could be improperly evaluated.
       (<a href="http://bugs.mysql.com/27363" target="_top">Bug#27363</a>)</p></li><li><p>
        A stored function invocation in the <code class="literal">WHERE</code>
        clause was treated as a constant.
       (<a href="http://bugs.mysql.com/27354" target="_top">Bug#27354</a>)</p></li><li><p>
        Failure to allocate memory associated with
        <a href="server-administration.html#sysvar_transaction_prealloc_size"><code class="literal">transaction_prealloc_size</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/27322" target="_top">Bug#27322</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> crashed if it got no data from
        <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> (for
        example, when trying to dump a routine defined by a different
        user and for which the current user had no privileges). Now it
        prints a comment to indicate the problem. It also returns an
        error, or continues if the <code class="option">--force</code> option is
        given.
       (<a href="http://bugs.mysql.com/27293" target="_top">Bug#27293</a>)</p></li><li><p>
        The error message for error number <code class="literal">137</code> did
        not report which database/table combination reported the
        problem.
       (<a href="http://bugs.mysql.com/27173" target="_top">Bug#27173</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> produced different output with
        the <code class="option">-R</code> option than without it.
       (<a href="http://bugs.mysql.com/27171" target="_top">Bug#27171</a>)</p></li><li><p>
        A large filesort could result in a division by zero error and a
        server crash.
       (<a href="http://bugs.mysql.com/27119" target="_top">Bug#27119</a>)</p></li><li><p>
        Times displayed by <a href="sql-syntax.html#show-profile" title="12.5.5.28. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a>
        were incorrectly associated with the profile entry one later
        than the corrrect one.
       (<a href="http://bugs.mysql.com/27060" target="_top">Bug#27060</a>)</p></li><li><p>
        Flow control optimization in stored routines could cause
        exception handlers to never return or execute incorrect logic.
       (<a href="http://bugs.mysql.com/26977" target="_top">Bug#26977</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-profile" title="12.5.5.28. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> hung if executed
        before enabling the <code class="literal">@@profiling</code> session
        variable.
       (<a href="http://bugs.mysql.com/26938" target="_top">Bug#26938</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> would not dump a view for which the
        <code class="literal">DEFINER</code> no longer exists.
       (<a href="http://bugs.mysql.com/26817" target="_top">Bug#26817</a>)</p></li><li><p>
        Creating a temporary table with <code class="literal">InnoDB</code> when
        using the one-file-per-table setting, and when the host file
        system for temporary tables was <code class="literal">tmpfs</code>, would
        cause an assertion within <code class="literal">mysqld</code>. This was
        due to the use of <code class="literal">O_DIRECT</code> when opening the
        temporary table file.
       (<a href="http://bugs.mysql.com/26662" target="_top">Bug#26662</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not detect failure of
        external commands that it runs.
       (<a href="http://bugs.mysql.com/26639" target="_top">Bug#26639</a>)</p></li><li><p>
        Some test suite files were missing from some MySQL-test
        packages.
       (<a href="http://bugs.mysql.com/26609" target="_top">Bug#26609</a>)</p></li><li><p>
        Statements within triggers ignored the value of the
        <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a>)</p><p>See also <a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a>.</p></li><li><p>
        Index hints (<code class="literal">USE INDEX</code>, <code class="literal">IGNORE
        INDEX</code>, <code class="literal">FORCE INDEX</code>) cannot be used
        with <code class="literal">FULLTEXT</code> indexes, but were not being
        ignored.
       (<a href="http://bugs.mysql.com/25951" target="_top">Bug#25951</a>)</p></li><li><p>
        If <code class="literal">CREATE TABLE t1 LIKE t2</code> failed due to a
        full disk, an empty <code class="filename">t2.frm</code> file could be
        created but not removed. This file then caused subsequent
        attempts to create a table named <code class="literal">t2</code> to fail.
        This is easily corrected at the file system level by removing
        the <code class="filename">t2.frm</code> file manually, but now the
        server removes the file if the create operation does not
        complete successfully.
       (<a href="http://bugs.mysql.com/25761" target="_top">Bug#25761</a>)</p></li><li><p>
        Running <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> concurrently
        with a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or other statement on
        Windows could corrupt a MyISAM table.
       (<a href="http://bugs.mysql.com/25712" target="_top">Bug#25712</a>)</p></li><li><p>
        On Windows, connection handlers did not properly decrement the
        server's thread count when exiting.
       (<a href="http://bugs.mysql.com/25621" target="_top">Bug#25621</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not pass a password to
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> if one was given.
       (<a href="http://bugs.mysql.com/25452" target="_top">Bug#25452</a>)</p></li><li><p>
        On Windows, <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> was sensitive to
        lettercase of the names of some required components.
       (<a href="http://bugs.mysql.com/25405" target="_top">Bug#25405</a>)</p></li><li><p>
        For storage engines that allow the current auto-increment value
        to be set, using <code class="literal">ALTER TABLE ... ENGINE</code> to
        convert a table from one such storage engine to another caused
        loss of the current value. (For storage engines that do not
        support setting the value, it cannot be retained anyway when
        changing the storage engine.)
       (<a href="http://bugs.mysql.com/25262" target="_top">Bug#25262</a>)</p></li><li><p>
        Due to a race condition, executing
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> in one thread could cause brief table
        unavailability in other threads.
       (<a href="http://bugs.mysql.com/24988" target="_top">Bug#24988</a>)</p></li><li><p>
        Several math functions produced incorrect results for large
        unsigned values. <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> produced
        incorrect results or a crash for a large number-of-decimals
        argument.
       (<a href="http://bugs.mysql.com/24912" target="_top">Bug#24912</a>)</p></li><li><p>
        The result set of a query that used <code class="literal">WITH
        ROLLUP</code> and <code class="literal">DISTINCT</code> could lack some
        rollup rows (rows with <code class="literal">NULL</code> values for
        grouping attributes) if the <code class="literal">GROUP BY</code> list
        contained constant expressions.
       (<a href="http://bugs.mysql.com/24856" target="_top">Bug#24856</a>)</p></li><li><p>
        For queries that used <code class="literal">ORDER BY</code> with
        <code class="literal">InnoDB</code> tables, if the optimizer chose an
        index for accessing the table but found a covering index that
        enabled the <code class="literal">ORDER BY</code> to be skipped, no
        results were returned.
       (<a href="http://bugs.mysql.com/24778" target="_top">Bug#24778</a>)</p></li><li><p>
        Concurrent execution of
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> and other statements involving the target table
        suffered from various race conditions, some of which might have
        led to deadlocks.
       (<a href="http://bugs.mysql.com/24738" target="_top">Bug#24738</a>)</p></li><li><p>
        On some Linux distributions where LinuxThreads and NPTL
        <code class="literal">glibc</code> versions both are available, statically
        built binaries can crash because the linker defaults to
        LinuxThreads when linking statically, but calls to external
        libraries (such as <code class="literal">libnss</code>) are resolved to
        NPTL versions. This cannot be worked around in the code, so
        instead if a crash occurs on such a binary/OS combination, print
        an error message that provides advice about how to fix the
        problem.
       (<a href="http://bugs.mysql.com/24611" target="_top">Bug#24611</a>)</p></li><li><p>
        An attempt to execute
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> when a temporary table with the same name
        already existed led to the insertion of data into the temporary
        table and creation of an empty nontemporary table.
       (<a href="http://bugs.mysql.com/24508" target="_top">Bug#24508</a>)</p></li><li><p>
        The <code class="literal">MERGE</code> storage engine could return
        incorrect results when several index values that compare
        equality were present in an index (for example,
        <code class="literal">'gross'</code> and <code class="literal">'gross '</code>,
        which are considered equal but have different lengths).
       (<a href="http://bugs.mysql.com/24342" target="_top">Bug#24342</a>)</p></li><li><p>
        Some upgrade problems are detected and better error messages
        suggesting that <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> be run are
        produced.
       (<a href="http://bugs.mysql.com/24248" target="_top">Bug#24248</a>)</p></li><li><p>
        Some views could not be created even when the user had the
        requisite privileges.
       (<a href="http://bugs.mysql.com/24040" target="_top">Bug#24040</a>)</p></li><li><p>
        Using <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> to convert
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values to numeric values
        did not work.
       (<a href="http://bugs.mysql.com/23656" target="_top">Bug#23656</a>)</p></li><li><p>
        The <code class="literal">AUTO_INCREMENT</code> value would not be
        correctly reported for <code class="literal">InnoDB</code> tables when
        using <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> statement
        or <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> command.
       (<a href="http://bugs.mysql.com/23313" target="_top">Bug#23313</a>)</p></li><li><p>
        Implicit conversion of <code class="literal">9912101</code> to
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> did not match
        <a href="functions.html#function_cast"><code class="literal">CAST(9912101 AS DATE)</code></a>.
       (<a href="http://bugs.mysql.com/23093" target="_top">Bug#23093</a>)</p></li><li><p>
        Conversion errors could occur when constructing the condition
        for an <code class="literal">IN</code> predicate. The predicate was
        treated as if the affected column contains
        <code class="literal">NULL</code>, but if the <code class="literal">IN</code>
        predicate is inside <code class="literal">NOT</code>, incorrect results
        could be returned.
       (<a href="http://bugs.mysql.com/22855" target="_top">Bug#22855</a>)</p></li><li><p>
        <code class="literal">SELECT COUNT(*)</code> from a table containing a
        <code class="literal">DATETIME NOT NULL</code> column could produce
        spurious warnings with the
        <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> SQL mode enabled.
       (<a href="http://bugs.mysql.com/22824" target="_top">Bug#22824</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#set-option" title="12.5.4. SET Syntax"><code class="literal">SET
        GLOBAL</code></a> to change the
        <a href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
        had no effect on new connections.
       (<a href="http://bugs.mysql.com/22648" target="_top">Bug#22648</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> could
        return an incorrect rows-matched value if, during insertion of
        rows into a temporary table, the table had to be converted from
        a <code class="literal">MEMORY</code> table to a <code class="literal">MyISAM</code>
        table.
       (<a href="http://bugs.mysql.com/22364" target="_top">Bug#22364</a>)</p></li><li><p>
        yaSSL crashed on pre-Pentium Intel CPUs.
       (<a href="http://bugs.mysql.com/21765" target="_top">Bug#21765</a>)</p></li><li><p>
        Linux binaries were unable to dump core after executing a
        <code class="literal">setuid()</code> call.
       (<a href="http://bugs.mysql.com/21723" target="_top">Bug#21723</a>)</p></li><li><p>
        A slave that used
        <a href="replication.html#option_mysqld_master-ssl"><code class="option">--master-ssl-cipher</code></a>
        could not connect to the master.
       (<a href="http://bugs.mysql.com/21611" target="_top">Bug#21611</a>)</p></li><li><p>
        Quoted labels in stored routines were mishandled, rendering the
        routines unusable.
       (<a href="http://bugs.mysql.com/21513" target="_top">Bug#21513</a>)</p></li><li><p>
        Stack overflow caused server crashes.
       (<a href="http://bugs.mysql.com/21476" target="_top">Bug#21476</a>)</p></li><li><p>
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> is less than
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>, either when comparing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> directly
        (<code class="literal">CURDATE() &lt; NOW()</code> is true) or when
        casting <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> to
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> (<code class="literal">CAST(CURDATE() AS
        DATE) &lt; NOW()</code> is true). However, storing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> in a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column and comparing
        <code class="literal"> <em class="replaceable"><code>col_name</code></em> &lt;
        NOW()</code> incorrectly yielded false. This is fixed by
        comparing a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> for comparisons to a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> constant.
       (<a href="http://bugs.mysql.com/21103" target="_top">Bug#21103</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE IF NOT EXISTS ... SELECT</code> caused
        a server crash if the target table already existed and had a
        <code class="literal">BEFORE INSERT</code> trigger.
       (<a href="http://bugs.mysql.com/20903" target="_top">Bug#20903</a>)</p></li><li><p>
        Deadlock occurred for attempts to execute <code class="literal">CREATE TABLE
        IF NOT EXISTS ... SELECT</code> when
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> had been used to
        acquire a read lock on the target table.
       (<a href="http://bugs.mysql.com/20662" target="_top">Bug#20662</a>, <a href="http://bugs.mysql.com/15522" target="_top">Bug#15522</a>)</p></li><li><p>
        Changing a <code class="literal">utf8</code> column in an
        <code class="literal">InnoDB</code> table to a shorter length did not
        shorten the data values.
       (<a href="http://bugs.mysql.com/20095" target="_top">Bug#20095</a>)</p></li><li><p>
        For dates with 4-digit year parts less than 200, an incorrect
        implicit conversion to add a century was applied for date
        arithmetic performed with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, <code class="literal">+
        INTERVAL</code>, and <code class="literal">- INTERVAL</code>. (For
        example, <a href="functions.html#function_date-add"><code class="literal">DATE_ADD('0050-01-01 00:00:00',
        INTERVAL 0 SECOND)</code></a> became <code class="literal">'2050-01-01
        00:00:00'</code>.)
       (<a href="http://bugs.mysql.com/18997" target="_top">Bug#18997</a>)</p></li><li><p>
        Granting access privileges to an individual table where the
        database or table name contained an underscore would fail.
       (<a href="http://bugs.mysql.com/18660" target="_top">Bug#18660</a>)</p></li><li><p>
        The <code class="literal">-lmtmalloc</code> library was removed from the
        output of <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> on Solaris, as it
        caused problems when building <code class="literal">DBD::mysql</code> (and
        possibly other applications) on that platform that tried to use
        <span><strong class="command">dlopen()</strong></span> to access the client library.
       (<a href="http://bugs.mysql.com/18322" target="_top">Bug#18322</a>)</p></li><li><p>
        The <span><strong class="command">check-cpu</strong></span> script failed to detect AMD64
        Turion processors correctly.
       (<a href="http://bugs.mysql.com/17707" target="_top">Bug#17707</a>)</p></li><li><p>
        Trying to shut down the server following a failed
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> caused <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/17233" target="_top">Bug#17233</a>)</p></li><li><p>
        The omission of leading zeros in dates could lead to erroneous
        results when these were compared with the output of certain date
        and time functions.
       (<a href="http://bugs.mysql.com/16377" target="_top">Bug#16377</a>)</p></li><li><p>
        <code class="literal">INSERT...ON DUPLICATE KEY UPDATE</code> could cause
        <code class="literal">Error 1032: Can't find record in ...</code> for
        inserts into an <code class="literal">InnoDB</code> table unique index
        using key column prefixes with an underlying
        <code class="literal">utf8</code> string column.
       (<a href="http://bugs.mysql.com/13191" target="_top">Bug#13191</a>)</p></li><li><p>
        Having the <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege for
        a routine in a database should make it possible to
        <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a> that database, but the server
        returned an error instead. This has been corrected. As a result
        of the change, <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> for a
        database in which you have only the
        <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege returns an
        empty set rather than an error.
       (<a href="http://bugs.mysql.com/9504" target="_top">Bug#9504</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-44sp1"></a>C.1.42. Release Notes for MySQL Enterprise 5.0.44sp1 [QSP] (01 August 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.44).
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using the <a href="functions.html#function_date"><code class="literal">DATE()</code></a> function in a
        <code class="literal">WHERE</code> clause did not return any records after
        encountering <code class="literal">NULL</code>. However, using
        <code class="literal">TRIM</code> or <code class="literal">CAST</code> produced the
        correct results.
       (<a href="http://bugs.mysql.com/29898" target="_top">Bug#29898</a>)</p></li><li><p>
        For a table with a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column
        <em class="replaceable"><code>date_col</code></em> such that selecting rows
        with <code class="literal">WHERE <em class="replaceable"><code>date_col</code></em> =
        '<em class="replaceable"><code>date_val</code></em> 00:00:00'</code> yielded
        a nonempty result, adding <code class="literal">GROUP BY
        <em class="replaceable"><code>date_col</code></em></code> caused the result
        to be empty.
       (<a href="http://bugs.mysql.com/29729" target="_top">Bug#29729</a>)</p></li><li><p>
        Optimization of queries with <code class="literal">DETERMINISTIC</code>
        stored functions in the <code class="literal">WHERE</code> clause was
        ineffective: A sequential scan was always used.
       (<a href="http://bugs.mysql.com/29338" target="_top">Bug#29338</a>)</p></li><li><p>
        Creation of a legal stored procedure could fail if no default
        database had been selected.
       (<a href="http://bugs.mysql.com/29050" target="_top">Bug#29050</a>)</p></li><li><p>
        If a stored procedure was created and invoked prior to selecting
        a default database with <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a>, a
        <span class="errortext">No database selected</span> error occurred.
       (<a href="http://bugs.mysql.com/28551" target="_top">Bug#28551</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-44"></a>C.1.43. Release Notes for MySQL Enterprise 5.0.44 [MRU] (21 June 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.42).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server source tree now includes scripts to simplify building
        MySQL with SCI support. For more information about SCI
        interconnects and these build scripts, see
        <a href="mysql-cluster.html#mysql-cluster-sci-sockets" title="17.9.1. Configuring MySQL Cluster to use SCI Sockets">Section 17.9.1, “Configuring MySQL Cluster to use SCI Sockets”</a>.
       (<a href="http://bugs.mysql.com/25470" target="_top">Bug#25470</a>)</p></li><li><p>
        Enterprise builds did not include the <code class="literal">CSV</code>
        storage engine. <code class="literal">CSV</code> is now included in
        Enterprise builds for all platforms except Windows, QNX, and
        NetWare.
       (<a href="http://bugs.mysql.com/28844" target="_top">Bug#28844</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements on
        <code class="literal">BLACKHOLE</code> tables are now rejected, due to the
        fact that the <code class="literal">BLACKHOLE</code> storage engine does
        not support them.
       (<a href="http://bugs.mysql.com/27998" target="_top">Bug#27998</a>)</p></li><li><p>
        A new status variable, <code class="literal">Com_call_procedure</code>,
        indicates the number of calls to stored procedures.
       (<a href="http://bugs.mysql.com/27994" target="_top">Bug#27994</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malformed password packet in the connection protocol could
        cause the server to crash. Thanks for Dormando for reporting
        this bug, and for providing details and a proof of concept.
       (<a href="http://bugs.mysql.com/28984" target="_top">Bug#28984</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3780" target="_top">CVE-2007-3780</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <code class="literal">CREATE TABLE LIKE</code> did not require any
        privileges on the source table. Now it requires the
        <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privilege.
      </p><p>
        In addition, <code class="literal">CREATE TABLE LIKE</code> was not
        isolated from alteration by other connections, which resulted in
        various errors and incorrect binary log order when trying to
        execute concurrently a <code class="literal">CREATE TABLE LIKE</code>
        statement and either DDL statements on the source table or DML
        or DDL statements on the target table.
       (<a href="http://bugs.mysql.com/23667" target="_top">Bug#23667</a>, <a href="http://bugs.mysql.com/25578" target="_top">Bug#25578</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3781" target="_top">CVE-2007-3781</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        When <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> was run with the
        <a href="programs.html#option_mysqldump_delete-master-logs"><code class="option">--delete-master-logs</code></a> option,
        binary log files were deleted before it was known that the dump
        had succeeded, not after. (The method for removing log files
        used <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> prior to the
        dump. This also reset the binary log sequence numbering to
        <code class="literal">.000001</code>.) Now <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        flushes the logs (which creates a new binary log number with the
        next sequence number), performs the dump, and then uses
        <a href="sql-syntax.html#purge-binary-logs" title="12.6.1.1. PURGE BINARY LOGS Syntax"><code class="literal">PURGE BINARY LOGS</code></a> to remove the
        log files older than the new one. This also preserves log
        numbering because the new log with the next number is generated
        and only the preceding logs are removed. However, this may
        affect applications if they rely on the log numbering sequence
        being reset.
       (<a href="http://bugs.mysql.com/24733" target="_top">Bug#24733</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The use of an <code class="literal">ORDER BY</code> or
        <code class="literal">DISTINCT</code> clause with a query containing a
        call to the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        function caused results from previous queries to be redisplayed
        in the current result. The fix for this includes replacing a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> value used internally for
        sorting with a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>. This
        means that for long results (more than 65,535 bytes), it is
        possible for truncation to occur; if so, an appropriate warning
        is issued.
       (<a href="http://bugs.mysql.com/23856" target="_top">Bug#23856</a>, <a href="http://bugs.mysql.com/28273" target="_top">Bug#28273</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A corrupt schema file could cause a <span class="errortext">File already
        open</span> error.
       (<a href="http://bugs.mysql.com/28770" target="_top">Bug#28770</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">InitialNoOpenFiles</code> equal to
        <code class="literal">MaxNoOfOpenFiles</code> caused an error. This was
        due to the fact that the actual value of
        <code class="literal">MaxNoOfOpenFiles</code> as used by the cluster was
        offset by 1 from the value set in
        <code class="filename">config.ini</code>.
       (<a href="http://bugs.mysql.com/28749" target="_top">Bug#28749</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> statements involving the
        primary keys of multiple tables could result in data corruption.
       (<a href="http://bugs.mysql.com/28719" target="_top">Bug#28719</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could result when nonmaster nodes (in addition
        to the master node) tried to update active status due to a local
        checkpoint (that is, between <code class="literal">NODE_FAILREP</code> and
        <code class="literal">COPY_GCIREQ</code> events). Now only the master
        updates the active status.
       (<a href="http://bugs.mysql.com/28717" target="_top">Bug#28717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A fast global checkpoint under high load with high usage of the
        redo buffer caused data nodes to fail.
       (<a href="http://bugs.mysql.com/28653" target="_top">Bug#28653</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When an API node sent more than 1024 signals in a single batch,
        <code class="literal">NDB</code> would process only the first
        1024 of these, and then hang.
       (<a href="http://bugs.mysql.com/28443" target="_top">Bug#28443</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A delay in obtaining <code class="literal">AUTO_INCREMENT</code> IDs could
        lead to excess temporary errors.
       (<a href="http://bugs.mysql.com/28410" target="_top">Bug#28410</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A failure to release internal resources following an error could
        lead to problems with single user mode.
       (<a href="http://bugs.mysql.com/25818" target="_top">Bug#25818</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The result of executing of a prepared statement created with
        <code class="literal">PREPARE s FROM "SELECT 1 LIMIT ?"</code> was not
        replicated correctly.
       (<a href="http://bugs.mysql.com/28464" target="_top">Bug#28464</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Recreating a view that already exists on the master would cause
        a replicating slave to terminate replication with a 'different
        error message on slave and master' error.
       (<a href="http://bugs.mysql.com/28244" target="_top">Bug#28244</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Binary logging of prepared statements could produce
        syntactically incorrect queries in the binary log, replacing
        some parameters with variable names rather than variable values.
        This could lead to incorrect results on replication slaves.
       (<a href="http://bugs.mysql.com/26842" target="_top">Bug#26842</a>, <a href="http://bugs.mysql.com/12826" target="_top">Bug#12826</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Connections from one <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server to another
        failed on Mac OS X, affecting replication and
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/26664" target="_top">Bug#26664</a>)</p><p>See also <a href="http://bugs.mysql.com/29083" target="_top">Bug#29083</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using transactions and replication, shutting down the
        master in the middle of a transaction would cause all slaves to
        stop replicating.
       (<a href="http://bugs.mysql.com/22725" target="_top">Bug#22725</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Using <code class="literal">CREATE TABLE LIKE ...</code> would raise an
        assertion when replicated to a slave.
       (<a href="http://bugs.mysql.com/18950" target="_top">Bug#18950</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script. This problem was
        fixed in a repackaged distribution numbered 5.0.44b.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        Long path names for internal temporary tables could cause stack
        overflows.
       (<a href="http://bugs.mysql.com/29015" target="_top">Bug#29015</a>)</p></li><li><p>
        Using an <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INTEGER</code></a> column from a
        table to <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> a number
        produced different results than using a constant with the same
        value as the <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INTEGER</code></a> column.
       (<a href="http://bugs.mysql.com/28980" target="_top">Bug#28980</a>)</p></li><li><p>
        If a program binds a given number of parameters to a prepared
        statement handle and then somehow changes
        <code class="literal">stmt-&gt;param_count</code> to a different number,
        <a href="connectors-apis.html#mysql-stmt-execute" title="20.9.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> could crash
        the client or server.
       (<a href="http://bugs.mysql.com/28934" target="_top">Bug#28934</a>)</p></li><li><p>
        <code class="literal">INSERT .. ON DUPLICATE KEY UPDATE</code> could under
        some circumstances silently update rows when it should not have.
       (<a href="http://bugs.mysql.com/28904" target="_top">Bug#28904</a>)</p></li><li><p>
        Queries that used <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> were
        incorrectly allowed into the query cache. (This should not
        happen because <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> is
        nondeterministic.)
       (<a href="http://bugs.mysql.com/28897" target="_top">Bug#28897</a>)</p></li><li><p>
        Using a <code class="literal">VIEW</code> created with a nonexisting
        <code class="literal">DEFINER</code> could lead to incorrect results under
        some circumstances.
       (<a href="http://bugs.mysql.com/28895" target="_top">Bug#28895</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables that use the
        <code class="literal">utf8</code> character set, incorrect results could
        occur for DML statements such as
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that use an index on
        character-based columns.
       (<a href="http://bugs.mysql.com/28878" target="_top">Bug#28878</a>)</p><p>See also <a href="http://bugs.mysql.com/29449" target="_top">Bug#29449</a>, <a href="http://bugs.mysql.com/30485" target="_top">Bug#30485</a>, <a href="http://bugs.mysql.com/31395" target="_top">Bug#31395</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/13195" target="_top">Bug#13195</a>.</p></li><li><p>
        On Windows, <code class="literal">USE_TLS</code> was not defined for
        <code class="filename">mysqlclient.lib</code>.
       (<a href="http://bugs.mysql.com/28860" target="_top">Bug#28860</a>)</p></li><li><p>
        A subquery with <code class="literal">ORDER BY</code> and <code class="literal">LIMIT
        1</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/28811" target="_top">Bug#28811</a>)</p></li><li><p>
        Using <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> with nonindexed date
        columns and short formats of the date string could return
        incorrect results.
       (<a href="http://bugs.mysql.com/28778" target="_top">Bug#28778</a>)</p></li><li><p>
        Selecting <code class="literal">GEOMETRY</code> columns in a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> caused a server crash.
       (<a href="http://bugs.mysql.com/28763" target="_top">Bug#28763</a>)</p></li><li><p>
        When constructing the path to the original
        <code class="filename">.frm</code> file, <code class="literal">ALTER ..
        RENAME</code> was unnecessarily (and incorrectly) lowercasing
        the entire path when not on a case-insensitive file system,
        causing the statement to fail.
       (<a href="http://bugs.mysql.com/28754" target="_top">Bug#28754</a>)</p></li><li><p>
        Searches on indexed and nonindexed
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns could return
        different results for empty strings.
       (<a href="http://bugs.mysql.com/28729" target="_top">Bug#28729</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> on a query using a derived table over a
        grouping subselect could lead to a server crash. This occurred
        only when materialization of the derived tables required
        creation of an auxiliary temporary table, an example being when
        a grouping operation was carried out with usage of a temporary
        table.
       (<a href="http://bugs.mysql.com/28728" target="_top">Bug#28728</a>)</p></li><li><p>
        The result of evaluation for a view's <code class="literal">CHECK
        OPTION</code> option over an updated record and records of
        merged tables was arbitrary and dependant on the order of
        records in the merged tables during the execution of the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement.
       (<a href="http://bugs.mysql.com/28716" target="_top">Bug#28716</a>)</p></li><li><p>
        The “<span class="quote">manager thread</span>” of the LinuxThreads
        implementation was unintentionally started before
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> had dropped privileges (to run as an
        unprivileged user). This caused signaling between threads in
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to fail when the privileges were
        finally dropped.
       (<a href="http://bugs.mysql.com/28690" target="_top">Bug#28690</a>)</p></li><li><p>
        For debug builds, <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        could trigger an assertion failure due to occurrence of a
        deadlock when committing changes.
       (<a href="http://bugs.mysql.com/28652" target="_top">Bug#28652</a>)</p></li><li><p>
        After an upgrade, the names of stored routines referenced by
        views were no longer displayed by <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW
        CREATE VIEW</code></a>.
       (<a href="http://bugs.mysql.com/28605" target="_top">Bug#28605</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a>.</p></li><li><p>
        Killing from one connection a long-running <code class="literal">EXPLAIN
        QUERY</code> started from another connection caused
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/28598" target="_top">Bug#28598</a>)</p></li><li><p>
        Outer join queries with <code class="literal">ON</code> conditions over
        constant outer tables did not return
        <code class="literal">NULL</code>-complemented rows when conditions were
        evaluated to <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/28571" target="_top">Bug#28571</a>)</p></li><li><p>
        An update on a multiple-table view with the <code class="literal">CHECK
        OPTION</code> clause and a subquery in the
        <code class="literal">WHERE</code> condition could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/28561" target="_top">Bug#28561</a>)</p></li><li><p>
        <code class="literal">PURGE MASTER LOGS BEFORE
        (<em class="replaceable"><code>subquery</code></em>)</code> caused a server
        crash. Subqueries are forbidden in the <code class="literal">BEFORE</code>
        clause now.
       (<a href="http://bugs.mysql.com/28553" target="_top">Bug#28553</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> calculated the required memory for
        a hex-blob string incorrectly causing a buffer overrun. This in
        turn caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to crash silently and
        produce incomplete output.
       (<a href="http://bugs.mysql.com/28522" target="_top">Bug#28522</a>)</p></li><li><p>
        Passing a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> value as a
        parameter of a statement prepared with
        <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> resulted in an error.
       (<a href="http://bugs.mysql.com/28509" target="_top">Bug#28509</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-affected-rows" title="20.9.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return an incorrect result for
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> if the
        <code class="literal">CLIENT_FOUND_ROWS</code> flag was set.
       (<a href="http://bugs.mysql.com/28505" target="_top">Bug#28505</a>)</p></li><li><p>
        A query that grouped by the result of an expression returned a
        different result when the expression was assigned to a user
        variable.
       (<a href="http://bugs.mysql.com/28494" target="_top">Bug#28494</a>)</p></li><li><p>
        Subselects returning <code class="literal">LONG</code> values in MySQL
        versions later than 5.0.24a returned <code class="literal">LONGLONG</code>
        prior to this. The previous behavior was restored.
       (<a href="http://bugs.mysql.com/28492" target="_top">Bug#28492</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19714" target="_top">Bug#19714</a>.</p></li><li><p>
        Forcing the use of an index on a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query when the index had
        been disabled would raise an error without running the query.
        The query now executes, with a warning generated noting that the
        use of a disabled index has been ignored.
       (<a href="http://bugs.mysql.com/28476" target="_top">Bug#28476</a>)</p></li><li><p>
        The query <code class="literal">SELECT '2007-01-01' + INTERVAL
        <em class="replaceable"><code>column_name</code></em> DAY FROM
        <em class="replaceable"><code>table_name</code></em></code> caused
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to fail.
       (<a href="http://bugs.mysql.com/28450" target="_top">Bug#28450</a>)</p></li><li><p>
        A server crash could happen under rare conditions such that a
        temporary table outgrew heap memory reserved for it and the
        remaining disk space was not big enough to store the table as a
        <code class="literal">MyISAM</code> table.
       (<a href="http://bugs.mysql.com/28449" target="_top">Bug#28449</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> failed if certain SQL modes
        were set. Now it sets the mode itself to avoid this problem.
       (<a href="http://bugs.mysql.com/28401" target="_top">Bug#28401</a>)</p></li><li><p>
        The test case for <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed with
        <code class="literal">bin-log</code> disabled.
       (<a href="http://bugs.mysql.com/28372" target="_top">Bug#28372</a>)</p></li><li><p>
        Attempting to <code class="literal">LOAD_FILE</code> from an empty floppy
        drive under Windows, caused the server to hang. For example, if
        you opened a connection to the server and then issued the
        command <span><strong class="command">SELECT LOAD_FILE('a:test');</strong></span>, with no
        floppy in the drive, the server was inaccessible until the modal
        pop-up dialog box was dismissed.
       (<a href="http://bugs.mysql.com/28366" target="_top">Bug#28366</a>)</p></li><li><p>
        A buffer overflow could occur when using
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns on Windows
        operating systems.
       (<a href="http://bugs.mysql.com/28361" target="_top">Bug#28361</a>)</p></li><li><p>
        <code class="literal">libmysql.dll</code> could not be dynamically loaded
        on Windows.
       (<a href="http://bugs.mysql.com/28358" target="_top">Bug#28358</a>)</p></li><li><p>
        Grouping queries with correlated subqueries in
        <code class="literal">WHERE</code> conditions could produce incorrect
        results.
       (<a href="http://bugs.mysql.com/28337" target="_top">Bug#28337</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> used a too-large stack size on
        PPC/Debian Linux, causing thread-creation failure for tests that
        use many threads.
       (<a href="http://bugs.mysql.com/28333" target="_top">Bug#28333</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> for a query on an empty
        table immediately after its creation could result in a server
        crash.
       (<a href="http://bugs.mysql.com/28272" target="_top">Bug#28272</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table was
        not always set correctly.
       (<a href="http://bugs.mysql.com/28266" target="_top">Bug#28266</a>)</p></li><li><p>
        Comparing a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column value
        with a user variable yielded incorrect results.
       (<a href="http://bugs.mysql.com/28261" target="_top">Bug#28261</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of a
        <code class="literal">NULL</code> value with type
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>, the return value was
        incorrectly initialized, producing a runtime error for binaries
        built using Visual C++ 2005.
       (<a href="http://bugs.mysql.com/28250" target="_top">Bug#28250</a>)</p></li><li><p>
        Portability problems caused by use of <code class="literal">isinf()</code>
        were corrected.
       (<a href="http://bugs.mysql.com/28240" target="_top">Bug#28240</a>)</p></li><li><p>
        When dumping procedures, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump
        <a href="programs.html#option_mysqldump_compact"><code class="option">--compact</code></a> </strong></span></a> generated
        output that restored the session variable
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> without first
        capturing it. When dumping routines, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump
        <a href="programs.html#option_mysqldump_compact"><code class="option">--compact</code></a> </strong></span></a> neither
        set nor retrieved the value of
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>.
       (<a href="http://bugs.mysql.com/28223" target="_top">Bug#28223</a>)</p></li><li><p>
        Comparison of the string value of a date showed as unequal to
        <a href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a>. Similar behavior was
        exhibited for <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/28208" target="_top">Bug#28208</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Bytes_received"><code class="literal">Bytes_received</code></a> and
        <a href="server-administration.html#statvar_Bytes_sent"><code class="literal">Bytes_sent</code></a> status variables
        could hold only 32-bit values (not 64-bit values) on some
        platforms.
       (<a href="http://bugs.mysql.com/28149" target="_top">Bug#28149</a>)</p></li><li><p>
        Storing a large number into a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> column with a fixed length
        could result in incorrect truncation of the number if the
        column's length was greater than 31.
       (<a href="http://bugs.mysql.com/28121" target="_top">Bug#28121</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values beginning with
        nine <code class="literal">9</code> digits could be incorrectly rounded.
       (<a href="http://bugs.mysql.com/27984" target="_top">Bug#27984</a>)</p></li><li><p>
        The second execution of a prepared statement from a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> query with <code class="literal">ORDER
        BY RAND()</code> caused the server to crash. This problem
        could also occur when invoking a stored procedure containing
        such a query.
       (<a href="http://bugs.mysql.com/27937" target="_top">Bug#27937</a>)</p></li><li><p>
        For attempts to open a nonexistent table, the server should
        report <a href="error-handling.html#error_er_no_such_table"><code class="literal">ER_NO_SUCH_TABLE</code></a> but
        sometimes reported
        <a href="error-handling.html#error_er_table_not_locked"><code class="literal">ER_TABLE_NOT_LOCKED</code></a>.
       (<a href="http://bugs.mysql.com/27907" target="_top">Bug#27907</a>)</p></li><li><p>
        A stored program that uses a variable name containing multibyte
        characters could fail to execute.
       (<a href="http://bugs.mysql.com/27876" target="_top">Bug#27876</a>)</p></li><li><p>
        <code class="literal">ON</code> conditions from <code class="literal">JOIN</code>
        expressions were ignored when checking the <code class="literal">CHECK
        OPTION</code> clause while updating a multiple-table view
        that included such a clause.
       (<a href="http://bugs.mysql.com/27827" target="_top">Bug#27827</a>)</p></li><li><p>
        On some systems, <code class="filename">udf_example.c</code> returned an
        incorrect result length. Also on some systems,
        <span><strong class="command">mysql-test-run.pl</strong></span> could not find the shared
        object built from <code class="filename">udf_example.c</code>.
       (<a href="http://bugs.mysql.com/27741" target="_top">Bug#27741</a>)</p></li><li><p>
        <code class="literal">HASH</code> indexes on
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns with binary
        collations did not ignore trailing spaces from strings before
        comparisons. This could result in duplicate records being
        successfully inserted into a <code class="literal">MEMORY</code> table
        with unique key constraints. A consequence was that internal
        <code class="literal">MEMORY</code> tables used for <code class="literal">GROUP
        BY</code> calculation contained duplicate rows that resulted
        in duplicate-key errors when converting those temporary tables
        to <code class="literal">MyISAM</code>, and that error was incorrectly
        reported as a <code class="literal">table is full</code> error.
       (<a href="http://bugs.mysql.com/27643" target="_top">Bug#27643</a>)</p></li><li><p>
        An error occurred trying to connect to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug.exe</strong></span></a>.
       (<a href="http://bugs.mysql.com/27597" target="_top">Bug#27597</a>)</p></li><li><p>
        Selecting <a href="functions.html#function_min"><code class="literal">MIN()</code></a> on an indexed
        column that contained only <code class="literal">NULL</code> values caused
        <code class="literal">NULL</code> to be returned for other result columns.
       (<a href="http://bugs.mysql.com/27573" target="_top">Bug#27573</a>)</p></li><li><p>
        If a stored function or trigger was killed, it aborted but no
        error was thrown, allowing the calling statement to continue
        without noticing the problem. This could lead to incorrect
        results.
       (<a href="http://bugs.mysql.com/27563" target="_top">Bug#27563</a>)</p></li><li><p>
        When <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> was used to add
        a new <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column with no
        explicit default value, <code class="literal">'0000-00-00'</code> was used
        as the default even if the SQL mode included the
        <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> mode to prohibit
        that value. A similar problem occurred for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns.
       (<a href="http://bugs.mysql.com/27507" target="_top">Bug#27507</a>)</p></li><li><p>
        Using a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> local variable in a
        stored routine in an expression such as <code class="literal">SET
        <em class="replaceable"><code>var</code></em> =
        SUBSTRING(<em class="replaceable"><code>var</code></em>, 3)</code> produced
        an incorrect result.
       (<a href="http://bugs.mysql.com/27415" target="_top">Bug#27415</a>)</p></li><li><p>
        The error message for error number <code class="literal">137</code> did
        not report which database/table combination reported the
        problem.
       (<a href="http://bugs.mysql.com/27173" target="_top">Bug#27173</a>)</p></li><li><p>
        A large filesort could result in a division by zero error and a
        server crash.
       (<a href="http://bugs.mysql.com/27119" target="_top">Bug#27119</a>)</p></li><li><p>
        Some test suite files were missing from some MySQL-test
        packages.
       (<a href="http://bugs.mysql.com/26609" target="_top">Bug#26609</a>)</p></li><li><p>
        Statements within triggers ignored the value of the
        <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a>)</p><p>See also <a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a>.</p></li><li><p>
        Running <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> concurrently
        with a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or other statement on
        Windows could corrupt a MyISAM table.
       (<a href="http://bugs.mysql.com/25712" target="_top">Bug#25712</a>)</p></li><li><p>
        On Windows, connection handlers did not properly decrement the
        server's thread count when exiting.
       (<a href="http://bugs.mysql.com/25621" target="_top">Bug#25621</a>)</p></li><li><p>
        Due to a race condition, executing
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> in one thread could cause brief table
        unavailability in other threads.
       (<a href="http://bugs.mysql.com/24988" target="_top">Bug#24988</a>)</p></li><li><p>
        When <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was run as a Windows service,
        shared memory objects were not created in the global namespace
        and could not be used by clients to connect.
       (<a href="http://bugs.mysql.com/24731" target="_top">Bug#24731</a>)</p></li><li><p>
        On some Linux distributions where LinuxThreads and NPTL
        <code class="literal">glibc</code> versions both are available, statically
        built binaries can crash because the linker defaults to
        LinuxThreads when linking statically, but calls to external
        libraries (such as <code class="literal">libnss</code>) are resolved to
        NPTL versions. This cannot be worked around in the code, so
        instead if a crash occurs on such a binary/OS combination, print
        an error message that provides advice about how to fix the
        problem.
       (<a href="http://bugs.mysql.com/24611" target="_top">Bug#24611</a>)</p></li><li><p>
        Implicit conversion of <code class="literal">9912101</code> to
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> did not match
        <a href="functions.html#function_cast"><code class="literal">CAST(9912101 AS DATE)</code></a>.
       (<a href="http://bugs.mysql.com/23093" target="_top">Bug#23093</a>)</p></li><li><p>
        Conversion errors could occur when constructing the condition
        for an <code class="literal">IN</code> predicate. The predicate was
        treated as if the affected column contains
        <code class="literal">NULL</code>, but if the <code class="literal">IN</code>
        predicate is inside <code class="literal">NOT</code>, incorrect results
        could be returned.
       (<a href="http://bugs.mysql.com/22855" target="_top">Bug#22855</a>)</p></li><li><p>
        Linux binaries were unable to dump core after executing a
        <code class="literal">setuid()</code> call.
       (<a href="http://bugs.mysql.com/21723" target="_top">Bug#21723</a>)</p></li><li><p>
        Stack overflow caused server crashes.
       (<a href="http://bugs.mysql.com/21476" target="_top">Bug#21476</a>)</p></li><li><p>
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> is less than
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>, either when comparing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> directly
        (<code class="literal">CURDATE() &lt; NOW()</code> is true) or when
        casting <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> to
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> (<code class="literal">CAST(CURDATE() AS
        DATE) &lt; NOW()</code> is true). However, storing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> in a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column and comparing
        <code class="literal"> <em class="replaceable"><code>col_name</code></em> &lt;
        NOW()</code> incorrectly yielded false. This is fixed by
        comparing a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> for comparisons to a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> constant.
       (<a href="http://bugs.mysql.com/21103" target="_top">Bug#21103</a>)</p></li><li><p>
        For dates with 4-digit year parts less than 200, an incorrect
        implicit conversion to add a century was applied for date
        arithmetic performed with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, <code class="literal">+
        INTERVAL</code>, and <code class="literal">- INTERVAL</code>. (For
        example, <a href="functions.html#function_date-add"><code class="literal">DATE_ADD('0050-01-01 00:00:00',
        INTERVAL 0 SECOND)</code></a> became <code class="literal">'2050-01-01
        00:00:00'</code>.)
       (<a href="http://bugs.mysql.com/18997" target="_top">Bug#18997</a>)</p></li><li><p>
        Granting access privileges to an individual table where the
        database or table name contained an underscore would fail.
       (<a href="http://bugs.mysql.com/18660" target="_top">Bug#18660</a>)</p></li><li><p>
        The <code class="literal">-lmtmalloc</code> library was removed from the
        output of <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> on Solaris, as it
        caused problems when building <code class="literal">DBD::mysql</code> (and
        possibly other applications) on that platform that tried to use
        <span><strong class="command">dlopen()</strong></span> to access the client library.
       (<a href="http://bugs.mysql.com/18322" target="_top">Bug#18322</a>)</p></li><li><p>
        The <span><strong class="command">check-cpu</strong></span> script failed to detect AMD64
        Turion processors correctly.
       (<a href="http://bugs.mysql.com/17707" target="_top">Bug#17707</a>)</p></li><li><p>
        Trying to shut down the server following a failed
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> caused <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/17233" target="_top">Bug#17233</a>)</p></li><li><p>
        Using up-arrow for command-line recall in
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> could cause a segmentation fault.
       (<a href="http://bugs.mysql.com/10218" target="_top">Bug#10218</a>)</p></li><li><p>
        The result for <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> when
        casting a value to <code class="literal">UNSIGNED</code> was limited to
        the maximum signed <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> value
        (9223372036854775808), rather than the maximum unsigned value
        (18446744073709551615).
       (<a href="http://bugs.mysql.com/8663" target="_top">Bug#8663</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-42"></a>C.1.44. Release Notes for MySQL Enterprise 5.0.42 [MRU] (23 May 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.40).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Prior to this release, when <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>
        values were compared with
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, the time portion
        of the <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value was
        ignored, or the comparison could be performed as a string
        compare. Now a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value is
        coerced to the <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> type by
        adding the time portion as <code class="literal">00:00:00</code>. To mimic
        the old behavior, use the <a href="functions.html#function_cast"><code class="literal">CAST()</code></a>
        function as shown in this example: <code class="literal">SELECT
        <em class="replaceable"><code>date_col</code></em> = CAST(NOW() AS DATE) FROM
        <em class="replaceable"><code>table</code></em>;</code>.
       (<a href="http://bugs.mysql.com/28929" target="_top">Bug#28929</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> is now downgraded
        to a normal <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> if the
        statement uses functions that access tables or triggers, or that
        is called from a function or a trigger.
      </p><p>
        This was done to resolve the following interrelated issues:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The server could abort or deadlock for
            <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements for
            which another insert was performed implicitly (for example,
            via a stored function that inserted a row).
          </p></li><li><p>
            A trigger using an <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT
            DELAYED</code></a> caused the error <span class="errortext">INSERT DELAYED
            can't be used with table ... because it is locked with LOCK
            TABLES</span> although the target table was not
            actually locked.
          </p></li><li><p>
            <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> into a table
            with a <code class="literal">BEFORE INSERT</code> or <code class="literal">AFTER
            INSERT</code> trigger gave an incorrect
            <code class="literal">NEW</code> pseudocolumn value and caused the
            server to deadlock or abort.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/21483" target="_top">Bug#21483</a>)</p><p>See also <a href="http://bugs.mysql.com/20497" target="_top">Bug#20497</a>, <a href="http://bugs.mysql.com/21714" target="_top">Bug#21714</a>.</p></li><li><p>
        <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a> now understands the
        <a href="programs.html#option_mysqld_multi_no-defaults"><code class="option">--no-defaults</code></a>,
        <a href="programs.html#option_mysqld_multi_defaults-file"><code class="option">--defaults-file</code></a>, and
        <a href="programs.html#option_mysqld_multi_defaults-extra-file"><code class="option">--defaults-extra-file</code></a>
        options. The <a href="programs.html#option_mysqld_multi_config-file"><code class="option">--config-file</code></a>
        option is deprecated; if given, it is treated like
        <a href="programs.html#option_mysqld_multi_defaults-extra-file"><code class="option">--defaults-extra-file</code></a>.
       (<a href="http://bugs.mysql.com/27390" target="_top">Bug#27390</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Use of a view could allow a user to gain update privileges for
        tables in other databases.
       (<a href="http://bugs.mysql.com/27878" target="_top">Bug#27878</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3782" target="_top">CVE-2007-3782</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        The requirement of the <a href="server-administration.html#priv_drop"><code class="literal">DROP</code></a>
        privilege for <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> was
        not enforced.
       (<a href="http://bugs.mysql.com/27515" target="_top">Bug#27515</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2691" target="_top">CVE-2007-2691</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        If a stored routine was declared using <code class="literal">SQL SECURITY
        INVOKER</code>, a user who invoked the routine could gain
        privileges.
       (<a href="http://bugs.mysql.com/27337" target="_top">Bug#27337</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2692" target="_top">CVE-2007-2692</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster waited 30 seconds instead of 30 milliseconds before
        reading table statistics.
       (<a href="http://bugs.mysql.com/28093" target="_top">Bug#28093</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT IGNORE</code></a>
        wrongly ignored <code class="literal">NULL</code> values in unique
        indexes.
       (<a href="http://bugs.mysql.com/27980" target="_top">Bug#27980</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The name of the month “<span class="quote">March</span>” was given incorrectly
        in the cluster error log.
       (<a href="http://bugs.mysql.com/27926" target="_top">Bug#27926</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to add a unique index to an
        <code class="literal">NDB</code> table while in single user
        mode.
       (<a href="http://bugs.mysql.com/27710" target="_top">Bug#27710</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated insertion of data generated by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> into
        <code class="literal">NDB</code> tables could eventually lead to
        failure of the cluster.
       (<a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">ndb_connectstring</code> did not appear in the
        output of <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>.
       (<a href="http://bugs.mysql.com/26675" target="_top">Bug#26675</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Aborting a statement on the master that applied to a
        nontransactional statement broke replication. The statement was
        written to the binary log but not completely executed on the
        master. Slaves receiving the statement executed it completely,
        resulting in loss of data synchrony. Now an error code is
        written to the error log so that the slaves stop without
        executing the aborted statement. (That is, replication stops,
        but synchrony to the point of the stop is preserved and you can
        investigate the problem.)
       (<a href="http://bugs.mysql.com/26551" target="_top">Bug#26551</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Restoration of the default database after stored routine or
        trigger execution on a slave could cause replication to stop if
        the database no longer existed.
       (<a href="http://bugs.mysql.com/25082" target="_top">Bug#25082</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        For <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> reads on operations with
        lock mode <code class="literal">LM_CommittedRead</code>, the lock mode was
        not upgraded to <code class="literal">LM_Read</code> before the state of
        the <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> had already been
        calculated. The <code class="literal">NDB</code> API methods
        affected by this problem included the following:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">NdbOperation::readTuple()</code>
            </p></li><li><p>
              <code class="literal">NdbScanOperation::readTuples()</code>
            </p></li><li><p>
              <code class="literal">NdbIndexScanOperation::readTuples()</code>
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/27320" target="_top">Bug#27320</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script. This problem was
        fixed in a repackaged distribution numbered 5.0.42b.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        A query with a <code class="literal">NOT IN</code> subquery predicate
        could cause a crash when the left operand of the predicate
        evaluated to <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/28375" target="_top">Bug#28375</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code>, in some rare cases the optimizer
        preferred a more expensive
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access to a less
        expensive range access.
       (<a href="http://bugs.mysql.com/28189" target="_top">Bug#28189</a>)</p></li><li><p>
        A performance degradation was observed for outer join queries to
        which a not-exists optimization was applied.
       (<a href="http://bugs.mysql.com/28188" target="_top">Bug#28188</a>)</p></li><li><p>
        <code class="literal">SELECT * INTO OUTFILE ... FROM
        INFORMATION_SCHEMA.SCHEMATA</code> failed with an
        <span class="errortext">Access denied</span> error, even for a user who
        had the <a href="server-administration.html#priv_file"><code class="literal">FILE</code></a> privilege.
       (<a href="http://bugs.mysql.com/28181" target="_top">Bug#28181</a>)</p></li><li><p>
        Comparisons of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values for the
        <a href="functions.html#function_in"><code class="literal">IN()</code></a> function could yield
        incorrect results.
       (<a href="http://bugs.mysql.com/28133" target="_top">Bug#28133</a>)</p></li><li><p>
        The server could hang for <code class="literal">INSERT IGNORE ... ON
        DUPLICATE KEY UPDATE</code> if an update failed.
       (<a href="http://bugs.mysql.com/28000" target="_top">Bug#28000</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> did not check for
        overflow.
       (<a href="http://bugs.mysql.com/27957" target="_top">Bug#27957</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statements that affected
        many rows, updates could be applied to the wrong rows.
       (<a href="http://bugs.mysql.com/27954" target="_top">Bug#27954</a>)</p></li><li><p>
        Early <code class="literal">NULL</code>-filtering optimization did not
        work for <a href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a> table access.
       (<a href="http://bugs.mysql.com/27939" target="_top">Bug#27939</a>)</p></li><li><p>
        Views ignored precision for
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> operations.
       (<a href="http://bugs.mysql.com/27921" target="_top">Bug#27921</a>)</p></li><li><p>
        Nongrouped columns were allowed by <code class="literal">*</code> in
        <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode.
       (<a href="http://bugs.mysql.com/27874" target="_top">Bug#27874</a>)</p></li><li><p>
        Debug builds on Windows generated false alarms about
        uninitialized variables with some Visual Studio runtime
        libraries.
       (<a href="http://bugs.mysql.com/27811" target="_top">Bug#27811</a>)</p></li><li><p>
        Certain queries that used uncorrelated scalar subqueries caused
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> to crash.
       (<a href="http://bugs.mysql.com/27807" target="_top">Bug#27807</a>)</p></li><li><p>
        Changes to some system variables should invalidate statements in
        the query cache, but invalidation did not happen.
       (<a href="http://bugs.mysql.com/27792" target="_top">Bug#27792</a>)</p></li><li><p>
        Performing a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> on two views
        that had <code class="literal">ORDER BY</code> clauses resulted in an
        <code class="literal">Unknown column</code> error.
       (<a href="http://bugs.mysql.com/27786" target="_top">Bug#27786</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> is supposed to detect
        existing system tables and create only those that do not exist.
        Instead, it was exiting with an error if tables already existed.
       (<a href="http://bugs.mysql.com/27783" target="_top">Bug#27783</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> did not check the length of option
        values and could crash with a buffer overflow for long values.
       (<a href="http://bugs.mysql.com/27715" target="_top">Bug#27715</a>)</p></li><li><p>
        Comparisons using row constructors could fail for rows
        containing <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/27704" target="_top">Bug#27704</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> did not use
        <code class="literal">CURRENT_TIMESTAMP</code> as the default value for a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column for which no
        value was provided.
       (<a href="http://bugs.mysql.com/27670" target="_top">Bug#27670</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could not connect using SSL.
       (<a href="http://bugs.mysql.com/27669" target="_top">Bug#27669</a>)</p></li><li><p>
        On Linux, the server could not create temporary tables if
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was set
        to 1 and the value of <code class="literal">tmpdir</code> was a directory
        name containing any uppercase letters.
       (<a href="http://bugs.mysql.com/27653" target="_top">Bug#27653</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, a multiple-row
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> of the form
        <code class="literal">INSERT INTO t (id...) VALUES (NULL...) ON DUPLICATE KEY
        UPDATE id=VALUES(id)</code>, where <code class="literal">id</code> is
        an <code class="literal">AUTO_INCREMENT</code> column, could cause
        <code class="literal">ERROR 1062 (23000): Duplicate entry...</code> errors
        or lost rows.
       (<a href="http://bugs.mysql.com/27650" target="_top">Bug#27650</a>)</p></li><li><p>
        The XML output representing an empty result was an empty string
        rather than an empty <code class="literal">&lt;resultset/&gt;</code>
        element.
       (<a href="http://bugs.mysql.com/27608" target="_top">Bug#27608</a>)</p></li><li><p>
        Comparison of a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> with a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> did not treat the
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as having a time part of
        <code class="literal">00:00:00</code>.
       (<a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>)</p><p>See also <a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>.</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/17212" target="_top">Bug#17212</a> provided correct sort order for misordered
        output of certain queries, but caused significant overall query
        performance degradation. (Results were correct (good), but
        returned much more slowly (bad).) The fix also affected
        performance of queries for which results were correct. The
        performance degradation has been addressed.
       (<a href="http://bugs.mysql.com/27531" target="_top">Bug#27531</a>)</p></li><li><p>
        The <a href="functions.html#function_crc32"><code class="literal">CRC32()</code></a> function returns an
        unsigned integer, but the metadata was signed, which could cause
        certain queries to return incorrect results. (For example,
        queries that selected a <a href="functions.html#function_crc32"><code class="literal">CRC32()</code></a>
        value and used that value in the <code class="literal">GROUP BY</code>
        clause.)
       (<a href="http://bugs.mysql.com/27530" target="_top">Bug#27530</a>)</p></li><li><p>
        An interaction between <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> and other concurrent statements that modify the
        table could result in a divide-by-zero error and a server crash.
       (<a href="http://bugs.mysql.com/27516" target="_top">Bug#27516</a>)</p></li><li><p>
        A race condition between <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP
        TABLE</code></a> and <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> could cause the latter to display incorrect
        information.
       (<a href="http://bugs.mysql.com/27499" target="_top">Bug#27499</a>)</p></li><li><p>
        Nested aggregate functions could be improperly evaluated.
       (<a href="http://bugs.mysql.com/27363" target="_top">Bug#27363</a>)</p></li><li><p>
        A stored function invocation in the <code class="literal">WHERE</code>
        clause was treated as a constant.
       (<a href="http://bugs.mysql.com/27354" target="_top">Bug#27354</a>)</p></li><li><p>
        Failure to allocate memory associated with
        <a href="server-administration.html#sysvar_transaction_prealloc_size"><code class="literal">transaction_prealloc_size</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/27322" target="_top">Bug#27322</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> crashed if it got no data from
        <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> (for
        example, when trying to dump a routine defined by a different
        user and for which the current user had no privileges). Now it
        prints a comment to indicate the problem. It also returns an
        error, or continues if the <code class="option">--force</code> option is
        given.
       (<a href="http://bugs.mysql.com/27293" target="_top">Bug#27293</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> produced different output with
        the <code class="option">-R</code> option than without it.
       (<a href="http://bugs.mysql.com/27171" target="_top">Bug#27171</a>)</p></li><li><p>
        Flow control optimization in stored routines could cause
        exception handlers to never return or execute incorrect logic.
       (<a href="http://bugs.mysql.com/26977" target="_top">Bug#26977</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> would not dump a view for which the
        <code class="literal">DEFINER</code> no longer exists.
       (<a href="http://bugs.mysql.com/26817" target="_top">Bug#26817</a>)</p></li><li><p>
        Creating a temporary table with <code class="literal">InnoDB</code> when
        using the one-file-per-table setting, and when the host file
        system for temporary tables was <code class="literal">tmpfs</code>, would
        cause an assertion within <code class="literal">mysqld</code>. This was
        due to the use of <code class="literal">O_DIRECT</code> when opening the
        temporary table file.
       (<a href="http://bugs.mysql.com/26662" target="_top">Bug#26662</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not detect failure of
        external commands that it runs.
       (<a href="http://bugs.mysql.com/26639" target="_top">Bug#26639</a>)</p></li><li><p>
        Index hints (<code class="literal">USE INDEX</code>, <code class="literal">IGNORE
        INDEX</code>, <code class="literal">FORCE INDEX</code>) cannot be used
        with <code class="literal">FULLTEXT</code> indexes, but were not being
        ignored.
       (<a href="http://bugs.mysql.com/25951" target="_top">Bug#25951</a>)</p></li><li><p>
        If <code class="literal">CREATE TABLE t1 LIKE t2</code> failed due to a
        full disk, an empty <code class="filename">t2.frm</code> file could be
        created but not removed. This file then caused subsequent
        attempts to create a table named <code class="literal">t2</code> to fail.
        This is easily corrected at the file system level by removing
        the <code class="filename">t2.frm</code> file manually, but now the
        server removes the file if the create operation does not
        complete successfully.
       (<a href="http://bugs.mysql.com/25761" target="_top">Bug#25761</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not pass a password to
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> if one was given.
       (<a href="http://bugs.mysql.com/25452" target="_top">Bug#25452</a>)</p></li><li><p>
        On Windows, <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> was sensitive to
        lettercase of the names of some required components.
       (<a href="http://bugs.mysql.com/25405" target="_top">Bug#25405</a>)</p></li><li><p>
        For storage engines that allow the current auto-increment value
        to be set, using <code class="literal">ALTER TABLE ... ENGINE</code> to
        convert a table from one such storage engine to another caused
        loss of the current value. (For storage engines that do not
        support setting the value, it cannot be retained anyway when
        changing the storage engine.)
       (<a href="http://bugs.mysql.com/25262" target="_top">Bug#25262</a>)</p></li><li><p>
        Several math functions produced incorrect results for large
        unsigned values. <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> produced
        incorrect results or a crash for a large number-of-decimals
        argument.
       (<a href="http://bugs.mysql.com/24912" target="_top">Bug#24912</a>)</p></li><li><p>
        The result set of a query that used <code class="literal">WITH
        ROLLUP</code> and <code class="literal">DISTINCT</code> could lack some
        rollup rows (rows with <code class="literal">NULL</code> values for
        grouping attributes) if the <code class="literal">GROUP BY</code> list
        contained constant expressions.
       (<a href="http://bugs.mysql.com/24856" target="_top">Bug#24856</a>)</p></li><li><p>
        For queries that used <code class="literal">ORDER BY</code> with
        <code class="literal">InnoDB</code> tables, if the optimizer chose an
        index for accessing the table but found a covering index that
        enabled the <code class="literal">ORDER BY</code> to be skipped, no
        results were returned.
       (<a href="http://bugs.mysql.com/24778" target="_top">Bug#24778</a>)</p></li><li><p>
        Concurrent execution of
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> and other statements involving the target table
        suffered from various race conditions, some of which might have
        led to deadlocks.
       (<a href="http://bugs.mysql.com/24738" target="_top">Bug#24738</a>)</p></li><li><p>
        An attempt to execute
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> when a temporary table with the same name
        already existed led to the insertion of data into the temporary
        table and creation of an empty nontemporary table.
       (<a href="http://bugs.mysql.com/24508" target="_top">Bug#24508</a>)</p></li><li><p>
        The <code class="literal">MERGE</code> storage engine could return
        incorrect results when several index values that compare
        equality were present in an index (for example,
        <code class="literal">'gross'</code> and <code class="literal">'gross '</code>,
        which are considered equal but have different lengths).
       (<a href="http://bugs.mysql.com/24342" target="_top">Bug#24342</a>)</p></li><li><p>
        Some upgrade problems are detected and better error messages
        suggesting that <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> be run are
        produced.
       (<a href="http://bugs.mysql.com/24248" target="_top">Bug#24248</a>)</p></li><li><p>
        Some views could not be created even when the user had the
        requisite privileges.
       (<a href="http://bugs.mysql.com/24040" target="_top">Bug#24040</a>)</p></li><li><p>
        Using <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> to convert
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values to numeric values
        did not work.
       (<a href="http://bugs.mysql.com/23656" target="_top">Bug#23656</a>)</p></li><li><p>
        The <code class="literal">AUTO_INCREMENT</code> value would not be
        correctly reported for <code class="literal">InnoDB</code> tables when
        using <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> statement
        or <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> command.
       (<a href="http://bugs.mysql.com/23313" target="_top">Bug#23313</a>)</p></li><li><p>
        <code class="literal">SELECT COUNT(*)</code> from a table containing a
        <code class="literal">DATETIME NOT NULL</code> column could produce
        spurious warnings with the
        <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> SQL mode enabled.
       (<a href="http://bugs.mysql.com/22824" target="_top">Bug#22824</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#set-option" title="12.5.4. SET Syntax"><code class="literal">SET
        GLOBAL</code></a> to change the
        <a href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
        had no effect on new connections.
       (<a href="http://bugs.mysql.com/22648" target="_top">Bug#22648</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> could
        return an incorrect rows-matched value if, during insertion of
        rows into a temporary table, the table had to be converted from
        a <code class="literal">MEMORY</code> table to a <code class="literal">MyISAM</code>
        table.
       (<a href="http://bugs.mysql.com/22364" target="_top">Bug#22364</a>)</p></li><li><p>
        yaSSL crashed on pre-Pentium Intel CPUs.
       (<a href="http://bugs.mysql.com/21765" target="_top">Bug#21765</a>)</p></li><li><p>
        A slave that used
        <a href="replication.html#option_mysqld_master-ssl"><code class="option">--master-ssl-cipher</code></a>
        could not connect to the master.
       (<a href="http://bugs.mysql.com/21611" target="_top">Bug#21611</a>)</p></li><li><p>
        Quoted labels in stored routines were mishandled, rendering the
        routines unusable.
       (<a href="http://bugs.mysql.com/21513" target="_top">Bug#21513</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE IF NOT EXISTS ... SELECT</code> caused
        a server crash if the target table already existed and had a
        <code class="literal">BEFORE INSERT</code> trigger.
       (<a href="http://bugs.mysql.com/20903" target="_top">Bug#20903</a>)</p></li><li><p>
        Deadlock occurred for attempts to execute <code class="literal">CREATE TABLE
        IF NOT EXISTS ... SELECT</code> when
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> had been used to
        acquire a read lock on the target table.
       (<a href="http://bugs.mysql.com/20662" target="_top">Bug#20662</a>, <a href="http://bugs.mysql.com/15522" target="_top">Bug#15522</a>)</p></li><li><p>
        Changing a <code class="literal">utf8</code> column in an
        <code class="literal">InnoDB</code> table to a shorter length did not
        shorten the data values.
       (<a href="http://bugs.mysql.com/20095" target="_top">Bug#20095</a>)</p></li><li><p>
        The omission of leading zeros in dates could lead to erroneous
        results when these were compared with the output of certain date
        and time functions.
       (<a href="http://bugs.mysql.com/16377" target="_top">Bug#16377</a>)</p></li><li><p>
        <code class="literal">INSERT...ON DUPLICATE KEY UPDATE</code> could cause
        <code class="literal">Error 1032: Can't find record in ...</code> for
        inserts into an <code class="literal">InnoDB</code> table unique index
        using key column prefixes with an underlying
        <code class="literal">utf8</code> string column.
       (<a href="http://bugs.mysql.com/13191" target="_top">Bug#13191</a>)</p></li><li><p>
        Having the <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege for
        a routine in a database should make it possible to
        <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a> that database, but the server
        returned an error instead. This has been corrected. As a result
        of the change, <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> for a
        database in which you have only the
        <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege returns an
        empty set rather than an error.
       (<a href="http://bugs.mysql.com/9504" target="_top">Bug#9504</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-41"></a>C.1.45. Release Notes for MySQL Community Server 5.0.41 (01 May 2007)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.37.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        If a set function <em class="replaceable"><code>S</code></em> with an outer
        reference <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>outer_ref</code></em>)</code>
        cannot be aggregated in the outer query against which the outer
        reference has been resolved, MySQL interprets <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>outer_ref</code></em>)</code>
        the same way that it would interpret <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>const</code></em>)</code>.
        However, standard SQL requires throwing an error in this
        situation. An error now is thrown for such queries if the
        <a href="server-administration.html#sqlmode_ansi"><code class="literal">ANSI</code></a> SQL mode is enabled.
       (<a href="http://bugs.mysql.com/27348" target="_top">Bug#27348</a>)</p></li><li><p>
        Prefix lengths for columns in <code class="literal">SPATIAL</code> indexes
        are no longer displayed in <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> output. <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> uses that
        statement, so if a table with <code class="literal">SPATIAL</code> indexes
        containing prefixed columns is dumped and reloaded, the index is
        created with no prefixes. (The full column width of each column
        is indexed.)
       (<a href="http://bugs.mysql.com/26794" target="_top">Bug#26794</a>)</p></li><li><p>
        The output of <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>
        <a href="programs.html#option_mysql_xml"><code class="option">--xml</code></a> and
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        <a href="programs.html#option_mysqldump_xml"><code class="option">--xml</code></a> now includes a valid XML
        namespace.
       (<a href="http://bugs.mysql.com/25946" target="_top">Bug#25946</a>)</p></li><li><p>
        If you use SSL for a client connection, you can tell the client
        not to authenticate the server certificate by specifying neither
        <a href="server-administration.html#option_general_ssl-ca"><code class="option">--ssl-ca</code></a> nor
        <a href="server-administration.html#option_general_ssl-capath"><code class="option">--ssl-capath</code></a>. The server still
        verifies the client according to any applicable requirements
        established via <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statements
        for the client, and it still uses any
        <a href="server-administration.html#option_general_ssl-ca"><code class="option">--ssl-ca</code></a>/<a href="server-administration.html#option_general_ssl-capath"><code class="option">--ssl-capath</code></a>
        values that were passed to server at startup time.
       (<a href="http://bugs.mysql.com/25309" target="_top">Bug#25309</a>)</p></li><li><p>
        The server now includes a timestamp in error messages that are
        logged as a result of unhandled signals (such as <code class="literal">mysqld
        got signal 11</code> messages).
       (<a href="http://bugs.mysql.com/24878" target="_top">Bug#24878</a>)</p></li><li><p>
        The syntax for index hints has been extended to enable explicit
        specification that the hint applies only to join processing. See
        <a href="sql-syntax.html#index-hints" title="12.2.8.2. Index Hint Syntax">Section 12.2.8.2, “Index Hint Syntax”</a>.
      </p><p>
        This is a new fix for this issue, and replaces the fix made in
        MySQL 5.0.25 and reverted in 5.0.26.
       (<a href="http://bugs.mysql.com/21174" target="_top">Bug#21174</a>)</p></li><li><p>
        Added the <a href="server-administration.html#option_mysqld_secure-file-priv"><code class="option">--secure-file-priv</code></a>
        option for <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, which limits the effect of
        the <a href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> function and the
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> statements to work only with files in a given
        directory.
       (<a href="http://bugs.mysql.com/18628" target="_top">Bug#18628</a>)</p></li><li><p>
        Binary distributions for some platforms did not include shared
        libraries; now shared libraries are shipped for all platforms
        except AIX 5.2 64-bit. <span class="emphasis"><em>Exception</em></span>: The
        library for the <code class="literal">libmysqld</code> embedded server is
        not shared except on Windows.
       (<a href="http://bugs.mysql.com/16520" target="_top">Bug#16520</a>, <a href="http://bugs.mysql.com/26767" target="_top">Bug#26767</a>, <a href="http://bugs.mysql.com/13450" target="_top">Bug#13450</a>)</p></li><li><p>
        Added the read-only <a href="server-administration.html#sysvar_hostname"><code class="literal">hostname</code></a>
        system variable, which the server sets at startup to the server
        host name.
      </p></li><li><p>
        The <span><strong class="command">mysql_create_system_tables</strong></span> script was
        removed because <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> no longer
        uses it in MySQL 5.0.
      </p></li><li><p>
        To satisfy different user requirements, we provide several
        servers. <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is an optimized server that
        is a smaller, faster binary. Each package now also includes
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug</strong></span></a>, which is compiled with
        debugging support but is otherwise configured identically to the
        nondebug server.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements are not
        supported for <code class="literal">MERGE</code> tables, but the
        <code class="literal">MERGE</code> storage engine was not rejecting such
        statements, resulting in table corruption. Applications
        previously using <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a>
        into <code class="literal">MERGE</code> table will break when upgrading to
        versions with this fix. To avoid the problem, remove
        <code class="literal">DELAYED</code> from such statements.
       (<a href="http://bugs.mysql.com/26464" target="_top">Bug#26464</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables having
        <code class="literal">MEDIUMINT AUTO_INCREMENT</code> columns were not
        restored correctly by <span><strong class="command">ndb_restore</strong></span>, causing
        spurious duplicate key errors. This issue did not affect
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a>,
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>, or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> columns with
        <code class="literal">AUTO_INCREMENT</code>.
       (<a href="http://bugs.mysql.com/27775" target="_top">Bug#27775</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables with indexes whose names
        contained space characters were not restored correctly by
        <span><strong class="command">ndb_restore</strong></span> (the index names were truncated).
       (<a href="http://bugs.mysql.com/27758" target="_top">Bug#27758</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain rare circumstances performing a
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> on an
        <code class="literal">NDB</code> table could cause a node
        failure or forced cluster shutdown.
       (<a href="http://bugs.mysql.com/27581" target="_top">Bug#27581</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Memory usage of a <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process grew even
        while idle.
       (<a href="http://bugs.mysql.com/27560" target="_top">Bug#27560</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to set
        <code class="literal">LockPagesInMainMemory</code> equal to
        <code class="literal">0</code>.
       (<a href="http://bugs.mysql.com/27291" target="_top">Bug#27291</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could sometimes occur if the node acting as
        master failed while node IDs were still being allocated during
        startup.
       (<a href="http://bugs.mysql.com/27286" target="_top">Bug#27286</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a data node was taking over as the master node, a race
        condition could sometimes occur as the node was assuming
        responsibility for handling of global checkpoints.
       (<a href="http://bugs.mysql.com/27283" target="_top">Bug#27283</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Error messages displayed when running in single user mode were
        inconsistent.
       (<a href="http://bugs.mysql.com/27021" target="_top">Bug#27021</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node while restarting could cause other
        data nodes to hang or crash.
       (<a href="http://bugs.mysql.com/27003" target="_top">Bug#27003</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On Solaris, the value of an <code class="literal">NDB</code>
        table column declared as <code class="literal">BIT(33)</code> was always
        displayed as <code class="literal">0</code>.
       (<a href="http://bugs.mysql.com/26986" target="_top">Bug#26986</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes would sometimes crash under
        high load.
       (<a href="http://bugs.mysql.com/26825" target="_top">Bug#26825</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output from <span><strong class="command">ndb_restore
        <code class="option">--print_data</code></strong></span> was incorrect for a
        backup made of a database containing tables with
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> columns.
       (<a href="http://bugs.mysql.com/26740" target="_top">Bug#26740</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An inadvertent use of unaligned data caused
        <span><strong class="command">ndb_restore</strong></span> to fail on some 64-bit platforms,
        including Sparc and Itanium-2.
       (<a href="http://bugs.mysql.com/26739" target="_top">Bug#26739</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An invalid pointer was returned following a
        <code class="literal">FSCLOSECONF</code> signal when accessing the REDO
        logs during a node restart or system restart.
       (<a href="http://bugs.mysql.com/26515" target="_top">Bug#26515</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node when restarting it with
        <code class="option">--initial</code> could lead to failures of subsequent
        data node restarts.
       (<a href="http://bugs.mysql.com/26481" target="_top">Bug#26481</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Takeover for local checkpointing due to multiple failures of
        master nodes was sometimes incorrectly handled.
       (<a href="http://bugs.mysql.com/26457" target="_top">Bug#26457</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">LockPagesInMainMemory</code> parameter was not
        read until after distributed communication had already started
        between cluster nodes. When the value of this parameter was
        <code class="literal">1</code>, this could sometimes result in data node
        failure due to missed heartbeats.
       (<a href="http://bugs.mysql.com/26454" target="_top">Bug#26454</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, following the restart of a management
        node, all data nodes would connect to it normally, but some of
        them subsequently failed to log any events to the management
        node.
       (<a href="http://bugs.mysql.com/26293" target="_top">Bug#26293</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, <code class="literal">AFTER UPDATE</code> and
        <code class="literal">AFTER DELETE</code> triggers on
        <code class="literal">NDB</code> tables that referenced subject
        table did not see the results of operation which caused
        invocation of the trigger, but rather saw the row as it was
        prior to the update or delete operation.
      </p><p>
        This was most noticeable when an update operation used a
        subquery to obtain the rows to be updated. An example would be
        <code class="literal">UPDATE tbl1 SET col2 = val1 WHERE tbl1.col1 IN (SELECT
        col3 FROM tbl2 WHERE c4 = val2)</code> where there was an
        <code class="literal">AFTER UPDATE</code> trigger on table
        <code class="literal">tbl1</code>. In such cases, the trigger would fail
        to execute.
      </p><p>
        The problem occurred because the actual update or delete
        operations were deferred to be able to perform them later as one
        batch. The fix for this bug solves the problem by disabling this
        optimization for a given update or delete if the table has an
        <code class="literal">AFTER</code> trigger defined for this operation.
       (<a href="http://bugs.mysql.com/26242" target="_top">Bug#26242</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Condition pushdown did not work with prepared statements.
       (<a href="http://bugs.mysql.com/26225" target="_top">Bug#26225</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Joins on multiple tables containing
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns could cause data
        nodes run out of memory, and to crash with the error
        <span class="errortext">NdbObjectIdMap::expand unable to expand</span>.
       (<a href="http://bugs.mysql.com/26176" target="_top">Bug#26176</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        After entering single user mode it was not possible to alter
        non-<code class="literal">NDB</code> tables on any SQL nodes
        other than the one having sole access to the cluster.
       (<a href="http://bugs.mysql.com/25275" target="_top">Bug#25275</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client command <code class="literal">
        <em class="replaceable"><code>node_id</code></em> STATUS</code> displayed
        the message <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
        not connected</code> when <em class="replaceable"><code>node_id</code></em>
        was not the node ID of a data node.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The <code class="literal">ALL STATUS</code> command in the cluster
          management client still displays status information for data
          nodes only. This is by design. See
          <a href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.7.2. Commands in the MySQL Cluster Management Client">Section 17.7.2, “Commands in the MySQL Cluster Management Client”</a>, for more
          information.
        </p></div><p>(<a href="http://bugs.mysql.com/21715" target="_top">Bug#21715</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The message <span class="errortext">Error 0 in readAutoIncrementValue(): no
        Error</span> was written to the error log whenever
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> was performed
        on a Cluster table that did not have an
        <code class="literal">AUTO_INCREMENT</code> column.
       (<a href="http://bugs.mysql.com/21033" target="_top">Bug#21033</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some values of <code class="literal">MaxNoOfTables</code> caused the error
        <span class="errortext">Job buffer congestion</span> to occur.
       (<a href="http://bugs.mysql.com/19378" target="_top">Bug#19378</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Out-of-memory errors were not reported. Now they are written to
        the error log.
       (<a href="http://bugs.mysql.com/26844" target="_top">Bug#26844</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Improved out-of-memory detection when sending logs from a master
        server to slaves, and log a message when allocation fails.
       (<a href="http://bugs.mysql.com/26837" target="_top">Bug#26837</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A multiple-row delayed insert with an auto-increment column
        could cause duplicate entries to be created on the slave in a
        replication environment.
       (<a href="http://bugs.mysql.com/26116" target="_top">Bug#26116</a>, <a href="http://bugs.mysql.com/25507" target="_top">Bug#25507</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> was called multiple
        times inside a stored procedure, the server did not write the
        correct random seed values to the binary log, resulting in
        incorrect replication.
       (<a href="http://bugs.mysql.com/25543" target="_top">Bug#25543</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statements were not
        replicated if the server was started with the
        <a href="replication.html#option_mysqld_replicate-ignore-table"><code class="option">--replicate-ignore-table</code></a> or
        <a href="replication.html#option_mysqld_replicate-wild-ignore-table"><code class="option">--replicate-wild-ignore-table</code></a>
        option.
       (<a href="http://bugs.mysql.com/25482" target="_top">Bug#25482</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Duplicating the usage of a user variable in a stored procedure
        or trigger would not be replicated correctly to the slave.
       (<a href="http://bugs.mysql.com/25167" target="_top">Bug#25167</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> statements would not
        be filtered on the slave when using the
        <code class="literal">replication-wild-do-table</code> option.
       (<a href="http://bugs.mysql.com/24478" target="_top">Bug#24478</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statements where some
        <code class="literal">AUTO_INCREMENT</code> values were generated
        automatically for inserts and some rows were updated, one
        auto-generated value was lost per updated row, leading to faster
        exhaustion of the range of the <code class="literal">AUTO_INCREMENT</code>
        column.
      </p><p>
        Because the original problem can affect replication (different
        values on master and slave), it is recommended that the master
        and its slaves be upgraded to the current version.
       (<a href="http://bugs.mysql.com/24432" target="_top">Bug#24432</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication between master and slave would infinitely retry
        binary log transmission where the
        <code class="option">max_allowed_packet</code> on the master was larger
        than that on the slave if the size of the transfer was between
        these two values.
       (<a href="http://bugs.mysql.com/23775" target="_top">Bug#23775</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Loading data using
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> may not replicate correctly (due to character
        set incompatibilities) if the
        <a href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a> variable
        is set before the data is loaded.
       (<a href="http://bugs.mysql.com/15126" target="_top">Bug#15126</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        User defined variables used within stored procedures and
        triggers are not replicated correctly when operating in
        statement-based replication mode.
       (<a href="http://bugs.mysql.com/14914" target="_top">Bug#14914</a>, <a href="http://bugs.mysql.com/20141" target="_top">Bug#20141</a>)</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: 
        Some queries that updated multiple tables were not backed up
        correctly.
       (<a href="http://bugs.mysql.com/27748" target="_top">Bug#27748</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Using <code class="literal">NdbBlob::writeData()</code> to write data in
        the middle of an existing blob value (that is, updating the
        value) could overwrite some data past the end of the data to be
        changed.
       (<a href="http://bugs.mysql.com/27018" target="_top">Bug#27018</a>)</p></li><li><p>
        Some equi-joins containing a <code class="literal">WHERE</code> clause
        that included a <code class="literal">NOT IN</code> subquery caused a
        server crash.
       (<a href="http://bugs.mysql.com/27870" target="_top">Bug#27870</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> could return incorrect results if the select
        list contained duplicated columns.
       (<a href="http://bugs.mysql.com/27659" target="_top">Bug#27659</a>)</p></li><li><p>
        With <a href="server-administration.html#sqlmode_no_auto_value_on_zero"><code class="literal">NO_AUTO_VALUE_ON_ZERO</code></a> SQL
        mode enabled, <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a>
        operations could assign incorrect
        <code class="literal">AUTO_INCREMENT</code> values.
       (<a href="http://bugs.mysql.com/27586" target="_top">Bug#27586</a>)</p></li><li><p>
        Incorrect results could be returned for some queries that
        contained a select list expression with <code class="literal">IN</code> or
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> together with an
        <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code> on
        the same expression using <code class="literal">NOT IN</code> or
        <code class="literal">NOT BETWEEN</code>.
       (<a href="http://bugs.mysql.com/27532" target="_top">Bug#27532</a>)</p></li><li><p>
        Evaluation of an <code class="literal">IN()</code> predicate containing a
        decimal-valued argument caused a server crash.
       (<a href="http://bugs.mysql.com/27513" target="_top">Bug#27513</a>, <a href="http://bugs.mysql.com/27362" target="_top">Bug#27362</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2583" target="_top">CVE-2007-2583</a>)</p></li><li><p>
        Profiling overhead was incurred even with profiling disabled.
       (<a href="http://bugs.mysql.com/27501" target="_top">Bug#27501</a>)</p></li><li><p>
        In out-of-memory conditions, the server might crash or otherwise
        not report an error to the Windows event log.
       (<a href="http://bugs.mysql.com/27490" target="_top">Bug#27490</a>)</p></li><li><p>
        Passing nested row expressions with different structures to an
        <code class="literal">IN</code> predicate caused a server crash.
       (<a href="http://bugs.mysql.com/27484" target="_top">Bug#27484</a>)</p></li><li><p>
        The <code class="filename">decimal.h</code> header file was incorrectly
        omitted from binary distributions.
       (<a href="http://bugs.mysql.com/27456" target="_top">Bug#27456</a>)</p></li><li><p>
        With <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
        enabled, attempting to rename an <code class="literal">InnoDB</code> table
        to a nonexistent database caused the server to exit.
       (<a href="http://bugs.mysql.com/27381" target="_top">Bug#27381</a>)</p></li><li><p>
        A subquery could get incorrect values for references to outer
        query columns when it contained aggregate functions that were
        aggregated in outer context.
       (<a href="http://bugs.mysql.com/27321" target="_top">Bug#27321</a>)</p></li><li><p>
        In a view, a column that was defined using a
        <code class="literal">GEOMETRY</code> function was treated as having the
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> data type rather than
        the <code class="literal">GEOMETRY</code> type.
       (<a href="http://bugs.mysql.com/27300" target="_top">Bug#27300</a>)</p></li><li><p>
        Queries containing subqueries with
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> aggregated in an outer
        context returned incorrect results. This happened only if the
        subquery did not contain any references to outer columns.
       (<a href="http://bugs.mysql.com/27257" target="_top">Bug#27257</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> with a long <code class="literal">FIELDS ENCLOSED
        BY</code> value could crash the server.
       (<a href="http://bugs.mysql.com/27231" target="_top">Bug#27231</a>)</p></li><li><p>
        Use of an aggregate function from an outer context as an
        argument to <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> caused
        a server crash.
       (<a href="http://bugs.mysql.com/27229" target="_top">Bug#27229</a>)</p></li><li><p>
        String truncation upon insertion into an integer or year column
        did not generate a warning (or an error in strict mode).
       (<a href="http://bugs.mysql.com/27176" target="_top">Bug#27176</a>, <a href="http://bugs.mysql.com/26359" target="_top">Bug#26359</a>)</p></li><li><p>
        Storing <code class="literal">NULL</code> values in spatial fields caused
        excessive memory allocation and crashes on some systems.
       (<a href="http://bugs.mysql.com/27164" target="_top">Bug#27164</a>)</p></li><li><p>
        Row equalities in <code class="literal">WHERE</code> clauses could cause
        memory corruption.
       (<a href="http://bugs.mysql.com/27154" target="_top">Bug#27154</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on a <code class="literal">ucs2</code> column
        caused a server crash when there was at least one empty string
        in the column.
       (<a href="http://bugs.mysql.com/27079" target="_top">Bug#27079</a>)</p></li><li><p>
        Duplicate members in <code class="literal">SET</code> or
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> definitions were not
        detected. Now they result in a warning; if strict SQL mode is
        enabled, an error occurs instead.
       (<a href="http://bugs.mysql.com/27069" target="_top">Bug#27069</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statements on tables
        containing <code class="literal">AUTO_INCREMENT</code> columns,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was reset to 0
        if no rows were successfully inserted or changed. “<span class="quote">Not
        changed</span>” includes the case where a row was updated to its
        current values, but in that case,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> should not be
        reset to 0. Now <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
        is reset to 0 only if no rows were successfully inserted or
        touched, whether or not touched rows were changed.
       (<a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>)</p><p>See also <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>, <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>.</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could terminate with an
        error after failing to determine that a system table already
        existed.
       (<a href="http://bugs.mysql.com/27022" target="_top">Bug#27022</a>)</p></li><li><p>
        <code class="literal">AFTER UPDATE</code> triggers were not activated by
        the update part of
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>)</p><p>See also <a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>, <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>.</p></li><li><p>
        In a <code class="literal">MEMORY</code> table, using a
        <code class="literal">BTREE</code> index to scan for updatable rows could
        lead to an infinite loop.
       (<a href="http://bugs.mysql.com/26996" target="_top">Bug#26996</a>)</p></li><li><p>
        Invalid optimization of pushdown conditions for queries where an
        outer join was guaranteed to read only one row from the outer
        table led to results with too few rows.
       (<a href="http://bugs.mysql.com/26963" target="_top">Bug#26963</a>)</p></li><li><p>
        Windows binaries contained no debug symbol file. Now
        <code class="filename">.map</code> and <code class="literal">.pdb</code> files are
        included in 32-bit builds for <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-nt.exe</strong></span></a>,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug.exe</strong></span></a>, and
        <span><strong class="command">mysqlmanager.exe</strong></span>.
       (<a href="http://bugs.mysql.com/26893" target="_top">Bug#26893</a>)</p></li><li><p>
        For <code class="literal">MERGE</code> tables defined on underlying tables
        that contained a short <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        column (shorter than four characters), using
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> on at least one but
        not all of the underlying tables caused the table definitions to
        be considered different from that of the
        <code class="literal">MERGE</code> table, even if the
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> did not change the
        definition.
       (<a href="http://bugs.mysql.com/26881" target="_top">Bug#26881</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables having a clustered index
        that began with a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> or
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column, deleting a record
        and then inserting another before the deleted record was purged
        could result in table corruption.
       (<a href="http://bugs.mysql.com/26835" target="_top">Bug#26835</a>)</p></li><li><p>
        Use of a subquery containing <code class="literal">GROUP BY</code> and
        <code class="literal">WITH ROLLUP</code> caused a server crash.
       (<a href="http://bugs.mysql.com/26830" target="_top">Bug#26830</a>)</p></li><li><p>
        Duplicates were not properly identified among (potentially) long
        strings used as arguments for
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT)</code></a>.
       (<a href="http://bugs.mysql.com/26815" target="_top">Bug#26815</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> requires the
        <a href="server-administration.html#priv_create-view"><code class="literal">CREATE VIEW</code></a> and
        <a href="server-administration.html#priv_drop"><code class="literal">DROP</code></a> privileges for the view.
        However, if the view was created by another user, the server
        erroneously required the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a>
        privilege.
       (<a href="http://bugs.mysql.com/26813" target="_top">Bug#26813</a>)</p></li><li><p>
        Added support for <code class="option">--debugger=dbx</code> for
        <span><strong class="command">mysql-test-run.pl</strong></span> and added support for
        <code class="option">--debugger=devenv</code>,
        <code class="option">--debugger=DevEnv</code>, and
        <code class="option">--debugger=<em class="replaceable"><code>/path/to</code></em>/devenv</code>.
       (<a href="http://bugs.mysql.com/26792" target="_top">Bug#26792</a>)</p></li><li><p>
        A result set column formed by concatention of string literals
        was incomplete when the column was produced by a subquery in the
        <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/26738" target="_top">Bug#26738</a>)</p></li><li><p>
        SSL connections failed on Windows.
       (<a href="http://bugs.mysql.com/26678" target="_top">Bug#26678</a>)</p></li><li><p>
        When using the result of
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> for time value
        greater than 24 hours in an <code class="literal">ORDER BY</code> clause,
        either directly or through a column alias, the rows were sorted
        incorrectly as strings.
       (<a href="http://bugs.mysql.com/26672" target="_top">Bug#26672</a>)</p></li><li><p>
        Use of a subquery containing a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> with an invalid
        <code class="literal">ORDER BY</code> clause caused a server crash.
       (<a href="http://bugs.mysql.com/26661" target="_top">Bug#26661</a>)</p></li><li><p>
        The range optimizer could cause the server to run out of memory.
       (<a href="http://bugs.mysql.com/26625" target="_top">Bug#26625</a>)</p></li><li><p>
        The range optimizer could consume a combinatorial amount of
        memory for certain classes of <code class="literal">WHERE</code> clauses.
       (<a href="http://bugs.mysql.com/26624" target="_top">Bug#26624</a>)</p></li><li><p>
        In some error messages, inconsistent format specifiers were used
        for the translations in different languages.
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> (the error message compiler) now
        checks for mismatches.
       (<a href="http://bugs.mysql.com/26571" target="_top">Bug#26571</a>)</p></li><li><p>
        Views that used a scalar correlated subquery returned incorrect
        results.
       (<a href="http://bugs.mysql.com/26560" target="_top">Bug#26560</a>)</p></li><li><p>
        <code class="literal">UNHEX() IS NULL</code> comparisons failed when
        <a href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/26537" target="_top">Bug#26537</a>)</p></li><li><p>
        On 64-bit Windows, large timestamp values could be handled
        incorrectly.
       (<a href="http://bugs.mysql.com/26536" target="_top">Bug#26536</a>)</p></li><li><p>
        <code class="literal">mysqldump</code> could crash or exhibit incorrect
        behavior when some options were given very long values, such as
        <code class="option">--fields-terminated-by="<em class="replaceable"><code>some very long
        string</code></em>"</code>. The code has been cleaned up to
        remove a number of fixed-sized buffers and to be more careful
        about error conditions in memory allocation.
       (<a href="http://bugs.mysql.com/26346" target="_top">Bug#26346</a>)</p></li><li><p>
        If the server was started with
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>, Selecting
        from <code class="literal">INFORMATION_SCHEMA</code> tables causes a
        server crash.
       (<a href="http://bugs.mysql.com/26285" target="_top">Bug#26285</a>)</p></li><li><p>
        For some values of the position argument, the
        <a href="functions.html#function_insert"><code class="literal">INSERT()</code></a> function could insert a
        NUL byte into the result.
       (<a href="http://bugs.mysql.com/26281" target="_top">Bug#26281</a>)</p></li><li><p>
        For an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement that
        should fail due to a column with no default value not being
        assigned a value, the statement succeeded with no error if the
        column was assigned a value in an <code class="literal">ON DUPLICATE KEY
        UPDATE</code> clause, even if that clause was not used.
       (<a href="http://bugs.mysql.com/26261" target="_top">Bug#26261</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements
        inserted incorrect values into
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/26238" target="_top">Bug#26238</a>)</p></li><li><p>
        The temporary file-creation code was cleaned up on Windows to
        improve server stability.
       (<a href="http://bugs.mysql.com/26233" target="_top">Bug#26233</a>)</p></li><li><p>
        For <code class="literal">MyISAM</code> tables,
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> could return an
        incorrect value if the <code class="literal">WHERE</code> clause compared
        an indexed <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column to the
        empty string (<code class="literal">''</code>). This happened if the
        column contained empty strings and also strings starting with
        control characters such as tab or newline.
       (<a href="http://bugs.mysql.com/26231" target="_top">Bug#26231</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO
        ... SELECT</code></a> where index searches used column prefixes,
        insert errors could occur when key value type conversion was
        done.
       (<a href="http://bugs.mysql.com/26207" target="_top">Bug#26207</a>)</p></li><li><p>
        For <code class="literal">DELETE FROM <code class="literal">tbl_name</code> ORDER BY
        <em class="replaceable"><code>col_name</code></em></code> (with no
        <code class="literal">WHERE</code> or <code class="literal">LIMIT</code> clause),
        the server did not check whether
        <em class="replaceable"><code>col_name</code></em> was a valid column in the
        table.
       (<a href="http://bugs.mysql.com/26186" target="_top">Bug#26186</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLE ... USE_FRM</code> with an
        <code class="literal">ARCHIVE</code> table deleted all records from the
        table.
       (<a href="http://bugs.mysql.com/26138" target="_top">Bug#26138</a>)</p></li><li><p>
        <a href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> did not work
        correctly for expressions that produced a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> result.
       (<a href="http://bugs.mysql.com/26093" target="_top">Bug#26093</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> sent an okay to the client before writing the
        binary log and committing the changes to the table had finished,
        thus violating ACID requirements.
       (<a href="http://bugs.mysql.com/26050" target="_top">Bug#26050</a>)</p></li><li><p>
        <code class="literal">X() IS NULL</code> and <code class="literal">Y() IS
        NULL</code> comparisons failed when
        <a href="functions.html#function_x"><code class="literal">X()</code></a> and
        <a href="functions.html#function_y"><code class="literal">Y()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/26038" target="_top">Bug#26038</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> crashed for
        <code class="literal">MERGE</code> tables if the
        <a href="programs.html#option_mysqldump_complete-insert"><code class="option">--complete-insert</code></a>
        (<code class="option">-c</code>) option was given.
       (<a href="http://bugs.mysql.com/25993" target="_top">Bug#25993</a>)</p></li><li><p>
        Indexes on <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns were
        ignored when <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> accesses
        were evaluated.
       (<a href="http://bugs.mysql.com/25971" target="_top">Bug#25971</a>)</p></li><li><p>
        If a thread previously serviced a connection that was killed,
        excessive memory and CPU use by the thread occurred if it later
        serviced a connection that had to wait for a table lock.
       (<a href="http://bugs.mysql.com/25966" target="_top">Bug#25966</a>)</p></li><li><p>
        Setting a column to <code class="literal">NOT NULL</code> with an
        <code class="literal">ON DELETE SET NULL</code> clause foreign key crashes
        the server.
       (<a href="http://bugs.mysql.com/25927" target="_top">Bug#25927</a>)</p></li><li><p>
        <code class="literal">VIEW</code> restrictions were applied to
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements after a
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statement failed, as
        though the <code class="literal">CREATE</code> had succeeded.
       (<a href="http://bugs.mysql.com/25897" target="_top">Bug#25897</a>)</p></li><li><p>
        Several deficiencies in resolution of column names for
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statements were corrected.
       (<a href="http://bugs.mysql.com/25831" target="_top">Bug#25831</a>)</p></li><li><p>
        Inserting <code class="literal">utf8</code> data into a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column that used a
        single-byte character set could result in spurious warnings
        about truncated data.
       (<a href="http://bugs.mysql.com/25815" target="_top">Bug#25815</a>)</p></li><li><p>
        On Windows, debug builds of <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could fail
        with heap assertions.
       (<a href="http://bugs.mysql.com/25765" target="_top">Bug#25765</a>)</p></li><li><p>
        In certain situations, <code class="literal">MATCH ... AGAINST</code>
        returned false hits for <code class="literal">NULL</code> values produced
        by <code class="literal">LEFT JOIN</code> when no full-text index was
        available.
       (<a href="http://bugs.mysql.com/25729" target="_top">Bug#25729</a>)</p></li><li><p>
        In certain cases it could happen that deleting a row corrupted
        an <code class="literal">RTREE</code> index. This affected indexes on
        spatial columns.
       (<a href="http://bugs.mysql.com/25673" target="_top">Bug#25673</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> might fail on
        Windows when it attempts to rename a temporary file to the
        original name if the original file had been opened, resulting in
        loss of the <code class="filename">.MYD</code> file.
       (<a href="http://bugs.mysql.com/25521" target="_top">Bug#25521</a>)</p></li><li><p>
        For <a href="sql-syntax.html#show-engine" title="12.5.5.12. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE
        INNODB STATUS</code></a>, the <code class="literal">LATEST DEADLOCK
        INFORMATION</code> was not always cleared properly.
       (<a href="http://bugs.mysql.com/25494" target="_top">Bug#25494</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> did an
        invalid memory deallocation when used with the embedded server.
       (<a href="http://bugs.mysql.com/25492" target="_top">Bug#25492</a>)</p></li><li><p>
        Expressions involving <a href="functions.html#function_sum"><code class="literal">SUM()</code></a>, when
        used in an <code class="literal">ORDER BY</code> clause, could lead to
        out-of-order results.
       (<a href="http://bugs.mysql.com/25376" target="_top">Bug#25376</a>)</p></li><li><p>
        Use of a <code class="literal">GROUP BY</code> clause that referred to a
        stored function result together with <code class="literal">WITH
        ROLLUP</code> caused incorrect results.
       (<a href="http://bugs.mysql.com/25373" target="_top">Bug#25373</a>)</p></li><li><p>
        A stored procedure that made use of cursors failed when the
        procedure was invoked from a stored function.
       (<a href="http://bugs.mysql.com/25345" target="_top">Bug#25345</a>)</p></li><li><p>
        Difficult repair or optimization operations could cause an
        assertion failure, resulting in a server crash.
       (<a href="http://bugs.mysql.com/25289" target="_top">Bug#25289</a>)</p></li><li><p>
        On Windows, the server exhibited a file-handle leak after
        reaching the limit on the number of open file descriptors.
       (<a href="http://bugs.mysql.com/25222" target="_top">Bug#25222</a>)</p></li><li><p>
        The <a href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a> function did not
        allow a column name as the <em class="replaceable"><code>count</code></em>
        parameter.
       (<a href="http://bugs.mysql.com/25197" target="_top">Bug#25197</a>)</p></li><li><p>
        A reference to a nonexistent column in the <code class="literal">ORDER
        BY</code> clause of an <code class="literal">UPDATE ... ORDER BY</code>
        statement could cause a server crash.
       (<a href="http://bugs.mysql.com/25126" target="_top">Bug#25126</a>)</p></li><li><p>
        A view on a join is insertable for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statements that store
        values into only one table of the join. However, inserts were
        being rejected if the inserted-into table was used in a
        self-join because MySQL incorrectly was considering the insert
        to modify multiple tables of the view.
       (<a href="http://bugs.mysql.com/25122" target="_top">Bug#25122</a>)</p></li><li><p>
        MySQL would not compile when configured using
        <code class="option">--without-query-cache</code>.
       (<a href="http://bugs.mysql.com/25075" target="_top">Bug#25075</a>)</p></li><li><p>
        Duplicate entries were not assessed correctly in a
        <code class="literal">MEMORY</code> table with a <code class="literal">BTREE</code>
        primary key on a <code class="literal">utf8</code>
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column.
       (<a href="http://bugs.mysql.com/24985" target="_top">Bug#24985</a>)</p></li><li><p>
        Selecting the result of <a href="functions.html#function_avg"><code class="literal">AVG()</code></a>
        within a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could produce
        incorrect values.
       (<a href="http://bugs.mysql.com/24791" target="_top">Bug#24791</a>)</p></li><li><p>
        <code class="literal">MBROverlaps()</code> returned incorrect values in
        some cases.
       (<a href="http://bugs.mysql.com/24563" target="_top">Bug#24563</a>)</p></li><li><p>
        Increasing the width of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        column could cause column values to be changed.
       (<a href="http://bugs.mysql.com/24558" target="_top">Bug#24558</a>)</p></li><li><p>
        IF(<em class="replaceable"><code>expr</code></em>,
        <em class="replaceable"><code>unsigned_expr</code></em>,
        <em class="replaceable"><code>unsigned_expr</code></em>) was evaluated to a
        signed result, not unsigned. This has been corrected. The fix
        also affects constructs of the form <code class="literal">IS [NOT]
        {TRUE|FALSE}</code>, which were transformed internally into
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expressions that evaluated
        to a signed result.
      </p><p>
        For existing views that were defined using <code class="literal">IS [NOT]
        {TRUE|FALSE}</code> constructs, there is a related
        implication. The definitions of such views were stored using the
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expression, not the original
        construct. This is manifest in that <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW
        CREATE VIEW</code></a> shows the transformed
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expression, not the original
        one. Existing views will evaluate correctly after the fix, but
        if you want <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> to
        display the original construct, you must drop the view and
        re-create it using its original definition. New views will
        retain the construct in their definition.
       (<a href="http://bugs.mysql.com/24532" target="_top">Bug#24532</a>)</p></li><li><p>
        A problem in handling of aggregate functions in subqueries
        caused predicates containing aggregate functions to be ignored
        during query execution.
       (<a href="http://bugs.mysql.com/24484" target="_top">Bug#24484</a>)</p></li><li><p>
        The test for the
        <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code> option for
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> was performed
        incorrectly. Also changed as a result of this bug fix: The
        <code class="literal">arg</code> option for the
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API function
        was changed from <code class="literal">char *</code> to <code class="literal">void
        *</code>.
       (<a href="http://bugs.mysql.com/24121" target="_top">Bug#24121</a>)</p></li><li><p>
        A user-defined variable could be assigned an incorrect value if
        a temporary table was employed in obtaining the result of the
        query used to determine its value.
       (<a href="http://bugs.mysql.com/24010" target="_top">Bug#24010</a>)</p></li><li><p>
        Queries that used a temporary table for the outer query when
        evaluating a correlated subquery could return incorrect results.
       (<a href="http://bugs.mysql.com/23800" target="_top">Bug#23800</a>)</p></li><li><p>
        On Windows, debug builds of <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> could
        fail with a memory error.
       (<a href="http://bugs.mysql.com/23736" target="_top">Bug#23736</a>)</p></li><li><p>
        When using certain server SQL modes, the
        <code class="literal">mysql.proc</code> table was not created by
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>.
       (<a href="http://bugs.mysql.com/23669" target="_top">Bug#23669</a>)</p></li><li><p>
        The values displayed for the
        <a href="server-administration.html#statvar_Innodb_row_lock_time"><code class="literal">Innodb_row_lock_time</code></a>,
        <a href="server-administration.html#statvar_Innodb_row_lock_time_avg"><code class="literal">Innodb_row_lock_time_avg</code></a>, and
        <a href="server-administration.html#statvar_Innodb_row_lock_time_max"><code class="literal">Innodb_row_lock_time_max</code></a>
        status variables were incorrect.
       (<a href="http://bugs.mysql.com/23666" target="_top">Bug#23666</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> values such as
        <code class="literal">20070202191048.000000</code> were being treated as
        illegal arguments by <a href="functions.html#function_week"><code class="literal">WEEK()</code></a>.
       (<a href="http://bugs.mysql.com/23616" target="_top">Bug#23616</a>)</p></li><li><p>
        The server could crash if two or more threads initiated query
        cache resize operation at moments very close in time.
       (<a href="http://bugs.mysql.com/23527" target="_top">Bug#23527</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> qualified
        references to stored functions in the view definition with the
        function's database name, even when the database was the default
        database. This affected <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> (which uses
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> to dump views)
        because the resulting dump file could not be used to reload the
        database into a different database. <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW
        CREATE VIEW</code></a> now suppresses the database name for
        references to functions in the default database.
       (<a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a>)</p></li><li><p>
        An <code class="literal">INTO OUTFILE</code> clause is allowed only for
        the final <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> of a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>, but this restriction was
        not being enforced correctly.
       (<a href="http://bugs.mysql.com/23345" target="_top">Bug#23345</a>)</p></li><li><p>
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> returned the wrong value in
        statements executed at server startup with the
        <a href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> option.
       (<a href="http://bugs.mysql.com/23240" target="_top">Bug#23240</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_no_auto_value_on_zero"><code class="literal">NO_AUTO_VALUE_ON_ZERO</code></a>
        SQL mode enabled,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> could return 0
        after
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a>. Additionally, the next rows
        inserted (by the same <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>, or
        the following <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> with or
        without <code class="literal">ON DUPLICATE KEY UPDATE</code>), would
        insert 0 for the auto-generated value if the value for the
        <code class="literal">AUTO_INCREMENT</code> column was
        <code class="literal">NULL</code> or missing.
       (<a href="http://bugs.mysql.com/23233" target="_top">Bug#23233</a>)</p></li><li><p>
        <a href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a> returned an invalid
        string for international characters in multi-byte character
        sets.
       (<a href="http://bugs.mysql.com/22638" target="_top">Bug#22638</a>)</p></li><li><p>
        When nesting stored procedures within a trigger on a table, a
        false dependency error was thrown when one of the nested
        procedures contained a <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22580" target="_top">Bug#22580</a>)</p></li><li><p>
        Instance Manager did not remove the angel PID file on a clean
        shutdown.
       (<a href="http://bugs.mysql.com/22511" target="_top">Bug#22511</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> did not show <code class="literal">WHERE</code>
        conditions that were optimized away.
       (<a href="http://bugs.mysql.com/22331" target="_top">Bug#22331</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(<em class="replaceable"><code>decimal_expr</code></em>)</code></a>
        sometimes generated a spurious truncation warning.
       (<a href="http://bugs.mysql.com/21976" target="_top">Bug#21976</a>)</p></li><li><p>
        <code class="literal">IN ((<em class="replaceable"><code>subquery</code></em>))</code>,
        <code class="literal">IN (((<em class="replaceable"><code>subquery</code></em>)))</code>,
        and so forth, are equivalent to <code class="literal">IN
        (<em class="replaceable"><code>subquery</code></em>)</code>, which is always
        interpreted as a table subquery (so that it is allowed to return
        more than one row). MySQL was treating the
        “<span class="quote">over-parenthesized</span>” subquery as a single-row
        subquery and rejecting it if it returned more than one row. This
        bug primarily affected automatically generated code (such as
        queries generated by Hibernate), because humans rarely write the
        over-parenthesized forms.
       (<a href="http://bugs.mysql.com/21904" target="_top">Bug#21904</a>)</p></li><li><p>
        An <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> trigger invoking a
        stored routine that inserted into a table other than the one on
        which the trigger was defined would fail with a <span class="errortext">Table
        '...' doesn't exist</span> referring to the second table
        when attempting to delete records from the first table.
       (<a href="http://bugs.mysql.com/21825" target="_top">Bug#21825</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The first read statement, if served
        from the query cache, was not consistent with the
        <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a> isolation
        level.
       (<a href="http://bugs.mysql.com/21409" target="_top">Bug#21409</a>)</p></li><li><p>
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> is less than
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>, either when comparing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> directly
        (<code class="literal">CURDATE() &lt; NOW()</code> is true) or when
        casting <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> to
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> (<code class="literal">CAST(CURDATE() AS
        DATE) &lt; NOW()</code> is true). However, storing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> in a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column and comparing
        <code class="literal"> <em class="replaceable"><code>col_name</code></em> &lt;
        NOW()</code> incorrectly yielded false. This is fixed by
        comparing a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> column as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> for comparisons to a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> constant.
       (<a href="http://bugs.mysql.com/21103" target="_top">Bug#21103</a>)</p></li><li><p>
        When a stored routine attempted to execute a statement accessing
        a nonexistent table, the error was not caught by the routine's
        exception handler.
       (<a href="http://bugs.mysql.com/20713" target="_top">Bug#20713</a>, <a href="http://bugs.mysql.com/8407" target="_top">Bug#8407</a>)</p></li><li><p>
        For a stored procedure containing a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement that used a
        complicated join with an <code class="literal">ON</code> expression, the
        expression could be ignored during re-execution of the
        procedure, yielding an incorrect result.
       (<a href="http://bugs.mysql.com/20492" target="_top">Bug#20492</a>)</p></li><li><p>
        The conditions checked by the optimizer to allow use of indexes
        in <code class="literal">IN</code> predicate calculations were
        unnecessarily tight and were relaxed.
       (<a href="http://bugs.mysql.com/20420" target="_top">Bug#20420</a>)</p></li><li><p>
        When a <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> expression
        was used as a column in a <code class="literal">GROUP BY</code> clause,
        the expression result was truncated.
       (<a href="http://bugs.mysql.com/20293" target="_top">Bug#20293</a>)</p></li><li><p>
        The creation of MySQL system tables was not checked for by
        <span><strong class="command">mysql-test-run.pl</strong></span>.
       (<a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>)</p></li><li><p>
        For index reads, the <code class="literal">BLACKHOLE</code> engine did not
        return end-of-file (which it must because
        <code class="literal">BLACKHOLE</code> tables contain no rows), causing
        some queries to crash.
       (<a href="http://bugs.mysql.com/19717" target="_top">Bug#19717</a>)</p></li><li><p>
        In some cases, the optimizer preferred a range or full index
        scan access method over lookup access methods when the latter
        were much cheaper.
       (<a href="http://bugs.mysql.com/19372" target="_top">Bug#19372</a>)</p></li><li><p>
        For <code class="literal"><em class="replaceable"><code>expr</code></em>
        IN(<em class="replaceable"><code>value_list</code></em>)</code>, the result
        could be incorrect if <code class="literal">BIGINT UNSIGNED</code> values
        were used for <em class="replaceable"><code>expr</code></em> or in the value
        list.
       (<a href="http://bugs.mysql.com/19342" target="_top">Bug#19342</a>)</p></li><li><p>
        When attempting to call a stored procedure creating a table from
        a trigger on a table <code class="literal">tbl</code> in a database
        <code class="literal">db</code>, the trigger failed with <span class="errortext">ERROR
        1146 (42S02): Table 'db.tbl' doesn't exist</span>. However,
        the actual reason that such a trigger fails is due to the fact
        that <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> causes an
        implicit <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>, and so a trigger
        cannot invoke a stored routine containing this statement. A
        trigger which does so now fails with <span class="errortext">ERROR 1422
        (HY000): Explicit or implicit commit is not allowed in stored
        function or trigger</span>, which makes clear the reason
        for the trigger's failure.
       (<a href="http://bugs.mysql.com/18914" target="_top">Bug#18914</a>)</p></li><li><p>
        The update columns for <code class="literal">INSERT ... SELECT ... ON
        DUPLICATE KEY UPDATE</code> could be assigned incorrect
        values if a temporary table was used to evaluate the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/16630" target="_top">Bug#16630</a>)</p></li><li><p>
        Conversion of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values in
        numeric contexts sometimes did not produce a double
        (<code class="literal">YYYYMMDDHHMMSS.uuuuuu</code>) value.
       (<a href="http://bugs.mysql.com/16546" target="_top">Bug#16546</a>)</p></li><li><p>
        For <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> evaluation using
        a temporary table, when
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> was used on a
        LONGTEXT column, the <code class="literal">max_length</code> metadata
        value of the result was incorrectly calculated and set to 0.
        Consequently, an empty string was returned instead of the
        correct result.
       (<a href="http://bugs.mysql.com/15757" target="_top">Bug#15757</a>)</p></li><li><p>
        Local variables in stored routines or triggers, when declared as
        the <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> type, were interpreted as
        strings.
       (<a href="http://bugs.mysql.com/12976" target="_top">Bug#12976</a>)</p></li><li><p>
        <code class="literal">CONNECTION</code> is no longer treated as a reserved
        word.
       (<a href="http://bugs.mysql.com/12204" target="_top">Bug#12204</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-40"></a>C.1.46. Release Notes for MySQL Enterprise 5.0.40 [MRU] (17 April 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.38).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The behavior of the <span><strong class="command">ndb_restore</strong></span> utility has
        been changed as follows:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              It is now possible to restore selected databases or tables
              using <span><strong class="command">ndb_restore</strong></span>.
            </p></li><li><p>
              Several options have been added for use with
              <span><strong class="command">ndb_restore</strong></span>
              <code class="option">--print_data</code> to facilitate the creation
              of structured data dump files. These options can be used
              to make dumps made using <span><strong class="command">ndb_restore</strong></span>
              more like those produced by <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>.
            </p></li></ul></div><p>
        For details of these changes, see
        <a href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.6.15. ndb_restore — Restore a MySQL Cluster Backup">Section 17.6.15, “<span><strong class="command">ndb_restore</strong></span> — Restore a MySQL Cluster Backup”</a>.
       (<a href="http://bugs.mysql.com/26899" target="_top">Bug#26899</a>, <a href="http://bugs.mysql.com/26900" target="_top">Bug#26900</a>)</p></li><li><p>
        If a set function <em class="replaceable"><code>S</code></em> with an outer
        reference <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>outer_ref</code></em>)</code>
        cannot be aggregated in the outer query against which the outer
        reference has been resolved, MySQL interprets <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>outer_ref</code></em>)</code>
        the same way that it would interpret <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>const</code></em>)</code>.
        However, standard SQL requires throwing an error in this
        situation. An error now is thrown for such queries if the
        <a href="server-administration.html#sqlmode_ansi"><code class="literal">ANSI</code></a> SQL mode is enabled.
       (<a href="http://bugs.mysql.com/27348" target="_top">Bug#27348</a>)</p></li><li><p>
        Added the
        <a href="programs.html#option_mysql_server_service-startup-timeout"><code class="option">--service-startup-timeout</code></a>
        option for <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> to specify how long
        to wait for the server to start. If the server does not start
        within the timeout period, <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> exits
        with an error.
       (<a href="http://bugs.mysql.com/26952" target="_top">Bug#26952</a>)</p></li><li><p>
        Prefix lengths for columns in <code class="literal">SPATIAL</code> indexes
        are no longer displayed in <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> output. <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> uses that
        statement, so if a table with <code class="literal">SPATIAL</code> indexes
        containing prefixed columns is dumped and reloaded, the index is
        created with no prefixes. (The full column width of each column
        is indexed.)
       (<a href="http://bugs.mysql.com/26794" target="_top">Bug#26794</a>)</p></li><li><p>
        The output of <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>
        <a href="programs.html#option_mysql_xml"><code class="option">--xml</code></a> and
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        <a href="programs.html#option_mysqldump_xml"><code class="option">--xml</code></a> now includes a valid XML
        namespace.
       (<a href="http://bugs.mysql.com/25946" target="_top">Bug#25946</a>)</p></li><li><p>
        If you use SSL for a client connection, you can tell the client
        not to authenticate the server certificate by specifying neither
        <a href="server-administration.html#option_general_ssl-ca"><code class="option">--ssl-ca</code></a> nor
        <a href="server-administration.html#option_general_ssl-capath"><code class="option">--ssl-capath</code></a>. The server still
        verifies the client according to any applicable requirements
        established via <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statements
        for the client, and it still uses any
        <a href="server-administration.html#option_general_ssl-ca"><code class="option">--ssl-ca</code></a>/<a href="server-administration.html#option_general_ssl-capath"><code class="option">--ssl-capath</code></a>
        values that were passed to server at startup time.
       (<a href="http://bugs.mysql.com/25309" target="_top">Bug#25309</a>)</p></li><li><p>
        The syntax for index hints has been extended to enable explicit
        specification that the hint applies only to join processing. See
        <a href="sql-syntax.html#index-hints" title="12.2.8.2. Index Hint Syntax">Section 12.2.8.2, “Index Hint Syntax”</a>.
      </p><p>
        This is a new fix for this issue, and replaces the fix made in
        MySQL 5.0.25 and reverted in 5.0.26.
       (<a href="http://bugs.mysql.com/21174" target="_top">Bug#21174</a>)</p></li><li><p>
        The <span><strong class="command">mysql_create_system_tables</strong></span> script was
        removed because <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> no longer
        uses it in MySQL 5.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Note</strong></span>: 
        The parser accepted invalid code in SQL condition handlers,
        leading to server crashes or unexpected execution behavior in
        stored programs. Specifically, the parser allowed a condition
        handler to refer to labels for blocks that enclose the handler
        declaration. This was incorrect because block label scope does
        not include the code for handlers declared within the labeled
        block.
      </p><p>
        The parser now rejects this invalid construct, but if you
        perform a binary upgrade (without dumping and reloading your
        databases), existing handlers that contain the construct are
        still invalid and should be rewritten <span class="emphasis"><em>even if they
        appear to function as you expect.</em></span>
      </p><p>
        To find affected handlers, use <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to
        dump all stored procedures and functions, triggers, and events.
        Then attempt to reload them into an upgraded server. Handlers
        that contain illegal label references will be rejected.
      </p><p>
        For more information about condition handlers and writing them
        to avoid invalid jumps, see <a href="sql-syntax.html#declare-handler" title="12.8.4.2. DECLARE for Handlers">Section 12.8.4.2, “<code class="literal">DECLARE</code> for Handlers”</a>.
       (<a href="http://bugs.mysql.com/26503" target="_top">Bug#26503</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables having
        <code class="literal">MEDIUMINT AUTO_INCREMENT</code> columns were not
        restored correctly by <span><strong class="command">ndb_restore</strong></span>, causing
        spurious duplicate key errors. This issue did not affect
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a>,
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>, or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> columns with
        <code class="literal">AUTO_INCREMENT</code>.
       (<a href="http://bugs.mysql.com/27775" target="_top">Bug#27775</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables with indexes whose names
        contained space characters were not restored correctly by
        <span><strong class="command">ndb_restore</strong></span> (the index names were truncated).
       (<a href="http://bugs.mysql.com/27758" target="_top">Bug#27758</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain rare circumstances performing a
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> on an
        <code class="literal">NDB</code> table could cause a node
        failure or forced cluster shutdown.
       (<a href="http://bugs.mysql.com/27581" target="_top">Bug#27581</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Memory usage of a <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process grew even
        while idle.
       (<a href="http://bugs.mysql.com/27560" target="_top">Bug#27560</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to set
        <code class="literal">LockPagesInMainMemory</code> equal to
        <code class="literal">0</code>.
       (<a href="http://bugs.mysql.com/27291" target="_top">Bug#27291</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could sometimes occur if the node acting as
        master failed while node IDs were still being allocated during
        startup.
       (<a href="http://bugs.mysql.com/27286" target="_top">Bug#27286</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a data node was taking over as the master node, a race
        condition could sometimes occur as the node was assuming
        responsibility for handling of global checkpoints.
       (<a href="http://bugs.mysql.com/27283" target="_top">Bug#27283</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Error messages displayed when running in single user mode were
        inconsistent.
       (<a href="http://bugs.mysql.com/27021" target="_top">Bug#27021</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node while restarting could cause other
        data nodes to hang or crash.
       (<a href="http://bugs.mysql.com/27003" target="_top">Bug#27003</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On Solaris, the value of an <code class="literal">NDB</code>
        table column declared as <code class="literal">BIT(33)</code> was always
        displayed as <code class="literal">0</code>.
       (<a href="http://bugs.mysql.com/26986" target="_top">Bug#26986</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes would sometimes crash under
        high load.
       (<a href="http://bugs.mysql.com/26825" target="_top">Bug#26825</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output from <span><strong class="command">ndb_restore
        <code class="option">--print_data</code></strong></span> was incorrect for a
        backup made of a database containing tables with
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> columns.
       (<a href="http://bugs.mysql.com/26740" target="_top">Bug#26740</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, <code class="literal">AFTER UPDATE</code> and
        <code class="literal">AFTER DELETE</code> triggers on
        <code class="literal">NDB</code> tables that referenced subject
        table did not see the results of operation which caused
        invocation of the trigger, but rather saw the row as it was
        prior to the update or delete operation.
      </p><p>
        This was most noticeable when an update operation used a
        subquery to obtain the rows to be updated. An example would be
        <code class="literal">UPDATE tbl1 SET col2 = val1 WHERE tbl1.col1 IN (SELECT
        col3 FROM tbl2 WHERE c4 = val2)</code> where there was an
        <code class="literal">AFTER UPDATE</code> trigger on table
        <code class="literal">tbl1</code>. In such cases, the trigger would fail
        to execute.
      </p><p>
        The problem occurred because the actual update or delete
        operations were deferred to be able to perform them later as one
        batch. The fix for this bug solves the problem by disabling this
        optimization for a given update or delete if the table has an
        <code class="literal">AFTER</code> trigger defined for this operation.
       (<a href="http://bugs.mysql.com/26242" target="_top">Bug#26242</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Condition pushdown did not work with prepared statements.
       (<a href="http://bugs.mysql.com/26225" target="_top">Bug#26225</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Joins on multiple tables containing
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns could cause data
        nodes run out of memory, and to crash with the error
        <span class="errortext">NdbObjectIdMap::expand unable to expand</span>.
       (<a href="http://bugs.mysql.com/26176" target="_top">Bug#26176</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        After entering single user mode it was not possible to alter
        non-<code class="literal">NDB</code> tables on any SQL nodes
        other than the one having sole access to the cluster.
       (<a href="http://bugs.mysql.com/25275" target="_top">Bug#25275</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a cluster data node suffered a “<span class="quote">hard</span>” failure
        (such as a power failure or loss of a network connection) TCP
        sockets to the missing node were maintained indefinitely. Now
        socket-based transporters check for a response and terminate the
        socket if there is no activity on the socket after 2 hours.
       (<a href="http://bugs.mysql.com/24793" target="_top">Bug#24793</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client command <code class="literal">
        <em class="replaceable"><code>node_id</code></em> STATUS</code> displayed
        the message <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
        not connected</code> when <em class="replaceable"><code>node_id</code></em>
        was not the node ID of a data node.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The <code class="literal">ALL STATUS</code> command in the cluster
          management client still displays status information for data
          nodes only. This is by design. See
          <a href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.7.2. Commands in the MySQL Cluster Management Client">Section 17.7.2, “Commands in the MySQL Cluster Management Client”</a>, for more
          information.
        </p></div><p>(<a href="http://bugs.mysql.com/21715" target="_top">Bug#21715</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some values of <code class="literal">MaxNoOfTables</code> caused the error
        <span class="errortext">Job buffer congestion</span> to occur.
       (<a href="http://bugs.mysql.com/19378" target="_top">Bug#19378</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When trying to create tables on an SQL node not connected to the
        cluster, a misleading error message <span class="errortext">Table
        '<em class="replaceable"><code>tbl_name</code></em>' already exists</span>
        was generated. The error now generated is <span class="errortext">Could not
        connect to storage engine</span>.
       (<a href="http://bugs.mysql.com/11217" target="_top">Bug#11217</a>, <a href="http://bugs.mysql.com/18676" target="_top">Bug#18676</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Out-of-memory errors were not reported. Now they are written to
        the error log.
       (<a href="http://bugs.mysql.com/26844" target="_top">Bug#26844</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Improved out-of-memory detection when sending logs from a master
        server to slaves, and log a message when allocation fails.
       (<a href="http://bugs.mysql.com/26837" target="_top">Bug#26837</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> was called multiple
        times inside a stored procedure, the server did not write the
        correct random seed values to the binary log, resulting in
        incorrect replication.
       (<a href="http://bugs.mysql.com/25543" target="_top">Bug#25543</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statements were not
        replicated if the server was started with the
        <a href="replication.html#option_mysqld_replicate-ignore-table"><code class="option">--replicate-ignore-table</code></a> or
        <a href="replication.html#option_mysqld_replicate-wild-ignore-table"><code class="option">--replicate-wild-ignore-table</code></a>
        option.
       (<a href="http://bugs.mysql.com/25482" target="_top">Bug#25482</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication between master and slave would infinitely retry
        binary log transmission where the
        <code class="option">max_allowed_packet</code> on the master was larger
        than that on the slave if the size of the transfer was between
        these two values.
       (<a href="http://bugs.mysql.com/23775" target="_top">Bug#23775</a>)</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: 
        Some queries that updated multiple tables were not backed up
        correctly.
       (<a href="http://bugs.mysql.com/27748" target="_top">Bug#27748</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Using <code class="literal">NdbBlob::writeData()</code> to write data in
        the middle of an existing blob value (that is, updating the
        value) could overwrite some data past the end of the data to be
        changed.
       (<a href="http://bugs.mysql.com/27018" target="_top">Bug#27018</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        After defining a delete operation (using
        <code class="literal">NdbOperation::deleteTuple()</code>) on a nonexistent
        primary key of a table having a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column, invoking
        <code class="literal">NdbTransaction::execute()</code> caused the calling
        application to enter an endless loop rather than raising an
        error.
      </p><p>
        This issue also affected <span><strong class="command">ndb_restore</strong></span>; when
        restoring tables containing <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        or <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns, this could cause
        it to consume all available memory and then crash.
       (<a href="http://bugs.mysql.com/24028" target="_top">Bug#24028</a>)</p><p>See also <a href="http://bugs.mysql.com/27308" target="_top">Bug#27308</a>, <a href="http://bugs.mysql.com/30177" target="_top">Bug#30177</a>.</p></li><li><p>
        Some equi-joins containing a <code class="literal">WHERE</code> clause
        that included a <code class="literal">NOT IN</code> subquery caused a
        server crash.
       (<a href="http://bugs.mysql.com/27870" target="_top">Bug#27870</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> could return incorrect results if the select
        list contained duplicated columns.
       (<a href="http://bugs.mysql.com/27659" target="_top">Bug#27659</a>)</p></li><li><p>
        With <a href="server-administration.html#sqlmode_no_auto_value_on_zero"><code class="literal">NO_AUTO_VALUE_ON_ZERO</code></a> SQL
        mode enabled, <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a>
        operations could assign incorrect
        <code class="literal">AUTO_INCREMENT</code> values.
       (<a href="http://bugs.mysql.com/27586" target="_top">Bug#27586</a>)</p></li><li><p>
        Incorrect results could be returned for some queries that
        contained a select list expression with <code class="literal">IN</code> or
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> together with an
        <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code> on
        the same expression using <code class="literal">NOT IN</code> or
        <code class="literal">NOT BETWEEN</code>.
       (<a href="http://bugs.mysql.com/27532" target="_top">Bug#27532</a>)</p></li><li><p>
        Evaluation of an <code class="literal">IN()</code> predicate containing a
        decimal-valued argument caused a server crash.
       (<a href="http://bugs.mysql.com/27513" target="_top">Bug#27513</a>, <a href="http://bugs.mysql.com/27362" target="_top">Bug#27362</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2583" target="_top">CVE-2007-2583</a>)</p></li><li><p>
        In out-of-memory conditions, the server might crash or otherwise
        not report an error to the Windows event log.
       (<a href="http://bugs.mysql.com/27490" target="_top">Bug#27490</a>)</p></li><li><p>
        Passing nested row expressions with different structures to an
        <code class="literal">IN</code> predicate caused a server crash.
       (<a href="http://bugs.mysql.com/27484" target="_top">Bug#27484</a>)</p></li><li><p>
        The <code class="filename">decimal.h</code> header file was incorrectly
        omitted from binary distributions.
       (<a href="http://bugs.mysql.com/27456" target="_top">Bug#27456</a>)</p></li><li><p>
        With <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
        enabled, attempting to rename an <code class="literal">InnoDB</code> table
        to a nonexistent database caused the server to exit.
       (<a href="http://bugs.mysql.com/27381" target="_top">Bug#27381</a>)</p></li><li><p>
        A subquery could get incorrect values for references to outer
        query columns when it contained aggregate functions that were
        aggregated in outer context.
       (<a href="http://bugs.mysql.com/27321" target="_top">Bug#27321</a>)</p></li><li><p>
        The server did not shut down cleanly.
       (<a href="http://bugs.mysql.com/27310" target="_top">Bug#27310</a>)</p></li><li><p>
        In a view, a column that was defined using a
        <code class="literal">GEOMETRY</code> function was treated as having the
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> data type rather than
        the <code class="literal">GEOMETRY</code> type.
       (<a href="http://bugs.mysql.com/27300" target="_top">Bug#27300</a>)</p></li><li><p>
        Queries containing subqueries with
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> aggregated in an outer
        context returned incorrect results. This happened only if the
        subquery did not contain any references to outer columns.
       (<a href="http://bugs.mysql.com/27257" target="_top">Bug#27257</a>)</p></li><li><p>
        Use of an aggregate function from an outer context as an
        argument to <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> caused
        a server crash.
       (<a href="http://bugs.mysql.com/27229" target="_top">Bug#27229</a>)</p></li><li><p>
        String truncation upon insertion into an integer or year column
        did not generate a warning (or an error in strict mode).
       (<a href="http://bugs.mysql.com/27176" target="_top">Bug#27176</a>, <a href="http://bugs.mysql.com/26359" target="_top">Bug#26359</a>)</p></li><li><p>
        Storing <code class="literal">NULL</code> values in spatial fields caused
        excessive memory allocation and crashes on some systems.
       (<a href="http://bugs.mysql.com/27164" target="_top">Bug#27164</a>)</p></li><li><p>
        Row equalities in <code class="literal">WHERE</code> clauses could cause
        memory corruption.
       (<a href="http://bugs.mysql.com/27154" target="_top">Bug#27154</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on a <code class="literal">ucs2</code> column
        caused a server crash when there was at least one empty string
        in the column.
       (<a href="http://bugs.mysql.com/27079" target="_top">Bug#27079</a>)</p></li><li><p>
        Duplicate members in <code class="literal">SET</code> or
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> definitions were not
        detected. Now they result in a warning; if strict SQL mode is
        enabled, an error occurs instead.
       (<a href="http://bugs.mysql.com/27069" target="_top">Bug#27069</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statements on tables
        containing <code class="literal">AUTO_INCREMENT</code> columns,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was reset to 0
        if no rows were successfully inserted or changed. “<span class="quote">Not
        changed</span>” includes the case where a row was updated to its
        current values, but in that case,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> should not be
        reset to 0. Now <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
        is reset to 0 only if no rows were successfully inserted or
        touched, whether or not touched rows were changed.
       (<a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>)</p><p>See also <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>, <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>.</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could terminate with an
        error after failing to determine that a system table already
        existed.
       (<a href="http://bugs.mysql.com/27022" target="_top">Bug#27022</a>)</p></li><li><p>
        In a <code class="literal">MEMORY</code> table, using a
        <code class="literal">BTREE</code> index to scan for updatable rows could
        lead to an infinite loop.
       (<a href="http://bugs.mysql.com/26996" target="_top">Bug#26996</a>)</p></li><li><p>
        Invalid optimization of pushdown conditions for queries where an
        outer join was guaranteed to read only one row from the outer
        table led to results with too few rows.
       (<a href="http://bugs.mysql.com/26963" target="_top">Bug#26963</a>)</p></li><li><p>
        Windows binaries contained no debug symbol file. Now
        <code class="filename">.map</code> and <code class="literal">.pdb</code> files are
        included in 32-bit builds for <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-nt.exe</strong></span></a>,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug.exe</strong></span></a>, and
        <span><strong class="command">mysqlmanager.exe</strong></span>.
       (<a href="http://bugs.mysql.com/26893" target="_top">Bug#26893</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables having a clustered index
        that began with a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> or
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column, deleting a record
        and then inserting another before the deleted record was purged
        could result in table corruption.
       (<a href="http://bugs.mysql.com/26835" target="_top">Bug#26835</a>)</p></li><li><p>
        Duplicates were not properly identified among (potentially) long
        strings used as arguments for
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT)</code></a>.
       (<a href="http://bugs.mysql.com/26815" target="_top">Bug#26815</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> requires the
        <a href="server-administration.html#priv_create-view"><code class="literal">CREATE VIEW</code></a> and
        <a href="server-administration.html#priv_drop"><code class="literal">DROP</code></a> privileges for the view.
        However, if the view was created by another user, the server
        erroneously required the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a>
        privilege.
       (<a href="http://bugs.mysql.com/26813" target="_top">Bug#26813</a>)</p></li><li><p>
        A result set column formed by concatention of string literals
        was incomplete when the column was produced by a subquery in the
        <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/26738" target="_top">Bug#26738</a>)</p></li><li><p>
        When using the result of
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> for time value
        greater than 24 hours in an <code class="literal">ORDER BY</code> clause,
        either directly or through a column alias, the rows were sorted
        incorrectly as strings.
       (<a href="http://bugs.mysql.com/26672" target="_top">Bug#26672</a>)</p></li><li><p>
        The range optimizer could cause the server to run out of memory.
       (<a href="http://bugs.mysql.com/26625" target="_top">Bug#26625</a>)</p></li><li><p>
        The range optimizer could consume a combinatorial amount of
        memory for certain classes of <code class="literal">WHERE</code> clauses.
       (<a href="http://bugs.mysql.com/26624" target="_top">Bug#26624</a>)</p></li><li><p>
        <code class="literal">mysqldump</code> could crash or exhibit incorrect
        behavior when some options were given very long values, such as
        <code class="option">--fields-terminated-by="<em class="replaceable"><code>some very long
        string</code></em>"</code>. The code has been cleaned up to
        remove a number of fixed-sized buffers and to be more careful
        about error conditions in memory allocation.
       (<a href="http://bugs.mysql.com/26346" target="_top">Bug#26346</a>)</p></li><li><p>
        If the server was started with
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>, Selecting
        from <code class="literal">INFORMATION_SCHEMA</code> tables causes a
        server crash.
       (<a href="http://bugs.mysql.com/26285" target="_top">Bug#26285</a>)</p></li><li><p>
        For an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement that
        should fail due to a column with no default value not being
        assigned a value, the statement succeeded with no error if the
        column was assigned a value in an <code class="literal">ON DUPLICATE KEY
        UPDATE</code> clause, even if that clause was not used.
       (<a href="http://bugs.mysql.com/26261" target="_top">Bug#26261</a>)</p></li><li><p>
        The temporary file-creation code was cleaned up on Windows to
        improve server stability.
       (<a href="http://bugs.mysql.com/26233" target="_top">Bug#26233</a>)</p></li><li><p>
        For <code class="literal">MyISAM</code> tables,
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> could return an
        incorrect value if the <code class="literal">WHERE</code> clause compared
        an indexed <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column to the
        empty string (<code class="literal">''</code>). This happened if the
        column contained empty strings and also strings starting with
        control characters such as tab or newline.
       (<a href="http://bugs.mysql.com/26231" target="_top">Bug#26231</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO
        ... SELECT</code></a> where index searches used column prefixes,
        insert errors could occur when key value type conversion was
        done.
       (<a href="http://bugs.mysql.com/26207" target="_top">Bug#26207</a>)</p></li><li><p>
        For <code class="literal">DELETE FROM <code class="literal">tbl_name</code> ORDER BY
        <em class="replaceable"><code>col_name</code></em></code> (with no
        <code class="literal">WHERE</code> or <code class="literal">LIMIT</code> clause),
        the server did not check whether
        <em class="replaceable"><code>col_name</code></em> was a valid column in the
        table.
       (<a href="http://bugs.mysql.com/26186" target="_top">Bug#26186</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLE ... USE_FRM</code> with an
        <code class="literal">ARCHIVE</code> table deleted all records from the
        table.
       (<a href="http://bugs.mysql.com/26138" target="_top">Bug#26138</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> crashed for
        <code class="literal">MERGE</code> tables if the
        <a href="programs.html#option_mysqldump_complete-insert"><code class="option">--complete-insert</code></a>
        (<code class="option">-c</code>) option was given.
       (<a href="http://bugs.mysql.com/25993" target="_top">Bug#25993</a>)</p></li><li><p>
        Setting a column to <code class="literal">NOT NULL</code> with an
        <code class="literal">ON DELETE SET NULL</code> clause foreign key crashes
        the server.
       (<a href="http://bugs.mysql.com/25927" target="_top">Bug#25927</a>)</p></li><li><p>
        On Windows, debug builds of <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could fail
        with heap assertions.
       (<a href="http://bugs.mysql.com/25765" target="_top">Bug#25765</a>)</p></li><li><p>
        In certain situations, <code class="literal">MATCH ... AGAINST</code>
        returned false hits for <code class="literal">NULL</code> values produced
        by <code class="literal">LEFT JOIN</code> when no full-text index was
        available.
       (<a href="http://bugs.mysql.com/25729" target="_top">Bug#25729</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> might fail on
        Windows when it attempts to rename a temporary file to the
        original name if the original file had been opened, resulting in
        loss of the <code class="filename">.MYD</code> file.
       (<a href="http://bugs.mysql.com/25521" target="_top">Bug#25521</a>)</p></li><li><p>
        For <a href="sql-syntax.html#show-engine" title="12.5.5.12. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE
        INNODB STATUS</code></a>, the <code class="literal">LATEST DEADLOCK
        INFORMATION</code> was not always cleared properly.
       (<a href="http://bugs.mysql.com/25494" target="_top">Bug#25494</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> did an
        invalid memory deallocation when used with the embedded server.
       (<a href="http://bugs.mysql.com/25492" target="_top">Bug#25492</a>)</p></li><li><p>
        Difficult repair or optimization operations could cause an
        assertion failure, resulting in a server crash.
       (<a href="http://bugs.mysql.com/25289" target="_top">Bug#25289</a>)</p></li><li><p>
        Duplicate entries were not assessed correctly in a
        <code class="literal">MEMORY</code> table with a <code class="literal">BTREE</code>
        primary key on a <code class="literal">utf8</code>
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column.
       (<a href="http://bugs.mysql.com/24985" target="_top">Bug#24985</a>)</p></li><li><p>
        Selecting the result of <a href="functions.html#function_avg"><code class="literal">AVG()</code></a>
        within a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> could produce
        incorrect values.
       (<a href="http://bugs.mysql.com/24791" target="_top">Bug#24791</a>)</p></li><li><p>
        <code class="literal">MBROverlaps()</code> returned incorrect values in
        some cases.
       (<a href="http://bugs.mysql.com/24563" target="_top">Bug#24563</a>)</p></li><li><p>
        Increasing the width of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        column could cause column values to be changed.
       (<a href="http://bugs.mysql.com/24558" target="_top">Bug#24558</a>)</p></li><li><p>
        A problem in handling of aggregate functions in subqueries
        caused predicates containing aggregate functions to be ignored
        during query execution.
       (<a href="http://bugs.mysql.com/24484" target="_top">Bug#24484</a>)</p></li><li><p>
        The test for the
        <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code> option for
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> was performed
        incorrectly. Also changed as a result of this bug fix: The
        <code class="literal">arg</code> option for the
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API function
        was changed from <code class="literal">char *</code> to <code class="literal">void
        *</code>.
       (<a href="http://bugs.mysql.com/24121" target="_top">Bug#24121</a>)</p></li><li><p>
        On Windows, debug builds of <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> could
        fail with a memory error.
       (<a href="http://bugs.mysql.com/23736" target="_top">Bug#23736</a>)</p></li><li><p>
        The values displayed for the
        <a href="server-administration.html#statvar_Innodb_row_lock_time"><code class="literal">Innodb_row_lock_time</code></a>,
        <a href="server-administration.html#statvar_Innodb_row_lock_time_avg"><code class="literal">Innodb_row_lock_time_avg</code></a>, and
        <a href="server-administration.html#statvar_Innodb_row_lock_time_max"><code class="literal">Innodb_row_lock_time_max</code></a>
        status variables were incorrect.
       (<a href="http://bugs.mysql.com/23666" target="_top">Bug#23666</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> qualified
        references to stored functions in the view definition with the
        function's database name, even when the database was the default
        database. This affected <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> (which uses
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> to dump views)
        because the resulting dump file could not be used to reload the
        database into a different database. <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW
        CREATE VIEW</code></a> now suppresses the database name for
        references to functions in the default database.
       (<a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a>)</p></li><li><p>
        An <code class="literal">INTO OUTFILE</code> clause is allowed only for
        the final <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> of a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>, but this restriction was
        not being enforced correctly.
       (<a href="http://bugs.mysql.com/23345" target="_top">Bug#23345</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_no_auto_value_on_zero"><code class="literal">NO_AUTO_VALUE_ON_ZERO</code></a>
        SQL mode enabled,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> could return 0
        after
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a>. Additionally, the next rows
        inserted (by the same <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>, or
        the following <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> with or
        without <code class="literal">ON DUPLICATE KEY UPDATE</code>), would
        insert 0 for the auto-generated value if the value for the
        <code class="literal">AUTO_INCREMENT</code> column was
        <code class="literal">NULL</code> or missing.
       (<a href="http://bugs.mysql.com/23233" target="_top">Bug#23233</a>)</p></li><li><p>
        <a href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a> returned an invalid
        string for international characters in multi-byte character
        sets.
       (<a href="http://bugs.mysql.com/22638" target="_top">Bug#22638</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(<em class="replaceable"><code>decimal_expr</code></em>)</code></a>
        sometimes generated a spurious truncation warning.
       (<a href="http://bugs.mysql.com/21976" target="_top">Bug#21976</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The first read statement, if served
        from the query cache, was not consistent with the
        <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a> isolation
        level.
       (<a href="http://bugs.mysql.com/21409" target="_top">Bug#21409</a>)</p></li><li><p>
        For a stored procedure containing a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement that used a
        complicated join with an <code class="literal">ON</code> expression, the
        expression could be ignored during re-execution of the
        procedure, yielding an incorrect result.
       (<a href="http://bugs.mysql.com/20492" target="_top">Bug#20492</a>)</p></li><li><p>
        In some cases, the optimizer preferred a range or full index
        scan access method over lookup access methods when the latter
        were much cheaper.
       (<a href="http://bugs.mysql.com/19372" target="_top">Bug#19372</a>)</p></li><li><p>
        Conversion of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values in
        numeric contexts sometimes did not produce a double
        (<code class="literal">YYYYMMDDHHMMSS.uuuuuu</code>) value.
       (<a href="http://bugs.mysql.com/16546" target="_top">Bug#16546</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-38"></a>C.1.47. Release Notes for MySQL Enterprise 5.0.38 [MRU] (20 March 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.36).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The server now includes a timestamp in error messages that are
        logged as a result of unhandled signals (such as <code class="literal">mysqld
        got signal 11</code> messages).
       (<a href="http://bugs.mysql.com/24878" target="_top">Bug#24878</a>)</p></li><li><p>
        Added the <a href="server-administration.html#option_mysqld_secure-file-priv"><code class="option">--secure-file-priv</code></a>
        option for <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, which limits the effect of
        the <a href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> function and the
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> statements to work only with files in a given
        directory.
       (<a href="http://bugs.mysql.com/18628" target="_top">Bug#18628</a>)</p></li><li><p>
        Added the read-only <a href="server-administration.html#sysvar_hostname"><code class="literal">hostname</code></a>
        system variable, which the server sets at startup to the server
        host name.
      </p></li><li><p>
        To satisfy different user requirements, we provide several
        servers. <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is an optimized server that
        is a smaller, faster binary. Each package now also includes
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug</strong></span></a>, which is compiled with
        debugging support but is otherwise configured identically to the
        nondebug server.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements are not
        supported for <code class="literal">MERGE</code> tables, but the
        <code class="literal">MERGE</code> storage engine was not rejecting such
        statements, resulting in table corruption. Applications
        previously using <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a>
        into <code class="literal">MERGE</code> table will break when upgrading to
        versions with this fix. To avoid the problem, remove
        <code class="literal">DELAYED</code> from such statements.
       (<a href="http://bugs.mysql.com/26464" target="_top">Bug#26464</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An inadvertent use of unaligned data caused
        <span><strong class="command">ndb_restore</strong></span> to fail on some 64-bit platforms,
        including Sparc and Itanium-2.
       (<a href="http://bugs.mysql.com/26739" target="_top">Bug#26739</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An infinite loop in an internal logging function could cause
        trace logs to fill up with <span class="errortext">Unknown Signal
        type</span> error messages and thus grow to unreasonable
        sizes.
       (<a href="http://bugs.mysql.com/26720" target="_top">Bug#26720</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An invalid pointer was returned following a
        <code class="literal">FSCLOSECONF</code> signal when accessing the REDO
        logs during a node restart or system restart.
       (<a href="http://bugs.mysql.com/26515" target="_top">Bug#26515</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node when restarting it with
        <code class="option">--initial</code> could lead to failures of subsequent
        data node restarts.
       (<a href="http://bugs.mysql.com/26481" target="_top">Bug#26481</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Takeover for local checkpointing due to multiple failures of
        master nodes was sometimes incorrectly handled.
       (<a href="http://bugs.mysql.com/26457" target="_top">Bug#26457</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">LockPagesInMainMemory</code> parameter was not
        read until after distributed communication had already started
        between cluster nodes. When the value of this parameter was
        <code class="literal">1</code>, this could sometimes result in data node
        failure due to missed heartbeats.
       (<a href="http://bugs.mysql.com/26454" target="_top">Bug#26454</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, following the restart of a management
        node, all data nodes would connect to it normally, but some of
        them subsequently failed to log any events to the management
        node.
       (<a href="http://bugs.mysql.com/26293" target="_top">Bug#26293</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The message <span class="errortext">Error 0 in readAutoIncrementValue(): no
        Error</span> was written to the error log whenever
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> was performed
        on a Cluster table that did not have an
        <code class="literal">AUTO_INCREMENT</code> column.
       (<a href="http://bugs.mysql.com/21033" target="_top">Bug#21033</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A multiple-row delayed insert with an auto-increment column
        could cause duplicate entries to be created on the slave in a
        replication environment.
       (<a href="http://bugs.mysql.com/26116" target="_top">Bug#26116</a>, <a href="http://bugs.mysql.com/25507" target="_top">Bug#25507</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Duplicating the usage of a user variable in a stored procedure
        or trigger would not be replicated correctly to the slave.
       (<a href="http://bugs.mysql.com/25167" target="_top">Bug#25167</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> statements would not
        be filtered on the slave when using the
        <code class="literal">replication-wild-do-table</code> option.
       (<a href="http://bugs.mysql.com/24478" target="_top">Bug#24478</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statements where some
        <code class="literal">AUTO_INCREMENT</code> values were generated
        automatically for inserts and some rows were updated, one
        auto-generated value was lost per updated row, leading to faster
        exhaustion of the range of the <code class="literal">AUTO_INCREMENT</code>
        column.
      </p><p>
        Because the original problem can affect replication (different
        values on master and slave), it is recommended that the master
        and its slaves be upgraded to the current version.
       (<a href="http://bugs.mysql.com/24432" target="_top">Bug#24432</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Loading data using
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> may not replicate correctly (due to character
        set incompatibilities) if the
        <a href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a> variable
        is set before the data is loaded.
       (<a href="http://bugs.mysql.com/15126" target="_top">Bug#15126</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        User defined variables used within stored procedures and
        triggers are not replicated correctly when operating in
        statement-based replication mode.
       (<a href="http://bugs.mysql.com/14914" target="_top">Bug#14914</a>, <a href="http://bugs.mysql.com/20141" target="_top">Bug#20141</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> with a long <code class="literal">FIELDS ENCLOSED
        BY</code> value could crash the server.
       (<a href="http://bugs.mysql.com/27231" target="_top">Bug#27231</a>)</p></li><li><p>
        An <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> statement might modify
        values in a table but not flush affected data from the query
        cache, causing subsequent selects to return stale results. This
        made the combination of query cache plus <code class="literal">ON DUPLICATE
        KEY UPDATE</code> very unreliable.
       (<a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>)</p><p>See also <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>, <a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>.</p></li><li><p>
        For <code class="literal">MERGE</code> tables defined on underlying tables
        that contained a short <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        column (shorter than four characters), using
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> on at least one but
        not all of the underlying tables caused the table definitions to
        be considered different from that of the
        <code class="literal">MERGE</code> table, even if the
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> did not change the
        definition.
       (<a href="http://bugs.mysql.com/26881" target="_top">Bug#26881</a>)</p></li><li><p>
        Use of a subquery containing <code class="literal">GROUP BY</code> and
        <code class="literal">WITH ROLLUP</code> caused a server crash.
       (<a href="http://bugs.mysql.com/26830" target="_top">Bug#26830</a>)</p></li><li><p>
        Added support for <code class="option">--debugger=dbx</code> for
        <span><strong class="command">mysql-test-run.pl</strong></span> and added support for
        <code class="option">--debugger=devenv</code>,
        <code class="option">--debugger=DevEnv</code>, and
        <code class="option">--debugger=<em class="replaceable"><code>/path/to</code></em>/devenv</code>.
       (<a href="http://bugs.mysql.com/26792" target="_top">Bug#26792</a>)</p></li><li><p>
        SSL connections failed on Windows.
       (<a href="http://bugs.mysql.com/26678" target="_top">Bug#26678</a>)</p></li><li><p>
        Use of a subquery containing a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> with an invalid
        <code class="literal">ORDER BY</code> clause caused a server crash.
       (<a href="http://bugs.mysql.com/26661" target="_top">Bug#26661</a>)</p></li><li><p>
        In some error messages, inconsistent format specifiers were used
        for the translations in different languages.
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> (the error message compiler) now
        checks for mismatches.
       (<a href="http://bugs.mysql.com/26571" target="_top">Bug#26571</a>)</p></li><li><p>
        Views that used a scalar correlated subquery returned incorrect
        results.
       (<a href="http://bugs.mysql.com/26560" target="_top">Bug#26560</a>)</p></li><li><p>
        <code class="literal">UNHEX() IS NULL</code> comparisons failed when
        <a href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/26537" target="_top">Bug#26537</a>)</p></li><li><p>
        On 64-bit Windows, large timestamp values could be handled
        incorrectly.
       (<a href="http://bugs.mysql.com/26536" target="_top">Bug#26536</a>)</p></li><li><p>
        For some values of the position argument, the
        <a href="functions.html#function_insert"><code class="literal">INSERT()</code></a> function could insert a
        NUL byte into the result.
       (<a href="http://bugs.mysql.com/26281" target="_top">Bug#26281</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statements
        inserted incorrect values into
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/26238" target="_top">Bug#26238</a>)</p></li><li><p>
        <a href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> did not work
        correctly for expressions that produced a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> result.
       (<a href="http://bugs.mysql.com/26093" target="_top">Bug#26093</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> sent an okay to the client before writing the
        binary log and committing the changes to the table had finished,
        thus violating ACID requirements.
       (<a href="http://bugs.mysql.com/26050" target="_top">Bug#26050</a>)</p></li><li><p>
        <code class="literal">X() IS NULL</code> and <code class="literal">Y() IS
        NULL</code> comparisons failed when
        <a href="functions.html#function_x"><code class="literal">X()</code></a> and
        <a href="functions.html#function_y"><code class="literal">Y()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/26038" target="_top">Bug#26038</a>)</p></li><li><p>
        Indexes on <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns were
        ignored when <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> accesses
        were evaluated.
       (<a href="http://bugs.mysql.com/25971" target="_top">Bug#25971</a>)</p></li><li><p>
        If a thread previously serviced a connection that was killed,
        excessive memory and CPU use by the thread occurred if it later
        serviced a connection that had to wait for a table lock.
       (<a href="http://bugs.mysql.com/25966" target="_top">Bug#25966</a>)</p></li><li><p>
        <code class="literal">VIEW</code> restrictions were applied to
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements after a
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statement failed, as
        though the <code class="literal">CREATE</code> had succeeded.
       (<a href="http://bugs.mysql.com/25897" target="_top">Bug#25897</a>)</p></li><li><p>
        Several deficiencies in resolution of column names for
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statements were corrected.
       (<a href="http://bugs.mysql.com/25831" target="_top">Bug#25831</a>)</p></li><li><p>
        Inserting <code class="literal">utf8</code> data into a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column that used a
        single-byte character set could result in spurious warnings
        about truncated data.
       (<a href="http://bugs.mysql.com/25815" target="_top">Bug#25815</a>)</p></li><li><p>
        In certain cases it could happen that deleting a row corrupted
        an <code class="literal">RTREE</code> index. This affected indexes on
        spatial columns.
       (<a href="http://bugs.mysql.com/25673" target="_top">Bug#25673</a>)</p></li><li><p>
        Expressions involving <a href="functions.html#function_sum"><code class="literal">SUM()</code></a>, when
        used in an <code class="literal">ORDER BY</code> clause, could lead to
        out-of-order results.
       (<a href="http://bugs.mysql.com/25376" target="_top">Bug#25376</a>)</p></li><li><p>
        Use of a <code class="literal">GROUP BY</code> clause that referred to a
        stored function result together with <code class="literal">WITH
        ROLLUP</code> caused incorrect results.
       (<a href="http://bugs.mysql.com/25373" target="_top">Bug#25373</a>)</p></li><li><p>
        A stored procedure that made use of cursors failed when the
        procedure was invoked from a stored function.
       (<a href="http://bugs.mysql.com/25345" target="_top">Bug#25345</a>)</p></li><li><p>
        On Windows, the server exhibited a file-handle leak after
        reaching the limit on the number of open file descriptors.
       (<a href="http://bugs.mysql.com/25222" target="_top">Bug#25222</a>)</p></li><li><p>
        The <a href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a> function did not
        allow a column name as the <em class="replaceable"><code>count</code></em>
        parameter.
       (<a href="http://bugs.mysql.com/25197" target="_top">Bug#25197</a>)</p></li><li><p>
        A reference to a nonexistent column in the <code class="literal">ORDER
        BY</code> clause of an <code class="literal">UPDATE ... ORDER BY</code>
        statement could cause a server crash.
       (<a href="http://bugs.mysql.com/25126" target="_top">Bug#25126</a>)</p></li><li><p>
        A view on a join is insertable for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statements that store
        values into only one table of the join. However, inserts were
        being rejected if the inserted-into table was used in a
        self-join because MySQL incorrectly was considering the insert
        to modify multiple tables of the view.
       (<a href="http://bugs.mysql.com/25122" target="_top">Bug#25122</a>)</p></li><li><p>
        MySQL would not compile when configured using
        <code class="option">--without-query-cache</code>.
       (<a href="http://bugs.mysql.com/25075" target="_top">Bug#25075</a>)</p></li><li><p>
        IF(<em class="replaceable"><code>expr</code></em>,
        <em class="replaceable"><code>unsigned_expr</code></em>,
        <em class="replaceable"><code>unsigned_expr</code></em>) was evaluated to a
        signed result, not unsigned. This has been corrected. The fix
        also affects constructs of the form <code class="literal">IS [NOT]
        {TRUE|FALSE}</code>, which were transformed internally into
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expressions that evaluated
        to a signed result.
      </p><p>
        For existing views that were defined using <code class="literal">IS [NOT]
        {TRUE|FALSE}</code> constructs, there is a related
        implication. The definitions of such views were stored using the
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expression, not the original
        construct. This is manifest in that <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW
        CREATE VIEW</code></a> shows the transformed
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expression, not the original
        one. Existing views will evaluate correctly after the fix, but
        if you want <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> to
        display the original construct, you must drop the view and
        re-create it using its original definition. New views will
        retain the construct in their definition.
       (<a href="http://bugs.mysql.com/24532" target="_top">Bug#24532</a>)</p></li><li><p>
        A user-defined variable could be assigned an incorrect value if
        a temporary table was employed in obtaining the result of the
        query used to determine its value.
       (<a href="http://bugs.mysql.com/24010" target="_top">Bug#24010</a>)</p></li><li><p>
        Queries that used a temporary table for the outer query when
        evaluating a correlated subquery could return incorrect results.
       (<a href="http://bugs.mysql.com/23800" target="_top">Bug#23800</a>)</p></li><li><p>
        When using certain server SQL modes, the
        <code class="literal">mysql.proc</code> table was not created by
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>.
       (<a href="http://bugs.mysql.com/23669" target="_top">Bug#23669</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> values such as
        <code class="literal">20070202191048.000000</code> were being treated as
        illegal arguments by <a href="functions.html#function_week"><code class="literal">WEEK()</code></a>.
       (<a href="http://bugs.mysql.com/23616" target="_top">Bug#23616</a>)</p></li><li><p>
        The server could crash if two or more threads initiated query
        cache resize operation at moments very close in time.
       (<a href="http://bugs.mysql.com/23527" target="_top">Bug#23527</a>)</p></li><li><p>
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> returned the wrong value in
        statements executed at server startup with the
        <a href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> option.
       (<a href="http://bugs.mysql.com/23240" target="_top">Bug#23240</a>)</p></li><li><p>
        When nesting stored procedures within a trigger on a table, a
        false dependency error was thrown when one of the nested
        procedures contained a <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22580" target="_top">Bug#22580</a>)</p></li><li><p>
        Instance Manager did not remove the angel PID file on a clean
        shutdown.
       (<a href="http://bugs.mysql.com/22511" target="_top">Bug#22511</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> did not show <code class="literal">WHERE</code>
        conditions that were optimized away.
       (<a href="http://bugs.mysql.com/22331" target="_top">Bug#22331</a>)</p></li><li><p>
        <code class="literal">IN ((<em class="replaceable"><code>subquery</code></em>))</code>,
        <code class="literal">IN (((<em class="replaceable"><code>subquery</code></em>)))</code>,
        and so forth, are equivalent to <code class="literal">IN
        (<em class="replaceable"><code>subquery</code></em>)</code>, which is always
        interpreted as a table subquery (so that it is allowed to return
        more than one row). MySQL was treating the
        “<span class="quote">over-parenthesized</span>” subquery as a single-row
        subquery and rejecting it if it returned more than one row. This
        bug primarily affected automatically generated code (such as
        queries generated by Hibernate), because humans rarely write the
        over-parenthesized forms.
       (<a href="http://bugs.mysql.com/21904" target="_top">Bug#21904</a>)</p></li><li><p>
        An <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> trigger invoking a
        stored routine that inserted into a table other than the one on
        which the trigger was defined would fail with a <span class="errortext">Table
        '...' doesn't exist</span> referring to the second table
        when attempting to delete records from the first table.
       (<a href="http://bugs.mysql.com/21825" target="_top">Bug#21825</a>)</p></li><li><p>
        When a stored routine attempted to execute a statement accessing
        a nonexistent table, the error was not caught by the routine's
        exception handler.
       (<a href="http://bugs.mysql.com/20713" target="_top">Bug#20713</a>, <a href="http://bugs.mysql.com/8407" target="_top">Bug#8407</a>)</p></li><li><p>
        The conditions checked by the optimizer to allow use of indexes
        in <code class="literal">IN</code> predicate calculations were
        unnecessarily tight and were relaxed.
       (<a href="http://bugs.mysql.com/20420" target="_top">Bug#20420</a>)</p></li><li><p>
        When a <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> expression
        was used as a column in a <code class="literal">GROUP BY</code> clause,
        the expression result was truncated.
       (<a href="http://bugs.mysql.com/20293" target="_top">Bug#20293</a>)</p></li><li><p>
        The creation of MySQL system tables was not checked for by
        <span><strong class="command">mysql-test-run.pl</strong></span>.
       (<a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>)</p></li><li><p>
        For index reads, the <code class="literal">BLACKHOLE</code> engine did not
        return end-of-file (which it must because
        <code class="literal">BLACKHOLE</code> tables contain no rows), causing
        some queries to crash.
       (<a href="http://bugs.mysql.com/19717" target="_top">Bug#19717</a>)</p></li><li><p>
        For <code class="literal"><em class="replaceable"><code>expr</code></em>
        IN(<em class="replaceable"><code>value_list</code></em>)</code>, the result
        could be incorrect if <code class="literal">BIGINT UNSIGNED</code> values
        were used for <em class="replaceable"><code>expr</code></em> or in the value
        list.
       (<a href="http://bugs.mysql.com/19342" target="_top">Bug#19342</a>)</p></li><li><p>
        When attempting to call a stored procedure creating a table from
        a trigger on a table <code class="literal">tbl</code> in a database
        <code class="literal">db</code>, the trigger failed with <span class="errortext">ERROR
        1146 (42S02): Table 'db.tbl' doesn't exist</span>. However,
        the actual reason that such a trigger fails is due to the fact
        that <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> causes an
        implicit <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>, and so a trigger
        cannot invoke a stored routine containing this statement. A
        trigger which does so now fails with <span class="errortext">ERROR 1422
        (HY000): Explicit or implicit commit is not allowed in stored
        function or trigger</span>, which makes clear the reason
        for the trigger's failure.
       (<a href="http://bugs.mysql.com/18914" target="_top">Bug#18914</a>)</p></li><li><p>
        The update columns for <code class="literal">INSERT ... SELECT ... ON
        DUPLICATE KEY UPDATE</code> could be assigned incorrect
        values if a temporary table was used to evaluate the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/16630" target="_top">Bug#16630</a>)</p></li><li><p>
        For <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> evaluation using
        a temporary table, when
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> was used on a
        LONGTEXT column, the <code class="literal">max_length</code> metadata
        value of the result was incorrectly calculated and set to 0.
        Consequently, an empty string was returned instead of the
        correct result.
       (<a href="http://bugs.mysql.com/15757" target="_top">Bug#15757</a>)</p></li><li><p>
        Local variables in stored routines or triggers, when declared as
        the <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> type, were interpreted as
        strings.
       (<a href="http://bugs.mysql.com/12976" target="_top">Bug#12976</a>)</p></li><li><p>
        <code class="literal">CONNECTION</code> is no longer treated as a reserved
        word.
       (<a href="http://bugs.mysql.com/12204" target="_top">Bug#12204</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-37"></a>C.1.48. Release Notes for MySQL Community Server 5.0.37 (27 February 2007)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.33.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">LockPagesInMainMemory</code> configuration
        parameter has changed its type and possible values. For more
        information, see <code class="literal">
        <a href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory">LockPagesInMainMemory</a>
        </code>.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          The values <code class="literal">true</code> and
          <code class="literal">false</code> are no longer accepted for this
          parameter. If you were using this parameter and had it set to
          <code class="literal">false</code> in a previous release, you must
          change it to <code class="literal">0</code>. If you had this parameter
          set to <code class="literal">true</code>, you should instead use
          <code class="literal">1</code> to obtain the same behavior as
          previously, or <code class="literal">2</code> to take advantage of new
          functionality introduced with this release, as described in
          the section cited above.
        </p></div><p>(<a href="http://bugs.mysql.com/25686" target="_top">Bug#25686</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Previously, the <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>
        function returned a binary string. Now it returns a string with
        a character set and collation given by
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
        <a href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> so that it
        can return month and weekday names containing non-ASCII
        characters.
       (<a href="http://bugs.mysql.com/22646" target="_top">Bug#22646</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        When using <code class="literal">MERGE</code> tables the definition of the
        <code class="literal">MERGE</code> table and the <code class="literal">MyISAM</code>
        tables are checked each time the tables are opened for access
        (including any <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> or
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement. Each table is
        compared for column order, types, sizes and associated. If there
        is a difference in any one of the tables then the statement will
        fail.
      </p></li><li><p>
        Added the
        <a href="server-administration.html#statvar_Uptime_since_flush_status"><code class="literal">Uptime_since_flush_status</code></a>
        status variable, which indicates the number of seconds since the
        most recent <code class="literal">FLUSH STATUS</code> statement.
        (Community contribution by Jeremy Cole)
       (<a href="http://bugs.mysql.com/24822" target="_top">Bug#24822</a>)</p></li><li><p>
        Added the <a href="sql-syntax.html#show-profiles" title="12.5.5.29. SHOW PROFILES Syntax"><code class="literal">SHOW PROFILES</code></a> and
        <a href="sql-syntax.html#show-profile" title="12.5.5.28. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> statements to
        display statement profile data, and the accompanying
        <a href="information-schema.html#profiling-table" title="19.17. The INFORMATION_SCHEMA PROFILING Table"><code class="literal">INFORMATION_SCHEMA.PROFILING</code></a> table.
        Profiling is controlled via the
        <a href="server-administration.html#sysvar_profiling"><code class="literal">profiling</code></a> and
        <a href="server-administration.html#sysvar_profiling_history_size"><code class="literal">profiling_history_size</code></a> session
        variables. see <a href="sql-syntax.html#show-profiles" title="12.5.5.29. SHOW PROFILES Syntax">Section 12.5.5.29, “<code class="literal">SHOW PROFILES</code> Syntax”</a>, and
        <a href="information-schema.html#profiling-table" title="19.17. The INFORMATION_SCHEMA PROFILING Table">Section 19.17, “The <code class="literal">INFORMATION_SCHEMA PROFILING</code> Table”</a>. (Community contribution by
        Jeremy Cole)
      </p><p>
        The profiling feature is enabled via the
        <a href="http://dev.mysql.com/doc/refman/5.1/en/configure-options.html#option_configure_enable-community-features" target="_top"><code class="option">--enable-community-features</code></a>
        and <a href="installing.html#option_configure_enable-profiling"><code class="option">--enable-profiling</code></a> options
        to <span><strong class="command">configure</strong></span>. These options are enabled by
        default; to disable them, use
        <a href="http://dev.mysql.com/doc/refman/5.1/en/configure-options.html#option_configure_enable-community-features" target="_top"><code class="option">--disable-community-features</code></a>
        and
        <a href="installing.html#option_configure_enable-profiling"><code class="option">--disable-profiling</code></a>.
       (<a href="http://bugs.mysql.com/24795" target="_top">Bug#24795</a>)</p></li><li><p>
        The <code class="literal">localhost</code> anonymous user account created
        during MySQL installation on Windows now has no global
        privileges. Formerly this account had all global privileges. For
        operations that require global privileges, the
        <code class="literal">root</code> account can be used instead.
       (<a href="http://bugs.mysql.com/24496" target="_top">Bug#24496</a>)</p></li><li><p>
        The <a href="server-administration.html#option_mysqld_skip-thread-priority"><code class="option">--skip-thread-priority</code></a> option
        now is enabled by default for binary Mac OS X distributions. Use
        of thread priorities degrades performance on Mac OS X.
       (<a href="http://bugs.mysql.com/18526" target="_top">Bug#18526</a>)</p></li><li><p>
        This is the last version for which MySQL-Max RPM distributions
        are available. (This change was already made for non-RPM binary
        distributions in 5.0.27.)
      </p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.5.8.
      </p></li><li><p>
        Added the
        <a href="installing.html#option_configure_disable-grant-options"><code class="option">--disable-grant-options</code></a> option
        to <span><strong class="command">configure</strong></span>. If <span><strong class="command">configure</strong></span>
        is run with this option, the
        <a href="server-administration.html#option_mysqld_bootstrap"><code class="option">--bootstrap</code></a>,
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>, and
        <a href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> options for
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> are disabled and cannot be used. For
        Windows, the <span><strong class="command">configure.js</strong></span> script recognizes
        the <code class="literal">DISABLE_GRANT_OPTIONS</code> flag, which has the
        same effect.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using an <code class="literal">INFORMATION_SCHEMA</code> table with
        <code class="literal">ORDER BY</code> in a subquery could cause a server
        crash.
      </p><p>
        We would like to thank Oren Isacson of Flowgate Security
        Consulting and Stefan Streichsbier of SEC Consult for informing
        us of this problem.
       (<a href="http://bugs.mysql.com/24630" target="_top">Bug#24630</a>, <a href="http://bugs.mysql.com/26556" target="_top">Bug#26556</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-1420" target="_top">CVE-2007-1420</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns that had
        enumeration values containing commas, the commas were mapped to
        <code class="literal">0xff</code> internally. However, this rendered the
        commas indistinguishable from true <code class="literal">0xff</code>
        characters in the values. This no longer occurs. However, the
        fix requires that you dump and reload any tables that have
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns containing any true
        <code class="literal">0xff</code> values. Dump the tables using
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> with the current server before
        upgrading from a version of MySQL 5.0 older than 5.0.36 to
        version 5.0.36 or newer.
       (<a href="http://bugs.mysql.com/24660" target="_top">Bug#24660</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query with an <code class="literal">IN</code> clause against an
        <code class="literal">NDB</code> table employing explicit
        user-defined partitioning did not always return all matching
        rows.
       (<a href="http://bugs.mysql.com/25821" target="_top">Bug#25821</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to create an
        <code class="literal">NDB</code> table with a key on two
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns where both
        columns had a storage length in excess of 256.
       (<a href="http://bugs.mysql.com/25746" target="_top">Bug#25746</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Hosts in clusters with large numbers of nodes could experience
        excessive CPU usage while obtaining configuration data.
       (<a href="http://bugs.mysql.com/25711" target="_top">Bug#25711</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some circumstances, shutting down the cluster could cause
        connected <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes to crash.
       (<a href="http://bugs.mysql.com/25668" target="_top">Bug#25668</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Memory allocations for <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>
        columns were calculated incorrectly, resulting in space being
        wasted and other issues.
       (<a href="http://bugs.mysql.com/25562" target="_top">Bug#25562</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node during a node restart could lead to
        a resource leak, causing later node failures.
       (<a href="http://bugs.mysql.com/25554" target="_top">Bug#25554</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> using an
        <code class="literal">IN</code> clause on an
        <code class="literal">NDB</code> table on which there was a
        trigger caused <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/25522" target="_top">Bug#25522</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node shutdown occurred if the master failed during a commit.
       (<a href="http://bugs.mysql.com/25364" target="_top">Bug#25364</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Creating a nonunique index with the <code class="literal">USING
        HASH</code> clause silently created an ordered index instead
        of issuing a warning.
       (<a href="http://bugs.mysql.com/24820" target="_top">Bug#24820</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="filename">ndb_size.tmpl</code> file (necessary for using
        the <code class="filename">ndb_size.pl</code> script) was missing from
        binary distributions.
       (<a href="http://bugs.mysql.com/24191" target="_top">Bug#24191</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a data node was shut down using the management client
        <code class="literal">STOP</code> command, a connection event
        (<code class="literal">NDB_LE_Connected</code>) was logged instead of a
        disconnection event (<code class="literal">NDB_LE_Disconnected</code>).
       (<a href="http://bugs.mysql.com/22773" target="_top">Bug#22773</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management server did not handle logging of node shutdown
        events correctly in certain cases.
       (<a href="http://bugs.mysql.com/22013" target="_top">Bug#22013</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements with a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column in the selected
        column list and a <code class="literal">WHERE</code> condition including a
        primary key lookup on a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        primary key produced empty result sets.
       (<a href="http://bugs.mysql.com/19956" target="_top">Bug#19956</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> was written to
        the binary log double quotes were included in the statement. If
        the slave was running in with the server SQL mode set to
        <a href="server-administration.html#sqlmode_ansi_quotes"><code class="literal">ANSI_QUOTES</code></a>, then the event
        failed, which halted the replication process.
       (<a href="http://bugs.mysql.com/24158" target="_top">Bug#24158</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A stored procedure, executed from a connection using a binary
        character set, and which wrote multibyte data, would write
        incorrectly escaped entries to the binary log. This caused
        syntax errors, and caused replication to fail.
       (<a href="http://bugs.mysql.com/23619" target="_top">Bug#23619</a>, <a href="http://bugs.mysql.com/24492" target="_top">Bug#24492</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Changes to the <a href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a>
        system variable were not replicated.
       (<a href="http://bugs.mysql.com/22645" target="_top">Bug#22645</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For <code class="literal">SET</code>,
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>, and
        <a href="sql-syntax.html#do" title="12.2.3. DO Syntax"><code class="literal">DO</code></a> statements that invoked a
        stored function from a database other than the default database,
        the function invocation could fail to be replicated.
       (<a href="http://bugs.mysql.com/19725" target="_top">Bug#19725</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If a slave server closed its relay log (for example, due to an
        error during log rotation), the I/O thread did not recognize
        this and still tried to write to the log, causing a server
        crash.
       (<a href="http://bugs.mysql.com/10798" target="_top">Bug#10798</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Deletion of an <code class="literal">Ndb_cluster_connection</code> object
        took a very long time.
       (<a href="http://bugs.mysql.com/25487" target="_top">Bug#25487</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Invoking the <code class="literal">NdbTransaction::execute()</code> method
        using execution type <code class="literal">Commit</code> and abort option
        <code class="literal">AO_IgnoreError</code> could lead to a crash of the
        transaction coordinator (<code class="literal">DBTC</code>).
       (<a href="http://bugs.mysql.com/25090" target="_top">Bug#25090</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        A unique index lookup on a nonexistent tuple could lead to a
        data node timeout (error 4012).
       (<a href="http://bugs.mysql.com/25059" target="_top">Bug#25059</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        <code class="filename">libndbclient.so</code> was not versioned.
       (<a href="http://bugs.mysql.com/13522" target="_top">Bug#13522</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code>
        could yield different results when selecting from a view and
        selecting from the underlying table.
       (<a href="http://bugs.mysql.com/26209" target="_top">Bug#26209</a>)</p></li><li><p>
        <code class="literal">DISTINCT</code> queries that were executed using a
        loose scan for an <code class="literal">InnoDB</code> table that had been
        emptied caused a server crash.
       (<a href="http://bugs.mysql.com/26159" target="_top">Bug#26159</a>)</p></li><li><p>
        A <code class="literal">WHERE</code> clause that used
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values could be treated
        differently for a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> and a
        view defined as that <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/26124" target="_top">Bug#26124</a>)</p></li><li><p>
        Collation for <code class="literal">LEFT JOIN</code> comparisons could be
        evaluated incorrectly, leading to improper query results.
       (<a href="http://bugs.mysql.com/26017" target="_top">Bug#26017</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> clause for views was
        ignored for updates of multiple-table views when the updates
        could not be performed on fly and the rows to update had to be
        put into temporary tables first.
       (<a href="http://bugs.mysql.com/25931" target="_top">Bug#25931</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> did not work with pipes.
       (<a href="http://bugs.mysql.com/25807" target="_top">Bug#25807</a>)</p></li><li><p>
        The <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> and
        <a href="functions.html#function_quarter"><code class="literal">QUARTER()</code></a> functions sometimes did
        not handle <code class="literal">NULL</code> values correctly.
       (<a href="http://bugs.mysql.com/25643" target="_top">Bug#25643</a>)</p></li><li><p>
        The <code class="literal">InnoDB</code> parser sometimes did not account
        for null bytes, causing spurious failure of some queries.
       (<a href="http://bugs.mysql.com/25596" target="_top">Bug#25596</a>)</p></li><li><p>
        View definitions that used the <code class="literal">!</code> operator
        were treated as containing the <code class="literal">NOT</code> operator,
        which has a different precedence and can produce different
        results. .
       (<a href="http://bugs.mysql.com/25580" target="_top">Bug#25580</a>)</p></li><li><p>
        An error in the name resolution of nested <code class="literal">JOIN ...
        USING</code> constructs was corrected.
       (<a href="http://bugs.mysql.com/25575" target="_top">Bug#25575</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> and <code class="literal">DISTINCT</code> did
        not group <code class="literal">NULL</code> values for columns that have a
        <code class="literal">UNIQUE</code> index. .
       (<a href="http://bugs.mysql.com/25551" target="_top">Bug#25551</a>)</p></li><li><p>
        The <code class="option">--with-readline</code> option for
        <span><strong class="command">configure</strong></span> did not work for commercial source
        packages, but no error message was printed to that effect. Now a
        message is printed.
       (<a href="http://bugs.mysql.com/25530" target="_top">Bug#25530</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> did an
        invalid memory deallocation when used with the embedded server.
       (<a href="http://bugs.mysql.com/25492" target="_top">Bug#25492</a>)</p></li><li><p>
        Referencing an ambiguous column alias in an expression in the
        <code class="literal">ORDER BY</code> clause of a query caused the server
        to crash.
       (<a href="http://bugs.mysql.com/25427" target="_top">Bug#25427</a>)</p></li><li><p>
        A yaSSL program named <span><strong class="command">test</strong></span> was installed,
        causing conflicts with the <span><strong class="command">test</strong></span> system
        utility. It is no longer installed.
       (<a href="http://bugs.mysql.com/25417" target="_top">Bug#25417</a>)</p></li><li><p>
        For a <code class="literal">UNIQUE</code> index containing many
        <code class="literal">NULL</code> values, the optimizer would prefer the
        index for <code class="literal"><em class="replaceable"><code>col</code></em> IS
        NULL</code> conditions over other more selective indexes. .
       (<a href="http://bugs.mysql.com/25407" target="_top">Bug#25407</a>)</p></li><li><p>
        An <code class="literal">AFTER UPDATE</code> trigger on an
        <code class="literal">InnoDB</code> table with a composite primary key
        caused the server to crash.
       (<a href="http://bugs.mysql.com/25398" target="_top">Bug#25398</a>)</p></li><li><p>
        Passing a <code class="literal">NULL</code> value to a user-defined
        function from within a stored procedure crashes the server.
       (<a href="http://bugs.mysql.com/25382" target="_top">Bug#25382</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> crashed on some platforms due to
        failure to handle a <code class="literal">NULL</code> pointer.
       (<a href="http://bugs.mysql.com/25344" target="_top">Bug#25344</a>)</p></li><li><p>
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server stop</strong></span></a> timed out too quickly (35
        seconds) waiting for the server to exit. Now it waits up to 15
        minutes, to ensure that the server exits.
       (<a href="http://bugs.mysql.com/25341" target="_top">Bug#25341</a>)</p></li><li><p>
        A query that contained an <code class="literal">EXIST</code> subquery with
        a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> over correlated and
        uncorrelated <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/25219" target="_top">Bug#25219</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-kill" title="20.9.3.38. mysql_kill()"><code class="literal">mysql_kill()</code></a> caused a server
        crash when used on an SSL connection.
       (<a href="http://bugs.mysql.com/25203" target="_top">Bug#25203</a>)</p></li><li><p>
        yaSSL was sensitive to the presence of whitespace at the ends of
        lines in PEM-encoded certificates, causing a server crash.
       (<a href="http://bugs.mysql.com/25189" target="_top">Bug#25189</a>)</p></li><li><p>
        A query with <code class="literal">ORDER BY</code> and <code class="literal">GROUP
        BY</code> clauses where the <code class="literal">ORDER BY</code>
        clause had more elements than the <code class="literal">GROUP BY</code>
        clause caused a memory overrun leading to a crash of the server.
       (<a href="http://bugs.mysql.com/25172" target="_top">Bug#25172</a>)</p></li><li><p>
        Use of <code class="literal">ON DUPLICATE KEY UPDATE</code> defeated the
        usual restriction against inserting into a join-based view
        unless only one of the underlying tables is used.
       (<a href="http://bugs.mysql.com/25123" target="_top">Bug#25123</a>)</p></li><li><p>
        Using a view in combination with a <code class="literal">USING</code>
        clause caused column aliases to be ignored.
       (<a href="http://bugs.mysql.com/25106" target="_top">Bug#25106</a>)</p></li><li><p>
        A multiple-table <code class="literal">DELETE QUICK</code> could sometimes
        cause one of the affected tables to become corrupted.
       (<a href="http://bugs.mysql.com/25048" target="_top">Bug#25048</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ENABLE KEYS</code> acquired a global
        lock, preventing concurrent execution of other statements that
        use tables. .
       (<a href="http://bugs.mysql.com/25044" target="_top">Bug#25044</a>)</p></li><li><p>
        An assertion failed incorrectly for prepared statements that
        contained a single-row uncorrelated subquery that was used as an
        argument of the <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a> predicate.
       (<a href="http://bugs.mysql.com/25027" target="_top">Bug#25027</a>)</p></li><li><p>
        A return value of <code class="literal">-1</code> from user-defined
        handlers was not handled well and could result in conflicts with
        server code.
       (<a href="http://bugs.mysql.com/24987" target="_top">Bug#24987</a>)</p></li><li><p>
        Accessing a fixed record format table with a crashed key
        definition results in server/<a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a>
        segmentation fault.
       (<a href="http://bugs.mysql.com/24855" target="_top">Bug#24855</a>)</p></li><li><p>
        <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a> and
        <a href="programs.html#mysqlaccess" title="4.6.6. mysqlaccess — Client for Checking Access Privileges"><span><strong class="command">mysqlaccess</strong></span></a> looked for option files in
        <code class="filename">/etc</code> even if the
        <code class="option">--sysconfdir</code> option for
        <span><strong class="command">configure</strong></span> had been given to specify a
        different directory.
       (<a href="http://bugs.mysql.com/24780" target="_top">Bug#24780</a>)</p></li><li><p>
        If there was insufficient memory available to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, this could sometimes cause the server
        to hang during startup.
       (<a href="http://bugs.mysql.com/24751" target="_top">Bug#24751</a>)</p></li><li><p>
        Optimizations that are legal only for subqueries without tables
        and <code class="literal">WHERE</code> conditions were applied for any
        subquery without tables.
       (<a href="http://bugs.mysql.com/24670" target="_top">Bug#24670</a>)</p></li><li><p>
        If an <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code>
        list included a constant expression being optimized away and, at
        the same time, containing single-row subselects that returned
        more that one row, no error was reported. If a query required
        sorting by expressions containing single-row subselects that
        returned more than one row, execution of the query could cause a
        server crash.
       (<a href="http://bugs.mysql.com/24653" target="_top">Bug#24653</a>)</p></li><li><p>
        For <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, using
        <code class="literal">ORDER BY
        <em class="replaceable"><code>expression</code></em></code> could cause a
        server crash. Now the <code class="literal">ORDER BY</code> clause allows
        only column names to be specified as sort criteria (which was
        the only documented syntax, anyway).
       (<a href="http://bugs.mysql.com/24562" target="_top">Bug#24562</a>)</p></li><li><p>
        A workaround was implemented to avoid a race condition in the
        NPTL <code class="literal">pthread_exit()</code> implementation.
       (<a href="http://bugs.mysql.com/24507" target="_top">Bug#24507</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> crashed with a stack overflow.
       (<a href="http://bugs.mysql.com/24498" target="_top">Bug#24498</a>)</p></li><li><p>
        Within stored routines or prepared statements, inconsistent
        results occurred with multiple use of <code class="literal">INSERT ... SELECT
        ... ON DUPLICATE KEY UPDATE</code> when the <code class="literal">ON
        DUPLICATE KEY UPDATE</code> clause erroneously tried to
        assign a value to a column mentioned only in its
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part.
       (<a href="http://bugs.mysql.com/24491" target="_top">Bug#24491</a>)</p></li><li><p>
        Expressions of the form <code class="literal">(a, b) IN (SELECT a, MIN(b)
        FROM t GROUP BY a)</code> could produce incorrect results
        when column <code class="literal">a</code> of table <code class="literal">t</code>
        contained <code class="literal">NULL</code> values while column
        <code class="literal">b</code> did not.
       (<a href="http://bugs.mysql.com/24420" target="_top">Bug#24420</a>)</p></li><li><p>
        If a prepared statement accessed a view, access to the tables
        listed in the query after that view was checked in the security
        context of the view.
       (<a href="http://bugs.mysql.com/24404" target="_top">Bug#24404</a>)</p></li><li><p>
        Attempts to access a <code class="literal">MyISAM</code> table with a
        corrupt column definition caused a server crash.
       (<a href="http://bugs.mysql.com/24401" target="_top">Bug#24401</a>)</p></li><li><p>
        When opening a corrupted <code class="filename">.frm</code> file during a
        query, the server crashes.
       (<a href="http://bugs.mysql.com/24358" target="_top">Bug#24358</a>)</p></li><li><p>
        Some joins in which one of the joined tables was a view could
        return erroneous results or crash the server.
       (<a href="http://bugs.mysql.com/24345" target="_top">Bug#24345</a>)</p></li><li><p>
        A view was not handled correctly if the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part contained
        “<span class="quote"><code class="literal">\Z</code></span>”.
       (<a href="http://bugs.mysql.com/24293" target="_top">Bug#24293</a>)</p></li><li><p>
        A query using <code class="literal">WHERE
        <em class="replaceable"><code>unsigned_column</code></em> NOT IN
        ('<em class="replaceable"><code>negative_value</code></em>')</code> could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/24261" target="_top">Bug#24261</a>)</p></li><li><p>
        Expressions of the form <code class="literal">(a, b) IN (SELECT c, d
        ...)</code> could produce incorrect results if
        <code class="literal">a</code>, <code class="literal">b</code>, or both were
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/24127" target="_top">Bug#24127</a>)</p></li><li><p>
        A <a href="sql-syntax.html#fetch" title="12.8.5.3. Cursor FETCH Statement"><code class="literal">FETCH</code></a> statement using a cursor
        on a table which was not in the table cache could sometimes
        cause the server to crash.
       (<a href="http://bugs.mysql.com/24117" target="_top">Bug#24117</a>)</p></li><li><p>
        Queries that evaluate <code class="literal">NULL IN (SELECT ... UNION SELECT
        ...)</code> could produce an incorrect result
        (<code class="literal">FALSE</code> instead of <code class="literal">NULL</code>).
       (<a href="http://bugs.mysql.com/24085" target="_top">Bug#24085</a>)</p></li><li><p>
        Hebrew-to-Unicode conversion failed for some characters.
        Definitions for the following Hebrew characters (as specified by
        the ISO/IEC 8859-8:1999) were added: LEFT-TO-RIGHT MARK (LRM),
        RIGHT-TO-LEFT MARK (RLM)
       (<a href="http://bugs.mysql.com/24037" target="_top">Bug#24037</a>)</p></li><li><p>
        Some <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements were
        slower than in previous versions when the search key could not
        be converted to a valid value for the type of the search column.
       (<a href="http://bugs.mysql.com/24035" target="_top">Bug#24035</a>)</p></li><li><p>
        <a href="functions.html#function_isnull"><code class="literal">ISNULL(DATE(NULL))</code></a> and
        <a href="functions.html#function_isnull"><code class="literal">ISNULL(CAST(NULL AS DATE))</code></a>
        erroneously returned false.
       (<a href="http://bugs.mysql.com/23938" target="_top">Bug#23938</a>)</p></li><li><p>
        Within a stored routine, accessing a declared routine variable
        with <code class="literal">PROCEDURE ANALYSE()</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/23782" target="_top">Bug#23782</a>)</p></li><li><p>
        When reading from the standard input on Windows,
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> opened the input in text mode
        rather than binary mode and consequently misinterpreted some
        characters such as Control-Z.
       (<a href="http://bugs.mysql.com/23735" target="_top">Bug#23735</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> tried to sort
        R-tree indexes such as spatial indexes, although this is not
        possible (see <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax">Section 12.5.2.5, “<code class="literal">OPTIMIZE TABLE</code> Syntax”</a>).
       (<a href="http://bugs.mysql.com/23578" target="_top">Bug#23578</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table with any <code class="literal">ON
        DELETE</code> trigger,
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> mapped to <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>
        and activated triggers. Now a fast truncation occurs and
        triggers are not activated. .
       (<a href="http://bugs.mysql.com/23556" target="_top">Bug#23556</a>)</p></li><li><p>
        The row count for <code class="literal">MyISAM</code> tables was not
        updated properly, causing <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> to report incorrect values.
       (<a href="http://bugs.mysql.com/23526" target="_top">Bug#23526</a>)</p></li><li><p>
        User-defined variables could consume excess memory, leading to a
        crash caused by the exhaustion of resources available to the
        <code class="literal">MEMORY</code> storage engine, due to the fact that
        this engine is used by MySQL for variable storage and
        intermediate results of <code class="literal">GROUP BY</code> queries.
        Where <code class="literal">SET</code> had been used, such a condition
        could instead give rise to the misleading error message
        <span class="errortext">You may only use constant expressions with
        SET</span>, rather than <span class="errortext">Out of memory (Needed
        NNNNNN bytes)</span>.
       (<a href="http://bugs.mysql.com/23443" target="_top">Bug#23443</a>)</p></li><li><p>
        With <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        enabled, the server was too strict: Some expressions involving
        only aggregate values were rejected as nonaggregate (for
        example, <a href="functions.html#function_max"><code class="literal">MAX(a)</code></a> –
        <a href="functions.html#function_min"><code class="literal">MIN(a)</code></a>).
       (<a href="http://bugs.mysql.com/23417" target="_top">Bug#23417</a>)</p></li><li><p>
        The arguments to the <a href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> and
        the <a href="functions.html#function_decode"><code class="literal">DECODE()</code></a> functions were not
        printed correctly, causing problems in the output of
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> and in view definitions.
       (<a href="http://bugs.mysql.com/23409" target="_top">Bug#23409</a>)</p></li><li><p>
        A table created with the <code class="literal">ROW_FORMAT = FIXED</code>
        table option lost the option if an index was added or dropped
        with <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> or
        <a href="sql-syntax.html#drop-index" title="12.1.15. DROP INDEX Syntax"><code class="literal">DROP INDEX</code></a>.
       (<a href="http://bugs.mysql.com/23404" target="_top">Bug#23404</a>)</p></li><li><p>
        A deadlock could occur, with the server hanging on
        <code class="literal">Closing tables</code>, with a sufficient number of
        concurrent <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a>,
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>,
        and <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations.
       (<a href="http://bugs.mysql.com/23312" target="_top">Bug#23312</a>)</p></li><li><p>
        Some queries against <code class="literal">INFORMATION_SCHEMA</code> that
        used subqueries failed. .
       (<a href="http://bugs.mysql.com/23299" target="_top">Bug#23299</a>)</p></li><li><p>
        <code class="literal">readline</code> detection did not work correctly on
        NetBSD.
       (<a href="http://bugs.mysql.com/23293" target="_top">Bug#23293</a>)</p></li><li><p>
        If there was insufficient memory to store or update a blob
        record in a <code class="literal">MyISAM</code> table then the table will
        marked as crashed.
       (<a href="http://bugs.mysql.com/23196" target="_top">Bug#23196</a>)</p></li><li><p>
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was not reset to
        0 if <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> inserted no rows.
       (<a href="http://bugs.mysql.com/23170" target="_top">Bug#23170</a>)</p></li><li><p>
        A compressed <code class="literal">MyISAM</code> table that became
        corrupted could crash <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> and possibly
        the MySQL Server.
       (<a href="http://bugs.mysql.com/23139" target="_top">Bug#23139</a>)</p></li><li><p>
        The number of <code class="literal">setsockopt()</code> calls performed
        for reads and writes to the network socket was reduced to
        decrease system call overhead.
       (<a href="http://bugs.mysql.com/22943" target="_top">Bug#22943</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> failed when called with a
        <code class="option">--basedir</code> path name containing spaces.
       (<a href="http://bugs.mysql.com/22801" target="_top">Bug#22801</a>)</p></li><li><p>
        <code class="literal">SET lc_time_names = <em class="replaceable"><code>value</code></em>
        </code> allowed only exact literal values, not expression
        values.
       (<a href="http://bugs.mysql.com/22647" target="_top">Bug#22647</a>)</p></li><li><p>
        The <a href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> function returned a
        positive value for data sets consisting of a single value.
       (<a href="http://bugs.mysql.com/22555" target="_top">Bug#22555</a>)</p></li><li><p>
        Storing values specified as hexadecimal values 64 or more bits
        long in <code class="literal">BIT(64)</code>,
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>, or <code class="literal">BIGINT
        UNSIGNED</code> columns did not raise any warning or error if
        the value was out of range.
       (<a href="http://bugs.mysql.com/22533" target="_top">Bug#22533</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> reported some
        <code class="literal">NOT NULL</code> columns as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/22377" target="_top">Bug#22377</a>)</p></li><li><p>
        Type conversion errors during formation of index search
        conditions were not correctly checked, leading to incorrect
        query results.
       (<a href="http://bugs.mysql.com/22344" target="_top">Bug#22344</a>)</p></li><li><p>
        Changing the value of <code class="literal">MI_KEY_BLOCK_LENGTH</code> in
        <code class="filename">myisam.h</code> and recompiling MySQL resulted in
        a <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> that saw existing
        <code class="literal">MyISAM</code> tables as corrupt.
       (<a href="http://bugs.mysql.com/22119" target="_top">Bug#22119</a>)</p></li><li><p>
        A crash of the MySQL Server could occur when unpacking a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column from a row in a
        corrupted MyISAM table. This could happen when trying to repair
        a table using either <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>
        or <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a>; it could also happen when
        trying to access such a “<span class="quote">broken</span>” row using
        statements like <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> if the
        table was not marked as crashed.
       (<a href="http://bugs.mysql.com/22053" target="_top">Bug#22053</a>)</p></li><li><p>
        The code for generating <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a>
        statements for binary logging of <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE
        PROCEDURE</code></a> statements resulted in confusing output from
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> for <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP
        PROCEDURE</code></a> statements.
       (<a href="http://bugs.mysql.com/22043" target="_top">Bug#22043</a>)</p></li><li><p>
        For the <a href="functions.html#function_if"><code class="literal">IF()</code></a> and
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a> function and
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expressions, large unsigned
        integer values could be mishandled and result in warnings.
       (<a href="http://bugs.mysql.com/22026" target="_top">Bug#22026</a>)</p></li><li><p>
        SSL connections could hang at connection shutdown.
       (<a href="http://bugs.mysql.com/21781" target="_top">Bug#21781</a>, <a href="http://bugs.mysql.com/24148" target="_top">Bug#24148</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not support
        the <code class="literal">euckr</code> character set.
       (<a href="http://bugs.mysql.com/21556" target="_top">Bug#21556</a>)</p></li><li><p>
        When updating a table that used a <code class="literal">JOIN</code> of the
        table itself (for example, when building trees) and the table
        was modified on one side of the expression, the table would
        either be reported as crashed or the wrong rows in the table
        would be updated.
       (<a href="http://bugs.mysql.com/21310" target="_top">Bug#21310</a>)</p></li><li><p>
        <code class="filename">mysqld_error.h</code> was not installed when only
        the client libraries were built.
       (<a href="http://bugs.mysql.com/21265" target="_top">Bug#21265</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: During a restart of the MySQL Server
        that followed the creation of a temporary table using the
        <code class="literal">InnoDB</code> storage engine, MySQL failed to clean
        up in such a way that <code class="literal">InnoDB</code> still attempted
        to find the files associated with such tables.
       (<a href="http://bugs.mysql.com/20867" target="_top">Bug#20867</a>)</p></li><li><p>
        Inserting <code class="literal">DEFAULT</code> into a column with no
        default value could result in garbage in the column. Now the
        same result occurs as when inserting <code class="literal">NULL</code>
        into a <code class="literal">NOT NULL</code> column.
       (<a href="http://bugs.mysql.com/20691" target="_top">Bug#20691</a>)</p></li><li><p>
        A stored routine containing semicolon in its body could not be
        reloaded from a dump of a binary log.
       (<a href="http://bugs.mysql.com/20396" target="_top">Bug#20396</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a>, <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        ... LOCK IN SHARE MODE</code></a>,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements executed using
        a full table scan were not releasing locks on rows that did not
        satisfy the <code class="literal">WHERE</code> condition.
       (<a href="http://bugs.mysql.com/20390" target="_top">Bug#20390</a>)</p></li><li><p>
        On Windows, if the server was installed as a service, it did not
        auto-detect the location of the data directory.
       (<a href="http://bugs.mysql.com/20376" target="_top">Bug#20376</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> script did not recognize
        Celeron processors.
       (<a href="http://bugs.mysql.com/20061" target="_top">Bug#20061</a>)</p></li><li><p>
        If a duplicate key value was present in the table,
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> reported a row count
        indicating that a record was updated, even when no record
        actually changed due to the old and new values being the same.
        Now it reports a row count of zero.
       (<a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>)</p><p>See also <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>, <a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>, <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>.</p></li><li><p>
        <code class="literal">ORDER BY</code> values of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> types could change the
        result returned by a query.
       (<a href="http://bugs.mysql.com/19690" target="_top">Bug#19690</a>)</p></li><li><p>
        The <code class="literal">readline</code> library wrote to uninitialized
        memory, causing <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/19474" target="_top">Bug#19474</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> incorrectly tried to retrieve
        result sets for some queries where no result set was available.
       (<a href="http://bugs.mysql.com/19410" target="_top">Bug#19410</a>)</p></li><li><p>
        Use of already freed memory caused SSL connections to hang
        forever.
       (<a href="http://bugs.mysql.com/19209" target="_top">Bug#19209</a>)</p></li><li><p>
        Some
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        statements inside stored routines could lead to excessive
        resource usage or a crash of the server.
       (<a href="http://bugs.mysql.com/19194" target="_top">Bug#19194</a>, <a href="http://bugs.mysql.com/24854" target="_top">Bug#24854</a>)</p></li><li><p>
        Instance Manager could crash during shutdown.
       (<a href="http://bugs.mysql.com/19044" target="_top">Bug#19044</a>)</p></li><li><p>
        The server might fail to use an appropriate index for
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> when <code class="literal">ORDER
        BY</code>, <code class="literal">LIMIT</code>, and a nonrestricting
        <code class="literal">WHERE</code> are present.
       (<a href="http://bugs.mysql.com/17711" target="_top">Bug#17711</a>)</p></li><li><p>
        No warning was issued for use of the <code class="literal">DATA
        DIRECTORY</code> or <code class="literal">INDEX DIRECTORY</code> table
        options on a platform that does not support them.
       (<a href="http://bugs.mysql.com/17498" target="_top">Bug#17498</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not support
        the <code class="literal">utf8</code> character set.
       (<a href="http://bugs.mysql.com/17044" target="_top">Bug#17044</a>)</p></li><li><p>
        The optimizer removes expressions from <code class="literal">GROUP
        BY</code> and <code class="literal">DISTINCT</code> clauses if they
        happen to participate in <code class="literal">
        <em class="replaceable"><code>expression</code></em> =
        <em class="replaceable"><code>constant</code></em></code> predicates of the
        <code class="literal">WHERE</code> clause, the idea being that, if the
        expression is equal to a constant, then it cannot take on
        multiple values. However, for predicates where the expression
        and the constant item are of different result types (for
        example, when a string column is compared to 0), this is not
        valid, and can lead to invalid results in such cases. The
        optimizer now performs an additional check of the result types
        of the expression and the constant; if their types differ, then
        the expression is not removed from the <code class="literal">GROUP
        BY</code> list.
       (<a href="http://bugs.mysql.com/15881" target="_top">Bug#15881</a>)</p></li><li><p>
        When a prepared statement failed during the prepare operation,
        the error code was not cleared when it was reused, even if the
        subsequent use was successful.
       (<a href="http://bugs.mysql.com/15518" target="_top">Bug#15518</a>)</p></li><li><p>
        Dropping a user-defined function sometimes did not remove the
        UDF entry from the <code class="literal">mysql.proc</code> table.
       (<a href="http://bugs.mysql.com/15439" target="_top">Bug#15439</a>)</p></li><li><p>
        Inserting a row into a table without specifying a value for a
        <code class="literal">BINARY(<em class="replaceable"><code>N</code></em>) NOT NULL</code>
        column caused the column to be set to spaces, not zeroes.
       (<a href="http://bugs.mysql.com/14171" target="_top">Bug#14171</a>)</p></li><li><p>
        On Windows, the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> function
        could sleep too long, especially after a change to the system
        clock.
       (<a href="http://bugs.mysql.com/14094" target="_top">Bug#14094</a>, <a href="http://bugs.mysql.com/24686" target="_top">Bug#24686</a>, <a href="http://bugs.mysql.com/17635" target="_top">Bug#17635</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --order-by-primary</strong></span></a> failed if the
        primary key name was an identifier that required quoting.
       (<a href="http://bugs.mysql.com/13926" target="_top">Bug#13926</a>)</p></li><li><p>
        To enable installation of MySQL RPMs on Linux systems running
        RHEL 4 (which includes SE-Linux) additional information was
        provided to specify some actions that are allowed to the MySQL
        binaries.
       (<a href="http://bugs.mysql.com/12676" target="_top">Bug#12676</a>)</p></li><li><p>
        The presence of <code class="literal">ORDER BY</code> in a view definition
        prevented the <code class="literal">MERGE</code> algorithm from being used
        to resolve the view even if nothing else in the definition
        required the <code class="literal">TEMPTABLE</code> algorithm.
       (<a href="http://bugs.mysql.com/12122" target="_top">Bug#12122</a>)</p></li><li><p>
        The internal functions for table preparation, creation, and
        alteration were not re-execution friendly, causing problems in
        code that: repeatedly altered a table; repeatedly created and
        dropped a table; opened and closed a cursor on a table, altered
        the table, and then reopened the cursor; used
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to change a table's
        current <code class="literal">AUTO_INCREMENT</code> value; created indexes
        on <code class="literal">utf8</code> columns.
      </p><p>
        Re-execution of <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>,
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>, and
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements in stored
        routines or as prepared statements also caused incorrect results
        or crashes.
       (<a href="http://bugs.mysql.com/4968" target="_top">Bug#4968</a>, <a href="http://bugs.mysql.com/6895" target="_top">Bug#6895</a>, <a href="http://bugs.mysql.com/19182" target="_top">Bug#19182</a>, <a href="http://bugs.mysql.com/19733" target="_top">Bug#19733</a>, <a href="http://bugs.mysql.com/22060" target="_top">Bug#22060</a>, <a href="http://bugs.mysql.com/24879" target="_top">Bug#24879</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-36sp1"></a>C.1.49. Release Notes for MySQL Enterprise 5.0.36sp1 [QSP] (12 April 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.36).
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> with a long <code class="literal">FIELDS ENCLOSED
        BY</code> value could crash the server.
       (<a href="http://bugs.mysql.com/27231" target="_top">Bug#27231</a>)</p></li><li><p>
        For <code class="literal">MERGE</code> tables defined on underlying tables
        that contained a short <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        column (shorter than four characters), using
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> on at least one but
        not all of the underlying tables caused the table definitions to
        be considered different from that of the
        <code class="literal">MERGE</code> table, even if the
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> did not change the
        definition.
       (<a href="http://bugs.mysql.com/26881" target="_top">Bug#26881</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-36"></a>C.1.50. Release Notes for MySQL Enterprise 5.0.36 [MRU] (20 February 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          After release, a trigger failure problem was found to have
          been introduced. (<a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>) Users affected by this issue
          should upgrade to MySQL 5.0.38, which corrects the problem.
        </p></div><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.34).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">LockPagesInMainMemory</code> configuration
        parameter has changed its type and possible values. For more
        information, see <code class="literal">
        <a href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory">LockPagesInMainMemory</a>
        </code>.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          The values <code class="literal">true</code> and
          <code class="literal">false</code> are no longer accepted for this
          parameter. If you were using this parameter and had it set to
          <code class="literal">false</code> in a previous release, you must
          change it to <code class="literal">0</code>. If you had this parameter
          set to <code class="literal">true</code>, you should instead use
          <code class="literal">1</code> to obtain the same behavior as
          previously, or <code class="literal">2</code> to take advantage of new
          functionality introduced with this release, as described in
          the section cited above.
        </p></div><p>(<a href="http://bugs.mysql.com/25686" target="_top">Bug#25686</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Previously, the <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>
        function returned a binary string. Now it returns a string with
        a character set and collation given by
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
        <a href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> so that it
        can return month and weekday names containing non-ASCII
        characters.
       (<a href="http://bugs.mysql.com/22646" target="_top">Bug#22646</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        When using <code class="literal">MERGE</code> tables the definition of the
        <code class="literal">MERGE</code> table and the <code class="literal">MyISAM</code>
        tables are checked each time the tables are opened for access
        (including any <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> or
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement. Each table is
        compared for column order, types, sizes and associated. If there
        is a difference in any one of the tables then the statement will
        fail.
      </p></li><li><p>
        The <code class="literal">localhost</code> anonymous user account created
        during MySQL installation on Windows now has no global
        privileges. Formerly this account had all global privileges. For
        operations that require global privileges, the
        <code class="literal">root</code> account can be used instead.
       (<a href="http://bugs.mysql.com/24496" target="_top">Bug#24496</a>)</p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.5.8.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using an <code class="literal">INFORMATION_SCHEMA</code> table with
        <code class="literal">ORDER BY</code> in a subquery could cause a server
        crash.
      </p><p>
        We would like to thank Oren Isacson of Flowgate Security
        Consulting and Stefan Streichsbier of SEC Consult for informing
        us of this problem.
       (<a href="http://bugs.mysql.com/24630" target="_top">Bug#24630</a>, <a href="http://bugs.mysql.com/26556" target="_top">Bug#26556</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-1420" target="_top">CVE-2007-1420</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns that had
        enumeration values containing commas, the commas were mapped to
        <code class="literal">0xff</code> internally. However, this rendered the
        commas indistinguishable from true <code class="literal">0xff</code>
        characters in the values. This no longer occurs. However, the
        fix requires that you dump and reload any tables that have
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns containing any true
        <code class="literal">0xff</code> values. Dump the tables using
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> with the current server before
        upgrading from a version of MySQL 5.0 older than 5.0.36 to
        version 5.0.36 or newer.
       (<a href="http://bugs.mysql.com/24660" target="_top">Bug#24660</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query with an <code class="literal">IN</code> clause against an
        <code class="literal">NDB</code> table employing explicit
        user-defined partitioning did not always return all matching
        rows.
       (<a href="http://bugs.mysql.com/25821" target="_top">Bug#25821</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to create an
        <code class="literal">NDB</code> table with a key on two
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns where both
        columns had a storage length in excess of 256.
       (<a href="http://bugs.mysql.com/25746" target="_top">Bug#25746</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some circumstances, shutting down the cluster could cause
        connected <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes to crash.
       (<a href="http://bugs.mysql.com/25668" target="_top">Bug#25668</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Memory allocations for <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>
        columns were calculated incorrectly, resulting in space being
        wasted and other issues.
       (<a href="http://bugs.mysql.com/25562" target="_top">Bug#25562</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node during a node restart could lead to
        a resource leak, causing later node failures.
       (<a href="http://bugs.mysql.com/25554" target="_top">Bug#25554</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> using an
        <code class="literal">IN</code> clause on an
        <code class="literal">NDB</code> table on which there was a
        trigger caused <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/25522" target="_top">Bug#25522</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node shutdown occurred if the master failed during a commit.
       (<a href="http://bugs.mysql.com/25364" target="_top">Bug#25364</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Creating a nonunique index with the <code class="literal">USING
        HASH</code> clause silently created an ordered index instead
        of issuing a warning.
       (<a href="http://bugs.mysql.com/24820" target="_top">Bug#24820</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="filename">ndb_size.tmpl</code> file (necessary for using
        the <code class="filename">ndb_size.pl</code> script) was missing from
        binary distributions.
       (<a href="http://bugs.mysql.com/24191" target="_top">Bug#24191</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management server did not handle logging of node shutdown
        events correctly in certain cases.
       (<a href="http://bugs.mysql.com/22013" target="_top">Bug#22013</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements with a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column in the selected
        column list and a <code class="literal">WHERE</code> condition including a
        primary key lookup on a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        primary key produced empty result sets.
       (<a href="http://bugs.mysql.com/19956" target="_top">Bug#19956</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The loss of one or more data nodes could sometimes cause
        <span><strong class="command">ndb_mgmd</strong></span> to use a high amount of CPU (15
        percent or more, as opposed to 1 to 2 percent normally).
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> was written to
        the binary log double quotes were included in the statement. If
        the slave was running in with the server SQL mode set to
        <a href="server-administration.html#sqlmode_ansi_quotes"><code class="literal">ANSI_QUOTES</code></a>, then the event
        failed, which halted the replication process.
       (<a href="http://bugs.mysql.com/24158" target="_top">Bug#24158</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A stored procedure, executed from a connection using a binary
        character set, and which wrote multibyte data, would write
        incorrectly escaped entries to the binary log. This caused
        syntax errors, and caused replication to fail.
       (<a href="http://bugs.mysql.com/23619" target="_top">Bug#23619</a>, <a href="http://bugs.mysql.com/24492" target="_top">Bug#24492</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Changes to the <a href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a>
        system variable were not replicated.
       (<a href="http://bugs.mysql.com/22645" target="_top">Bug#22645</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For <code class="literal">SET</code>,
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>, and
        <a href="sql-syntax.html#do" title="12.2.3. DO Syntax"><code class="literal">DO</code></a> statements that invoked a
        stored function from a database other than the default database,
        the function invocation could fail to be replicated.
       (<a href="http://bugs.mysql.com/19725" target="_top">Bug#19725</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If a slave server closed its relay log (for example, due to an
        error during log rotation), the I/O thread did not recognize
        this and still tried to write to the log, causing a server
        crash.
       (<a href="http://bugs.mysql.com/10798" target="_top">Bug#10798</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Deletion of an <code class="literal">Ndb_cluster_connection</code> object
        took a very long time.
       (<a href="http://bugs.mysql.com/25487" target="_top">Bug#25487</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        <code class="filename">libndbclient.so</code> was not versioned.
       (<a href="http://bugs.mysql.com/13522" target="_top">Bug#13522</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code>
        could yield different results when selecting from a view and
        selecting from the underlying table.
       (<a href="http://bugs.mysql.com/26209" target="_top">Bug#26209</a>)</p></li><li><p>
        <code class="literal">DISTINCT</code> queries that were executed using a
        loose scan for an <code class="literal">InnoDB</code> table that had been
        emptied caused a server crash.
       (<a href="http://bugs.mysql.com/26159" target="_top">Bug#26159</a>)</p></li><li><p>
        A <code class="literal">WHERE</code> clause that used
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values could be treated
        differently for a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> and a
        view defined as that <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/26124" target="_top">Bug#26124</a>)</p></li><li><p>
        Collation for <code class="literal">LEFT JOIN</code> comparisons could be
        evaluated incorrectly, leading to improper query results.
       (<a href="http://bugs.mysql.com/26017" target="_top">Bug#26017</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> clause for views was
        ignored for updates of multiple-table views when the updates
        could not be performed on fly and the rows to update had to be
        put into temporary tables first.
       (<a href="http://bugs.mysql.com/25931" target="_top">Bug#25931</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> did not work with pipes.
       (<a href="http://bugs.mysql.com/25807" target="_top">Bug#25807</a>)</p></li><li><p>
        The <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> and
        <a href="functions.html#function_quarter"><code class="literal">QUARTER()</code></a> functions sometimes did
        not handle <code class="literal">NULL</code> values correctly.
       (<a href="http://bugs.mysql.com/25643" target="_top">Bug#25643</a>)</p></li><li><p>
        The <code class="literal">InnoDB</code> parser sometimes did not account
        for null bytes, causing spurious failure of some queries.
       (<a href="http://bugs.mysql.com/25596" target="_top">Bug#25596</a>)</p></li><li><p>
        View definitions that used the <code class="literal">!</code> operator
        were treated as containing the <code class="literal">NOT</code> operator,
        which has a different precedence and can produce different
        results. .
       (<a href="http://bugs.mysql.com/25580" target="_top">Bug#25580</a>)</p></li><li><p>
        An error in the name resolution of nested <code class="literal">JOIN ...
        USING</code> constructs was corrected.
       (<a href="http://bugs.mysql.com/25575" target="_top">Bug#25575</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> and <code class="literal">DISTINCT</code> did
        not group <code class="literal">NULL</code> values for columns that have a
        <code class="literal">UNIQUE</code> index. .
       (<a href="http://bugs.mysql.com/25551" target="_top">Bug#25551</a>)</p></li><li><p>
        The <code class="option">--with-readline</code> option for
        <span><strong class="command">configure</strong></span> did not work for commercial source
        packages, but no error message was printed to that effect. Now a
        message is printed.
       (<a href="http://bugs.mysql.com/25530" target="_top">Bug#25530</a>)</p></li><li><p>
        A yaSSL program named <span><strong class="command">test</strong></span> was installed,
        causing conflicts with the <span><strong class="command">test</strong></span> system
        utility. It is no longer installed.
       (<a href="http://bugs.mysql.com/25417" target="_top">Bug#25417</a>)</p></li><li><p>
        For a <code class="literal">UNIQUE</code> index containing many
        <code class="literal">NULL</code> values, the optimizer would prefer the
        index for <code class="literal"><em class="replaceable"><code>col</code></em> IS
        NULL</code> conditions over other more selective indexes. .
       (<a href="http://bugs.mysql.com/25407" target="_top">Bug#25407</a>)</p></li><li><p>
        An <code class="literal">AFTER UPDATE</code> trigger on an
        <code class="literal">InnoDB</code> table with a composite primary key
        caused the server to crash.
       (<a href="http://bugs.mysql.com/25398" target="_top">Bug#25398</a>)</p></li><li><p>
        Passing a <code class="literal">NULL</code> value to a user-defined
        function from within a stored procedure crashes the server.
       (<a href="http://bugs.mysql.com/25382" target="_top">Bug#25382</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> crashed on some platforms due to
        failure to handle a <code class="literal">NULL</code> pointer.
       (<a href="http://bugs.mysql.com/25344" target="_top">Bug#25344</a>)</p></li><li><p>
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server stop</strong></span></a> timed out too quickly (35
        seconds) waiting for the server to exit. Now it waits up to 15
        minutes, to ensure that the server exits.
       (<a href="http://bugs.mysql.com/25341" target="_top">Bug#25341</a>)</p></li><li><p>
        A query that contained an <code class="literal">EXIST</code> subquery with
        a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> over correlated and
        uncorrelated <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/25219" target="_top">Bug#25219</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-kill" title="20.9.3.38. mysql_kill()"><code class="literal">mysql_kill()</code></a> caused a server
        crash when used on an SSL connection.
       (<a href="http://bugs.mysql.com/25203" target="_top">Bug#25203</a>)</p></li><li><p>
        yaSSL was sensitive to the presence of whitespace at the ends of
        lines in PEM-encoded certificates, causing a server crash.
       (<a href="http://bugs.mysql.com/25189" target="_top">Bug#25189</a>)</p></li><li><p>
        A query with <code class="literal">ORDER BY</code> and <code class="literal">GROUP
        BY</code> clauses where the <code class="literal">ORDER BY</code>
        clause had more elements than the <code class="literal">GROUP BY</code>
        clause caused a memory overrun leading to a crash of the server.
       (<a href="http://bugs.mysql.com/25172" target="_top">Bug#25172</a>)</p></li><li><p>
        Use of <code class="literal">ON DUPLICATE KEY UPDATE</code> defeated the
        usual restriction against inserting into a join-based view
        unless only one of the underlying tables is used.
       (<a href="http://bugs.mysql.com/25123" target="_top">Bug#25123</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ENABLE KEYS</code> acquired a global
        lock, preventing concurrent execution of other statements that
        use tables. .
       (<a href="http://bugs.mysql.com/25044" target="_top">Bug#25044</a>)</p></li><li><p>
        A return value of <code class="literal">-1</code> from user-defined
        handlers was not handled well and could result in conflicts with
        server code.
       (<a href="http://bugs.mysql.com/24987" target="_top">Bug#24987</a>)</p></li><li><p>
        Accessing a fixed record format table with a crashed key
        definition results in server/<a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a>
        segmentation fault.
       (<a href="http://bugs.mysql.com/24855" target="_top">Bug#24855</a>)</p></li><li><p>
        <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a> and
        <a href="programs.html#mysqlaccess" title="4.6.6. mysqlaccess — Client for Checking Access Privileges"><span><strong class="command">mysqlaccess</strong></span></a> looked for option files in
        <code class="filename">/etc</code> even if the
        <code class="option">--sysconfdir</code> option for
        <span><strong class="command">configure</strong></span> had been given to specify a
        different directory.
       (<a href="http://bugs.mysql.com/24780" target="_top">Bug#24780</a>)</p></li><li><p>
        If there was insufficient memory available to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, this could sometimes cause the server
        to hang during startup.
       (<a href="http://bugs.mysql.com/24751" target="_top">Bug#24751</a>)</p></li><li><p>
        If an <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code>
        list included a constant expression being optimized away and, at
        the same time, containing single-row subselects that returned
        more that one row, no error was reported. If a query required
        sorting by expressions containing single-row subselects that
        returned more than one row, execution of the query could cause a
        server crash.
       (<a href="http://bugs.mysql.com/24653" target="_top">Bug#24653</a>)</p></li><li><p>
        For <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, using
        <code class="literal">ORDER BY
        <em class="replaceable"><code>expression</code></em></code> could cause a
        server crash. Now the <code class="literal">ORDER BY</code> clause allows
        only column names to be specified as sort criteria (which was
        the only documented syntax, anyway).
       (<a href="http://bugs.mysql.com/24562" target="_top">Bug#24562</a>)</p></li><li><p>
        A workaround was implemented to avoid a race condition in the
        NPTL <code class="literal">pthread_exit()</code> implementation.
       (<a href="http://bugs.mysql.com/24507" target="_top">Bug#24507</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> crashed with a stack overflow.
       (<a href="http://bugs.mysql.com/24498" target="_top">Bug#24498</a>)</p></li><li><p>
        Within stored routines or prepared statements, inconsistent
        results occurred with multiple use of <code class="literal">INSERT ... SELECT
        ... ON DUPLICATE KEY UPDATE</code> when the <code class="literal">ON
        DUPLICATE KEY UPDATE</code> clause erroneously tried to
        assign a value to a column mentioned only in its
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part.
       (<a href="http://bugs.mysql.com/24491" target="_top">Bug#24491</a>)</p></li><li><p>
        Expressions of the form <code class="literal">(a, b) IN (SELECT a, MIN(b)
        FROM t GROUP BY a)</code> could produce incorrect results
        when column <code class="literal">a</code> of table <code class="literal">t</code>
        contained <code class="literal">NULL</code> values while column
        <code class="literal">b</code> did not.
       (<a href="http://bugs.mysql.com/24420" target="_top">Bug#24420</a>)</p></li><li><p>
        If a prepared statement accessed a view, access to the tables
        listed in the query after that view was checked in the security
        context of the view.
       (<a href="http://bugs.mysql.com/24404" target="_top">Bug#24404</a>)</p></li><li><p>
        Attempts to access a <code class="literal">MyISAM</code> table with a
        corrupt column definition caused a server crash.
       (<a href="http://bugs.mysql.com/24401" target="_top">Bug#24401</a>)</p></li><li><p>
        When opening a corrupted <code class="filename">.frm</code> file during a
        query, the server crashes.
       (<a href="http://bugs.mysql.com/24358" target="_top">Bug#24358</a>)</p></li><li><p>
        A query using <code class="literal">WHERE
        <em class="replaceable"><code>unsigned_column</code></em> NOT IN
        ('<em class="replaceable"><code>negative_value</code></em>')</code> could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/24261" target="_top">Bug#24261</a>)</p></li><li><p>
        Expressions of the form <code class="literal">(a, b) IN (SELECT c, d
        ...)</code> could produce incorrect results if
        <code class="literal">a</code>, <code class="literal">b</code>, or both were
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/24127" target="_top">Bug#24127</a>)</p></li><li><p>
        A <a href="sql-syntax.html#fetch" title="12.8.5.3. Cursor FETCH Statement"><code class="literal">FETCH</code></a> statement using a cursor
        on a table which was not in the table cache could sometimes
        cause the server to crash.
       (<a href="http://bugs.mysql.com/24117" target="_top">Bug#24117</a>)</p></li><li><p>
        Queries that evaluate <code class="literal">NULL IN (SELECT ... UNION SELECT
        ...)</code> could produce an incorrect result
        (<code class="literal">FALSE</code> instead of <code class="literal">NULL</code>).
       (<a href="http://bugs.mysql.com/24085" target="_top">Bug#24085</a>)</p></li><li><p>
        Hebrew-to-Unicode conversion failed for some characters.
        Definitions for the following Hebrew characters (as specified by
        the ISO/IEC 8859-8:1999) were added: LEFT-TO-RIGHT MARK (LRM),
        RIGHT-TO-LEFT MARK (RLM)
       (<a href="http://bugs.mysql.com/24037" target="_top">Bug#24037</a>)</p></li><li><p>
        Some <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements were
        slower than in previous versions when the search key could not
        be converted to a valid value for the type of the search column.
       (<a href="http://bugs.mysql.com/24035" target="_top">Bug#24035</a>)</p></li><li><p>
        <a href="functions.html#function_isnull"><code class="literal">ISNULL(DATE(NULL))</code></a> and
        <a href="functions.html#function_isnull"><code class="literal">ISNULL(CAST(NULL AS DATE))</code></a>
        erroneously returned false.
       (<a href="http://bugs.mysql.com/23938" target="_top">Bug#23938</a>)</p></li><li><p>
        Within a stored routine, accessing a declared routine variable
        with <code class="literal">PROCEDURE ANALYSE()</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/23782" target="_top">Bug#23782</a>)</p></li><li><p>
        When reading from the standard input on Windows,
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> opened the input in text mode
        rather than binary mode and consequently misinterpreted some
        characters such as Control-Z.
       (<a href="http://bugs.mysql.com/23735" target="_top">Bug#23735</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table with any <code class="literal">ON
        DELETE</code> trigger,
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> mapped to <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>
        and activated triggers. Now a fast truncation occurs and
        triggers are not activated. .
       (<a href="http://bugs.mysql.com/23556" target="_top">Bug#23556</a>)</p></li><li><p>
        The row count for <code class="literal">MyISAM</code> tables was not
        updated properly, causing <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> to report incorrect values.
       (<a href="http://bugs.mysql.com/23526" target="_top">Bug#23526</a>)</p></li><li><p>
        With <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        enabled, the server was too strict: Some expressions involving
        only aggregate values were rejected as nonaggregate (for
        example, <a href="functions.html#function_max"><code class="literal">MAX(a)</code></a> –
        <a href="functions.html#function_min"><code class="literal">MIN(a)</code></a>).
       (<a href="http://bugs.mysql.com/23417" target="_top">Bug#23417</a>)</p></li><li><p>
        The arguments to the <a href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> and
        the <a href="functions.html#function_decode"><code class="literal">DECODE()</code></a> functions were not
        printed correctly, causing problems in the output of
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> and in view definitions.
       (<a href="http://bugs.mysql.com/23409" target="_top">Bug#23409</a>)</p></li><li><p>
        Some queries against <code class="literal">INFORMATION_SCHEMA</code> that
        used subqueries failed. .
       (<a href="http://bugs.mysql.com/23299" target="_top">Bug#23299</a>)</p></li><li><p>
        <code class="literal">readline</code> detection did not work correctly on
        NetBSD.
       (<a href="http://bugs.mysql.com/23293" target="_top">Bug#23293</a>)</p></li><li><p>
        If there was insufficient memory to store or update a blob
        record in a <code class="literal">MyISAM</code> table then the table will
        marked as crashed.
       (<a href="http://bugs.mysql.com/23196" target="_top">Bug#23196</a>)</p></li><li><p>
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was not reset to
        0 if <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> inserted no rows.
       (<a href="http://bugs.mysql.com/23170" target="_top">Bug#23170</a>)</p></li><li><p>
        The number of <code class="literal">setsockopt()</code> calls performed
        for reads and writes to the network socket was reduced to
        decrease system call overhead.
       (<a href="http://bugs.mysql.com/22943" target="_top">Bug#22943</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> failed when called with a
        <code class="option">--basedir</code> path name containing spaces.
       (<a href="http://bugs.mysql.com/22801" target="_top">Bug#22801</a>)</p></li><li><p>
        <code class="literal">SET lc_time_names = <em class="replaceable"><code>value</code></em>
        </code> allowed only exact literal values, not expression
        values.
       (<a href="http://bugs.mysql.com/22647" target="_top">Bug#22647</a>)</p></li><li><p>
        The <a href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> function returned a
        positive value for data sets consisting of a single value.
       (<a href="http://bugs.mysql.com/22555" target="_top">Bug#22555</a>)</p></li><li><p>
        Storing values specified as hexadecimal values 64 or more bits
        long in <code class="literal">BIT(64)</code>,
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>, or <code class="literal">BIGINT
        UNSIGNED</code> columns did not raise any warning or error if
        the value was out of range.
       (<a href="http://bugs.mysql.com/22533" target="_top">Bug#22533</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> reported some
        <code class="literal">NOT NULL</code> columns as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/22377" target="_top">Bug#22377</a>)</p></li><li><p>
        Type conversion errors during formation of index search
        conditions were not correctly checked, leading to incorrect
        query results.
       (<a href="http://bugs.mysql.com/22344" target="_top">Bug#22344</a>)</p></li><li><p>
        The code for generating <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a>
        statements for binary logging of <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE
        PROCEDURE</code></a> statements resulted in confusing output from
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> for <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP
        PROCEDURE</code></a> statements.
       (<a href="http://bugs.mysql.com/22043" target="_top">Bug#22043</a>)</p></li><li><p>
        For the <a href="functions.html#function_if"><code class="literal">IF()</code></a> and
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a> function and
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expressions, large unsigned
        integer values could be mishandled and result in warnings.
       (<a href="http://bugs.mysql.com/22026" target="_top">Bug#22026</a>)</p></li><li><p>
        SSL connections could hang at connection shutdown.
       (<a href="http://bugs.mysql.com/21781" target="_top">Bug#21781</a>, <a href="http://bugs.mysql.com/24148" target="_top">Bug#24148</a>)</p></li><li><p>
        When updating a table that used a <code class="literal">JOIN</code> of the
        table itself (for example, when building trees) and the table
        was modified on one side of the expression, the table would
        either be reported as crashed or the wrong rows in the table
        would be updated.
       (<a href="http://bugs.mysql.com/21310" target="_top">Bug#21310</a>)</p></li><li><p>
        Inserting <code class="literal">DEFAULT</code> into a column with no
        default value could result in garbage in the column. Now the
        same result occurs as when inserting <code class="literal">NULL</code>
        into a <code class="literal">NOT NULL</code> column.
       (<a href="http://bugs.mysql.com/20691" target="_top">Bug#20691</a>)</p></li><li><p>
        A stored routine containing semicolon in its body could not be
        reloaded from a dump of a binary log.
       (<a href="http://bugs.mysql.com/20396" target="_top">Bug#20396</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a>, <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        ... LOCK IN SHARE MODE</code></a>,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements executed using
        a full table scan were not releasing locks on rows that did not
        satisfy the <code class="literal">WHERE</code> condition.
       (<a href="http://bugs.mysql.com/20390" target="_top">Bug#20390</a>)</p></li><li><p>
        On Windows, if the server was installed as a service, it did not
        auto-detect the location of the data directory.
       (<a href="http://bugs.mysql.com/20376" target="_top">Bug#20376</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> script did not recognize
        Celeron processors.
       (<a href="http://bugs.mysql.com/20061" target="_top">Bug#20061</a>)</p></li><li><p>
        If a duplicate key value was present in the table,
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> reported a row count
        indicating that a record was updated, even when no record
        actually changed due to the old and new values being the same.
        Now it reports a row count of zero.
       (<a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>)</p><p>See also <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>, <a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>, <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>.</p></li><li><p>
        <code class="literal">ORDER BY</code> values of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> types could change the
        result returned by a query.
       (<a href="http://bugs.mysql.com/19690" target="_top">Bug#19690</a>)</p></li><li><p>
        The <code class="literal">readline</code> library wrote to uninitialized
        memory, causing <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/19474" target="_top">Bug#19474</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> incorrectly tried to retrieve
        result sets for some queries where no result set was available.
       (<a href="http://bugs.mysql.com/19410" target="_top">Bug#19410</a>)</p></li><li><p>
        Use of already freed memory caused SSL connections to hang
        forever.
       (<a href="http://bugs.mysql.com/19209" target="_top">Bug#19209</a>)</p></li><li><p>
        The server might fail to use an appropriate index for
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> when <code class="literal">ORDER
        BY</code>, <code class="literal">LIMIT</code>, and a nonrestricting
        <code class="literal">WHERE</code> are present.
       (<a href="http://bugs.mysql.com/17711" target="_top">Bug#17711</a>)</p></li><li><p>
        No warning was issued for use of the <code class="literal">DATA
        DIRECTORY</code> or <code class="literal">INDEX DIRECTORY</code> table
        options on a platform that does not support them.
       (<a href="http://bugs.mysql.com/17498" target="_top">Bug#17498</a>)</p></li><li><p>
        When a prepared statement failed during the prepare operation,
        the error code was not cleared when it was reused, even if the
        subsequent use was successful.
       (<a href="http://bugs.mysql.com/15518" target="_top">Bug#15518</a>)</p></li><li><p>
        On Windows, the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> function
        could sleep too long, especially after a change to the system
        clock.
       (<a href="http://bugs.mysql.com/14094" target="_top">Bug#14094</a>, <a href="http://bugs.mysql.com/24686" target="_top">Bug#24686</a>, <a href="http://bugs.mysql.com/17635" target="_top">Bug#17635</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --order-by-primary</strong></span></a> failed if the
        primary key name was an identifier that required quoting.
       (<a href="http://bugs.mysql.com/13926" target="_top">Bug#13926</a>)</p></li><li><p>
        To enable installation of MySQL RPMs on Linux systems running
        RHEL 4 (which includes SE-Linux) additional information was
        provided to specify some actions that are allowed to the MySQL
        binaries.
       (<a href="http://bugs.mysql.com/12676" target="_top">Bug#12676</a>)</p></li><li><p>
        The presence of <code class="literal">ORDER BY</code> in a view definition
        prevented the <code class="literal">MERGE</code> algorithm from being used
        to resolve the view even if nothing else in the definition
        required the <code class="literal">TEMPTABLE</code> algorithm.
       (<a href="http://bugs.mysql.com/12122" target="_top">Bug#12122</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-34"></a>C.1.51. Release Notes for MySQL Enterprise 5.0.34 [MRU] (17 January 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.32).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <a href="server-administration.html#option_mysqld_skip-thread-priority"><code class="option">--skip-thread-priority</code></a> option
        now is enabled by default for binary Mac OS X distributions. Use
        of thread priorities degrades performance on Mac OS X.
       (<a href="http://bugs.mysql.com/18526" target="_top">Bug#18526</a>)</p></li><li><p>
        Added the
        <a href="installing.html#option_configure_disable-grant-options"><code class="option">--disable-grant-options</code></a> option
        to <span><strong class="command">configure</strong></span>. If <span><strong class="command">configure</strong></span>
        is run with this option, the
        <a href="server-administration.html#option_mysqld_bootstrap"><code class="option">--bootstrap</code></a>,
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>, and
        <a href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> options for
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> are disabled and cannot be used. For
        Windows, the <span><strong class="command">configure.js</strong></span> script recognizes
        the <code class="literal">DISABLE_GRANT_OPTIONS</code> flag, which has the
        same effect.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Hosts in clusters with large numbers of nodes could experience
        excessive CPU usage while obtaining configuration data.
       (<a href="http://bugs.mysql.com/25711" target="_top">Bug#25711</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a data node was shut down using the management client
        <code class="literal">STOP</code> command, a connection event
        (<code class="literal">NDB_LE_Connected</code>) was logged instead of a
        disconnection event (<code class="literal">NDB_LE_Disconnected</code>).
       (<a href="http://bugs.mysql.com/22773" target="_top">Bug#22773</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Invoking the <code class="literal">NdbTransaction::execute()</code> method
        using execution type <code class="literal">Commit</code> and abort option
        <code class="literal">AO_IgnoreError</code> could lead to a crash of the
        transaction coordinator (<code class="literal">DBTC</code>).
       (<a href="http://bugs.mysql.com/25090" target="_top">Bug#25090</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        A unique index lookup on a nonexistent tuple could lead to a
        data node timeout (error 4012).
       (<a href="http://bugs.mysql.com/25059" target="_top">Bug#25059</a>)</p></li><li><p>
        Referencing an ambiguous column alias in an expression in the
        <code class="literal">ORDER BY</code> clause of a query caused the server
        to crash.
       (<a href="http://bugs.mysql.com/25427" target="_top">Bug#25427</a>)</p></li><li><p>
        Using a view in combination with a <code class="literal">USING</code>
        clause caused column aliases to be ignored.
       (<a href="http://bugs.mysql.com/25106" target="_top">Bug#25106</a>)</p></li><li><p>
        A multiple-table <code class="literal">DELETE QUICK</code> could sometimes
        cause one of the affected tables to become corrupted.
       (<a href="http://bugs.mysql.com/25048" target="_top">Bug#25048</a>)</p></li><li><p>
        An assertion failed incorrectly for prepared statements that
        contained a single-row uncorrelated subquery that was used as an
        argument of the <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a> predicate.
       (<a href="http://bugs.mysql.com/25027" target="_top">Bug#25027</a>)</p></li><li><p>
        Optimizations that are legal only for subqueries without tables
        and <code class="literal">WHERE</code> conditions were applied for any
        subquery without tables.
       (<a href="http://bugs.mysql.com/24670" target="_top">Bug#24670</a>)</p></li><li><p>
        Some joins in which one of the joined tables was a view could
        return erroneous results or crash the server.
       (<a href="http://bugs.mysql.com/24345" target="_top">Bug#24345</a>)</p></li><li><p>
        A view was not handled correctly if the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part contained
        “<span class="quote"><code class="literal">\Z</code></span>”.
       (<a href="http://bugs.mysql.com/24293" target="_top">Bug#24293</a>)</p></li><li><p>
        The server was built even when <span><strong class="command">configure</strong></span> was
        run with the <a href="installing.html#option_configure_without-server"><code class="option">--without-server</code></a>
        option.
       (<a href="http://bugs.mysql.com/23973" target="_top">Bug#23973</a>)</p><p>See also <a href="http://bugs.mysql.com/32898" target="_top">Bug#32898</a>.</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> tried to sort
        R-tree indexes such as spatial indexes, although this is not
        possible (see <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax">Section 12.5.2.5, “<code class="literal">OPTIMIZE TABLE</code> Syntax”</a>).
       (<a href="http://bugs.mysql.com/23578" target="_top">Bug#23578</a>)</p></li><li><p>
        User-defined variables could consume excess memory, leading to a
        crash caused by the exhaustion of resources available to the
        <code class="literal">MEMORY</code> storage engine, due to the fact that
        this engine is used by MySQL for variable storage and
        intermediate results of <code class="literal">GROUP BY</code> queries.
        Where <code class="literal">SET</code> had been used, such a condition
        could instead give rise to the misleading error message
        <span class="errortext">You may only use constant expressions with
        SET</span>, rather than <span class="errortext">Out of memory (Needed
        NNNNNN bytes)</span>.
       (<a href="http://bugs.mysql.com/23443" target="_top">Bug#23443</a>)</p></li><li><p>
        A table created with the <code class="literal">ROW_FORMAT = FIXED</code>
        table option lost the option if an index was added or dropped
        with <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> or
        <a href="sql-syntax.html#drop-index" title="12.1.15. DROP INDEX Syntax"><code class="literal">DROP INDEX</code></a>.
       (<a href="http://bugs.mysql.com/23404" target="_top">Bug#23404</a>)</p></li><li><p>
        A deadlock could occur, with the server hanging on
        <code class="literal">Closing tables</code>, with a sufficient number of
        concurrent <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a>,
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>,
        and <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations.
       (<a href="http://bugs.mysql.com/23312" target="_top">Bug#23312</a>)</p></li><li><p>
        A compressed <code class="literal">MyISAM</code> table that became
        corrupted could crash <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> and possibly
        the MySQL Server.
       (<a href="http://bugs.mysql.com/23139" target="_top">Bug#23139</a>)</p></li><li><p>
        Changing the value of <code class="literal">MI_KEY_BLOCK_LENGTH</code> in
        <code class="filename">myisam.h</code> and recompiling MySQL resulted in
        a <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> that saw existing
        <code class="literal">MyISAM</code> tables as corrupt.
       (<a href="http://bugs.mysql.com/22119" target="_top">Bug#22119</a>)</p></li><li><p>
        A crash of the MySQL Server could occur when unpacking a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column from a row in a
        corrupted MyISAM table. This could happen when trying to repair
        a table using either <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>
        or <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a>; it could also happen when
        trying to access such a “<span class="quote">broken</span>” row using
        statements like <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> if the
        table was not marked as crashed.
       (<a href="http://bugs.mysql.com/22053" target="_top">Bug#22053</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not support
        the <code class="literal">euckr</code> character set.
       (<a href="http://bugs.mysql.com/21556" target="_top">Bug#21556</a>)</p></li><li><p>
        <code class="filename">mysqld_error.h</code> was not installed when only
        the client libraries were built.
       (<a href="http://bugs.mysql.com/21265" target="_top">Bug#21265</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: During a restart of the MySQL Server
        that followed the creation of a temporary table using the
        <code class="literal">InnoDB</code> storage engine, MySQL failed to clean
        up in such a way that <code class="literal">InnoDB</code> still attempted
        to find the files associated with such tables.
       (<a href="http://bugs.mysql.com/20867" target="_top">Bug#20867</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Optimizations removed in MySQL 5.0.28
        were re-enabled except for files under the
        <code class="literal">innobase/mem</code> directory. (This is a
        fine-tuning of optimization disabling.)
       (<a href="http://bugs.mysql.com/19424" target="_top">Bug#19424</a>)</p></li><li><p>
        Some
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        statements inside stored routines could lead to excessive
        resource usage or a crash of the server.
       (<a href="http://bugs.mysql.com/19194" target="_top">Bug#19194</a>, <a href="http://bugs.mysql.com/24854" target="_top">Bug#24854</a>)</p></li><li><p>
        Instance Manager could crash during shutdown.
       (<a href="http://bugs.mysql.com/19044" target="_top">Bug#19044</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not support
        the <code class="literal">utf8</code> character set.
       (<a href="http://bugs.mysql.com/17044" target="_top">Bug#17044</a>)</p></li><li><p>
        The optimizer removes expressions from <code class="literal">GROUP
        BY</code> and <code class="literal">DISTINCT</code> clauses if they
        happen to participate in <code class="literal">
        <em class="replaceable"><code>expression</code></em> =
        <em class="replaceable"><code>constant</code></em></code> predicates of the
        <code class="literal">WHERE</code> clause, the idea being that, if the
        expression is equal to a constant, then it cannot take on
        multiple values. However, for predicates where the expression
        and the constant item are of different result types (for
        example, when a string column is compared to 0), this is not
        valid, and can lead to invalid results in such cases. The
        optimizer now performs an additional check of the result types
        of the expression and the constant; if their types differ, then
        the expression is not removed from the <code class="literal">GROUP
        BY</code> list.
       (<a href="http://bugs.mysql.com/15881" target="_top">Bug#15881</a>)</p></li><li><p>
        Dropping a user-defined function sometimes did not remove the
        UDF entry from the <code class="literal">mysql.proc</code> table.
       (<a href="http://bugs.mysql.com/15439" target="_top">Bug#15439</a>)</p></li><li><p>
        Inserting a row into a table without specifying a value for a
        <code class="literal">BINARY(<em class="replaceable"><code>N</code></em>) NOT NULL</code>
        column caused the column to be set to spaces, not zeroes.
       (<a href="http://bugs.mysql.com/14171" target="_top">Bug#14171</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-33"></a>C.1.52. Release Notes for MySQL Community Server 5.0.33 (09 January 2007)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.27.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        This version of MySQL Community Server has been released as a
        source tarball only; there are no binaries built by MySQL.
      </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">InnoDB</code> rolls back only the last statement on
        a transaction timeout. A new option,
        <a href="storage-engines.html#sysvar_innodb_rollback_on_timeout"><code class="option">--innodb_rollback_on_timeout</code></a>,
        causes <code class="literal">InnoDB</code> to abort and roll back the
        entire transaction if a transaction timeout occurs (the same
        behavior as in MySQL 5.0.13 and earlier).
       (<a href="http://bugs.mysql.com/24200" target="_top">Bug#24200</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="server-administration.html#sysvar_prepared_stmt_count"><code class="literal">prepared_stmt_count</code></a> system
        variable has been converted to the
        <a href="server-administration.html#statvar_Prepared_stmt_count"><code class="literal">Prepared_stmt_count</code></a> global
        status variable (viewable with the
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
        STATUS</code></a> statement).
       (<a href="http://bugs.mysql.com/23159" target="_top">Bug#23159</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting the configuration parameter
        <code class="literal">LockPagesInMainMemory</code> had no effect.
       (<a href="http://bugs.mysql.com/24461" target="_top">Bug#24461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_config</strong></span> utility now accepts
        <code class="option">-c</code> as a short form of the
        <code class="option">--ndb-connectstring</code> option.
       (<a href="http://bugs.mysql.com/22295" target="_top">Bug#22295</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Added the <a href="mysql-cluster.html#option_ndbd_bind-address"><code class="option">--bind-address</code></a> option for
        <span><strong class="command">ndbd</strong></span>. This allows a data node process to be
        bound to a specific network interface.
       (<a href="http://bugs.mysql.com/22195" target="_top">Bug#22195</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to create a unique hashed index on a column
        that is not defined as <code class="literal">NOT NULL</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This change applies only to tables using the
          <code class="literal">NDB</code> storage engine.
        </p></div><p>
        Unique indexes on columns in <code class="literal">NDB</code>
        tables do not store null values because they are mapped to
        primary keys in an internal index table (and primary keys cannot
        contain nulls).
      </p><p>
        Normally, an additional ordered index is created when one
        creates unique indexes on <code class="literal">NDB</code> table
        columns; this can be used to search for <code class="literal">NULL</code>
        values. However, if <code class="literal">USING HASH</code> is specified
        when such an index is created, no ordered index is created.
      </p><p>
        The reason for permitting unique hash indexes with null values
        is that, in some cases, the user wants to save space if a large
        number of records are pre-allocated but not fully initialized.
        This also assumes that the user will <span class="emphasis"><em>not</em></span>
        try to search for null values. Since MySQL does not support
        indexes that are not allowed to be searched in some cases, the
        <code class="literal">NDB</code> storage engine uses a full
        table scan with pushed conditions for the referenced index
        columns to return the correct result.
      </p><p>
        A warning is returned if one creates a unique nullable hash
        index, since the query optimizer should be provided a hint not
        to use it with <code class="literal">NULL</code> values if this can be
        avoided.
       (<a href="http://bugs.mysql.com/21507" target="_top">Bug#21507</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">Ndb_number_of_storage_nodes</code> system
        variable was renamed to
        <a href="mysql-cluster.html#statvar_Ndb_number_of_data_nodes"><code class="literal">Ndb_number_of_data_nodes</code></a>.
       (<a href="http://bugs.mysql.com/20848" target="_top">Bug#20848</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <a href="sql-syntax.html#help" title="12.3.3. HELP Syntax"><code class="literal">HELP</code></a> command in the Cluster
        management client now provides command-specific help. For
        example, <code class="literal">HELP RESTART</code> in
        <span><strong class="command">ndb_mgm</strong></span> provides detailed information about
        the <code class="literal">RESTART</code> command.
       (<a href="http://bugs.mysql.com/19620" target="_top">Bug#19620</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> now supports an
        <code class="literal">IF EXISTS</code> clause.
       (<a href="http://bugs.mysql.com/23703" target="_top">Bug#23703</a>)</p></li><li><p>
        The <code class="literal">Com_create_user</code> status variable was added
        (for counting <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>
        statements).
       (<a href="http://bugs.mysql.com/22958" target="_top">Bug#22958</a>)</p></li><li><p>
        The <a href="server-administration.html#option_mysqld_memlock"><code class="option">--memlock</code></a> option relies on
        system calls that are unreliable on some operating systems. If a
        crash occurs, the server now checks whether
        <a href="server-administration.html#option_mysqld_memlock"><code class="option">--memlock</code></a> was specified and if so
        issues some information about possible workarounds.
       (<a href="http://bugs.mysql.com/22860" target="_top">Bug#22860</a>)</p></li><li><p>
        If the user specified the server options
        <a href="server-administration.html#sysvar_max_connections"><code class="option">--max-connections=<em class="replaceable"><code>N</code></em>
        </code></a> or
        <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache=<em class="replaceable"><code>M</code></em>
        </code></a>, a warning would be given in some cases that some
        values were recalculated, with the result that
        <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache</code></a> could be assigned
        greater value.
      </p><p>
        In such cases, both the warning and the increase in the
        <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache</code></a> value were
        completely harmless. Note also that it is not possible for the
        MySQL Server to predict or to control limitations on the maximum
        number of open files, since this is determined by the operating
        system.
      </p><p>
        The value of <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache</code></a> is no
        longer increased automatically, and a warning is now given only
        if some values had to be decreased due to operating system
        limits.
       (<a href="http://bugs.mysql.com/21915" target="_top">Bug#21915</a>)</p></li><li><p>
        For the <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a> statement, stored
        procedures that take no arguments now can be invoked without
        parentheses. That is, <code class="literal">CALL p()</code> and
        <code class="literal">CALL p</code> are equivalent.
       (<a href="http://bugs.mysql.com/21462" target="_top">Bug#21462</a>)</p></li><li><p>
        <code class="literal">mysql_upgrade</code> now passes all the parameters
        specified on the command line to both
        <code class="literal">mysqlcheck</code> and <code class="literal">mysql</code> using
        the <code class="filename">upgrade_defaults</code> file.
       (<a href="http://bugs.mysql.com/20100" target="_top">Bug#20100</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> is no longer logged
        to the slow query log.
       (<a href="http://bugs.mysql.com/19764" target="_top">Bug#19764</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --single-transaction</strong></span></a> now uses
        <code class="literal">START TRANSACTION /*!40100 WITH CONSISTENT SNAPSHOT
        */</code> rather than
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> to start
        a transaction, so that a consistent snapshot will be used on
        those servers that support it.
       (<a href="http://bugs.mysql.com/19660" target="_top">Bug#19660</a>)</p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.5.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        The <code class="literal">InnoDB</code> mutex structure was simplified to
        reduce memory load.
       (<a href="http://bugs.mysql.com/24386" target="_top">Bug#24386</a>)</p></li><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> exhibited thread thrashing with more
        than 50 concurrent connections under an update-intensive
        workload.
       (<a href="http://bugs.mysql.com/22868" target="_top">Bug#22868</a>)</p></li><li><p><span class="bold"><strong>Performance</strong></span>: 
        Evaluation of subqueries that require the filesort algorithm
        were allocating and freeing the
        <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> buffer many
        times, resulting in slow performance. Now the buffer is
        allocated once and reused.
       (<a href="http://bugs.mysql.com/21727" target="_top">Bug#21727</a>)</p></li><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> showed substandard performance with
        multiple queries running concurrently.
       (<a href="http://bugs.mysql.com/15815" target="_top">Bug#15815</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node failure during a schema operation
        could lead to additional node failures.
       (<a href="http://bugs.mysql.com/24752" target="_top">Bug#24752</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A committed read could be attempted before a data node had time
        to connect, causing a timeout error.
       (<a href="http://bugs.mysql.com/24717" target="_top">Bug#24717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Sudden disconnection of an SQL or data node could lead to
        shutdown of data nodes with the error <span class="errortext">failed
        ndbrequire</span>.
       (<a href="http://bugs.mysql.com/24447" target="_top">Bug#24447</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_config</strong></span> failed when trying to use 2
        management servers and node IDs.
       (<a href="http://bugs.mysql.com/23887" target="_top">Bug#23887</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Backup of a cluster failed if there were any tables with 128 or
        more columns.
       (<a href="http://bugs.mysql.com/23502" target="_top">Bug#23502</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster backups failed when there were more than 2048 schema
        objects in the cluster.
       (<a href="http://bugs.mysql.com/23499" target="_top">Bug#23499</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client command <code class="literal">ALL DUMP 1000</code>
        would cause the cluster to crash if data nodes were connected to
        the cluster but not yet fully started.
       (<a href="http://bugs.mysql.com/23203" target="_top">Bug#23203</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> on an
        <code class="literal">NDB</code> table could lead to deadlocks
        and memory leaks.
       (<a href="http://bugs.mysql.com/23200" target="_top">Bug#23200</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Inacivity timeouts for scans were not correctly
        handled.
       (<a href="http://bugs.mysql.com/23107" target="_top">Bug#23107</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If a node restart could not be performed from the REDO log, no
        node takeover took place. This could cause partitions to be left
        empty during a system restart.
       (<a href="http://bugs.mysql.com/22893" target="_top">Bug#22893</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Multiple node restarts in rapid succession could cause a system
        restart to fail , or induce a race condition.
       (<a href="http://bugs.mysql.com/22892" target="_top">Bug#22892</a>, <a href="http://bugs.mysql.com/23210" target="_top">Bug#23210</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Attempting to read a nonexistent tuple using
        <code class="literal">Commit</code> mode for
        <code class="literal">NdbTransaction::execute()</code> caused node
        failures.
       (<a href="http://bugs.mysql.com/22672" target="_top">Bug#22672</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="option">--help</code> output from
        <code class="literal">NDB</code> binaries did not include
        file-related options.
       (<a href="http://bugs.mysql.com/21994" target="_top">Bug#21994</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Scans closed before being executed were still placed
        in the send queue.
       (<a href="http://bugs.mysql.com/21941" target="_top">Bug#21941</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A scan timeout returned Error 4028 (<span class="errortext">Node failure
        caused abort of transaction</span>) instead of Error 4008
        (<span class="errortext">Node failure caused abort of
        transaction...</span>).
       (<a href="http://bugs.mysql.com/21799" target="_top">Bug#21799</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The node recovery algorithm was missing a version check for
        tables in the <code class="literal">ALTER_TABLE_COMMITTED</code> state (as
        opposed to the <code class="literal">TABLE_ADD_COMMITTED</code> state,
        which has the version check). This could cause inconsistent
        schemas across nodes following node recovery.
       (<a href="http://bugs.mysql.com/21756" target="_top">Bug#21756</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output for the <code class="option">--help</code> option used with
        <code class="literal">NDB</code> executable programs (such as
        <span><strong class="command">ndbd</strong></span>, <span><strong class="command">ndb_mgm</strong></span>,
        <span><strong class="command">ndb_restore</strong></span>, <span><strong class="command">ndb_config</strong></span>,
        and others mentioned in
        <a href="mysql-cluster.html#mysql-cluster-programs" title="17.6. MySQL Cluster Programs">Section 17.6, “MySQL Cluster Programs”</a>) referred to the
        <code class="filename">Ndb.cfg</code> file, instead of to
        <code class="filename">my.cnf</code>.
       (<a href="http://bugs.mysql.com/21585" target="_top">Bug#21585</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Partition distribution keys were updated only for the primary
        and starting replicas during node recovery. This could lead to
        node failure recovery for clusters having an odd number of
        replicas.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          For best results, use values for
          <code class="literal">NumberOfReplicas</code> that are even powers of 2.
        </p></div><p>(<a href="http://bugs.mysql.com/21535" target="_top">Bug#21535</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> management client did not set the
        exit status on errors, always returning 0 instead.
       (<a href="http://bugs.mysql.com/21530" target="_top">Bug#21530</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster logs were not rotated following the first rotation
        cycle.
       (<a href="http://bugs.mysql.com/21345" target="_top">Bug#21345</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code>
        table with a duplicate value for a nonprimary unique key, the
        error issued would reference the wrong key.
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Condition pushdown did not work correctly with
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns.
       (<a href="http://bugs.mysql.com/21056" target="_top">Bug#21056</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, local checkpointing would hang,
        keeping any unstarted nodes from being started.
       (<a href="http://bugs.mysql.com/20895" target="_top">Bug#20895</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using an invalid node ID with the management client
        <code class="literal">STOP</code> command could cause
        <span><strong class="command">ndb_mgm</strong></span> to hang.
       (<a href="http://bugs.mysql.com/20575" target="_top">Bug#20575</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data nodes added while the cluster was running in single user
        mode were all assigned node ID 0, which could later cause
        multiple node failures. Adding nodes while in single user mode
        is no longer possible.
       (<a href="http://bugs.mysql.com/20395" target="_top">Bug#20395</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases where <code class="literal">SELECT COUNT(*)</code> from an
        <code class="literal">NDB</code> table should have yielded an
        error, <code class="literal">MAX_INT</code> was returned instead.
       (<a href="http://bugs.mysql.com/19914" target="_top">Bug#19914</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Following the restart of a management node, the Cluster
        management client did not automatically reconnect.
       (<a href="http://bugs.mysql.com/19873" target="_top">Bug#19873</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Error messages given when trying to make online changes to
        parameters such as <code class="literal">NoOfReplicas</code> that can only
        be changed via a complete shutdown and restart of the cluster
        did not indicate the true nature of the problem.
       (<a href="http://bugs.mysql.com/19787" target="_top">Bug#19787</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_restore</strong></span> did not always make clear that it
        had recovered successfully from temporary errors while restoring
        a cluster backup.
       (<a href="http://bugs.mysql.com/19651" target="_top">Bug#19651</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In rare situations with resource shortages, a crash could result
        from insufficient <code class="literal">IndexScanOperations</code>.
       (<a href="http://bugs.mysql.com/19198" target="_top">Bug#19198</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -e show | head</strong></span> would hang after
        displaying the first 10 lines of output.
       (<a href="http://bugs.mysql.com/19047" target="_top">Bug#19047</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The error returned by the cluster when too many nodes were
        defined did not make clear the nature of the problem.
       (<a href="http://bugs.mysql.com/19045" target="_top">Bug#19045</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A unique constraint violation was not ignored by an
        <code class="literal">UPDATE IGNORE</code> statement when the constraint
        violation occurred on a nonprimary key.
       (<a href="http://bugs.mysql.com/18487" target="_top">Bug#18487</a>, <a href="http://bugs.mysql.com/24303" target="_top">Bug#24303</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_config</strong></span> utility did not perform host
        lookups correctly when using the <code class="option">--host</code> option
       (<a href="http://bugs.mysql.com/17582" target="_top">Bug#17582</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A problem with takeover during a system restart caused ordered
        indexes to be rebuilt incorrectly.
       (<a href="http://bugs.mysql.com/15303" target="_top">Bug#15303</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Changes to character set variables prior to an action on a
        replication-ignored table were forgotten by slave servers.
       (<a href="http://bugs.mysql.com/22877" target="_top">Bug#22877</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        On slave servers, transactions that exceeded the lock wait
        timeout failed to roll back properly.
       (<a href="http://bugs.mysql.com/20697" target="_top">Bug#20697</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Column names were not quoted properly for replicated views.
       (<a href="http://bugs.mysql.com/19736" target="_top">Bug#19736</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements close to the size of
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> could
        produce binary log events larger than
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> that could
        not be read by slave servers.
       (<a href="http://bugs.mysql.com/19402" target="_top">Bug#19402</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Slave servers would retry the execution of an SQL statement an
        infinite number of times, ignoring the value
        <code class="literal">SLAVE_TRANSACTION_RETRIES</code> when using the NDB
        engine.
       (<a href="http://bugs.mysql.com/16228" target="_top">Bug#16228</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Transient errors in replication from master to slave may trigger
        multiple <code class="literal">Got fatal error 1236: 'binlog truncated in the
        middle of event'</code> errors on the slave.
       (<a href="http://bugs.mysql.com/4053" target="_top">Bug#4053</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Using <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> values with any of the
        comparison methods of the <code class="literal">NdbScanFilter</code> class
        caused data nodes to fail.
       (<a href="http://bugs.mysql.com/24503" target="_top">Bug#24503</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Some MGM API function calls could yield incorrect return values
        in certain cases where the cluster was operating under a very
        high load, or experienced timeouts in inter-node communications.
       (<a href="http://bugs.mysql.com/24011" target="_top">Bug#24011</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        The <code class="literal">NdbOperation::getBlobHandle()</code> method,
        when called with the name of a nonexistent column, caused a
        segmentation fault.
       (<a href="http://bugs.mysql.com/21036" target="_top">Bug#21036</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        When multiple processes or threads in parallel performed the
        same ordered scan with exclusive lock and updated the retrieved
        records, the scan could skip some records, which as a result
        were not updated.
       (<a href="http://bugs.mysql.com/20446" target="_top">Bug#20446</a>)</p></li><li><p>
        The <a href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a> function could
        return <code class="literal">NULL</code> when passed a column for the
        count argument.
       (<a href="http://bugs.mysql.com/24947" target="_top">Bug#24947</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> failed if the
        <code class="literal">--password</code> (or <code class="option">-p</code>) option
        was given.
       (<a href="http://bugs.mysql.com/24896" target="_top">Bug#24896</a>)</p></li><li><p>
        With <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
        enabled, <code class="literal">InnoDB</code> displayed incorrect file
        times in the output from <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a>.
       (<a href="http://bugs.mysql.com/24712" target="_top">Bug#24712</a>)</p></li><li><p>
        <code class="literal">ALTER ENABLE KEYS</code> or <code class="literal">ALTER TABLE
        DISABLE KEYS</code> combined with another
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> option other than
        <code class="literal">RENAME TO</code> did nothing. In addition, if ALTER
        TABLE was used on a table having disabled keys, the keys of the
        resulting table were enabled.
       (<a href="http://bugs.mysql.com/24395" target="_top">Bug#24395</a>)</p></li><li><p>
        The <code class="option">--extern</code> option for
        <span><strong class="command">mysql-test-run.pl</strong></span> did not function correctly.
       (<a href="http://bugs.mysql.com/24354" target="_top">Bug#24354</a>)</p></li><li><p>
        Foreign key identifiers for <code class="literal">InnoDB</code> tables
        could not contain certain characters.
       (<a href="http://bugs.mysql.com/24299" target="_top">Bug#24299</a>)</p></li><li><p>
        The <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> script used the
        <span><strong class="command">source</strong></span> command, which is less portable than
        the <span><strong class="command">.</strong></span> command; it now uses
        <span><strong class="command">.</strong></span> instead.
       (<a href="http://bugs.mysql.com/24294" target="_top">Bug#24294</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements that
        performed both <code class="literal">RENAME TO</code> and
        <code class="literal">{ENABLE|DISABLE} KEYS</code> operations caused a
        server crash.
       (<a href="http://bugs.mysql.com/24219" target="_top">Bug#24219</a>)</p></li><li><p>
        The loose index scan optimization for <code class="literal">GROUP
        BY</code> with <code class="literal">MIN</code> or
        <code class="literal">MAX</code> was not applied within other queries,
        such as <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT ...</code></a>, <code class="literal">INSERT ... SELECT
        ...</code>, or in the <code class="literal">FROM</code> clauses of
        subqueries.
       (<a href="http://bugs.mysql.com/24156" target="_top">Bug#24156</a>)</p></li><li><p>
        There was a race condition in the <code class="literal">InnoDB</code>
        <code class="function">fil_flush_file_spaces()</code> function.
       (<a href="http://bugs.mysql.com/24089" target="_top">Bug#24089</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/15653" target="_top">Bug#15653</a>.</p></li><li><p>
        Subqueries for which a pushed-down condition did not produce
        exactly one key field could cause a server crash.
       (<a href="http://bugs.mysql.com/24056" target="_top">Bug#24056</a>)</p></li><li><p>
        The size of <code class="literal">MEMORY</code> tables and internal
        temporary tables was limited to 4GB on 64-bit Windows systems.
       (<a href="http://bugs.mysql.com/24052" target="_top">Bug#24052</a>)</p></li><li><p>
        yaSSL-related memory leaks were detected by Valgrind.
       (<a href="http://bugs.mysql.com/23981" target="_top">Bug#23981</a>)</p></li><li><p>
        The internal SQL interpreter of <code class="literal">InnoDB</code> placed
        an unnecessary lock on the supremum record with
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        enabled. This caused an assertion failure when
        <code class="literal">InnoDB</code> was built with debugging enabled.
       (<a href="http://bugs.mysql.com/23769" target="_top">Bug#23769</a>)</p></li><li><p>
        <a href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> did not work properly
        as an argument to a stored procedure.
       (<a href="http://bugs.mysql.com/23760" target="_top">Bug#23760</a>)</p></li><li><p>
        <a href="functions.html#function_last-day"><code class="literal">LAST_DAY('0000-00-00')</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/23653" target="_top">Bug#23653</a>)</p></li><li><p>
        A trigger that invoked a stored function could cause a server
        crash when activated by different client connections.
       (<a href="http://bugs.mysql.com/23651" target="_top">Bug#23651</a>)</p></li><li><p>
        The stack size for NetWare binaries was increased to 128KB to
        prevent problems caused by insufficient stack size.
       (<a href="http://bugs.mysql.com/23504" target="_top">Bug#23504</a>)</p></li><li><p>
        If elements in a nontop-level <code class="literal">IN</code> subquery
        were accessed by an index and the subquery result set included a
        <code class="literal">NULL</code> value, the quantified predicate that
        contained the subquery was evaluated to <code class="literal">NULL</code>
        when it should return a non-<code class="literal">NULL</code> value.
       (<a href="http://bugs.mysql.com/23478" target="_top">Bug#23478</a>)</p></li><li><p>
        When applying the
        <a href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> limit,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could truncate
        multi-byte characters in the middle.
       (<a href="http://bugs.mysql.com/23451" target="_top">Bug#23451</a>)</p></li><li><p>
        MySQL 5.0.26 introduced an ABI incompatibility, which this
        release reverts. Programs compiled against 5.0.26 are not
        compatible with any other version and must be recompiled.
       (<a href="http://bugs.mysql.com/23427" target="_top">Bug#23427</a>)</p></li><li><p>
        <code class="literal"><em class="replaceable"><code>M</code></em> % 0</code> returns
        <code class="literal">NULL</code>, but (<code class="literal">
        <em class="replaceable"><code>M</code></em> % 0) IS NULL</code> evaluated to
        false.
       (<a href="http://bugs.mysql.com/23411" target="_top">Bug#23411</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-affected-rows" title="20.9.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return values different from
        <a href="connectors-apis.html#mysql-stmt-affected-rows" title="20.9.7.1. mysql_stmt_affected_rows()"><code class="literal">mysql_stmt_affected_rows()</code></a> for
        the same sequence of statements.
       (<a href="http://bugs.mysql.com/23383" target="_top">Bug#23383</a>)</p></li><li><p>
        For not-yet-authenticated connections, the
        <code class="literal">Time</code> column in <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> was a random value rather than
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/23379" target="_top">Bug#23379</a>)</p></li><li><p>
        Accuracy was improved for comparisons between
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns and numbers
        represented as strings.
       (<a href="http://bugs.mysql.com/23260" target="_top">Bug#23260</a>)</p></li><li><p>
        MySQL failed to build on Linux/Alpha.
       (<a href="http://bugs.mysql.com/23256" target="_top">Bug#23256</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21250" target="_top">Bug#21250</a>.</p></li><li><p>
        If <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> returned
        <code class="literal">NULL</code>, subsequent invocations of
        <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> within a result set or
        within a trigger also returned <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/23254" target="_top">Bug#23254</a>)</p></li><li><p>
        Calculation of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a>,
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>, or
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a> when they are
        referenced more than once in a single query with <code class="literal">GROUP
        BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/23184" target="_top">Bug#23184</a>)</p></li><li><p>
        Insufficient memory
        (<a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>) could
        cause a server crash for several operations on
        <code class="literal">MyISAM</code> tables: repair table, create index by
        sort, repair by sort, parallel repair, bulk insert.
       (<a href="http://bugs.mysql.com/23175" target="_top">Bug#23175</a>)</p></li><li><p>
        The column default value in the output from
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> or <code class="literal">SELECT
        FROM INFORMATION_SCHEMA.COLUMNS</code> was truncated to 64
        characters.
       (<a href="http://bugs.mysql.com/23037" target="_top">Bug#23037</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not check for errors when fetching
        data during result set printing.
       (<a href="http://bugs.mysql.com/22913" target="_top">Bug#22913</a>)</p></li><li><p>
        The return value from <code class="literal">my_seek()</code> was ignored.
       (<a href="http://bugs.mysql.com/22828" target="_top">Bug#22828</a>)</p></li><li><p>
        The optimizer failed to use equality propagation for
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> and <code class="literal">IN</code>
        predicates with string arguments.
       (<a href="http://bugs.mysql.com/22753" target="_top">Bug#22753</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Handler_rollback"><code class="literal">Handler_rollback</code></a> status
        variable sometimes was incremented when no rollback had taken
        place.
       (<a href="http://bugs.mysql.com/22728" target="_top">Bug#22728</a>)</p></li><li><p>
        The <code class="literal">Host</code> column in <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> output was blank when the server was
        started with the
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option.
       (<a href="http://bugs.mysql.com/22723" target="_top">Bug#22723</a>)</p></li><li><p>
        If a table contains an <code class="literal">AUTO_INCREMENT</code> column,
        inserting into an insertable view on the table that does not
        include the <code class="literal">AUTO_INCREMENT</code> column should not
        change the value of
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, because the
        side effects of inserting default values into columns not part
        of the view should not be visible. MySQL was incorrectly setting
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to zero.
       (<a href="http://bugs.mysql.com/22584" target="_top">Bug#22584</a>)</p></li><li><p>
        Queries using a column alias in an expression as part of an
        <code class="literal">ORDER BY</code> clause failed, an example of such a
        query being <code class="literal">SELECT mycol + 1 AS mynum FROM mytable
        ORDER BY 30 - mynum</code>.
       (<a href="http://bugs.mysql.com/22457" target="_top">Bug#22457</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> caused a server
        crash for queries that selected from
        <code class="literal">INFORMATION_SCHEMA</code> in a subquery in the
        <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/22413" target="_top">Bug#22413</a>)</p></li><li><p>
        Instance Manager had a race condition involving <span><strong class="command">
        mysqld</strong></span> PID file removal.
       (<a href="http://bugs.mysql.com/22379" target="_top">Bug#22379</a>)</p></li><li><p>
        A server crash occurred when using <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA</code></a> to load a table containing a <code class="literal">NOT
        NULL</code> spatial column, when the statement did not load
        the spatial column. Now a <code class="literal">NULL supplied to NOT NULL
        column</code> error occurs.
       (<a href="http://bugs.mysql.com/22372" target="_top">Bug#22372</a>)</p></li><li><p>
        The optimizer used the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>
        join type rather than <a href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a>
        for a simple join on strings.
       (<a href="http://bugs.mysql.com/22367" target="_top">Bug#22367</a>)</p></li><li><p>
        Some queries that used <a href="functions.html#function_max"><code class="literal">MAX()</code></a> and
        <code class="literal">GROUP BY</code> could incorrectly return an empty
        result.
       (<a href="http://bugs.mysql.com/22342" target="_top">Bug#22342</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> requires complete
        dates with no “<span class="quote">zero</span>” parts, but sometimes did not
        return <code class="literal">NULL</code> when given such a date.
       (<a href="http://bugs.mysql.com/22229" target="_top">Bug#22229</a>)</p></li><li><p>
        If an <a href="server-administration.html#sysvar_init_connect"><code class="literal">init_connect</code></a> SQL
        statement produced an error, the connection was silently
        terminated with no error message. Now the server writes a
        warning to the error log.
       (<a href="http://bugs.mysql.com/22158" target="_top">Bug#22158</a>)</p></li><li><p>
        Some small double precision numbers (such as
        <code class="literal">1.00000001e-300</code>) that should have been
        accepted were truncated to zero.
       (<a href="http://bugs.mysql.com/22129" target="_top">Bug#22129</a>)</p></li><li><p>
        For a nonexistent table, <code class="literal">DROP TEMPORARY TABLE</code>
        failed with an incorrect error message if
        <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> was enabled.
       (<a href="http://bugs.mysql.com/22077" target="_top">Bug#22077</a>)</p></li><li><p>
        Trailing spaces were not removed from Unicode
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column values when used in
        indexes. This resulted in excessive usage of storage space, and
        could affect the results of some <code class="literal">ORDER BY</code>
        queries that made use of such indexes.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          When upgrading, it is necessary to re-create any existing
          indexes on Unicode <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns
          in order to take advantage of the fix. This can be done by
          using a <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> statement
          on each affected table.
        </p></div><p>(<a href="http://bugs.mysql.com/22052" target="_top">Bug#22052</a>)</p></li><li><p>
        The code for generating <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a>
        statements for binary logging of <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE
        PROCEDURE</code></a> statements resulted in confusing output from
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> for <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP
        PROCEDURE</code></a> statements.
       (<a href="http://bugs.mysql.com/22043" target="_top">Bug#22043</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> returned
        <code class="literal">NULL</code> if the format string contained a space
        following a nonformat character.
       (<a href="http://bugs.mysql.com/22029" target="_top">Bug#22029</a>)</p></li><li><p>
        Use of a DES-encrypted SSL certificate file caused a server
        crash.
       (<a href="http://bugs.mysql.com/21868" target="_top">Bug#21868</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> with a
        <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> statement that
        contained a syntax error caused a server crash.
       (<a href="http://bugs.mysql.com/21856" target="_top">Bug#21856</a>)</p></li><li><p>
        Adding a day, month, or year interval to a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value produced a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>, but adding a week interval
        produced a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value. Now
        all produce a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value.
       (<a href="http://bugs.mysql.com/21811" target="_top">Bug#21811</a>)</p></li><li><p>
        In some cases, the parser failed to distinguish a user-defined
        function from a stored function.
       (<a href="http://bugs.mysql.com/21809" target="_top">Bug#21809</a>)</p></li><li><p>
        Use of a subquery that invoked a function in the column list of
        the outer query resulted in a memory leak.
       (<a href="http://bugs.mysql.com/21798" target="_top">Bug#21798</a>)</p></li><li><p>
        Inserting a default or invalid value into a spatial column could
        fail with <code class="literal">Unknown error</code> rather than a more
        appropriate error.
       (<a href="http://bugs.mysql.com/21790" target="_top">Bug#21790</a>)</p></li><li><p>
        It was possible to use <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        values whose year, month, and day parts were all zeroes but
        whose hour, minute, and second parts contained nonzero values,
        an example of such an illegal
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> being
        <code class="literal">'0000-00-00 11:23:45'</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/21789" target="_top">Bug#21789</a>)</p><p>See also <a href="http://bugs.mysql.com/25301" target="_top">Bug#25301</a>.</p></li><li><p>
        yaSSL crashed on pre-Pentium Intel CPUs.
       (<a href="http://bugs.mysql.com/21765" target="_top">Bug#21765</a>)</p></li><li><p>
        Through the C API, the member strings in
        <code class="literal">MYSQL_FIELD</code> for a query that contains
        expressions may return incorrect results.
       (<a href="http://bugs.mysql.com/21635" target="_top">Bug#21635</a>)</p></li><li><p>
        Selecting from a <code class="literal">MERGE</code> table could result in
        a server crash if the underlying tables had fewer indexes than
        the <code class="literal">MERGE</code> table itself.
       (<a href="http://bugs.mysql.com/21617" target="_top">Bug#21617</a>, <a href="http://bugs.mysql.com/22937" target="_top">Bug#22937</a>)</p></li><li><p>
        View columns were always handled as having implicit derivation,
        leading to <code class="literal">illegal mix of collation errors</code>
        for some views in <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>
        operations. Now view column derivation comes from the original
        expression given in the view definition.
       (<a href="http://bugs.mysql.com/21505" target="_top">Bug#21505</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> crashed while performing XA recovery
        of prepared transactions.
       (<a href="http://bugs.mysql.com/21468" target="_top">Bug#21468</a>)</p></li><li><p>
        <a href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returned a signed
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> value, not an unsigned
        value.
       (<a href="http://bugs.mysql.com/21466" target="_top">Bug#21466</a>)</p></li><li><p>
        After <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
        READ LOCK</code></a> followed by
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">UNLOCK
        TABLES</code></a>, attempts to drop or alter a stored routine
        failed with an error that the routine did not exist, and
        attempts to execute the routine failed with a lock conflict
        error.
       (<a href="http://bugs.mysql.com/21414" target="_top">Bug#21414</a>)</p></li><li><p>
        It was possible to set the backslash character
        (“<span class="quote"><code class="literal">\</code></span>”) as the delimiter character
        using <code class="literal">DELIMITER</code>, but not actually possible to
        use it as the delimiter.
       (<a href="http://bugs.mysql.com/21412" target="_top">Bug#21412</a>)</p></li><li><p>
        For multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>
        statements, storage engines were not notified of duplicate-key
        errors.
       (<a href="http://bugs.mysql.com/21381" target="_top">Bug#21381</a>)</p></li><li><p>
        Within a prepared statement, <code class="literal">SELECT (COUNT(*) =
        1)</code> (or similar use of other aggregate functions) did
        not return the correct result for statement re-execution.
       (<a href="http://bugs.mysql.com/21354" target="_top">Bug#21354</a>)</p></li><li><p>
        It was possible for a stored routine with a
        non-<code class="literal">latin1</code> name to cause a stack overrun.
       (<a href="http://bugs.mysql.com/21311" target="_top">Bug#21311</a>)</p></li><li><p>
        Certain malformed <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statements could crash the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
       (<a href="http://bugs.mysql.com/21142" target="_top">Bug#21142</a>)</p></li><li><p>
        Creating a <code class="literal">TEMPORARY</code> table with the same name
        as an existing table that was locked by another client could
        result in a lock conflict for <code class="literal">DROP TEMPORARY
        TABLE</code> because the server unnecessarily tried to
        acquire a name lock.
       (<a href="http://bugs.mysql.com/21096" target="_top">Bug#21096</a>)</p></li><li><p>
        Incorrect results could be obtained from re-execution of a
        parametrized prepared statement or a stored routine with a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> that uses <code class="literal">LEFT
        JOIN</code> with a second table having only one row.
       (<a href="http://bugs.mysql.com/21081" target="_top">Bug#21081</a>)</p></li><li><p>
        Within a stored routine, a view definition cannot refer to
        routine parameters or local variables. However, an error did not
        occur until the routine was called. Now it occurs during parsing
        of the routine creation statement.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          A side effect of this fix is that if you have already created
          such routines, and error will occur if you execute
          <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> or
          <a href="sql-syntax.html#show-create-function" title="12.5.5.7. SHOW CREATE FUNCTION Syntax"><code class="literal">SHOW CREATE FUNCTION</code></a>. You
          should drop these routines because they are erroneous.
        </p></div><p>(<a href="http://bugs.mysql.com/20953" target="_top">Bug#20953</a>)</p></li><li><p>
        In <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, invoking <code class="literal">connect</code>
        or <code class="literal">\r</code> with very long
        <em class="replaceable"><code>db_name</code></em> or
        <em class="replaceable"><code>host_name</code></em> parameters caused buffer
        overflow.
       (<a href="http://bugs.mysql.com/20894" target="_top">Bug#20894</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> truncated the
        <code class="literal">Value</code> field to 256 characters.
       (<a href="http://bugs.mysql.com/20862" target="_top">Bug#20862</a>)</p></li><li><p>
        Selecting into variables sometimes returned incorrect wrong
        results.
       (<a href="http://bugs.mysql.com/20836" target="_top">Bug#20836</a>)</p></li><li><p>
        <code class="literal">WITH ROLLUP</code> could group unequal values.
       (<a href="http://bugs.mysql.com/20825" target="_top">Bug#20825</a>)</p></li><li><p>
        Range searches on columns with an index prefix could miss
        records.
       (<a href="http://bugs.mysql.com/20732" target="_top">Bug#20732</a>)</p></li><li><p>
        Inserting <code class="literal">DEFAULT</code> into a column with no
        default value could result in garbage in the column. Now the
        same result occurs as when inserting <code class="literal">NULL</code>
        into a <code class="literal">NOT NULL</code> column.
       (<a href="http://bugs.mysql.com/20691" target="_top">Bug#20691</a>)</p></li><li><p>
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that referred to a key
        column in the <code class="literal">WHERE</code> clause and activated a
        trigger that modified the column resulted in a loop.
       (<a href="http://bugs.mysql.com/20670" target="_top">Bug#20670</a>)</p></li><li><p>
        <code class="literal">CONCURRENT</code> did not work correctly for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a>.
       (<a href="http://bugs.mysql.com/20637" target="_top">Bug#20637</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> altered the
        <code class="literal">table_privs.table_priv</code> column to contain too
        few privileges, causing loss of the <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> and <a href="server-administration.html#priv_show-view"><code class="literal">SHOW VIEW</code></a>
        privileges.
       (<a href="http://bugs.mysql.com/20589" target="_top">Bug#20589</a>)</p></li><li><p>
        <code class="literal">LIKE</code> searches failed for indexed
        <code class="literal">utf8</code> character columns.
       (<a href="http://bugs.mysql.com/20471" target="_top">Bug#20471</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> set
        to 1, <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> printed
        incorrect output for table names containing Turkish I (LATIN
        CAPITAL LETTER I WITH DOT ABOVE).
       (<a href="http://bugs.mysql.com/20404" target="_top">Bug#20404</a>)</p></li><li><p>
        A query with a subquery that references columns of a view from
        the outer <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> could return an
        incorrect result if used from a prepared statement.
       (<a href="http://bugs.mysql.com/20327" target="_top">Bug#20327</a>)</p></li><li><p>
        For queries that select from a view, the server was returning
        <code class="literal">MYSQL_FIELD</code> metadata inconsistently for view
        names and table names. For view columns, the server now returns
        the view name in the <code class="literal">table</code> field and, if the
        column selects from an underlying table, the table name in the
        <code class="literal">org_table</code> field.
       (<a href="http://bugs.mysql.com/20191" target="_top">Bug#20191</a>)</p></li><li><p>
        Invalidating the query cache caused a server crash for
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO ...
        SELECT</code></a> statements that selected from a view.
       (<a href="http://bugs.mysql.com/20045" target="_top">Bug#20045</a>)</p></li><li><p>
        With <code class="literal">sql_mode = TRADITIONAL</code>, MySQL
        incorrectly aborted on warnings within stored routines and
        triggers.
       (<a href="http://bugs.mysql.com/20028" target="_top">Bug#20028</a>)</p></li><li><p>
        Unsigned <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> values treated as
        signed values by the <a href="functions.html#function_mod"><code class="literal">MOD()</code></a>
        function.
       (<a href="http://bugs.mysql.com/19955" target="_top">Bug#19955</a>)</p></li><li><p>
        Compiling PHP 5.1 with the MySQL static libraries failed on some
        versions of Linux.
       (<a href="http://bugs.mysql.com/19817" target="_top">Bug#19817</a>)</p></li><li><p>
        The <code class="literal">DELIMITER</code> statement did not work
        correctly when used in an SQL file run using the
        <code class="literal">SOURCE</code> statement.
       (<a href="http://bugs.mysql.com/19799" target="_top">Bug#19799</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --xml</strong></span></a> produced invalid XML for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> data.
       (<a href="http://bugs.mysql.com/19745" target="_top">Bug#19745</a>)</p></li><li><p>
        For a cast of a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value
        containing microseconds to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>, the microseconds part
        was truncated without generating a warning. Now the microseconds
        part is preserved.
       (<a href="http://bugs.mysql.com/19491" target="_top">Bug#19491</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Reduced optimization level for
        Windows 64 builds to handle possible memory overrun.
       (<a href="http://bugs.mysql.com/19424" target="_top">Bug#19424</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column values inserted
        on a MySQL 4.1 server had trailing zeroes following upgrade to
        MySQL 5.0 or later.
       (<a href="http://bugs.mysql.com/19371" target="_top">Bug#19371</a>)</p></li><li><p>
        <code class="literal">FLUSH INSTANCES</code> in Instance Manager triggered
        an assertion failure.
       (<a href="http://bugs.mysql.com/19368" target="_top">Bug#19368</a>)</p></li><li><p>
        For a debug server, a reference to an undefined user variable in
        a prepared statement executed with
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/19356" target="_top">Bug#19356</a>)</p></li><li><p>
        The server could send incorrect column count information to the
        client for queries that produce a larger number of columns than
        can fit in a two-byte number.
       (<a href="http://bugs.mysql.com/19216" target="_top">Bug#19216</a>)</p></li><li><p>
        Within a trigger for a base table, selecting from a view on that
        base table failed.
       (<a href="http://bugs.mysql.com/19111" target="_top">Bug#19111</a>)</p></li><li><p>
        The value of the <a href="server-administration.html#sysvar_warning_count"><code class="literal">warning_count</code></a>
        system variable was not being calculated correctly (also
        affecting <code class="literal">SHOW COUNT(*) WARNINGS</code>).
       (<a href="http://bugs.mysql.com/19024" target="_top">Bug#19024</a>)</p></li><li><p>
        For some problems relating to character set conversion or
        incorrect string values for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>, the server was reporting
        truncation or length errors instead.
       (<a href="http://bugs.mysql.com/18908" target="_top">Bug#18908</a>)</p></li><li><p>
        <code class="literal">DELETE IGNORE</code> could hang for foreign key
        parent deletes.
       (<a href="http://bugs.mysql.com/18819" target="_top">Bug#18819</a>)</p></li><li><p>
        Constant expressions and some numeric constants used as input
        parameters to user-defined functions were not treated as
        constants.
       (<a href="http://bugs.mysql.com/18761" target="_top">Bug#18761</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> used table locks (not row locks)
        within stored functions.
       (<a href="http://bugs.mysql.com/18077" target="_top">Bug#18077</a>)</p></li><li><p>
        <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a> wrote to unallocated memory,
        causing a crash.
       (<a href="http://bugs.mysql.com/17951" target="_top">Bug#17951</a>)</p></li><li><p>
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH LOGS</code></a> or
        <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin flush-logs</strong></span></a> caused a server crash
        if the binary log was not open.
       (<a href="http://bugs.mysql.com/17733" target="_top">Bug#17733</a>)</p></li><li><p>
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables"><span><strong class="command">mysql_fix_privilege_tables</strong></span></a> did not accept a
        password containing embedded space or apostrophe characters.
       (<a href="http://bugs.mysql.com/17700" target="_top">Bug#17700</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> would lose its connection to the server
        if its standard output was not writable.
       (<a href="http://bugs.mysql.com/17583" target="_top">Bug#17583</a>)</p></li><li><p>
        Attempting to use a view containing <code class="literal">DEFINER</code>
        information for a nonexistent user resulted in an error message
        that revealed the definer account. Now the definer is revealed
        only to superusers. Other users receive only an <code class="literal">access
        denied</code> message.
       (<a href="http://bugs.mysql.com/17254" target="_top">Bug#17254</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> did not work correctly for
        RPM-based installations.
       (<a href="http://bugs.mysql.com/17194" target="_top">Bug#17194</a>)</p></li><li><p>
        <a href="functions.html#function_in"><code class="literal">IN()</code></a> and
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> can return
        <code class="literal">NULL</code>, but did not signal that to the query
        processor, causing incorrect results for
        <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>
        operations.
       (<a href="http://bugs.mysql.com/17047" target="_top">Bug#17047</a>)</p></li><li><p>
        A client library crash was caused by executing a statement such
        as <code class="literal">SELECT * FROM t1 PROCEDURE ANALYSE()</code> using
        a server side cursor on a table <code class="literal">t1</code> that does
        not have the same number of columns as the output from
        <code class="literal">PROCEDURE ANALYSE()</code>.
       (<a href="http://bugs.mysql.com/17039" target="_top">Bug#17039</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> for a view failed to
        prevent storing invalid column values for
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/16813" target="_top">Bug#16813</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> was not able to
        rename a view.
       (<a href="http://bugs.mysql.com/14959" target="_top">Bug#14959</a>)</p></li><li><p>
        Statements such as <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP PROCEDURE</code></a>
        and <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> were written to the
        binary log too late due to a race condition.
       (<a href="http://bugs.mysql.com/14262" target="_top">Bug#14262</a>)</p></li><li><p>
        A literal string in a <code class="literal">GROUP BY</code> clause could
        be interpreted as a column name.
       (<a href="http://bugs.mysql.com/14019" target="_top">Bug#14019</a>)</p></li><li><p>
        Instance Manager didn't close the client socket file when
        starting a new <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> instance.
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> inherited the socket, causing clients
        connected to Instance Manager to hang.
       (<a href="http://bugs.mysql.com/12751" target="_top">Bug#12751</a>)</p></li><li><p>
        Entries in the slow query log could have an incorrect
        <code class="literal">Rows_examined</code> value.
       (<a href="http://bugs.mysql.com/12240" target="_top">Bug#12240</a>)</p></li><li><p>
        Warnings were generated when explicitly casting a character to a
        number (for example, <a href="functions.html#function_cast"><code class="literal">CAST('x' AS
        SIGNED)</code></a>), but not for implicit conversions in simple
        arithmetic operations (such as <code class="literal">'x' + 0</code>). Now
        warnings are generated in all cases.
       (<a href="http://bugs.mysql.com/11927" target="_top">Bug#11927</a>)</p></li><li><p>
        Lack of validation for input and output
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values resulted in several
        problems: <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> in some
        cases did not clip large values to the
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> range appropriately;
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> treated
        <code class="literal">BIGINT UNSIGNED</code> values as signed; only
        truncation warnings were produced when both truncation and
        out-of-range <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values
        occurred.
       (<a href="http://bugs.mysql.com/11655" target="_top">Bug#11655</a>, <a href="http://bugs.mysql.com/20927" target="_top">Bug#20927</a>)</p></li><li><p>
        Metadata for columns calculated from scalar subqueries was
        limited to integer, double, or string, even if the actual type
        of the column was different.
       (<a href="http://bugs.mysql.com/11032" target="_top">Bug#11032</a>)</p></li><li><p>
        Several string functions could return incorrect results when
        given very large length arguments.
       (<a href="http://bugs.mysql.com/10963" target="_top">Bug#10963</a>)</p></li><li><p>
        <a href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> did not accept
        arguments up to <a href="functions.html#function_power"><code class="literal">POWER(2,31)-1</code></a>,
        which it had previously.
       (<a href="http://bugs.mysql.com/9191" target="_top">Bug#9191</a>)</p></li><li><p>
        Subqueries of the form <code class="literal">NULL IN (SELECT ...)</code>
        returned invalid results.
       (<a href="http://bugs.mysql.com/8804" target="_top">Bug#8804</a>, <a href="http://bugs.mysql.com/23485" target="_top">Bug#23485</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> with
        <a href="server-administration.html#sysvar_myisam_repair_threads"><code class="literal">myisam_repair_threads</code></a> &gt; 1
        could result in <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/8283" target="_top">Bug#8283</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-32"></a>C.1.53. Release Notes for MySQL Enterprise 5.0.32 [MRU] (20 December 2006)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.30).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">InnoDB</code> rolls back only the last statement on
        a transaction timeout. A new option,
        <a href="storage-engines.html#sysvar_innodb_rollback_on_timeout"><code class="option">--innodb_rollback_on_timeout</code></a>,
        causes <code class="literal">InnoDB</code> to abort and roll back the
        entire transaction if a transaction timeout occurs (the same
        behavior as in MySQL 5.0.13 and earlier).
       (<a href="http://bugs.mysql.com/24200" target="_top">Bug#24200</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="server-administration.html#sysvar_prepared_stmt_count"><code class="literal">prepared_stmt_count</code></a> system
        variable has been converted to the
        <a href="server-administration.html#statvar_Prepared_stmt_count"><code class="literal">Prepared_stmt_count</code></a> global
        status variable (viewable with the
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
        STATUS</code></a> statement).
       (<a href="http://bugs.mysql.com/23159" target="_top">Bug#23159</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting the configuration parameter
        <code class="literal">LockPagesInMainMemory</code> had no effect.
       (<a href="http://bugs.mysql.com/24461" target="_top">Bug#24461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to create a unique hashed index on a column
        that is not defined as <code class="literal">NOT NULL</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This change applies only to tables using the
          <code class="literal">NDB</code> storage engine.
        </p></div><p>
        Unique indexes on columns in <code class="literal">NDB</code>
        tables do not store null values because they are mapped to
        primary keys in an internal index table (and primary keys cannot
        contain nulls).
      </p><p>
        Normally, an additional ordered index is created when one
        creates unique indexes on <code class="literal">NDB</code> table
        columns; this can be used to search for <code class="literal">NULL</code>
        values. However, if <code class="literal">USING HASH</code> is specified
        when such an index is created, no ordered index is created.
      </p><p>
        The reason for permitting unique hash indexes with null values
        is that, in some cases, the user wants to save space if a large
        number of records are pre-allocated but not fully initialized.
        This also assumes that the user will <span class="emphasis"><em>not</em></span>
        try to search for null values. Since MySQL does not support
        indexes that are not allowed to be searched in some cases, the
        <code class="literal">NDB</code> storage engine uses a full
        table scan with pushed conditions for the referenced index
        columns to return the correct result.
      </p><p>
        A warning is returned if one creates a unique nullable hash
        index, since the query optimizer should be provided a hint not
        to use it with <code class="literal">NULL</code> values if this can be
        avoided.
       (<a href="http://bugs.mysql.com/21507" target="_top">Bug#21507</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> now supports an
        <code class="literal">IF EXISTS</code> clause.
       (<a href="http://bugs.mysql.com/23703" target="_top">Bug#23703</a>)</p></li><li><p>
        The <code class="literal">Com_create_user</code> status variable was added
        (for counting <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>
        statements).
       (<a href="http://bugs.mysql.com/22958" target="_top">Bug#22958</a>)</p></li><li><p>
        The <a href="server-administration.html#option_mysqld_memlock"><code class="option">--memlock</code></a> option relies on
        system calls that are unreliable on some operating systems. If a
        crash occurs, the server now checks whether
        <a href="server-administration.html#option_mysqld_memlock"><code class="option">--memlock</code></a> was specified and if so
        issues some information about possible workarounds.
       (<a href="http://bugs.mysql.com/22860" target="_top">Bug#22860</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now accepts the
        <code class="option">--debug-info</code> option, which displays debugging
        information and memory and CPU usage statistics at program exit.
      </p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.5.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        The <code class="literal">InnoDB</code> mutex structure was simplified to
        reduce memory load.
       (<a href="http://bugs.mysql.com/24386" target="_top">Bug#24386</a>)</p></li><li><p><span class="bold"><strong>Performance</strong></span>: 
        Evaluation of subqueries that require the filesort algorithm
        were allocating and freeing the
        <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> buffer many
        times, resulting in slow performance. Now the buffer is
        allocated once and reused.
       (<a href="http://bugs.mysql.com/21727" target="_top">Bug#21727</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node failure during a schema operation
        could lead to additional node failures.
       (<a href="http://bugs.mysql.com/24752" target="_top">Bug#24752</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A committed read could be attempted before a data node had time
        to connect, causing a timeout error.
       (<a href="http://bugs.mysql.com/24717" target="_top">Bug#24717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Sudden disconnection of an SQL or data node could lead to
        shutdown of data nodes with the error <span class="errortext">failed
        ndbrequire</span>.
       (<a href="http://bugs.mysql.com/24447" target="_top">Bug#24447</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_config</strong></span> failed when trying to use 2
        management servers and node IDs.
       (<a href="http://bugs.mysql.com/23887" target="_top">Bug#23887</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If the value set for <code class="literal">MaxNoOfAttributes</code> is
        excessive, a suitable error message is now returned.
       (<a href="http://bugs.mysql.com/19352" target="_top">Bug#19352</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A unique constraint violation was not ignored by an
        <code class="literal">UPDATE IGNORE</code> statement when the constraint
        violation occurred on a nonprimary key.
       (<a href="http://bugs.mysql.com/18487" target="_top">Bug#18487</a>, <a href="http://bugs.mysql.com/24303" target="_top">Bug#24303</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Changes to character set variables prior to an action on a
        replication-ignored table were forgotten by slave servers.
       (<a href="http://bugs.mysql.com/22877" target="_top">Bug#22877</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        On slave servers, transactions that exceeded the lock wait
        timeout failed to roll back properly.
       (<a href="http://bugs.mysql.com/20697" target="_top">Bug#20697</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements close to the size of
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> could
        produce binary log events larger than
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> that could
        not be read by slave servers.
       (<a href="http://bugs.mysql.com/19402" target="_top">Bug#19402</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Slave servers would retry the execution of an SQL statement an
        infinite number of times, ignoring the value
        <code class="literal">SLAVE_TRANSACTION_RETRIES</code> when using the NDB
        engine.
       (<a href="http://bugs.mysql.com/16228" target="_top">Bug#16228</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Using <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> values with any of the
        comparison methods of the <code class="literal">NdbScanFilter</code> class
        caused data nodes to fail.
       (<a href="http://bugs.mysql.com/24503" target="_top">Bug#24503</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Some MGM API function calls could yield incorrect return values
        in certain cases where the cluster was operating under a very
        high load, or experienced timeouts in inter-node communications.
       (<a href="http://bugs.mysql.com/24011" target="_top">Bug#24011</a>)</p></li><li><p>
        The <a href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a> function could
        return <code class="literal">NULL</code> when passed a column for the
        count argument.
       (<a href="http://bugs.mysql.com/24947" target="_top">Bug#24947</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> failed if the
        <code class="literal">--password</code> (or <code class="option">-p</code>) option
        was given.
       (<a href="http://bugs.mysql.com/24896" target="_top">Bug#24896</a>)</p></li><li><p>
        With <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
        enabled, <code class="literal">InnoDB</code> displayed incorrect file
        times in the output from <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a>.
       (<a href="http://bugs.mysql.com/24712" target="_top">Bug#24712</a>)</p></li><li><p>
        <code class="literal">ALTER ENABLE KEYS</code> or <code class="literal">ALTER TABLE
        DISABLE KEYS</code> combined with another
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> option other than
        <code class="literal">RENAME TO</code> did nothing. In addition, if ALTER
        TABLE was used on a table having disabled keys, the keys of the
        resulting table were enabled.
       (<a href="http://bugs.mysql.com/24395" target="_top">Bug#24395</a>)</p></li><li><p>
        The <code class="option">--extern</code> option for
        <span><strong class="command">mysql-test-run.pl</strong></span> did not function correctly.
       (<a href="http://bugs.mysql.com/24354" target="_top">Bug#24354</a>)</p></li><li><p>
        Foreign key identifiers for <code class="literal">InnoDB</code> tables
        could not contain certain characters.
       (<a href="http://bugs.mysql.com/24299" target="_top">Bug#24299</a>)</p></li><li><p>
        The <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> script used the
        <span><strong class="command">source</strong></span> command, which is less portable than
        the <span><strong class="command">.</strong></span> command; it now uses
        <span><strong class="command">.</strong></span> instead.
       (<a href="http://bugs.mysql.com/24294" target="_top">Bug#24294</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements that
        performed both <code class="literal">RENAME TO</code> and
        <code class="literal">{ENABLE|DISABLE} KEYS</code> operations caused a
        server crash.
       (<a href="http://bugs.mysql.com/24219" target="_top">Bug#24219</a>)</p></li><li><p>
        The loose index scan optimization for <code class="literal">GROUP
        BY</code> with <code class="literal">MIN</code> or
        <code class="literal">MAX</code> was not applied within other queries,
        such as <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT ...</code></a>, <code class="literal">INSERT ... SELECT
        ...</code>, or in the <code class="literal">FROM</code> clauses of
        subqueries.
       (<a href="http://bugs.mysql.com/24156" target="_top">Bug#24156</a>)</p></li><li><p>
        Subqueries for which a pushed-down condition did not produce
        exactly one key field could cause a server crash.
       (<a href="http://bugs.mysql.com/24056" target="_top">Bug#24056</a>)</p></li><li><p>
        The size of <code class="literal">MEMORY</code> tables and internal
        temporary tables was limited to 4GB on 64-bit Windows systems.
       (<a href="http://bugs.mysql.com/24052" target="_top">Bug#24052</a>)</p></li><li><p>
        <a href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> did not work properly
        as an argument to a stored procedure.
       (<a href="http://bugs.mysql.com/23760" target="_top">Bug#23760</a>)</p></li><li><p>
        <a href="functions.html#function_last-day"><code class="literal">LAST_DAY('0000-00-00')</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/23653" target="_top">Bug#23653</a>)</p></li><li><p>
        A trigger that invoked a stored function could cause a server
        crash when activated by different client connections.
       (<a href="http://bugs.mysql.com/23651" target="_top">Bug#23651</a>)</p></li><li><p>
        The stack size for NetWare binaries was increased to 128KB to
        prevent problems caused by insufficient stack size.
       (<a href="http://bugs.mysql.com/23504" target="_top">Bug#23504</a>)</p></li><li><p>
        If elements in a nontop-level <code class="literal">IN</code> subquery
        were accessed by an index and the subquery result set included a
        <code class="literal">NULL</code> value, the quantified predicate that
        contained the subquery was evaluated to <code class="literal">NULL</code>
        when it should return a non-<code class="literal">NULL</code> value.
       (<a href="http://bugs.mysql.com/23478" target="_top">Bug#23478</a>)</p></li><li><p>
        When applying the
        <a href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> limit,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could truncate
        multi-byte characters in the middle.
       (<a href="http://bugs.mysql.com/23451" target="_top">Bug#23451</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-affected-rows" title="20.9.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return values different from
        <a href="connectors-apis.html#mysql-stmt-affected-rows" title="20.9.7.1. mysql_stmt_affected_rows()"><code class="literal">mysql_stmt_affected_rows()</code></a> for
        the same sequence of statements.
       (<a href="http://bugs.mysql.com/23383" target="_top">Bug#23383</a>)</p></li><li><p>
        Accuracy was improved for comparisons between
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns and numbers
        represented as strings.
       (<a href="http://bugs.mysql.com/23260" target="_top">Bug#23260</a>)</p></li><li><p>
        Calculation of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a>,
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>, or
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a> when they are
        referenced more than once in a single query with <code class="literal">GROUP
        BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/23184" target="_top">Bug#23184</a>)</p></li><li><p>
        Queries using a column alias in an expression as part of an
        <code class="literal">ORDER BY</code> clause failed, an example of such a
        query being <code class="literal">SELECT mycol + 1 AS mynum FROM mytable
        ORDER BY 30 - mynum</code>.
       (<a href="http://bugs.mysql.com/22457" target="_top">Bug#22457</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> caused a server
        crash for queries that selected from
        <code class="literal">INFORMATION_SCHEMA</code> in a subquery in the
        <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/22413" target="_top">Bug#22413</a>)</p></li><li><p>
        A server crash occurred when using <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA</code></a> to load a table containing a <code class="literal">NOT
        NULL</code> spatial column, when the statement did not load
        the spatial column. Now a <code class="literal">NULL supplied to NOT NULL
        column</code> error occurs.
       (<a href="http://bugs.mysql.com/22372" target="_top">Bug#22372</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> requires complete
        dates with no “<span class="quote">zero</span>” parts, but sometimes did not
        return <code class="literal">NULL</code> when given such a date.
       (<a href="http://bugs.mysql.com/22229" target="_top">Bug#22229</a>)</p></li><li><p>
        Some small double precision numbers (such as
        <code class="literal">1.00000001e-300</code>) that should have been
        accepted were truncated to zero.
       (<a href="http://bugs.mysql.com/22129" target="_top">Bug#22129</a>)</p></li><li><p>
        For a nonexistent table, <code class="literal">DROP TEMPORARY TABLE</code>
        failed with an incorrect error message if
        <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> was enabled.
       (<a href="http://bugs.mysql.com/22077" target="_top">Bug#22077</a>)</p></li><li><p>
        Trailing spaces were not removed from Unicode
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column values when used in
        indexes. This resulted in excessive usage of storage space, and
        could affect the results of some <code class="literal">ORDER BY</code>
        queries that made use of such indexes.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          When upgrading, it is necessary to re-create any existing
          indexes on Unicode <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns
          in order to take advantage of the fix. This can be done by
          using a <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> statement
          on each affected table.
        </p></div><p>(<a href="http://bugs.mysql.com/22052" target="_top">Bug#22052</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> returned
        <code class="literal">NULL</code> if the format string contained a space
        following a nonformat character.
       (<a href="http://bugs.mysql.com/22029" target="_top">Bug#22029</a>)</p></li><li><p>
        In some cases, the parser failed to distinguish a user-defined
        function from a stored function.
       (<a href="http://bugs.mysql.com/21809" target="_top">Bug#21809</a>)</p></li><li><p>
        Inserting a default or invalid value into a spatial column could
        fail with <code class="literal">Unknown error</code> rather than a more
        appropriate error.
       (<a href="http://bugs.mysql.com/21790" target="_top">Bug#21790</a>)</p></li><li><p>
        It was possible to use <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        values whose year, month, and day parts were all zeroes but
        whose hour, minute, and second parts contained nonzero values,
        an example of such an illegal
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> being
        <code class="literal">'0000-00-00 11:23:45'</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/21789" target="_top">Bug#21789</a>)</p><p>See also <a href="http://bugs.mysql.com/25301" target="_top">Bug#25301</a>.</p></li><li><p>
        yaSSL crashed on pre-Pentium Intel CPUs.
       (<a href="http://bugs.mysql.com/21765" target="_top">Bug#21765</a>)</p></li><li><p>
        Through the C API, the member strings in
        <code class="literal">MYSQL_FIELD</code> for a query that contains
        expressions may return incorrect results.
       (<a href="http://bugs.mysql.com/21635" target="_top">Bug#21635</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES</code></a> in one connection while another connection is
        using <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> statements caused a
        server crash.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.48
        </p></div><p>(<a href="http://bugs.mysql.com/21587" target="_top">Bug#21587</a>)</p><p>See also <a href="http://bugs.mysql.com/29474" target="_top">Bug#29474</a>.</p></li><li><p>
        View columns were always handled as having implicit derivation,
        leading to <code class="literal">illegal mix of collation errors</code>
        for some views in <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>
        operations. Now view column derivation comes from the original
        expression given in the view definition.
       (<a href="http://bugs.mysql.com/21505" target="_top">Bug#21505</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> crashed while performing XA recovery
        of prepared transactions.
       (<a href="http://bugs.mysql.com/21468" target="_top">Bug#21468</a>)</p></li><li><p>
        <a href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returned a signed
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> value, not an unsigned
        value.
       (<a href="http://bugs.mysql.com/21466" target="_top">Bug#21466</a>)</p></li><li><p>
        It was possible to set the backslash character
        (“<span class="quote"><code class="literal">\</code></span>”) as the delimiter character
        using <code class="literal">DELIMITER</code>, but not actually possible to
        use it as the delimiter.
       (<a href="http://bugs.mysql.com/21412" target="_top">Bug#21412</a>)</p></li><li><p>
        Selecting into variables sometimes returned incorrect wrong
        results.
       (<a href="http://bugs.mysql.com/20836" target="_top">Bug#20836</a>)</p></li><li><p>
        <code class="literal">CONCURRENT</code> did not work correctly for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a>.
       (<a href="http://bugs.mysql.com/20637" target="_top">Bug#20637</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> altered the
        <code class="literal">table_privs.table_priv</code> column to contain too
        few privileges, causing loss of the <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> and <a href="server-administration.html#priv_show-view"><code class="literal">SHOW VIEW</code></a>
        privileges.
       (<a href="http://bugs.mysql.com/20589" target="_top">Bug#20589</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> set
        to 1, <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> printed
        incorrect output for table names containing Turkish I (LATIN
        CAPITAL LETTER I WITH DOT ABOVE).
       (<a href="http://bugs.mysql.com/20404" target="_top">Bug#20404</a>)</p></li><li><p>
        A query with a subquery that references columns of a view from
        the outer <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> could return an
        incorrect result if used from a prepared statement.
       (<a href="http://bugs.mysql.com/20327" target="_top">Bug#20327</a>)</p></li><li><p>
        For queries that select from a view, the server was returning
        <code class="literal">MYSQL_FIELD</code> metadata inconsistently for view
        names and table names. For view columns, the server now returns
        the view name in the <code class="literal">table</code> field and, if the
        column selects from an underlying table, the table name in the
        <code class="literal">org_table</code> field.
       (<a href="http://bugs.mysql.com/20191" target="_top">Bug#20191</a>)</p></li><li><p>
        Invalidating the query cache caused a server crash for
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO ...
        SELECT</code></a> statements that selected from a view.
       (<a href="http://bugs.mysql.com/20045" target="_top">Bug#20045</a>)</p></li><li><p>
        Unsigned <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> values treated as
        signed values by the <a href="functions.html#function_mod"><code class="literal">MOD()</code></a>
        function.
       (<a href="http://bugs.mysql.com/19955" target="_top">Bug#19955</a>)</p></li><li><p>
        Compiling PHP 5.1 with the MySQL static libraries failed on some
        versions of Linux.
       (<a href="http://bugs.mysql.com/19817" target="_top">Bug#19817</a>)</p></li><li><p>
        The <code class="literal">DELIMITER</code> statement did not work
        correctly when used in an SQL file run using the
        <code class="literal">SOURCE</code> statement.
       (<a href="http://bugs.mysql.com/19799" target="_top">Bug#19799</a>)</p></li><li><p>
        For a cast of a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value
        containing microseconds to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>, the microseconds part
        was truncated without generating a warning. Now the microseconds
        part is preserved.
       (<a href="http://bugs.mysql.com/19491" target="_top">Bug#19491</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column values inserted
        on a MySQL 4.1 server had trailing zeroes following upgrade to
        MySQL 5.0 or later.
       (<a href="http://bugs.mysql.com/19371" target="_top">Bug#19371</a>)</p></li><li><p>
        The server could send incorrect column count information to the
        client for queries that produce a larger number of columns than
        can fit in a two-byte number.
       (<a href="http://bugs.mysql.com/19216" target="_top">Bug#19216</a>)</p></li><li><p>
        For some problems relating to character set conversion or
        incorrect string values for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>, the server was reporting
        truncation or length errors instead.
       (<a href="http://bugs.mysql.com/18908" target="_top">Bug#18908</a>)</p></li><li><p>
        Constant expressions and some numeric constants used as input
        parameters to user-defined functions were not treated as
        constants.
       (<a href="http://bugs.mysql.com/18761" target="_top">Bug#18761</a>)</p></li><li><p>
        <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a> wrote to unallocated memory,
        causing a crash.
       (<a href="http://bugs.mysql.com/17951" target="_top">Bug#17951</a>)</p></li><li><p>
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH LOGS</code></a> or
        <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin flush-logs</strong></span></a> caused a server crash
        if the binary log was not open.
       (<a href="http://bugs.mysql.com/17733" target="_top">Bug#17733</a>)</p></li><li><p>
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables"><span><strong class="command">mysql_fix_privilege_tables</strong></span></a> did not accept a
        password containing embedded space or apostrophe characters.
       (<a href="http://bugs.mysql.com/17700" target="_top">Bug#17700</a>)</p></li><li><p>
        Attempting to use a view containing <code class="literal">DEFINER</code>
        information for a nonexistent user resulted in an error message
        that revealed the definer account. Now the definer is revealed
        only to superusers. Other users receive only an <code class="literal">access
        denied</code> message.
       (<a href="http://bugs.mysql.com/17254" target="_top">Bug#17254</a>)</p></li><li><p>
        <a href="functions.html#function_in"><code class="literal">IN()</code></a> and
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> can return
        <code class="literal">NULL</code>, but did not signal that to the query
        processor, causing incorrect results for
        <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>
        operations.
       (<a href="http://bugs.mysql.com/17047" target="_top">Bug#17047</a>)</p></li><li><p>
        Warnings were generated when explicitly casting a character to a
        number (for example, <a href="functions.html#function_cast"><code class="literal">CAST('x' AS
        SIGNED)</code></a>), but not for implicit conversions in simple
        arithmetic operations (such as <code class="literal">'x' + 0</code>). Now
        warnings are generated in all cases.
       (<a href="http://bugs.mysql.com/11927" target="_top">Bug#11927</a>)</p></li><li><p>
        Metadata for columns calculated from scalar subqueries was
        limited to integer, double, or string, even if the actual type
        of the column was different.
       (<a href="http://bugs.mysql.com/11032" target="_top">Bug#11032</a>)</p></li><li><p>
        Subqueries of the form <code class="literal">NULL IN (SELECT ...)</code>
        returned invalid results.
       (<a href="http://bugs.mysql.com/8804" target="_top">Bug#8804</a>, <a href="http://bugs.mysql.com/23485" target="_top">Bug#23485</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-30sp1"></a>C.1.54. Release Notes for MySQL Enterprise 5.0.30sp1 [QSP] (19 January 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.30).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">InnoDB</code> rolls back only the last statement on
        a transaction timeout. A new option,
        <a href="storage-engines.html#sysvar_innodb_rollback_on_timeout"><code class="option">--innodb_rollback_on_timeout</code></a>,
        causes <code class="literal">InnoDB</code> to abort and roll back the
        entire transaction if a transaction timeout occurs (the same
        behavior as in MySQL 5.0.13 and earlier).
       (<a href="http://bugs.mysql.com/24200" target="_top">Bug#24200</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        Evaluation of subqueries that require the filesort algorithm
        were allocating and freeing the
        <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> buffer many
        times, resulting in slow performance. Now the buffer is
        allocated once and reused.
       (<a href="http://bugs.mysql.com/21727" target="_top">Bug#21727</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A stored procedure, executed from a connection using a binary
        character set, and which wrote multibyte data, would write
        incorrectly escaped entries to the binary log. This caused
        syntax errors, and caused replication to fail.
       (<a href="http://bugs.mysql.com/23619" target="_top">Bug#23619</a>, <a href="http://bugs.mysql.com/24492" target="_top">Bug#24492</a>)</p></li><li><p>
        The loose index scan optimization for <code class="literal">GROUP
        BY</code> with <code class="literal">MIN</code> or
        <code class="literal">MAX</code> was not applied within other queries,
        such as <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT ...</code></a>, <code class="literal">INSERT ... SELECT
        ...</code>, or in the <code class="literal">FROM</code> clauses of
        subqueries.
       (<a href="http://bugs.mysql.com/24156" target="_top">Bug#24156</a>)</p></li><li><p>
        The size of <code class="literal">MEMORY</code> tables and internal
        temporary tables was limited to 4GB on 64-bit Windows systems.
       (<a href="http://bugs.mysql.com/24052" target="_top">Bug#24052</a>)</p></li><li><p>
        Accuracy was improved for comparisons between
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns and numbers
        represented as strings.
       (<a href="http://bugs.mysql.com/23260" target="_top">Bug#23260</a>)</p></li><li><p>
        Calculation of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a>,
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>, or
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a> when they are
        referenced more than once in a single query with <code class="literal">GROUP
        BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/23184" target="_top">Bug#23184</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> crashed while performing XA recovery
        of prepared transactions.
       (<a href="http://bugs.mysql.com/21468" target="_top">Bug#21468</a>)</p></li><li><p>
        Certain malformed <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statements could crash the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
       (<a href="http://bugs.mysql.com/21142" target="_top">Bug#21142</a>)</p></li><li><p>
        <code class="literal">CONCURRENT</code> did not work correctly for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a>.
       (<a href="http://bugs.mysql.com/20637" target="_top">Bug#20637</a>)</p></li><li><p>
        Several string functions could return incorrect results when
        given very large length arguments.
       (<a href="http://bugs.mysql.com/10963" target="_top">Bug#10963</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-30"></a>C.1.55. Release Notes for MySQL Enterprise 5.0.30 [MRU] (14 November 2006)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.28).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_config</strong></span> utility now accepts
        <code class="option">-c</code> as a short form of the
        <code class="option">--ndb-connectstring</code> option.
       (<a href="http://bugs.mysql.com/22295" target="_top">Bug#22295</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Added the <a href="mysql-cluster.html#option_ndbd_bind-address"><code class="option">--bind-address</code></a> option for
        <span><strong class="command">ndbd</strong></span>. This allows a data node process to be
        bound to a specific network interface.
       (<a href="http://bugs.mysql.com/22195" target="_top">Bug#22195</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine could leak
        memory during file operations.
       (<a href="http://bugs.mysql.com/21858" target="_top">Bug#21858</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">Ndb_number_of_storage_nodes</code> system
        variable was renamed to
        <a href="mysql-cluster.html#statvar_Ndb_number_of_data_nodes"><code class="literal">Ndb_number_of_data_nodes</code></a>.
       (<a href="http://bugs.mysql.com/20848" target="_top">Bug#20848</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <a href="sql-syntax.html#help" title="12.3.3. HELP Syntax"><code class="literal">HELP</code></a> command in the Cluster
        management client now provides command-specific help. For
        example, <code class="literal">HELP RESTART</code> in
        <span><strong class="command">ndb_mgm</strong></span> provides detailed information about
        the <code class="literal">RESTART</code> command.
       (<a href="http://bugs.mysql.com/19620" target="_top">Bug#19620</a>)</p></li><li><p>
        If the user specified the server options
        <a href="server-administration.html#sysvar_max_connections"><code class="option">--max-connections=<em class="replaceable"><code>N</code></em>
        </code></a> or
        <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache=<em class="replaceable"><code>M</code></em>
        </code></a>, a warning would be given in some cases that some
        values were recalculated, with the result that
        <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache</code></a> could be assigned
        greater value.
      </p><p>
        In such cases, both the warning and the increase in the
        <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache</code></a> value were
        completely harmless. Note also that it is not possible for the
        MySQL Server to predict or to control limitations on the maximum
        number of open files, since this is determined by the operating
        system.
      </p><p>
        The value of <a href="server-administration.html#sysvar_table_cache"><code class="option">--table-cache</code></a> is no
        longer increased automatically, and a warning is now given only
        if some values had to be decreased due to operating system
        limits.
       (<a href="http://bugs.mysql.com/21915" target="_top">Bug#21915</a>)</p></li><li><p>
        For the <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a> statement, stored
        procedures that take no arguments now can be invoked without
        parentheses. That is, <code class="literal">CALL p()</code> and
        <code class="literal">CALL p</code> are equivalent.
       (<a href="http://bugs.mysql.com/21462" target="_top">Bug#21462</a>)</p></li><li><p>
        <code class="literal">mysql_upgrade</code> now passes all the parameters
        specified on the command line to both
        <code class="literal">mysqlcheck</code> and <code class="literal">mysql</code> using
        the <code class="filename">upgrade_defaults</code> file.
       (<a href="http://bugs.mysql.com/20100" target="_top">Bug#20100</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> is no longer logged
        to the slow query log.
       (<a href="http://bugs.mysql.com/19764" target="_top">Bug#19764</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --single-transaction</strong></span></a> now uses
        <code class="literal">START TRANSACTION /*!40100 WITH CONSISTENT SNAPSHOT
        */</code> rather than
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> to start
        a transaction, so that a consistent snapshot will be used on
        those servers that support it.
       (<a href="http://bugs.mysql.com/19660" target="_top">Bug#19660</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> exhibited thread thrashing with more
        than 50 concurrent connections under an update-intensive
        workload.
       (<a href="http://bugs.mysql.com/22868" target="_top">Bug#22868</a>)</p></li><li><p><span class="bold"><strong>Performance</strong></span>: 
        <code class="literal">InnoDB</code> showed substandard performance with
        multiple queries running concurrently.
       (<a href="http://bugs.mysql.com/15815" target="_top">Bug#15815</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Backup of a cluster failed if there were any tables with 128 or
        more columns.
       (<a href="http://bugs.mysql.com/23502" target="_top">Bug#23502</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster backups failed when there were more than 2048 schema
        objects in the cluster.
       (<a href="http://bugs.mysql.com/23499" target="_top">Bug#23499</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client command <code class="literal">ALL DUMP 1000</code>
        would cause the cluster to crash if data nodes were connected to
        the cluster but not yet fully started.
       (<a href="http://bugs.mysql.com/23203" target="_top">Bug#23203</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> on an
        <code class="literal">NDB</code> table could lead to deadlocks
        and memory leaks.
       (<a href="http://bugs.mysql.com/23200" target="_top">Bug#23200</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Inacivity timeouts for scans were not correctly
        handled.
       (<a href="http://bugs.mysql.com/23107" target="_top">Bug#23107</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If a node restart could not be performed from the REDO log, no
        node takeover took place. This could cause partitions to be left
        empty during a system restart.
       (<a href="http://bugs.mysql.com/22893" target="_top">Bug#22893</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Multiple node restarts in rapid succession could cause a system
        restart to fail , or induce a race condition.
       (<a href="http://bugs.mysql.com/22892" target="_top">Bug#22892</a>, <a href="http://bugs.mysql.com/23210" target="_top">Bug#23210</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Attempting to read a nonexistent tuple using
        <code class="literal">Commit</code> mode for
        <code class="literal">NdbTransaction::execute()</code> caused node
        failures.
       (<a href="http://bugs.mysql.com/22672" target="_top">Bug#22672</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="option">--help</code> output from
        <code class="literal">NDB</code> binaries did not include
        file-related options.
       (<a href="http://bugs.mysql.com/21994" target="_top">Bug#21994</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Scans closed before being executed were still placed
        in the send queue.
       (<a href="http://bugs.mysql.com/21941" target="_top">Bug#21941</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A scan timeout returned Error 4028 (<span class="errortext">Node failure
        caused abort of transaction</span>) instead of Error 4008
        (<span class="errortext">Node failure caused abort of
        transaction...</span>).
       (<a href="http://bugs.mysql.com/21799" target="_top">Bug#21799</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The node recovery algorithm was missing a version check for
        tables in the <code class="literal">ALTER_TABLE_COMMITTED</code> state (as
        opposed to the <code class="literal">TABLE_ADD_COMMITTED</code> state,
        which has the version check). This could cause inconsistent
        schemas across nodes following node recovery.
       (<a href="http://bugs.mysql.com/21756" target="_top">Bug#21756</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Partition distribution keys were updated only for the primary
        and starting replicas during node recovery. This could lead to
        node failure recovery for clusters having an odd number of
        replicas.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          For best results, use values for
          <code class="literal">NumberOfReplicas</code> that are even powers of 2.
        </p></div><p>(<a href="http://bugs.mysql.com/21535" target="_top">Bug#21535</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> management client did not set the
        exit status on errors, always returning 0 instead.
       (<a href="http://bugs.mysql.com/21530" target="_top">Bug#21530</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to create an <code class="literal">NDB</code> table
        on a MySQL with an existing non-Cluster table with the same name
        in the same database could result in data loss or corruption.
        MySQL now issues a warning when a <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW
        TABLES</code></a> or other statement causing table discovery
        finds such a table.
       (<a href="http://bugs.mysql.com/21378" target="_top">Bug#21378</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster logs were not rotated following the first rotation
        cycle.
       (<a href="http://bugs.mysql.com/21345" target="_top">Bug#21345</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code>
        table with a duplicate value for a nonprimary unique key, the
        error issued would reference the wrong key.
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Condition pushdown did not work correctly with
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns.
       (<a href="http://bugs.mysql.com/21056" target="_top">Bug#21056</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, local checkpointing would hang,
        keeping any unstarted nodes from being started.
       (<a href="http://bugs.mysql.com/20895" target="_top">Bug#20895</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using an invalid node ID with the management client
        <code class="literal">STOP</code> command could cause
        <span><strong class="command">ndb_mgm</strong></span> to hang.
       (<a href="http://bugs.mysql.com/20575" target="_top">Bug#20575</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data nodes added while the cluster was running in single user
        mode were all assigned node ID 0, which could later cause
        multiple node failures. Adding nodes while in single user mode
        is no longer possible.
       (<a href="http://bugs.mysql.com/20395" target="_top">Bug#20395</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases where <code class="literal">SELECT COUNT(*)</code> from an
        <code class="literal">NDB</code> table should have yielded an
        error, <code class="literal">MAX_INT</code> was returned instead.
       (<a href="http://bugs.mysql.com/19914" target="_top">Bug#19914</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Following the restart of a management node, the Cluster
        management client did not automatically reconnect.
       (<a href="http://bugs.mysql.com/19873" target="_top">Bug#19873</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Error messages given when trying to make online changes to
        parameters such as <code class="literal">NoOfReplicas</code> that can only
        be changed via a complete shutdown and restart of the cluster
        did not indicate the true nature of the problem.
       (<a href="http://bugs.mysql.com/19787" target="_top">Bug#19787</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_restore</strong></span> did not always make clear that it
        had recovered successfully from temporary errors while restoring
        a cluster backup.
       (<a href="http://bugs.mysql.com/19651" target="_top">Bug#19651</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In rare situations with resource shortages, a crash could result
        from insufficient <code class="literal">IndexScanOperations</code>.
       (<a href="http://bugs.mysql.com/19198" target="_top">Bug#19198</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -e show | head</strong></span> would hang after
        displaying the first 10 lines of output.
       (<a href="http://bugs.mysql.com/19047" target="_top">Bug#19047</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The error returned by the cluster when too many nodes were
        defined did not make clear the nature of the problem.
       (<a href="http://bugs.mysql.com/19045" target="_top">Bug#19045</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_config</strong></span> utility did not perform host
        lookups correctly when using the <code class="option">--host</code> option
       (<a href="http://bugs.mysql.com/17582" target="_top">Bug#17582</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A problem with takeover during a system restart caused ordered
        indexes to be rebuilt incorrectly.
       (<a href="http://bugs.mysql.com/15303" target="_top">Bug#15303</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Column names were not quoted properly for replicated views.
       (<a href="http://bugs.mysql.com/19736" target="_top">Bug#19736</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Transient errors in replication from master to slave may trigger
        multiple <code class="literal">Got fatal error 1236: 'binlog truncated in the
        middle of event'</code> errors on the slave.
       (<a href="http://bugs.mysql.com/4053" target="_top">Bug#4053</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        The <code class="literal">NdbOperation::getBlobHandle()</code> method,
        when called with the name of a nonexistent column, caused a
        segmentation fault.
       (<a href="http://bugs.mysql.com/21036" target="_top">Bug#21036</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        When multiple processes or threads in parallel performed the
        same ordered scan with exclusive lock and updated the retrieved
        records, the scan could skip some records, which as a result
        were not updated.
       (<a href="http://bugs.mysql.com/20446" target="_top">Bug#20446</a>)</p></li><li><p>
        There was a race condition in the <code class="literal">InnoDB</code>
        <code class="function">fil_flush_file_spaces()</code> function.
       (<a href="http://bugs.mysql.com/24089" target="_top">Bug#24089</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/15653" target="_top">Bug#15653</a>.</p></li><li><p>
        yaSSL-related memory leaks were detected by Valgrind.
       (<a href="http://bugs.mysql.com/23981" target="_top">Bug#23981</a>)</p></li><li><p>
        The internal SQL interpreter of <code class="literal">InnoDB</code> placed
        an unnecessary lock on the supremum record with
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        enabled. This caused an assertion failure when
        <code class="literal">InnoDB</code> was built with debugging enabled.
       (<a href="http://bugs.mysql.com/23769" target="_top">Bug#23769</a>)</p></li><li><p>
        <code class="literal"><em class="replaceable"><code>M</code></em> % 0</code> returns
        <code class="literal">NULL</code>, but (<code class="literal">
        <em class="replaceable"><code>M</code></em> % 0) IS NULL</code> evaluated to
        false.
       (<a href="http://bugs.mysql.com/23411" target="_top">Bug#23411</a>)</p></li><li><p>
        For not-yet-authenticated connections, the
        <code class="literal">Time</code> column in <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> was a random value rather than
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/23379" target="_top">Bug#23379</a>)</p></li><li><p>
        MySQL failed to build on Linux/Alpha.
       (<a href="http://bugs.mysql.com/23256" target="_top">Bug#23256</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21250" target="_top">Bug#21250</a>.</p></li><li><p>
        If <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> returned
        <code class="literal">NULL</code>, subsequent invocations of
        <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> within a result set or
        within a trigger also returned <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/23254" target="_top">Bug#23254</a>)</p></li><li><p>
        Insufficient memory
        (<a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>) could
        cause a server crash for several operations on
        <code class="literal">MyISAM</code> tables: repair table, create index by
        sort, repair by sort, parallel repair, bulk insert.
       (<a href="http://bugs.mysql.com/23175" target="_top">Bug#23175</a>)</p></li><li><p>
        The column default value in the output from
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> or <code class="literal">SELECT
        FROM INFORMATION_SCHEMA.COLUMNS</code> was truncated to 64
        characters.
       (<a href="http://bugs.mysql.com/23037" target="_top">Bug#23037</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not check for errors when fetching
        data during result set printing.
       (<a href="http://bugs.mysql.com/22913" target="_top">Bug#22913</a>)</p></li><li><p>
        The return value from <code class="literal">my_seek()</code> was ignored.
       (<a href="http://bugs.mysql.com/22828" target="_top">Bug#22828</a>)</p></li><li><p>
        The optimizer failed to use equality propagation for
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> and <code class="literal">IN</code>
        predicates with string arguments.
       (<a href="http://bugs.mysql.com/22753" target="_top">Bug#22753</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Handler_rollback"><code class="literal">Handler_rollback</code></a> status
        variable sometimes was incremented when no rollback had taken
        place.
       (<a href="http://bugs.mysql.com/22728" target="_top">Bug#22728</a>)</p></li><li><p>
        The <code class="literal">Host</code> column in <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> output was blank when the server was
        started with the
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option.
       (<a href="http://bugs.mysql.com/22723" target="_top">Bug#22723</a>)</p></li><li><p>
        If a table contains an <code class="literal">AUTO_INCREMENT</code> column,
        inserting into an insertable view on the table that does not
        include the <code class="literal">AUTO_INCREMENT</code> column should not
        change the value of
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, because the
        side effects of inserting default values into columns not part
        of the view should not be visible. MySQL was incorrectly setting
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to zero.
       (<a href="http://bugs.mysql.com/22584" target="_top">Bug#22584</a>)</p></li><li><p>
        Instance Manager had a race condition involving <span><strong class="command">
        mysqld</strong></span> PID file removal.
       (<a href="http://bugs.mysql.com/22379" target="_top">Bug#22379</a>)</p></li><li><p>
        The optimizer used the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>
        join type rather than <a href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a>
        for a simple join on strings.
       (<a href="http://bugs.mysql.com/22367" target="_top">Bug#22367</a>)</p></li><li><p>
        Some queries that used <a href="functions.html#function_max"><code class="literal">MAX()</code></a> and
        <code class="literal">GROUP BY</code> could incorrectly return an empty
        result.
       (<a href="http://bugs.mysql.com/22342" target="_top">Bug#22342</a>)</p></li><li><p>
        If an <a href="server-administration.html#sysvar_init_connect"><code class="literal">init_connect</code></a> SQL
        statement produced an error, the connection was silently
        terminated with no error message. Now the server writes a
        warning to the error log.
       (<a href="http://bugs.mysql.com/22158" target="_top">Bug#22158</a>)</p></li><li><p>
        Use of a DES-encrypted SSL certificate file caused a server
        crash.
       (<a href="http://bugs.mysql.com/21868" target="_top">Bug#21868</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> with a
        <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> statement that
        contained a syntax error caused a server crash.
       (<a href="http://bugs.mysql.com/21856" target="_top">Bug#21856</a>)</p></li><li><p>
        Adding a day, month, or year interval to a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value produced a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>, but adding a week interval
        produced a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value. Now
        all produce a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value.
       (<a href="http://bugs.mysql.com/21811" target="_top">Bug#21811</a>)</p></li><li><p>
        Use of a subquery that invoked a function in the column list of
        the outer query resulted in a memory leak.
       (<a href="http://bugs.mysql.com/21798" target="_top">Bug#21798</a>)</p></li><li><p>
        Selecting from a <code class="literal">MERGE</code> table could result in
        a server crash if the underlying tables had fewer indexes than
        the <code class="literal">MERGE</code> table itself.
       (<a href="http://bugs.mysql.com/21617" target="_top">Bug#21617</a>, <a href="http://bugs.mysql.com/22937" target="_top">Bug#22937</a>)</p></li><li><p>
        After <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
        READ LOCK</code></a> followed by
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">UNLOCK
        TABLES</code></a>, attempts to drop or alter a stored routine
        failed with an error that the routine did not exist, and
        attempts to execute the routine failed with a lock conflict
        error.
       (<a href="http://bugs.mysql.com/21414" target="_top">Bug#21414</a>)</p></li><li><p>
        For multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>
        statements, storage engines were not notified of duplicate-key
        errors.
       (<a href="http://bugs.mysql.com/21381" target="_top">Bug#21381</a>)</p></li><li><p>
        Within a prepared statement, <code class="literal">SELECT (COUNT(*) =
        1)</code> (or similar use of other aggregate functions) did
        not return the correct result for statement re-execution.
       (<a href="http://bugs.mysql.com/21354" target="_top">Bug#21354</a>)</p></li><li><p>
        It was possible for a stored routine with a
        non-<code class="literal">latin1</code> name to cause a stack overrun.
       (<a href="http://bugs.mysql.com/21311" target="_top">Bug#21311</a>)</p></li><li><p>
        Creating a <code class="literal">TEMPORARY</code> table with the same name
        as an existing table that was locked by another client could
        result in a lock conflict for <code class="literal">DROP TEMPORARY
        TABLE</code> because the server unnecessarily tried to
        acquire a name lock.
       (<a href="http://bugs.mysql.com/21096" target="_top">Bug#21096</a>)</p></li><li><p>
        Incorrect results could be obtained from re-execution of a
        parametrized prepared statement or a stored routine with a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> that uses <code class="literal">LEFT
        JOIN</code> with a second table having only one row.
       (<a href="http://bugs.mysql.com/21081" target="_top">Bug#21081</a>)</p></li><li><p>
        Within a stored routine, a view definition cannot refer to
        routine parameters or local variables. However, an error did not
        occur until the routine was called. Now it occurs during parsing
        of the routine creation statement.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          A side effect of this fix is that if you have already created
          such routines, and error will occur if you execute
          <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> or
          <a href="sql-syntax.html#show-create-function" title="12.5.5.7. SHOW CREATE FUNCTION Syntax"><code class="literal">SHOW CREATE FUNCTION</code></a>. You
          should drop these routines because they are erroneous.
        </p></div><p>(<a href="http://bugs.mysql.com/20953" target="_top">Bug#20953</a>)</p></li><li><p>
        In <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, invoking <code class="literal">connect</code>
        or <code class="literal">\r</code> with very long
        <em class="replaceable"><code>db_name</code></em> or
        <em class="replaceable"><code>host_name</code></em> parameters caused buffer
        overflow.
       (<a href="http://bugs.mysql.com/20894" target="_top">Bug#20894</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> truncated the
        <code class="literal">Value</code> field to 256 characters.
       (<a href="http://bugs.mysql.com/20862" target="_top">Bug#20862</a>)</p></li><li><p>
        <code class="literal">WITH ROLLUP</code> could group unequal values.
       (<a href="http://bugs.mysql.com/20825" target="_top">Bug#20825</a>)</p></li><li><p>
        Range searches on columns with an index prefix could miss
        records.
       (<a href="http://bugs.mysql.com/20732" target="_top">Bug#20732</a>)</p></li><li><p>
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> that referred to a key
        column in the <code class="literal">WHERE</code> clause and activated a
        trigger that modified the column resulted in a loop.
       (<a href="http://bugs.mysql.com/20670" target="_top">Bug#20670</a>)</p></li><li><p>
        <code class="literal">LIKE</code> searches failed for indexed
        <code class="literal">utf8</code> character columns.
       (<a href="http://bugs.mysql.com/20471" target="_top">Bug#20471</a>)</p></li><li><p>
        With <code class="literal">sql_mode = TRADITIONAL</code>, MySQL
        incorrectly aborted on warnings within stored routines and
        triggers.
       (<a href="http://bugs.mysql.com/20028" target="_top">Bug#20028</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --xml</strong></span></a> produced invalid XML for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> data.
       (<a href="http://bugs.mysql.com/19745" target="_top">Bug#19745</a>)</p></li><li><p>
        <code class="literal">FLUSH INSTANCES</code> in Instance Manager triggered
        an assertion failure.
       (<a href="http://bugs.mysql.com/19368" target="_top">Bug#19368</a>)</p></li><li><p>
        For a debug server, a reference to an undefined user variable in
        a prepared statement executed with
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/19356" target="_top">Bug#19356</a>)</p></li><li><p>
        Within a trigger for a base table, selecting from a view on that
        base table failed.
       (<a href="http://bugs.mysql.com/19111" target="_top">Bug#19111</a>)</p></li><li><p>
        The value of the <a href="server-administration.html#sysvar_warning_count"><code class="literal">warning_count</code></a>
        system variable was not being calculated correctly (also
        affecting <code class="literal">SHOW COUNT(*) WARNINGS</code>).
       (<a href="http://bugs.mysql.com/19024" target="_top">Bug#19024</a>)</p></li><li><p>
        <code class="literal">DELETE IGNORE</code> could hang for foreign key
        parent deletes.
       (<a href="http://bugs.mysql.com/18819" target="_top">Bug#18819</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> used table locks (not row locks)
        within stored functions.
       (<a href="http://bugs.mysql.com/18077" target="_top">Bug#18077</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> would lose its connection to the server
        if its standard output was not writable.
       (<a href="http://bugs.mysql.com/17583" target="_top">Bug#17583</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> did not work correctly for
        RPM-based installations.
       (<a href="http://bugs.mysql.com/17194" target="_top">Bug#17194</a>)</p></li><li><p>
        A client library crash was caused by executing a statement such
        as <code class="literal">SELECT * FROM t1 PROCEDURE ANALYSE()</code> using
        a server side cursor on a table <code class="literal">t1</code> that does
        not have the same number of columns as the output from
        <code class="literal">PROCEDURE ANALYSE()</code>.
       (<a href="http://bugs.mysql.com/17039" target="_top">Bug#17039</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> for a view failed to
        prevent storing invalid column values for
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/16813" target="_top">Bug#16813</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> was not able to
        rename a view.
       (<a href="http://bugs.mysql.com/14959" target="_top">Bug#14959</a>)</p></li><li><p>
        Statements such as <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP PROCEDURE</code></a>
        and <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> were written to the
        binary log too late due to a race condition.
       (<a href="http://bugs.mysql.com/14262" target="_top">Bug#14262</a>)</p></li><li><p>
        A literal string in a <code class="literal">GROUP BY</code> clause could
        be interpreted as a column name.
       (<a href="http://bugs.mysql.com/14019" target="_top">Bug#14019</a>)</p></li><li><p>
        Instance Manager didn't close the client socket file when
        starting a new <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> instance.
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> inherited the socket, causing clients
        connected to Instance Manager to hang.
       (<a href="http://bugs.mysql.com/12751" target="_top">Bug#12751</a>)</p></li><li><p>
        Entries in the slow query log could have an incorrect
        <code class="literal">Rows_examined</code> value.
       (<a href="http://bugs.mysql.com/12240" target="_top">Bug#12240</a>)</p></li><li><p>
        Lack of validation for input and output
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values resulted in several
        problems: <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> in some
        cases did not clip large values to the
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> range appropriately;
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> treated
        <code class="literal">BIGINT UNSIGNED</code> values as signed; only
        truncation warnings were produced when both truncation and
        out-of-range <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values
        occurred.
       (<a href="http://bugs.mysql.com/11655" target="_top">Bug#11655</a>, <a href="http://bugs.mysql.com/20927" target="_top">Bug#20927</a>)</p></li><li><p>
        A locking safety check in <code class="literal">InnoDB</code> reported a
        spurious error <span class="errortext">stored_select_lock_type is 0 inside
        ::start_stmt()</span> for
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statements in
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        mode. The safety check was removed.
       (<a href="http://bugs.mysql.com/10746" target="_top">Bug#10746</a>)</p></li><li><p>
        <a href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> did not accept
        arguments up to <a href="functions.html#function_power"><code class="literal">POWER(2,31)-1</code></a>,
        which it had previously.
       (<a href="http://bugs.mysql.com/9191" target="_top">Bug#9191</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> with
        <a href="server-administration.html#sysvar_myisam_repair_threads"><code class="literal">myisam_repair_threads</code></a> &gt; 1
        could result in <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/8283" target="_top">Bug#8283</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-28"></a>C.1.56. Release Notes for MySQL Enterprise 5.0.28 (24 October 2006)</h3></div></div></div><p class="release-level">
      This is the first <span class="emphasis"><em>MySQL Enterprise Server</em></span>
      release, following the last Community Server release (5.0.27).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Binary MySQL distributions no longer include a
        <span><strong class="command">mysqld-max</strong></span> server, except for RPM
        distributions. Instead, distributions contain a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> binary that includes the features
        previously included in the <span><strong class="command">mysqld-max</strong></span> binary.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL 5.0.26 introduced an ABI incompatibility, which this
        release reverts. Programs compiled against 5.0.26 are not
        compatible with any other version and must be recompiled.
       (<a href="http://bugs.mysql.com/23427" target="_top">Bug#23427</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Reduced optimization level for
        Windows 64 builds to handle possible memory overrun.
       (<a href="http://bugs.mysql.com/19424" target="_top">Bug#19424</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-27"></a>C.1.57. Release Notes for MySQL Community Server 5.0.27 (21 October 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current MySQL Community Server
      production release family. It replaces MySQL 5.0.26.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        This is the last version for which binary MySQL-Max
        distributions are available, except for RPM distributions. (For
        RPM distributions, the last version is 5.0.37.)
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL 5.0.26 introduced an ABI incompatibility, which this
        release reverts. Programs compiled against 5.0.26 are not
        compatible with any other version and must be recompiled.
       (<a href="http://bugs.mysql.com/23427" target="_top">Bug#23427</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-26"></a>C.1.58. Changes in MySQL 5.0.26 (03 October 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> no longer causes an implicit commit for all
        storage engines. It now causes an implicit commit only for
        tables using the <code class="literal">NDB</code> storage
        engine.
       (<a href="http://bugs.mysql.com/11151" target="_top">Bug#11151</a>)</p></li><li><p>
        The number of <code class="literal">InnoDB</code> threads is no longer
        limited to 1,000 on Windows.
       (<a href="http://bugs.mysql.com/22268" target="_top">Bug#22268</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now has a
        <a href="programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a> option. It
        causes <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to emit a
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement after dumping the
        <code class="literal">mysql</code> database. This option should be used
        any time the dump contains the <code class="literal">mysql</code> database
        and any other database that depends on the data in the
        <code class="literal">mysql</code> database for proper restoration.
       (<a href="http://bugs.mysql.com/21424" target="_top">Bug#21424</a>)</p></li><li><p>
        For <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, the output generated by the
        server when using the <a href="programs.html#option_mysqldump_xml"><code class="option">--xml</code></a>
        option has changed with regard to null values. It now matches
        the output from <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        <a href="programs.html#option_mysqldump_xml"><code class="option">--xml</code></a>. That is, a column
        containing a <code class="literal">NULL</code> value is now reported as
      </p><pre class="programlisting">&lt;field name="<em class="replaceable"><code>column_name</code></em>" xsi:nil="true" /&gt;
</pre><p>
        whereas a column containing the string value
        <code class="literal">'NULL'</code> is reported as
      </p><pre class="programlisting">&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;NULL&lt;/field&gt;
</pre><p>
        and a column containing an empty string is reported as
      </p><pre class="programlisting">&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;&lt;/field&gt;
</pre><p>(<a href="http://bugs.mysql.com/21263" target="_top">Bug#21263</a>)</p></li><li><p>
        The source distribution has been updated so that the UDF example
        can be compiled under Windows with CMake. See
        <a href="extending-mysql.html#udf-compiling" title="21.2.2.5. Compiling and Installing User-Defined Functions">Section 21.2.2.5, “Compiling and Installing User-Defined Functions”</a>.
       (<a href="http://bugs.mysql.com/19121" target="_top">Bug#19121</a>)</p></li><li><p>
        The <code class="literal">LOAD DATA FROM MASTER</code> and <code class="literal">LOAD
        TABLE FROM MASTER</code> statements are deprecated. See
        <a href="sql-syntax.html#load-data-from-master" title="12.6.2.2. LOAD DATA FROM MASTER Syntax">Section 12.6.2.2, “<code class="literal">LOAD DATA FROM MASTER</code> Syntax”</a>, for recommended
        alternatives.
       (<a href="http://bugs.mysql.com/9125" target="_top">Bug#9125</a>, <a href="http://bugs.mysql.com/20596" target="_top">Bug#20596</a>, <a href="http://bugs.mysql.com/14399" target="_top">Bug#14399</a>, <a href="http://bugs.mysql.com/12187" target="_top">Bug#12187</a>, <a href="http://bugs.mysql.com/15025" target="_top">Bug#15025</a>, <a href="http://bugs.mysql.com/18822" target="_top">Bug#18822</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        Column names supplied for a view created on a master server
        could be lost on a slave server.
       (<a href="http://bugs.mysql.com/19419" target="_top">Bug#19419</a>)</p></li><li><p>
        Deleting entries from a large <code class="literal">MyISAM</code> index
        could cause index corruption when it needed to shrink. Deletes
        from an index can happen when a record is deleted, when a key
        changes and must be moved, and when a key must be un-inserted
        because of a duplicate key. This can also happen in
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> when a duplicate key
        is found and in <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> when sorting the
        records by an index.
       (<a href="http://bugs.mysql.com/22384" target="_top">Bug#22384</a>)</p></li><li><p>
        yaSSL had a conflicting definition for
        <code class="literal">socklen_t</code> on hurd-i386 systems.
       (<a href="http://bugs.mysql.com/22326" target="_top">Bug#22326</a>)</p></li><li><p>
        Conversion of values inserted into a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column could affect adjacent
        columns.
       (<a href="http://bugs.mysql.com/22271" target="_top">Bug#22271</a>)</p></li><li><p>
        <code class="filename">mysql_com.h</code> unnecessarily referred to the
        <code class="literal">ulong</code> type.
       (<a href="http://bugs.mysql.com/22227" target="_top">Bug#22227</a>)</p></li><li><p>
        The source distribution would not build on Windows due to a
        spurious dependency on <code class="filename">ib_config.h</code>.
       (<a href="http://bugs.mysql.com/22224" target="_top">Bug#22224</a>)</p></li><li><p>
        Execution of a prepared statement that uses an
        <code class="literal">IN</code> subquery with aggregate functions in the
        <code class="literal">HAVING</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/22085" target="_top">Bug#22085</a>)</p></li><li><p>
        Using <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> on the
        result of a subquery in the <code class="literal">FROM</code> clause that
        itself used <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/22015" target="_top">Bug#22015</a>)</p></li><li><p>
        A query that used <code class="literal">GROUP BY</code> and an
        <code class="literal">ALL</code> or <code class="literal">ANY</code> quantified
        subquery in a <code class="literal">HAVING</code> clause could trigger an
        assertion failure.
       (<a href="http://bugs.mysql.com/21853" target="_top">Bug#21853</a>)</p></li><li><p>
        <code class="literal">UPGRADE</code> was treated as a reserved word,
        although it is not.
       (<a href="http://bugs.mysql.com/21772" target="_top">Bug#21772</a>)</p></li><li><p>
        The value of <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was
        not always updated correctly within stored routines.
       (<a href="http://bugs.mysql.com/21726" target="_top">Bug#21726</a>)</p></li><li><p>
        A function result in a comparison was replaced with a constant
        by the optimizer under some circumstances when this optimization
        was invalid.
       (<a href="http://bugs.mysql.com/21698" target="_top">Bug#21698</a>)</p></li><li><p>
        If <code class="literal">mysqld</code> was linked against a
        system-installed <code class="literal">zlib</code> library compiled
        without large-file support, it would likely exit with a
        <code class="literal">SIGXFSZ</code> (file size exceeded) signal if an
        <code class="literal">ARCHIVE</code> table reached 2GB. The server now
        checks for space before writing.
       (<a href="http://bugs.mysql.com/21675" target="_top">Bug#21675</a>)</p></li><li><p>
        The presence of a subquery in the <code class="literal">ON</code> clause
        of a join in a view definition prevented the
        <code class="literal">MERGE</code> algorithm from being used for the view
        in cases where it should be allowed.
       (<a href="http://bugs.mysql.com/21646" target="_top">Bug#21646</a>)</p></li><li><p>
        When records are merged from the insert buffer and the page
        needs to be reorganized, <code class="literal">InnoDB</code> used
        incorrect column length information when interpreting the
        records of the page. This caused a server crash due to apparent
        corruption of secondary indexes in
        <code class="literal">ROW_FORMAT=COMPACT</code> that contain prefix
        indexes of fixed-length columns. Data files should not be
        corrupted, but the crash was likely to repeat every time the
        server was restarted.
       (<a href="http://bugs.mysql.com/21638" target="_top">Bug#21638</a>)</p></li><li><p>
        For character sets having a <code class="literal">mbmaxlen</code> value of
        2, any <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement
        changed <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns to
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMTEXT</code></a>.
       (<a href="http://bugs.mysql.com/21620" target="_top">Bug#21620</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> displayed an empty string for
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/21618" target="_top">Bug#21618</a>)</p></li><li><p>
        For <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a>, use of
        <a href="functions.html#function_values"><code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code></a>
        within the <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> clause
        sometimes was handled incorrectly.
       (<a href="http://bugs.mysql.com/21555" target="_top">Bug#21555</a>)</p></li><li><p>
        Subqueries with aggregate functions but no
        <code class="literal">FROM</code> clause could return incorrect results.
       (<a href="http://bugs.mysql.com/21540" target="_top">Bug#21540</a>)</p></li><li><p>
        The server could crash for the second execution of a function
        containing a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement
        that uses an aggregating <code class="literal">IN</code> subquery.
       (<a href="http://bugs.mysql.com/21493" target="_top">Bug#21493</a>)</p></li><li><p>
        <a href="programs.html#myisam-ftdump" title="4.6.2. myisam_ftdump — Display Full-Text Index information"><span><strong class="command">myisam_ftdump</strong></span></a> produced bad counts for common
        words.
       (<a href="http://bugs.mysql.com/21459" target="_top">Bug#21459</a>)</p></li><li><p>
        The URL into the online manual that is printed in the stack
        trace message by the server was out of date.
       (<a href="http://bugs.mysql.com/21449" target="_top">Bug#21449</a>)</p></li><li><p>
        Table aliases in multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements sometimes were
        not resolved.
       (<a href="http://bugs.mysql.com/21392" target="_top">Bug#21392</a>)</p></li><li><p>
        <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config --libmysqld-libs</strong></span></a> did not produce
        any SSL options necessary for linking
        <code class="literal">libmysqld</code> with SSL support enabled.
       (<a href="http://bugs.mysql.com/21239" target="_top">Bug#21239</a>)</p></li><li><p>
        In the package of pre-built time zone tables that is available
        for download at
        <a href="http://dev.mysql.com/downloads/timezones.html" target="_top">http://dev.mysql.com/downloads/timezones.html</a>,
        the tables now explicitly use the <code class="literal">utf8</code>
        character set so that they work the same way regardless of the
        system character set value.
       (<a href="http://bugs.mysql.com/21208" target="_top">Bug#21208</a>)</p></li><li><p>
        A subquery that uses an index for both the
        <code class="literal">WHERE</code> and <code class="literal">ORDER BY</code> clauses
        produced an empty result.
       (<a href="http://bugs.mysql.com/21180" target="_top">Bug#21180</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> produced a malformed
        <code class="filename">upgrade_defaults</code> file by overwriting the
        <code class="literal">[client]</code> group header with a
        <code class="literal">password</code> option. This prevented
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> from running successfully when
        invoked by <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
       (<a href="http://bugs.mysql.com/21011" target="_top">Bug#21011</a>)</p></li><li><p>
        On Windows, inserting into a <code class="literal">MERGE</code> table
        after renaming an underlying <code class="literal">MyISAM</code> table
        caused a server crash.
       (<a href="http://bugs.mysql.com/20789" target="_top">Bug#20789</a>)</p></li><li><p>
        Within stored routines, some error messages were printed
        incorrectly. A nonnull-terminated string was passed to a
        message-printing routine that expected a null-terminated string.
       (<a href="http://bugs.mysql.com/20778" target="_top">Bug#20778</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> did not honor
        <code class="literal">SET INSERT_ID</code> or the
        <code class="literal">auto_increment_*</code> system variables.
       (<a href="http://bugs.mysql.com/20627" target="_top">Bug#20627</a>, <a href="http://bugs.mysql.com/20830" target="_top">Bug#20830</a>)</p></li><li><p>
        If the <a href="replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a>
        setting causes MySQL to generate a value larger than the
        column's maximum possible value, the
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement is accepted in
        strict SQL mode, whereas but should fail with an error.
       (<a href="http://bugs.mysql.com/20573" target="_top">Bug#20573</a>)</p></li><li><p>
        User names have a maximum length of 16 characters (even if they
        contain multi-byte characters), but were being truncated to 16
        bytes.
       (<a href="http://bugs.mysql.com/20393" target="_top">Bug#20393</a>)</p></li><li><p>
        <code class="literal">PROCEDURE ANALYSE()</code> returned incorrect values
        of <em class="replaceable"><code>M</code></em>
        <code class="literal">FLOAT(<em class="replaceable"><code>M</code></em>,
        <em class="replaceable"><code>D</code></em>)</code> and
        <code class="literal">DOUBLE(<em class="replaceable"><code>M</code></em>,
        <em class="replaceable"><code>D</code></em>)</code>.
       (<a href="http://bugs.mysql.com/20305" target="_top">Bug#20305</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table locked with <code class="literal">LOCK
        TABLES ...WRITE</code>, queries optimized using the
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> method did not
        show rows inserted with the lock in place.
       (<a href="http://bugs.mysql.com/20256" target="_top">Bug#20256</a>)</p></li><li><p>
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> results sometimes
        were stored improperly into a temporary table when multi-byte
        character sets were used.
       (<a href="http://bugs.mysql.com/20204" target="_top">Bug#20204</a>)</p></li><li><p>
        For an <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column that used the
        <code class="literal">ucs2</code> character set, using
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to modify the column
        definition caused the default value to be lost.
       (<a href="http://bugs.mysql.com/20108" target="_top">Bug#20108</a>)</p></li><li><p>
        Join conditions using index prefixes on <code class="literal">utf8</code>
        columns of <code class="literal">InnoDB</code> tables incorrectly ignored
        rows where the length of the actual value was greater than the
        length of the index prefix.
       (<a href="http://bugs.mysql.com/19960" target="_top">Bug#19960</a>)</p></li><li><p>
        <span><strong class="command">make install</strong></span> tried to build files that should
        already have been built by <span><strong class="command">make all</strong></span>, causing
        a failure if installation was performed using a different
        account than the one used for the initial build.
       (<a href="http://bugs.mysql.com/19738" target="_top">Bug#19738</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with a
        <code class="literal">FULLTEXT</code> index, compression with
        <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a> or a check with
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> after compression resulted in table
        corruption.
       (<a href="http://bugs.mysql.com/19702" target="_top">Bug#19702</a>)</p></li><li><p>
        The build process incorrectly tried to overwrite
        <code class="filename">sql/lex_hash.h</code>. This caused the build to
        fail when using a shadow link tree pointing to original sources
        that were owned by another account.
       (<a href="http://bugs.mysql.com/18888" target="_top">Bug#18888</a>)</p></li><li><p>
        Linking the <code class="literal">pthreads</code> library to
        single-threaded MySQL libraries caused
        <code class="literal">dlopen()</code> to fail at runtime on HP-UX.
       (<a href="http://bugs.mysql.com/18267" target="_top">Bug#18267</a>)</p></li><li><p>
        The source distribution failed to compile when configured with
        the <code class="option">--with-libwrap</code> option.
       (<a href="http://bugs.mysql.com/18246" target="_top">Bug#18246</a>)</p></li><li><p>
        Queries containing a subquery that used aggregate functions
        could return incorrect results.
       (<a href="http://bugs.mysql.com/16792" target="_top">Bug#16792</a>)</p></li><li><p>
        Row equalities (such as <code class="literal">WHERE (a,b) = (c,d)</code>
        were not taken into account by the optimizer, resulting in slow
        query execution. Now they are treated as conjunctions of
        equalities between row elements.
       (<a href="http://bugs.mysql.com/16081" target="_top">Bug#16081</a>)</p></li><li><p>
        <a href="functions.html#function_bin"><code class="literal">BIN()</code></a>,
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a>, and
        <a href="functions.html#function_conv"><code class="literal">CONV()</code></a> did not work with BIT
        values.
       (<a href="http://bugs.mysql.com/15583" target="_top">Bug#15583</a>)</p></li><li><p>
        The parser rejected queries that selected from a table twice
        using a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> within a subquery.
        The parser now supports arbitrary subquery, join, and
        parenthesis operations within <code class="literal">EXISTS</code>
        subqueries. A limitation still exists for scalar subqueries: If
        the subquery contains <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>, the
        first <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> of the
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> cannot be within
        parentheses. For example, <code class="literal">SELECT (SELECT a FROM t1
        UNION SELECT b FROM t2)</code> will work, but <code class="literal">SELECT
        ((SELECT a FROM t1) UNION (SELECT b FROM t2))</code> will
        not.
       (<a href="http://bugs.mysql.com/14654" target="_top">Bug#14654</a>)</p></li><li><p>
        On Mac OS X, zero-byte <code class="literal">read()</code> or
        <code class="literal">write()</code> calls to an SMB-mounted file system
        could return a nonstandard return value, leading to data
        corruption. Now such calls are avoided.
       (<a href="http://bugs.mysql.com/12620" target="_top">Bug#12620</a>)</p></li><li><p>
        The server returns a more informative error message when it
        attempts to open a <code class="literal">MERGE</code> table that has been
        defined to use non-<code class="literal">MyISAM</code> tables.
       (<a href="http://bugs.mysql.com/10974" target="_top">Bug#10974</a>)</p></li><li><p>
        With <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> SQL mode,
        assignment of out-of-bound values and rounding of assigned
        values was done correctly, but assignment of the same numbers
        represented as strings sometimes was handled differently.
       (<a href="http://bugs.mysql.com/6147" target="_top">Bug#6147</a>)</p></li><li><p>
        On an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> into an updatable
        but noninsertable view, an error message was issued stating that
        the view was not updatable. Now the message says the view is not
        insertable-into.
       (<a href="http://bugs.mysql.com/5505" target="_top">Bug#5505</a>)</p></li><li><p>
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> sometimes returned an
        incorrect <code class="literal">select_type</code> for a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> from a view, compared to
        the <code class="literal">select_type</code> for the equivalent
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> from the base table.
       (<a href="http://bugs.mysql.com/5500" target="_top">Bug#5500</a>)</p></li><li><p>
        Incorporated portability fixes into the definition of
        <code class="literal">__attribute__</code> in
        <code class="filename">my_global.h</code>.
       (<a href="http://bugs.mysql.com/2717" target="_top">Bug#2717</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-25"></a>C.1.59. Changes in MySQL 5.0.25 (15 September 2006)</h3></div></div></div><p class="depnote"><b>End of Product Lifecycle</b>Active development and support for MySQL database server versions 3.23, 4.0, and 4.1 has ended. However, for MySQL 4.0 and 4.1, there is still extended support available. For details, see <a href="http://www.mysql.com/company/legal/lifecycle/#calendar" target="_top">http://www.mysql.com/company/legal/lifecycle/#calendar</a>. According to the MySQL Lifecycle Policy (see <a href="http://www.mysql.com/company/legal/lifecycle/#policy" target="_top">http://www.mysql.com/company/legal/lifecycle/#policy</a>), only Security and Severity Level 1 issues will still be fixed for MySQL 4.0 and 4.1. Please consider upgrading to a recent version (MySQL 5.0 or 5.1).</p><p class="release-level">
      This is a bugfix release for the current production release
      family. This version was released as MySQL Classic 5.0.25 to
      commercial customers only.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL did not properly do stack dumps on
        <code class="literal">x86_64</code> and <code class="literal">i386/NPTL</code>
        systems. (Note that the initial fix for this problem was
        discovered not to be correct. Further work on the problem was
        undertaken only for MySQL 5.1 and up. See <a href="http://bugs.mysql.com/31891" target="_top">Bug#31891</a>.)
       (<a href="http://bugs.mysql.com/21250" target="_top">Bug#21250</a>)</p></li><li><p>
        The <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> and
        <span><strong class="command">mysqlmanager</strong></span> man pages have been reclassified
        from volume 1 to volume 8.
       (<a href="http://bugs.mysql.com/21220" target="_top">Bug#21220</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> now honors <code class="literal">IGNORE
        INDEX</code>. Perviously using <code class="literal">IGNORE
        INDEX</code> in cases where an index sort would be slower
        than a filesort had no effect when used with
        <code class="literal">InnoDB</code> tables.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.26, and a new fix made in
          MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/21174" target="_top">Bug#21174</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns that are
        <code class="literal">NOT NULL</code> now are reported that way by
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> and
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/20910" target="_top">Bug#20910</a>)</p></li><li><p>
        The MySQL distribution now compiles on UnixWare 7.13.
       (<a href="http://bugs.mysql.com/20190" target="_top">Bug#20190</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> now defines the symbol
        <code class="literal">DBUG_ON</code> in <code class="filename">config.h</code> to
        indicate whether the source tree is configured to be compiled
        with debugging support.
       (<a href="http://bugs.mysql.com/19517" target="_top">Bug#19517</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> no longer reads the
        <code class="literal">[client]</code> option file group because it is not
        a client and did not understand client options such as
        <code class="literal">host</code>. Now it reads only the
        <code class="literal">[mysql_upgrade]</code> group.
       (<a href="http://bugs.mysql.com/19452" target="_top">Bug#19452</a>)</p></li><li><p>
        For <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a>, if a database name argument
        contains wildcard characters (such as
        “<span class="quote"><code class="literal">_</code></span>”) but matches a single
        database name exactly, treat the name as a literal name. This
        allows a command such as <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow
        information_schema</strong></span></a> work without having to escape the
        wildcard character.
       (<a href="http://bugs.mysql.com/19147" target="_top">Bug#19147</a>)</p></li><li><p>
        On Windows, typing Control-C while a query was running caused
        the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client to crash. Now it causes
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to attempt to kill the current
        statement. If this cannot be done, or Control-C is typed again
        before the statement is killed, <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> exits.
        (In other words, <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>'s behavior with
        regard to Control-C is now the same as it is on Unix platforms.)
       (<a href="http://bugs.mysql.com/17926" target="_top">Bug#17926</a>)</p><p>See also <a href="http://bugs.mysql.com/1989" target="_top">Bug#1989</a>.</p></li><li><p>
        The <code class="literal">VIEW_DEFINITION</code> column of the
        <code class="literal">INFORMATION_SCHEMA</code>
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">VIEWS</code></a> table now contains
        information about the view algorithm.
       (<a href="http://bugs.mysql.com/16832" target="_top">Bug#16832</a>)</p></li><li><p>
        The bundled yaSSL library licensing has added a FLOSS exception
        similar to MySQL to resolve licensing incompatibilities with
        MySQL. (See the
        <code class="filename">extra/yassl/FLOSS-EXCEPTIONS</code> file in a
        MySQL source distribution for details.)
       (<a href="http://bugs.mysql.com/16755" target="_top">Bug#16755</a>)</p></li><li><p>
        Table comments longer than 60 characters and column comments
        longer than 255 characters were truncated silently. Now a
        warning is issued, or an error in strict mode.
       (<a href="http://bugs.mysql.com/13934" target="_top">Bug#13934</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client used the default character
        set if it automatically reconnected to the server, which is
        incorrect if the character set had been changed. To enable the
        character set to remain synchronized on the client and server,
        the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> command <code class="literal">charset</code>
        (or <code class="literal">\C</code>) that changes the default character
        set and now also issues a <code class="literal">SET NAMES</code>
        statement. The changed character set is used for reconnects.
       (<a href="http://bugs.mysql.com/11972" target="_top">Bug#11972</a>)</p></li><li><p>
        If a <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> statement named
        multiple views, it stopped with an error if a nonexistent view
        was named and did not drop the remaining views. Now it continues
        on and reports an error at the end, similar to
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>.
       (<a href="http://bugs.mysql.com/11551" target="_top">Bug#11551</a>)</p></li><li><p>
        The server now issues a warning if it removes leading spaces
        from an alias.
       (<a href="http://bugs.mysql.com/10977" target="_top">Bug#10977</a>)</p></li><li><p>
        For a successful dump, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now writes a
        SQL comment to the end of the dump file in the following format:
      </p><pre class="programlisting">-- Dump completed on YYYY-MM-DD hh:mm:ss
</pre><p>(<a href="http://bugs.mysql.com/10877" target="_top">Bug#10877</a>)</p></li><li><p>
        For spatial data types, the server formerly returned these as
        <code class="literal">VARSTRING</code> values with a binary collation. Now
        the server returns spatial values as
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values.
       (<a href="http://bugs.mysql.com/10166" target="_top">Bug#10166</a>)</p></li><li><p>
        A new system variable,
        <a href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a>, specifies the
        locale that controls the language used to display day and month
        names and abbreviations. This variable affects the output from
        the <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>,
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> and
        <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> functions. See
        <a href="internationalization-localization.html#locale-support" title="9.8. MySQL Server Locale Support">Section 9.8, “MySQL Server Locale Support”</a>.
      </p></li><li><p>
        Using <a href="installing.html#option_configure_with-debug"><code class="option">--with-debug</code></a> to
        configure MySQL with debugging support enables you to use the
        <a href="server-administration.html#option_mysqld_debug"><code class="option">--debug="d,parser_debug"</code></a> option
        when you start the server. This causes the Bison parser that is
        used to process SQL statements to dump a parser trace to the
        server's standard error output. Typically, this output is
        written to the error log.
      </p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.3.7.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A stored routine created by one user and then made accessible to
        a different user using
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT EXECUTE</code></a>
        could be executed by that user with the privileges of the
        routine's definer.
       (<a href="http://bugs.mysql.com/18630" target="_top">Bug#18630</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4227" target="_top">CVE-2006-4227</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        On Linux, and possibly other platforms using case-sensitive file
        systems, it was possible for a user granted rights on a database
        to create or access a database whose name differed only from
        that of the first by the case of one or more letters.
       (<a href="http://bugs.mysql.com/17647" target="_top">Bug#17647</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4226" target="_top">CVE-2006-4226</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> program was included in both the
        <code class="literal">MySQL-ndb-tools</code> and
        <code class="literal">MySQL-ndb-management</code> RPM packages, resulting
        in a conflict if both were installed. Now
        <span><strong class="command">ndb_mgm</strong></span> is included only in
        <code class="literal">MySQL-ndb-tools</code>.
       (<a href="http://bugs.mysql.com/21058" target="_top">Bug#21058</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">TransactionDeadlockDetectionTimeout</code>
        to a value greater than 12000 would cause scans to deadlock,
        time out, fail to release scan records, until the cluster ran
        out of scan records and stopped processing.
       (<a href="http://bugs.mysql.com/21800" target="_top">Bug#21800</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A memory leak occurred when running <span><strong class="command">ndb_mgm -e
        "SHOW"</strong></span>.
       (<a href="http://bugs.mysql.com/21670" target="_top">Bug#21670</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server provided a nondescriptive error message when
        encountering a fatally corrupted REDO log.
       (<a href="http://bugs.mysql.com/21615" target="_top">Bug#21615</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A partial rollback could lead to node restart failures.
       (<a href="http://bugs.mysql.com/21536" target="_top">Bug#21536</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a unique index read due to an invalid schema
        version could be handled incorrectly in some cases, leading to
        unpredictable results.
       (<a href="http://bugs.mysql.com/21384" target="_top">Bug#21384</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In a cluster with more than 2 replicas, a manual restart of one
        of the data nodes could fail and cause the other nodes in the
        same node group to shut down.
       (<a href="http://bugs.mysql.com/21213" target="_top">Bug#21213</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some queries involving joins on very large
        <code class="literal">NDB</code> tables could crash the MySQL
        server.
       (<a href="http://bugs.mysql.com/21059" target="_top">Bug#21059</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Restarting a data node while DDL operations were in progress on
        the cluster could cause other data nodes to fail. This could
        also lead to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> hanging or crashing under
        some circumstances.
       (<a href="http://bugs.mysql.com/21017" target="_top">Bug#21017</a>, <a href="http://bugs.mysql.com/21050" target="_top">Bug#21050</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some situations with a high disk-load, writing of the redo
        log could hang, causing a crash with the error message
        <span class="errortext">GCP STOP detected</span>.
       (<a href="http://bugs.mysql.com/20904" target="_top">Bug#20904</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When the redo buffer ran out of space, a <span class="errortext">Pointer too
        large</span> error was raised and the cluster could become
        unusable until restarted with <code class="option">--initial</code>.
       (<a href="http://bugs.mysql.com/20892" target="_top">Bug#20892</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A vague error message was returned when reading both schema
        files during a restart of the cluster.
       (<a href="http://bugs.mysql.com/20860" target="_top">Bug#20860</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Incorrect values were inserted into
        <code class="literal">AUTO_INCREMENT</code> columns of tables restored
        from a cluster backup.
       (<a href="http://bugs.mysql.com/20820" target="_top">Bug#20820</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When attempting to restart the cluster following a data import,
        the cluster failed during Phase 4 of the restart with
        <span class="errortext">Error 2334: Job buffer congestion</span>.
       (<a href="http://bugs.mysql.com/20774" target="_top">Bug#20774</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements did not work
        correctly on an <code class="literal">NDB</code> table having
        both a primary key and a unique key. In such cases, proper
        values were not set for columns which were not explicitly
        referenced in the statement.
       (<a href="http://bugs.mysql.com/20728" target="_top">Bug#20728</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server did not honor the value set for
        <a href="mysql-cluster.html#sysvar_ndb_cache_check_time"><code class="literal">ndb_cache_check_time</code></a> in the
        <code class="filename">my.cnf</code> file.
       (<a href="http://bugs.mysql.com/20708" target="_top">Bug#20708</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_size.pl</strong></span> and
        <span><strong class="command">ndb_error_reporter</strong></span> were missing from RPM
        packages.
       (<a href="http://bugs.mysql.com/20426" target="_top">Bug#20426</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running <span><strong class="command">ndbd</strong></span>
        <code class="option">--nowait-nodes=<em class="replaceable"><code>id</code></em> </code>
        where <em class="replaceable"><code>id</code></em> was the node ID of a node
        that was already running would fail with an invalid error
        message.
       (<a href="http://bugs.mysql.com/20419" target="_top">Bug#20419</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (Direct APIs): <code class="literal">NdbScanOperation::readTuples()</code>
        and <code class="literal">NdbIndexScanOperation::readTuples()</code>
        ignored the <em class="replaceable"><code>batch</code></em> parameter.
       (<a href="http://bugs.mysql.com/20252" target="_top">Bug#20252</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node failure during a scan could sometime cause the node to
        crash when restarting too quickly following the failure.
       (<a href="http://bugs.mysql.com/20197" target="_top">Bug#20197</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was possible to use port numbers greater than 65535 for
        <code class="literal">ServerPort</code> in the
        <code class="filename">config.ini</code> file.
       (<a href="http://bugs.mysql.com/19164" target="_top">Bug#19164</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain circumstances, a node that was shut down then
        restarted could hang during the restart.
       (<a href="http://bugs.mysql.com/18863" target="_top">Bug#18863</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Trying to create or drop a table while a node was restarting
        caused the node to crash. This is now handled by raising an
        error.
       (<a href="http://bugs.mysql.com/18781" target="_top">Bug#18781</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server failed with a nondescriptive error message when out
        of data memory.
       (<a href="http://bugs.mysql.com/18475" target="_top">Bug#18475</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        For <code class="literal">NDB</code> and possibly
        <code class="literal">InnoDB</code> tables, a <code class="literal">BEFORE
        UPDATE</code> trigger could insert incorrect values.
       (<a href="http://bugs.mysql.com/18437" target="_top">Bug#18437</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> failed to lock the selected rows.
       (<a href="http://bugs.mysql.com/18184" target="_top">Bug#18184</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> did not properly report
        <code class="literal">NDB</code> error codes.
       (<a href="http://bugs.mysql.com/16561" target="_top">Bug#16561</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A Cluster whose storage nodes were installed from the
        <code class="filename">MySQL-ndb-storage-<em class="replaceable"><code>*</code></em>
        </code> RPMs could not perform <code class="literal">CREATE</code> or
        <code class="literal">ALTER</code> operations that made use of nondefault
        character sets or collations.
       (<a href="http://bugs.mysql.com/14918" target="_top">Bug#14918</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client <code class="literal">ALL STATUS</code> command
        could sometimes report the status of some data nodes
        incorrectly.
       (<a href="http://bugs.mysql.com/13985" target="_top">Bug#13985</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An issue that arose from a patch for <a href="http://bugs.mysql.com/19852" target="_top">Bug#19852</a> made in MySQL
        5.0.23 was corrected. (See <a href="news.html#news-5-0-23" title="C.1.62. Changes in MySQL 5.0.23 (Not released)">Section C.1.62, “Changes in MySQL 5.0.23 (Not released)”</a>.)
      </p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        In some cases, a large number of MySQL servers sending requests
        to the cluster simultaneously could cause the cluster to crash.
        This could also be triggered by many
        <code class="literal">NDB</code> API clients making simultaneous
        event subscriptions or unsubscriptions.
       (<a href="http://bugs.mysql.com/20683" target="_top">Bug#20683</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a>, <code class="literal">CREATE
        FUNTION</code>, <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE
        TRIGGER</code></a>, and <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> statements containing multi-line comments
        (<code class="literal">/* ... */</code>) could not be replicated.
       (<a href="http://bugs.mysql.com/20438" target="_top">Bug#20438</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Invoking the MGM API function
        <code class="literal">ndb_mgm_listen_event()</code> caused a memory leak.
       (<a href="http://bugs.mysql.com/21671" target="_top">Bug#21671</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        The MGM API function <code class="literal">ndb_logevent_get_fd()</code>
        was not implemented.
       (<a href="http://bugs.mysql.com/21129" target="_top">Bug#21129</a>)</p></li><li><p>
        Some Linux-x86_64-icc packages (of previous releases) mistakenly
        contained 32-bit binaries. Only <span><strong class="command">ICC</strong></span> builds
        are affected, not <span><strong class="command">gcc</strong></span> builds. Solaris and
        FreeBSD x86_64 builds are not affected.
       (<a href="http://bugs.mysql.com/22238" target="_top">Bug#22238</a>)</p></li><li><p>
        Running <a href="sql-syntax.html#show-binary-logs" title="12.5.5.1. SHOW BINARY LOGS Syntax"><code class="literal">SHOW
        MASTER LOGS</code></a> at the same time as binary log files were
        being switched would cause <code class="literal">mysqld</code> to hang.
       (<a href="http://bugs.mysql.com/21965" target="_top">Bug#21965</a>)</p></li><li><p>
        <code class="literal">libmysqlclient</code> defined a symbol
        <code class="literal">BN_bin2bn</code> which belongs to OpenSSL. This
        could break applications that also linked against OpenSSL's
        <code class="literal">libcrypto</code> library. The fix required
        correcting an error in a build script that was failing to add
        rename macros for some functions.
       (<a href="http://bugs.mysql.com/21930" target="_top">Bug#21930</a>)</p></li><li><p>
        <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> can be
        <code class="literal">NULL</code> to signify “<span class="quote">no conversion,</span>”
        but some code did not check for <code class="literal">NULL</code>,
        resulting in a server crash.
       (<a href="http://bugs.mysql.com/21913" target="_top">Bug#21913</a>)</p></li><li><p>
        A <code class="literal">NUL</code> byte within a prepared statement string
        caused the rest of the string not to be written to the query
        log, allowing logging to be bypassed.
       (<a href="http://bugs.mysql.com/21813" target="_top">Bug#21813</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> queries with
        <code class="literal">ORDER BY</code> and <code class="literal">LIMIT</code> could
        return the wrong result.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This problem was introduced by the fix for <a href="http://bugs.mysql.com/9676" target="_top">Bug#9676</a>, which
          limited the rows stored in a temporary table to the
          <code class="literal">LIMIT</code> clause. This optimization is not
          applicable to nongroup queries with aggregate functions. The
          current fix disables the optimization in such cases.
        </p></div><p>(<a href="http://bugs.mysql.com/21787" target="_top">Bug#21787</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> sometimes generated a spurious <code class="literal">Column
        count doesn't match value count</code> error.
       (<a href="http://bugs.mysql.com/21774" target="_top">Bug#21774</a>)</p></li><li><p>
        <a href="functions.html#function_export-set"><code class="literal">EXPORT_SET()</code></a> did not accept
        arguments with coercible character sets.
       (<a href="http://bugs.mysql.com/21531" target="_top">Bug#21531</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> incorrectly tried to use
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> for tables in the
        <code class="literal">INFORMATION_SCHEMA</code> database.
       (<a href="http://bugs.mysql.com/21527" target="_top">Bug#21527</a>)</p></li><li><p>
        Memory overruns could occur for certain kinds of subqueries.
       (<a href="http://bugs.mysql.com/21477" target="_top">Bug#21477</a>)</p></li><li><p>
        A <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> can be represented as an
        integer (such as <code class="literal">20060101</code>) or as a string
        (such as <code class="literal">'2006.01.01'</code>). When a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> (or
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>) column is compared in one
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> against both
        representations, constant propagation by the optimizer led to
        comparison of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as a string
        against <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as an integer. This
        could result in integer comparisons such as
        <code class="literal">2006</code> against <code class="literal">20060101</code>,
        erroneously producing a false result.
       (<a href="http://bugs.mysql.com/21475" target="_top">Bug#21475</a>)</p></li><li><p>
        Adding <code class="literal">ORDER BY</code> to a <code class="literal">SELECT
        DISTINCT(<em class="replaceable"><code>expr</code></em>)</code> query could
        produce incorrect results.
       (<a href="http://bugs.mysql.com/21456" target="_top">Bug#21456</a>)</p></li><li><p>
        Database and table names have a maximum length of 64 characters
        (even if they contain multi-byte characters), but were truncated
        to 64 bytes.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.26.
        </p></div><p>(<a href="http://bugs.mysql.com/21432" target="_top">Bug#21432</a>)</p></li><li><p>
        With <code class="literal">max_sp_recursion</code> set to 0, a stored
        procedure that executed a <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE
        PROCEDURE</code></a> statement for itself triggered a recursion
        limit exceeded error, though the statement involves no
        recursion.
       (<a href="http://bugs.mysql.com/21416" target="_top">Bug#21416</a>)</p></li><li><p>
        On 64-bit Windows, a missing table generated error 1017, not the
        correct value of 1146.
       (<a href="http://bugs.mysql.com/21396" target="_top">Bug#21396</a>)</p></li><li><p>
        The optimizer sometimes produced an incorrect row-count estimate
        after elimination of <a href="optimization.html#jointype_const"><code class="literal">const</code></a>
        tables. This resulted in choosing extremely inefficient
        execution plans in same cases when distribution of data in joins
        were skewed.
       (<a href="http://bugs.mysql.com/21390" target="_top">Bug#21390</a>)</p></li><li><p>
        A query result could be sorted improperly when using
        <code class="literal">ORDER BY</code> for the second table in a join.
       (<a href="http://bugs.mysql.com/21302" target="_top">Bug#21302</a>)</p></li><li><p>
        Query results could be incorrect if the <code class="literal">WHERE</code>
        clause contained <code class="literal">t.<em class="replaceable"><code>key_part</code></em>
        NOT IN (<em class="replaceable"><code>val_list</code></em>)</code>, where
        <em class="replaceable"><code>val_list</code></em> is a list of more than 1000
        constants.
       (<a href="http://bugs.mysql.com/21282" target="_top">Bug#21282</a>)</p></li><li><p>
        For user-defined functions created with
        <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a>, the
        <code class="literal">DEFINER</code> clause is not legal, but no error was
        generated.
       (<a href="http://bugs.mysql.com/21269" target="_top">Bug#21269</a>)</p></li><li><p>
        The <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privilege was required
        for an insert on a view, instead of the
        <a href="server-administration.html#priv_insert"><code class="literal">INSERT</code></a> privilege.
       (<a href="http://bugs.mysql.com/21261" target="_top">Bug#21261</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20989" target="_top">Bug#20989</a>.</p></li><li><p>
        Subqueries on <code class="literal">INFORMATION_SCHEMA</code> tables could
        erroneously return an empty result.
       (<a href="http://bugs.mysql.com/21231" target="_top">Bug#21231</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> created temporary files in a
        possibly insecure way.
       (<a href="http://bugs.mysql.com/21224" target="_top">Bug#21224</a>)</p></li><li><p>
        When <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> or
        <a href="sql-syntax.html#show-open-tables" title="12.5.5.23. SHOW OPEN TABLES Syntax"><code class="literal">SHOW OPEN TABLES</code></a> was issued while
        concurrently in another connection issuing
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>,
        <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a>, <code class="literal">CREATE
        TABLE LIKE</code> or any other statement that required a name
        lock, the server crashed.
       (<a href="http://bugs.mysql.com/21216" target="_top">Bug#21216</a>, <a href="http://bugs.mysql.com/19403" target="_top">Bug#19403</a>)</p></li><li><p>
        The <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> option for
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> requires certain privileges, but
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> generated a truncated dump file
        without producing an appropriate error message or exit status if
        the invoking user did not have those privileges.
       (<a href="http://bugs.mysql.com/21215" target="_top">Bug#21215</a>)</p></li><li><p>
        Some prepared statements caused a server crash when executed a
        second time.
       (<a href="http://bugs.mysql.com/21166" target="_top">Bug#21166</a>)</p></li><li><p>
        The optimizer assumed that if <code class="literal">(a=x AND b=x)</code>
        is true, <code class="literal">(a=x AND b=x) AND a=b</code> is also true.
        But that is not always so if <code class="literal">a</code> and
        <code class="literal">b</code> have different data types.
       (<a href="http://bugs.mysql.com/21159" target="_top">Bug#21159</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-innodb-status" title="12.5.5.19. SHOW INNODB STATUS Syntax"><code class="literal">SHOW INNODB STATUS</code></a> contained some
        duplicate output.
       (<a href="http://bugs.mysql.com/21113" target="_top">Bug#21113</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> was slow with more than 100,000
        <code class="filename">.idb</code> files.
       (<a href="http://bugs.mysql.com/21112" target="_top">Bug#21112</a>)</p></li><li><p>
        Performing an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> on a view
        that was defined using a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        that specified a collation and a column alias caused the server
        to crash .
       (<a href="http://bugs.mysql.com/21086" target="_top">Bug#21086</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> did not retain
        existing values of attributes that had been originally specified
        but were not changed in the <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER
        VIEW</code></a> statement.
       (<a href="http://bugs.mysql.com/21080" target="_top">Bug#21080</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, the server could crash
        when executing <code class="literal">NOT IN(...)</code> subqueries.
       (<a href="http://bugs.mysql.com/21077" target="_top">Bug#21077</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_myisam_stats_method"><code class="literal">myisam_stats_method</code></a>
        variable was mishandled when set from an option file or on the
        command line.
       (<a href="http://bugs.mysql.com/21054" target="_top">Bug#21054</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_query_cache_type"><code class="literal">query_cache_type</code></a> set to 0,
        <code class="literal">RESET QUERY CACHE</code> was very slow and other
        threads were blocked during the operation. Now a cache reset is
        faster and nonblocking.
       (<a href="http://bugs.mysql.com/21051" target="_top">Bug#21051</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> crashed for very long arguments to the
        <code class="literal">connect</code> command.
       (<a href="http://bugs.mysql.com/21042" target="_top">Bug#21042</a>)</p></li><li><p>
        A query using <code class="literal">WHERE <em class="replaceable"><code>column</code></em> =
        <em class="replaceable"><code>constant</code></em> OR
        <em class="replaceable"><code>column</code></em> IS NULL</code> did not
        return consistent results on successive invocations. The
        <em class="replaceable"><code>column</code></em> in each part of the
        <code class="literal">WHERE</code> clause could be either the same column,
        or two different columns, for the effect to be observed.
       (<a href="http://bugs.mysql.com/21019" target="_top">Bug#21019</a>)</p></li><li><p>
        Performance during an import on a table with a trigger that
        called a stored procedure was severely degraded. This issue
        first arose in MySQL 5.0.18.
       (<a href="http://bugs.mysql.com/21013" target="_top">Bug#21013</a>)</p></li><li><p>
        A query of the form shown here caused the server to crash:
      </p><pre class="programlisting">SELECT * FROM t1 NATURAL JOIN (
    t2 JOIN (
        t3 NATURAL JOIN t4,
        t5 NATURAL JOIN t6
    )
    ON (t3.id3 = t2.id3 AND t5.id5 = t2.id5)
);
</pre><p>(<a href="http://bugs.mysql.com/21007" target="_top">Bug#21007</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> sometimes would
        return <code class="literal">NULL</code> if the <code class="literal">%D</code>
        format specifier was not the last specifier in the format
        string.
       (<a href="http://bugs.mysql.com/20987" target="_top">Bug#20987</a>)</p></li><li><p>
        A query using <code class="literal">WHERE NOT
        (<em class="replaceable"><code>column</code></em> &lt; ANY
        (<em class="replaceable"><code>subquery</code></em>))</code> yielded a
        different result from the same query using the same
        <em class="replaceable"><code>column</code></em> and
        <em class="replaceable"><code>subquery</code></em> with <code class="literal">WHERE
        (<em class="replaceable"><code>column</code></em> &gt; ANY
        (<em class="replaceable"><code>subquery</code></em>))</code>.
       (<a href="http://bugs.mysql.com/20975" target="_top">Bug#20975</a>)</p></li><li><p>
        In debugging mode, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> printed
        <code class="literal">server_init</code> rather than
        <code class="literal">network_init</code> during network initialization.
       (<a href="http://bugs.mysql.com/20968" target="_top">Bug#20968</a>)</p></li><li><p>
        Under certain circumstances,
        <a href="functions.html#function_avg"><code class="literal">AVG(<em class="replaceable"><code>key_val</code></em>)</code></a>
        returned a value but
        <a href="functions.html#function_max"><code class="literal">MAX(<em class="replaceable"><code>key_val</code></em>)</code></a>
        returned an empty set due to incorrect application of
        <a href="functions.html#function_min"><code class="literal">MIN()/MAX()</code></a> optimization.
       (<a href="http://bugs.mysql.com/20954" target="_top">Bug#20954</a>)</p></li><li><p>
        On Windows, <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade.exe</strong></span></a> could not find
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck.exe</strong></span></a>.
       (<a href="http://bugs.mysql.com/20950" target="_top">Bug#20950</a>)</p></li><li><p>
        Use of zero-length variable names caused a server crash.
       (<a href="http://bugs.mysql.com/20908" target="_top">Bug#20908</a>)</p></li><li><p>
        The server crashed when using the range access method to execut
        a subquery with a <code class="literal">ORDER BY DESC</code> clause.
       (<a href="http://bugs.mysql.com/20869" target="_top">Bug#20869</a>)</p></li><li><p>
        For certain queries, the server incorrectly resolved a reference
        to an aggregate function and crashed.
       (<a href="http://bugs.mysql.com/20868" target="_top">Bug#20868</a>)</p></li><li><p>
        Using aggregate functions in subqueries yielded incorrect
        results under certain circumstances due to incorrect application
        of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        optimization.
       (<a href="http://bugs.mysql.com/20792" target="_top">Bug#20792</a>)</p></li><li><p>
        If a column definition contained a character set declaration,
        but a <code class="literal">DEFAULT</code> value began with an introducer,
        the introducer character set was used as the column character
        set.
       (<a href="http://bugs.mysql.com/20695" target="_top">Bug#20695</a>)</p></li><li><p>
        Multiplication of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values
        could produce incorrect fractional part and trailing garbage
        caused by signed overflow.
       (<a href="http://bugs.mysql.com/20569" target="_top">Bug#20569</a>)</p></li><li><p>
        Users who had the <a href="server-administration.html#priv_show-view"><code class="literal">SHOW VIEW</code></a>
        privilege for a view and privileges on one of the view's
        base tables could not see records in
        <code class="literal">INFORMATION_SCHEMA</code> tables relating to the
        base table.
       (<a href="http://bugs.mysql.com/20543" target="_top">Bug#20543</a>)</p></li><li><p>
        The <a href="functions.html#function_md5"><code class="literal">MD5()</code></a>,
        <a href="functions.html#function_sha1"><code class="literal">SHA1()</code></a>, and
        <a href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> functions should return
        a binary string, but the result sometimes was converted to the
        character set of the argument.
        <a href="functions.html#function_make-set"><code class="literal">MAKE_SET()</code></a> and
        <a href="functions.html#function_export-set"><code class="literal">EXPORT_SET()</code></a> now use the correct
        character set for their default separators, resulting in
        consistent result strings which can be coerced according to
        normal character set rules.
       (<a href="http://bugs.mysql.com/20536" target="_top">Bug#20536</a>)</p></li><li><p>
        A subquery that contained <code class="literal">LIMIT
        <em class="replaceable"><code>N</code></em>,1</code> could return more than
        one row.
       (<a href="http://bugs.mysql.com/20519" target="_top">Bug#20519</a>)</p></li><li><p>
        Creation of a view as a join of views or tables could fail if
        the views or tables are in different databases.
       (<a href="http://bugs.mysql.com/20482" target="_top">Bug#20482</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements using
        <code class="literal">GROUP BY</code> against a view could have missing
        columns in the output when there was a trigger defined on one of
        the base tables for the view.
       (<a href="http://bugs.mysql.com/20466" target="_top">Bug#20466</a>)</p></li><li><p>
        For connections that required a <code class="literal">SUBJECT</code>
        value, a check was performed to verify that the value was
        correct, but the connection was not refused if not.
       (<a href="http://bugs.mysql.com/20411" target="_top">Bug#20411</a>)</p></li><li><p>
        Some user-level errors were being written to the server's error
        log, which is for server errors.
       (<a href="http://bugs.mysql.com/20402" target="_top">Bug#20402</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> crashed on Solaris due to
        <code class="literal">NULL</code> return value of
        <code class="literal">strerror()</code> system call.
       (<a href="http://bugs.mysql.com/20145" target="_top">Bug#20145</a>)</p></li><li><p>
        For <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, escaping with backslash sometimes
        did not work.
       (<a href="http://bugs.mysql.com/20103" target="_top">Bug#20103</a>)</p></li><li><p>
        Use of <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> with <code class="literal">GROUP
        BY</code> on a <code class="literal">ucs2</code> column could cause a
        server crash.
       (<a href="http://bugs.mysql.com/20076" target="_top">Bug#20076</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld --flush</strong></span></a> failed to flush
        <code class="literal">MyISAM</code> table changes to disk following an
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement for which no
        updated column had an index.
       (<a href="http://bugs.mysql.com/20060" target="_top">Bug#20060</a>)</p></li><li><p>
        A user-defined function that is called on each row of a returned
        result set, could receive an <code class="literal">in_null</code> state
        that is set, if it was set previously. Now, the
        <code class="literal">is_null</code> state is reset to false before each
        invocation of a UDF.
       (<a href="http://bugs.mysql.com/19904" target="_top">Bug#19904</a>)</p></li><li><p>
        The <code class="literal">query</code> command for
        <span><strong class="command">mysqltest</strong></span> did not work.
       (<a href="http://bugs.mysql.com/19890" target="_top">Bug#19890</a>)</p></li><li><p>
        When executing a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with
        <code class="literal">ORDER BY</code> on a view that is constructed from a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement containing a
        stored function, the stored function was evaluated too many
        times.
       (<a href="http://bugs.mysql.com/19862" target="_top">Bug#19862</a>)</p></li><li><p>
        The first time a user who had been granted the
        <a href="server-administration.html#priv_create-routine"><code class="literal">CREATE ROUTINE</code></a> privilege used
        that privilege to create a stored function or procedure, the
        <code class="literal">Password</code> column in that user's row in the
        <code class="literal">mysql.user</code> table was set to
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/19857" target="_top">Bug#19857</a>)</p></li><li><p>
        For <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a>, the
        <code class="literal">%H</code> and <code class="literal">%k</code> format
        specifiers can return values larger than two digits (if the hour
        is greater than 99), but for some query results that contained
        three-character hours, column values were truncated.
       (<a href="http://bugs.mysql.com/19844" target="_top">Bug#19844</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> on a corrupt
        <code class="literal">MyISAM</code> table using the dynamic record format
        could cause a server crash.
       (<a href="http://bugs.mysql.com/19835" target="_top">Bug#19835</a>)</p></li><li><p>
        Using cursors with <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ
        COMMITTED</code></a> isolation level could cause
        <code class="literal">InnoDB</code> to crash.
       (<a href="http://bugs.mysql.com/19834" target="_top">Bug#19834</a>)</p></li><li><p>
        The yaSSL library bundled with <code class="literal">libmysqlclient</code>
        had some conflicts with OpenSSL. Now macros are used to rename
        the conflicting symbols to have a prefix of
        <code class="literal">ya</code>.
       (<a href="http://bugs.mysql.com/19810" target="_top">Bug#19810</a>)</p></li><li><p>
        On 64-bit systems, use of the <code class="literal">cp1250</code>
        character set with a primary key column in a
        <code class="literal">LIKE</code> clause caused a server crash for
        patterns having letters in the range 128..255.
       (<a href="http://bugs.mysql.com/19741" target="_top">Bug#19741</a>)</p></li><li><p>
        <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> returned the type
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> for a column of a view if
        the column was specified by an expression over values of the
        type <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>.
       (<a href="http://bugs.mysql.com/19714" target="_top">Bug#19714</a>)</p></li><li><p>
        An issue with yaSSL prevented Connector/J clients from
        connecting to the server using a certificate.
       (<a href="http://bugs.mysql.com/19705" target="_top">Bug#19705</a>)</p></li><li><p>
        A cast problem caused incorrect results for prepared statements
        that returned float values when MySQL was compiled with
        <span><strong class="command">gcc</strong></span> 4.0.
       (<a href="http://bugs.mysql.com/19694" target="_top">Bug#19694</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-list-fields" title="20.9.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a> C API
        function returned the incorrect table name for views.
       (<a href="http://bugs.mysql.com/19671" target="_top">Bug#19671</a>)</p></li><li><p>
        If a query had a condition of the form <code class="literal">
        <em class="replaceable"><code>tableX</code></em>.<em class="replaceable"><code>key</code></em>
        =
        <em class="replaceable"><code>tableY</code></em>.<em class="replaceable"><code>key</code></em>
        </code>, which participated in equality propagation and also
        was used for <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access, then
        early <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>-access
        <code class="literal">NULL</code> filtering was not performed for the
        condition. This could make query execution slower.
       (<a href="http://bugs.mysql.com/19649" target="_top">Bug#19649</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> statements in
        a stored procedure could sometimes cause the server to crash.
       (<a href="http://bugs.mysql.com/19399" target="_top">Bug#19399</a>)</p></li><li><p>
        When not running in strict mode, the server failed to convert
        the invalid years portion of a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value to
        <code class="literal">'0000'</code> when inserting it into a table.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/19370" target="_top">Bug#19370</a>)</p><p>See also <a href="http://bugs.mysql.com/25301" target="_top">Bug#25301</a>.</p></li><li><p>
        The final parenthesis of a <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE
        INDEX</code></a> statement occurring in a stored procedure was
        omitted from the binary log when the stored procedure was
        called.
       (<a href="http://bugs.mysql.com/19207" target="_top">Bug#19207</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with a subquery that was
        bound to the outer query over multiple columns returned
        different results when a constant was used instead of one of the
        dependant columns.
       (<a href="http://bugs.mysql.com/18925" target="_top">Bug#18925</a>)</p></li><li><p>
        Setting <a href="server-administration.html#sysvar_myisam_repair_threads"><code class="literal">myisam_repair_threads</code></a>
        caused any repair operation on a <code class="literal">MyISAM</code> table
        to fail to update the cardinality of indexes, instead making
        them always equal to 1.
       (<a href="http://bugs.mysql.com/18874" target="_top">Bug#18874</a>)</p></li><li><p>
        <code class="literal">FEDERATED</code> tables raised invalid duplicate key
        errors when attempting on one server to insert rows having the
        same primary key values as rows that had been deleted from the
        linked table on the other server.
       (<a href="http://bugs.mysql.com/18764" target="_top">Bug#18764</a>)</p></li><li><p>
        The implementation for
        <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> did not indicate
        that it could return <code class="literal">NULL</code>, causing the
        optimizer to do the wrong thing.
       (<a href="http://bugs.mysql.com/18539" target="_top">Bug#18539</a>)</p></li><li><p>
        Using <code class="literal">&gt; ALL</code> with subqueries that return no
        rows yielded incorrect results under certain circumstances due
        to incorrect application of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        optimization.
       (<a href="http://bugs.mysql.com/18503" target="_top">Bug#18503</a>)</p></li><li><p>
        Referring to a stored function qualified with the name of one
        database and tables in another database caused a “<span class="quote">table
        doesn't exist</span>” error.
       (<a href="http://bugs.mysql.com/18444" target="_top">Bug#18444</a>)</p></li><li><p>
        Triggers on tables in the <code class="literal">mysql</code> database
        caused a server crash. Triggers for tables in this database now
        are disallowed.
       (<a href="http://bugs.mysql.com/18361" target="_top">Bug#18361</a>, <a href="http://bugs.mysql.com/18005" target="_top">Bug#18005</a>)</p></li><li><p>
        The length of the pattern string prefix for
        <code class="literal">LIKE</code> operations was calculated incorrectly
        for multi-byte character sets. As a result, the scanned range
        was wider than necessary if the prefix contained any multi-byte
        characters, and rows could be missing from the result set.
       (<a href="http://bugs.mysql.com/18359" target="_top">Bug#18359</a>, <a href="http://bugs.mysql.com/16674" target="_top">Bug#16674</a>)</p></li><li><p>
        Multiple invocations of the
        <a href="functions.html#function_reverse"><code class="literal">REVERSE()</code></a> function could return
        different results.
       (<a href="http://bugs.mysql.com/18243" target="_top">Bug#18243</a>)</p></li><li><p>
        The optimizer did not take advantage of indexes on columns used
        for the second or third arguments of
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a>.
       (<a href="http://bugs.mysql.com/18165" target="_top">Bug#18165</a>)</p></li><li><p>
        For table-format output, <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not always
        calculate columns widths correctly for columns containing
        multi-byte characters in the column name or contents.
       (<a href="http://bugs.mysql.com/17939" target="_top">Bug#17939</a>)</p></li><li><p>
        The character set was not being properly initialized for
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> with a type like
        <code class="literal">CHAR(2) BINARY</code>, which resulted in incorrect
        results or even a server crash.
       (<a href="http://bugs.mysql.com/17903" target="_top">Bug#17903</a>)</p></li><li><p>
        Checking a <code class="literal">MyISAM</code> table (using
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>) having a spatial
        index and only one row would wrongly indicate that the table was
        corrupted.
       (<a href="http://bugs.mysql.com/17877" target="_top">Bug#17877</a>)</p></li><li><p>
        A stored procedure that created and invoked a prepared statement
        was not executed when called in a mysqld init-file.
       (<a href="http://bugs.mysql.com/17843" target="_top">Bug#17843</a>)</p></li><li><p>
        It is possible to create <code class="literal">MERGE</code> tables into
        which data cannot be inserted (by not specifying a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> clause. However, when an
        insert was attempted, the error message was confusing. Now an
        error occurs indicating that the table is read-only.
       (<a href="http://bugs.mysql.com/17766" target="_top">Bug#17766</a>)</p></li><li><p>
        Attempting to insert a string of greater than 4096 bytes into a
        <code class="literal">FEDERATED</code> table resulted in the error
        <span class="errortext">ERROR 1296 (HY000) at line 2: Got error 10000 'Error
        on remote system: 1054: Unknown column
        '<em class="replaceable"><code>string-value</code></em>' from
        FEDERATED</span>. This error was raised regardless of the
        type of column involved (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>,
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>, and so on.)
       (<a href="http://bugs.mysql.com/17608" target="_top">Bug#17608</a>)</p></li><li><p>
        Views could not be updated within a stored function or trigger.
       (<a href="http://bugs.mysql.com/17591" target="_top">Bug#17591</a>)</p></li><li><p>
        Use of the <code class="option">--prompt</code> option or
        <code class="literal">prompt</code> command caused
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to be unable to connect to the Instance
        Manager.
       (<a href="http://bugs.mysql.com/17485" target="_top">Bug#17485</a>)</p></li><li><p>
        <code class="literal">N'xxx'</code> and <code class="literal">_utf8'xxx'</code> were
        not treated as equivalent because <code class="literal">N'xxx'</code>
        failed to unescape backslashes (<code class="literal">\</code>) and
        doubled apostrophe/single quote characters
        (<code class="literal">''</code>).
       (<a href="http://bugs.mysql.com/17313" target="_top">Bug#17313</a>)</p></li><li><p>
        Use of the join cache in favor of an index for <code class="literal">ORDER
        BY</code> operations could cause incorrect result sorting.
       (<a href="http://bugs.mysql.com/17212" target="_top">Bug#17212</a>)</p></li><li><p>
        The <a href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> function returned
        invalid results when used in some
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> queries.
       (<a href="http://bugs.mysql.com/16881" target="_top">Bug#16881</a>)</p></li><li><p>
        <code class="literal">ORDER BY RAND() LIMIT 1</code> always set a user
        variable to the last possible value from the table.
       (<a href="http://bugs.mysql.com/16861" target="_top">Bug#16861</a>)</p></li><li><p>
        When performing a <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>,
        the server transformed <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        columns <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns, which
        could cause erroneous results when using Connector/J and
        possibly other MySQL APIs.
       (<a href="http://bugs.mysql.com/16712" target="_top">Bug#16712</a>)</p></li><li><p>
        Stored procedures did not use the character set defined for the
        database in which they were created.
       (<a href="http://bugs.mysql.com/16676" target="_top">Bug#16676</a>)</p></li><li><p>
        Some server errors were not reported to the client, causing both
        to try to read from the connection until a hang or crash
        resulted.
       (<a href="http://bugs.mysql.com/16581" target="_top">Bug#16581</a>)</p></li><li><p>
        On Windows, a definition for
        <a href="connectors-apis.html#mysql-set-server-option" title="20.9.3.64. mysql_set_server_option()"><code class="literal">mysql_set_server_option()</code></a> was
        missing from the C client library.
       (<a href="http://bugs.mysql.com/16513" target="_top">Bug#16513</a>)</p></li><li><p>
        Updating a column of a <code class="literal">FEDERATED</code> table to
        <code class="literal">NULL</code> sometimes failed.
       (<a href="http://bugs.mysql.com/16494" target="_top">Bug#16494</a>)</p></li><li><p>
        For <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> statements that used
        <code class="literal">DISTINCT</code> or <code class="literal">GROUP BY</code> over
        all key parts of a unique index (or primary key), the optimizer
        unnecessarily created a temporary table, thus losing the linkage
        to the underlying unique index values. This caused a
        <code class="literal">Result set not updatable</code> error. (The
        temporary table is unnecessary because under these circumstances
        the distinct or grouped columns must also be unique.)
       (<a href="http://bugs.mysql.com/16458" target="_top">Bug#16458</a>)</p></li><li><p>
        Using <code class="literal">ANY</code> with “<span class="quote">nontable</span>”
        subqueries such as <code class="literal">SELECT 1</code> yielded incorrect
        results under certain circumstances due to incorrect application
        of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        optimization.
       (<a href="http://bugs.mysql.com/16302" target="_top">Bug#16302</a>)</p></li><li><p>
        A subquery in the <code class="literal">WHERE</code> clause of the outer
        query and using <code class="literal">IN</code> and <code class="literal">GROUP
        BY</code> returned an incorrect result.
       (<a href="http://bugs.mysql.com/16255" target="_top">Bug#16255</a>)</p></li><li><p>
        A query could produce different results with and without and
        index, if the <code class="literal">WHERE</code> clause contained a range
        condition that used an invalid
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> constant.
       (<a href="http://bugs.mysql.com/16249" target="_top">Bug#16249</a>)</p></li><li><p>
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> examined only the
        date and ignored the time when the requested difference unit was
        months or quarters.
       (<a href="http://bugs.mysql.com/16226" target="_top">Bug#16226</a>)</p></li><li><p>
        Using tables from MySQL 4.x in MySQL 5.x, in particular those
        with <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> fields and using
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> to update data in
        the table would result in either data corruption or a server
        crash.
       (<a href="http://bugs.mysql.com/16218" target="_top">Bug#16218</a>, <a href="http://bugs.mysql.com/17294" target="_top">Bug#17294</a>, <a href="http://bugs.mysql.com/16611" target="_top">Bug#16611</a>)</p></li><li><p>
        The value returned by a stored function returning a string value
        was not of the declared character set.
       (<a href="http://bugs.mysql.com/16211" target="_top">Bug#16211</a>)</p></li><li><p>
        The
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a>/<code class="literal">Intersection</code>
        optimizer could experience a memory overrun when the number of
        table columns covered by an index was sufficiently large,
        possibly resulting in a server crash.
       (<a href="http://bugs.mysql.com/16201" target="_top">Bug#16201</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns were handled
        incorrectly in two respects :
      </p><div class="orderedlist"><ol type="1"><li><p>
            When the precision of the column was too small for the
            value. In this case, the original value was returned instead
            of an error.
          </p></li><li><p>
            When the scale of the column was set to 0. In this case, the
            value. In this case, the value was treated as though the
            scale had been defined as 2.
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/16172" target="_top">Bug#16172</a>)</p></li><li><p>
        Certain queries having a <code class="literal">WHERE</code> clause that
        included conditions on multi-part keys with more than 2 key
        parts could produce incorrect results and send <span class="errortext">[Note]
        Use_count: Wrong count for key at...</span> messages to
        <code class="literal">STDERR</code>.
       (<a href="http://bugs.mysql.com/16168" target="_top">Bug#16168</a>)</p></li><li><p>
        When a row was inserted through a view but did not specify a
        value for a column that had no default value in the base table,
        no warning or error occurred. Now a warning occurs, or an error
        in strict SQL mode.
       (<a href="http://bugs.mysql.com/16110" target="_top">Bug#16110</a>)</p></li><li><p>
        When <a href="functions.html#function_now"><code class="literal">NOW()</code></a> was used in a
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> clause of the definition
        for a view, it was replaced with a constant in the view.
       (<a href="http://bugs.mysql.com/15950" target="_top">Bug#15950</a>)</p></li><li><p>
        The C API failed to return a status message when invoking a
        stored procedure.
       (<a href="http://bugs.mysql.com/15752" target="_top">Bug#15752</a>)</p></li><li><p>
        <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> sends a <code class="literal">set
        @@character_set_database=binary</code> statement to the
        server, but this is not understood by pre-4.1 servers. Now
        <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> encloses the statement within a
        <code class="literal">/*!40101 ... */</code> comment so that old servers
        will ignore it.
       (<a href="http://bugs.mysql.com/15690" target="_top">Bug#15690</a>)</p></li><li><p>
        For the <code class="literal">CSV</code> storage engine, memory-mapped
        pages of the data file were not invalidated when new data was
        appended to the file via traditional (file descriptor-based) I/O
        primitives.
       (<a href="http://bugs.mysql.com/15669" target="_top">Bug#15669</a>)</p></li><li><p>
        <code class="literal">SHOW GRANTS FOR CURRENT_USER</code> did not return
        definer grants when executed in <code class="literal">DEFINER</code>
        context (such as within a stored prodedure defined with
        <code class="literal">SQL SECURITY DEFINER</code>), it returned the
        invoker grants.
       (<a href="http://bugs.mysql.com/15298" target="_top">Bug#15298</a>)</p></li><li><p>
        The <a href="server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server</code></a> server
        option was being ignored. With the fix, if you choose a
        nondefault character set with
        <a href="server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server</code></a>, you
        should also use
        <a href="server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server</code></a> to specify the
        collation.
       (<a href="http://bugs.mysql.com/15276" target="_top">Bug#15276</a>)</p></li><li><p>
        The server crashed if it tried to access a
        <code class="literal">CSV</code> table for which the data file had been
        removed.
       (<a href="http://bugs.mysql.com/15205" target="_top">Bug#15205</a>)</p></li><li><p>
        Tables created with the <code class="literal">FEDERATED</code> storage
        engine did not permit indexes using <code class="literal">NULL</code>
        columns.
       (<a href="http://bugs.mysql.com/15133" target="_top">Bug#15133</a>)</p></li><li><p>
        When using tables containing
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns created under
        MySQL 4.1 with a 5.0 or later server, for some queries the
        metadata sent to the client could have an empty column name.
       (<a href="http://bugs.mysql.com/14897" target="_top">Bug#14897</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> statements that selected
        <code class="literal">GEOMETRY</code> values resulted in a table that
        contained <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns, not
        <code class="literal">GEOMETRY</code> columns.
       (<a href="http://bugs.mysql.com/14807" target="_top">Bug#14807</a>)</p></li><li><p>
        When setting a column to its implicit default value as the
        result of inserting a <code class="literal">NULL</code> into a
        <code class="literal">NOT NULL</code> column as part of a multi-row insert
        or <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> operation, the
        server returned a misleading warning message.
       (<a href="http://bugs.mysql.com/14770" target="_top">Bug#14770</a>)</p></li><li><p>
        The use of <code class="literal">WHERE <em class="replaceable"><code>col_name</code></em> IS
        NULL</code> in <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements reset the value of
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to zero.
       (<a href="http://bugs.mysql.com/14553" target="_top">Bug#14553</a>)</p></li><li><p>
        Inserts into <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns of
        <code class="literal">FEDERATED</code> tables did not work.
       (<a href="http://bugs.mysql.com/14532" target="_top">Bug#14532</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> and a table join
        while running a concurrent <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        operation would join incorrect rows.
       (<a href="http://bugs.mysql.com/14400" target="_top">Bug#14400</a>)</p></li><li><p>
        Prepared statements caused general log and server memory
        corruption.
       (<a href="http://bugs.mysql.com/14346" target="_top">Bug#14346</a>)</p></li><li><p>
        <code class="literal">libmysqld</code> produced some warnings to
        <code class="literal">stderr</code> which could not be silenced. These
        warnings now are suppressed.
       (<a href="http://bugs.mysql.com/13717" target="_top">Bug#13717</a>)</p></li><li><p>
        The Instance Manager allowed <code class="literal">STOP INSTANCE</code> to
        be used on a server instance that was not running.
       (<a href="http://bugs.mysql.com/12673" target="_top">Bug#12673</a>)</p></li><li><p>
        For very complex <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements could create temporary tables that were too large,
        and for which the temporary files were not removed, causing
        subsequent queries to fail.
       (<a href="http://bugs.mysql.com/11824" target="_top">Bug#11824</a>)</p></li><li><p>
        <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a> did not refresh database
        privileges when employed to re-select the current database.
       (<a href="http://bugs.mysql.com/10979" target="_top">Bug#10979</a>)</p></li><li><p>
        The type of the value returned by the
        <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> function varied
        according to the type of the input value. The function should
        always return a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> value.
       (<a href="http://bugs.mysql.com/10966" target="_top">Bug#10966</a>)</p></li><li><p>
        The same trigger error message was produced under two
        conditions: The trigger duplicated an existing trigger name, or
        the trigger duplicated an existing combination of action and
        event. Now different messages are produced for the two
        conditions so as to be more informative.
       (<a href="http://bugs.mysql.com/10946" target="_top">Bug#10946</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a> did not respect the
        16-character user name limit.
       (<a href="http://bugs.mysql.com/10668" target="_top">Bug#10668</a>)</p></li><li><p>
        A server or network failure with an open client connection would
        cause the client to hang even though the server was no longer
        available.
      </p><p>
        As a result of this change, the
        <code class="literal">MYSQL_OPT_READ_TIMEOUT</code> and
        <code class="literal">MYSQL_OPT_WRITE_TIMEOUT</code> options for
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> now apply to
        TCP/IP connections on all platforms. Previously, they applied
        only to Windows.
       (<a href="http://bugs.mysql.com/9678" target="_top">Bug#9678</a>)</p></li><li><p>
        <code class="literal">INSERT INTO ... SELECT ... LIMIT 1</code> could be
        slow because the <code class="literal">LIMIT</code> was ignored when
        selecting candidate rows.
       (<a href="http://bugs.mysql.com/9676" target="_top">Bug#9676</a>)</p></li><li><p>
        The optimizer could produce an incorrect result after
        <code class="literal">AND</code> with collations such as
        <code class="literal">latin1_german2_ci</code>,
        <code class="literal">utf8_czech_ci</code>, and
        <code class="literal">utf8_lithianian_ci</code>.
       (<a href="http://bugs.mysql.com/9509" target="_top">Bug#9509</a>)</p></li><li><p>
        A stored procedure with a <code class="literal">CONTINUE</code> handler
        that encountered an error continued to execute a statement that
        caused an error, rather with the next statement following the
        one that caused the error.
       (<a href="http://bugs.mysql.com/8153" target="_top">Bug#8153</a>)</p></li><li><p>
        For ODBC compatibility, MySQL supports use of <code class="literal">WHERE
        <em class="replaceable"><code>col_name</code></em> IS NULL</code> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns that are
        <code class="literal">NOT NULL</code>, to allow column values of
        <code class="literal">'0000-00-00'</code> or <code class="literal">'0000-00-00
        00:00:00'</code> to be selected. However, this was not
        working for <code class="literal">WHERE</code> clauses in
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements.
       (<a href="http://bugs.mysql.com/8143" target="_top">Bug#8143</a>)</p></li><li><p>
        A user variable set to a value selected from an unsigned column
        was stored as a signed value.
       (<a href="http://bugs.mysql.com/7498" target="_top">Bug#7498</a>)</p></li><li><p>
        The <a href="installing.html#option_configure_with-collation"><code class="option">--with-collation</code></a> option
        was not honored for client connections.
       (<a href="http://bugs.mysql.com/7192" target="_top">Bug#7192</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-24a"></a>C.1.60. Changes in MySQL 5.0.24a (25 August 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family. It replaces MySQL 5.0.24.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The shared compatibility RPM files were missing some files.
       (<a href="http://bugs.mysql.com/22251" target="_top">Bug#22251</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could crash when closing temporary
        tables.
       (<a href="http://bugs.mysql.com/21582" target="_top">Bug#21582</a>)</p></li><li><p>
        MySQL 5.0.24 introduced an ABI incompatibility, which this
        release reverts. Programs compiled against 5.0.24 are not
        compatible with any other version and must be recompiled.
       (<a href="http://bugs.mysql.com/21543" target="_top">Bug#21543</a>)</p></li><li><p>
        Path name separator and device characters were not correctly
        parameterized for NetWare, causing <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        startup errors.
       (<a href="http://bugs.mysql.com/21537" target="_top">Bug#21537</a>)</p></li><li><p>
        Closing of temporary tables failed if binary logging was not
        enabled.
       (<a href="http://bugs.mysql.com/20919" target="_top">Bug#20919</a>)</p></li><li><p>
        For statements that have a <code class="literal">DEFINER</code> clause
        such as <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a> or
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a>, long user names or
        host names could cause a buffer overflow.
       (<a href="http://bugs.mysql.com/16899" target="_top">Bug#16899</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-24"></a>C.1.61. Changes in MySQL 5.0.24 (27 July 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        In the <a href="information-schema.html#routines-table" title="19.14. The INFORMATION_SCHEMA ROUTINES Table"><code class="literal">INFORMATION_SCHEMA.ROUTINES</code></a>
        table the <code class="literal">ROUTINE_DEFINITION</code> column now is
        defined as <code class="literal">NULL</code> rather than <code class="literal">NOT
        NULL</code>. Also, <code class="literal">NULL</code> rather than the
        empty string is returned as the column value if the user does
        not have sufficient privileges to see the routine definition.
       (<a href="http://bugs.mysql.com/20230" target="_top">Bug#20230</a>)</p></li><li><p>
        The <a href="functions.html#function_left"><code class="literal">LEFT()</code></a> and
        <a href="functions.html#function_right"><code class="literal">RIGHT()</code></a> functions return
        <code class="literal">NULL</code> if any argument is
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/11728" target="_top">Bug#11728</a>)</p></li><li><p>
        The <a href="storage-engines.html#sysvar_innodb_log_arch_dir"><code class="literal">innodb_log_arch_dir</code></a> system
        variable (which has been unused since MySQL 4.0.6) is now
        deprecated and should no longer be used. It will be removed in
        MySQL 5.1.
      </p></li><li><p>
        Program Database files (extension <code class="filename">.pdb</code>) are
        now included by default in Windows distributions. These can be
        used to help diagnose problems with <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        and other tools. See <a href="extending-mysql.html#debugging-server" title="21.4.1. Debugging a MySQL Server">Section 21.4.1, “Debugging a MySQL Server”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        If a user has access to <code class="literal">MyISAM</code> table
        <em class="replaceable"><code>t</code></em>, that user can create a
        <code class="literal">MERGE</code> table <em class="replaceable"><code>m</code></em> that
        accesses <em class="replaceable"><code>t</code></em>. However, if the user's
        privileges on <em class="replaceable"><code>t</code></em> are subsequently
        revoked, the user can continue to access
        <em class="replaceable"><code>t</code></em> by doing so through
        <em class="replaceable"><code>m</code></em>. If this behavior is undesirable,
        you can start the server with the new
        <a href="server-administration.html#option_mysqld_skip-merge"><code class="option">--skip-merge</code></a> option to disable
        the <code class="literal">MERGE</code> storage engine.
       (<a href="http://bugs.mysql.com/15195" target="_top">Bug#15195</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4031" target="_top">CVE-2006-4031</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_size.pl</strong></span> script did not account for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column values correctly.
       (<a href="http://bugs.mysql.com/21204" target="_top">Bug#21204</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The repeated creating and dropping of a table would eventually
        lead to <code class="literal">NDB</code> Error 826,
        <span class="errortext">Too many tables and attributes ... Insufficient
        space</span>.
       (<a href="http://bugs.mysql.com/20847" target="_top">Bug#20847</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A race condition during slave server shutdown caused an assert
        failure.
       (<a href="http://bugs.mysql.com/20850" target="_top">Bug#20850</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        With the
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a> system
        variable set larger than 1, if the next generated
        <code class="literal">AUTO_INCREMENT</code> value would be larger than the
        column's maximum value, the value would be clipped down to that
        maximum value and inserted, even if the resulting value would
        not be in the generated sequence. This could cause problems for
        master-master replication. Now the server clips the value down
        to the previous value in the sequence, which correctly produces
        a duplicate-key error if that value already exists in the
        column.
       (<a href="http://bugs.mysql.com/20524" target="_top">Bug#20524</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If a table on a slave server had a higher
        <code class="literal">AUTO_INCREMENT</code> counter than the corresponding
        master table (even though all rows of the two tables were
        identical), in some cases <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a>
        or <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
        ... ON DUPLICATE KEY UPDATE</code></a> would not replicate
        properly using statement-based logging. (Different values would
        be inserted on the master and slave.)
       (<a href="http://bugs.mysql.com/20188" target="_top">Bug#20188</a>)</p></li><li><p>
        Under heavy load (executing more than 1024 simultaneous complex
        queries), a problem in the code that handles internal temporary
        tables could lead to writing beyond allocated space and memory
        corruption.
      </p><p>
        Use of more than 1024 simultaneous cursors server wide also
        could lead to memory corruption. This applies to both stored
        procedure cursors and C API cursors.
       (<a href="http://bugs.mysql.com/21206" target="_top">Bug#21206</a>)</p></li><li><p>
        Failure to account for a <code class="literal">NULL</code> table pointer
        on big-endian machines could cause a server crash during type
        conversion.
       (<a href="http://bugs.mysql.com/21135" target="_top">Bug#21135</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> sometimes did not select the
        correct database before trying to dump views from it, resulting
        in an empty result set that caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        to die with a segmentation fault.
       (<a href="http://bugs.mysql.com/21014" target="_top">Bug#21014</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> that used a subquery in
        the <code class="literal">FROM</code> clause that did not select from a
        table failed when the subquery was used in a join.
       (<a href="http://bugs.mysql.com/21002" target="_top">Bug#21002</a>)</p></li><li><p>
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE ...
        SELECT</code></a> for a view required the
        <a href="server-administration.html#priv_insert"><code class="literal">INSERT</code></a> privilege for tables other
        than the table being modified.
       (<a href="http://bugs.mysql.com/20989" target="_top">Bug#20989</a>)</p></li><li><p>
        Issuing a <a href="sql-syntax.html#show-create-function" title="12.5.5.7. SHOW CREATE FUNCTION Syntax"><code class="literal">SHOW CREATE FUNCTION</code></a> or
        <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> statement
        without sufficient privileges could crash the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
       (<a href="http://bugs.mysql.com/20664" target="_top">Bug#20664</a>)</p></li><li><p>
        In a view defined with <code class="literal">SQL SECURITY DEFINER</code>,
        the <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> function
        returned the invoker, not the definer.
       (<a href="http://bugs.mysql.com/20570" target="_top">Bug#20570</a>)</p></li><li><p>
        <code class="literal">SELECT @@INSERT_ID</code> displayed a value
        unrelated to a preceding <code class="literal">SET INSERT_ID</code>. (It
        was returning <code class="literal">LAST_INSERT_ID</code> instead.)
       (<a href="http://bugs.mysql.com/20392" target="_top">Bug#20392</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client did not understand
        <code class="literal">help</code> commands that had spaces at the end.
       (<a href="http://bugs.mysql.com/20328" target="_top">Bug#20328</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produced a malformed dump file when
        dumping multiple databases that contained views.
       (<a href="http://bugs.mysql.com/20221" target="_top">Bug#20221</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> parameter sent via a
        <code class="literal">MYSQL_TIME</code> data structure,
        <a href="connectors-apis.html#mysql-stmt-execute" title="20.9.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> zeroed the
        hour, minute, and second members of the structure rather than
        treating them as read-only.
       (<a href="http://bugs.mysql.com/20152" target="_top">Bug#20152</a>)</p></li><li><p>
        Performing <code class="literal">INSERT ... SELECT ... JOIN ...
        USING</code> without qualifying the column names caused
        <code class="literal">ERROR 1052 "column 'x' in field list is
        ambiguous"</code> even in cases where the column references
        were unambiguous.
       (<a href="http://bugs.mysql.com/18080" target="_top">Bug#18080</a>)</p></li><li><p>
        Using the extended syntax for
        <a href="functions.html#function_trim"><code class="literal">TRIM()</code></a> — that is,
        <a href="functions.html#function_trim"><code class="literal">TRIM(... FROM ...)</code></a> — in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement defining a view
        caused an invalid syntax error when selecting from the view.
       (<a href="http://bugs.mysql.com/17526" target="_top">Bug#17526</a>)</p></li><li><p>
        Assignments of values to variables of type
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> were handled incorrectly in
        stored routines.
       (<a href="http://bugs.mysql.com/17225" target="_top">Bug#17225</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> and
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a> returned
        <code class="literal">NULL</code> when the result date was on the day
        <code class="literal">'9999-12-31'</code>.
       (<a href="http://bugs.mysql.com/12356" target="_top">Bug#12356</a>)</p></li><li><p>
        The <code class="literal">DATA DIRECTORY</code> table option did not work
        for <code class="literal">TEMPORARY</code> tables.
       (<a href="http://bugs.mysql.com/8706" target="_top">Bug#8706</a>)</p></li><li><p>
        <a href="http://bugs.mysql.com/10952" target="_top">Bug#10952</a> may cause inadvertent data loss. A fix for this bug
        was included in MySQL 5.0.23, but the approach used caused a
        loss of intended functionality. Because of this, that fix has
        been reverted in MySQL 5.0.24. As a consequence, the risk of
        inadvertent data loss still exists (see <a href="http://bugs.mysql.com/10952" target="_top">Bug#10952</a>).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-23"></a>C.1.62. Changes in MySQL 5.0.23 (Not released)</h3></div></div></div><p class="release-level">
      MySQL 5.0.23 was never officially released.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For <code class="literal">GRANT</code> and <code class="literal">REVOKE</code>,
        <code class="literal">ON *</code> previously granted and revoked
        privileges for the default database if there was a default
        database and global privileges if there was none. Now
        <code class="literal">ON *</code> requires a default database and produces
        an error if there is none.
      </p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        The status variables <code class="literal">Ndb_connected_host</code> and
        <code class="literal">Ndb_connected_port</code> were renamed to
        <a href="mysql-cluster.html#statvar_Ndb_config_from_host"><code class="literal">Ndb_config_from_host</code></a> and
        <a href="mysql-cluster.html#statvar_Ndb_config_from_port"><code class="literal">Ndb_config_from_port</code></a>,
        respectively.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The limit of 2048 ordered indexes per cluster has been lifted.
        There is now no upper limit on the number of ordered indexes
        (including <code class="literal">AUTO_INCREMENT</code> columns) that may
        be used.
       (<a href="http://bugs.mysql.com/14509" target="_top">Bug#14509</a>)</p></li><li><p>
        The <a href="programs.html#mysqldumpslow" title="4.6.8. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> script has been moved from
        client RPM packages to server RPM packages. This corrects a
        problem where <a href="programs.html#mysqldumpslow" title="4.6.8. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> could not be used
        with a client-only RPM install, because it depends on
        <a href="programs.html#my-print-defaults" title="4.7.3. my_print_defaults — Display Options from Option Files"><span><strong class="command">my_print_defaults</strong></span></a> which is in the server RPM.
       (<a href="http://bugs.mysql.com/20216" target="_top">Bug#20216</a>)</p></li><li><p>
        Added the
        <a href="server-administration.html#sysvar_log_queries_not_using_indexes"><code class="literal">log_queries_not_using_indexes</code></a>
        system variable.
       (<a href="http://bugs.mysql.com/19616" target="_top">Bug#19616</a>)</p></li><li><p>
        Added the <a href="server-administration.html#sysvar_ssl_ca"><code class="literal">ssl_ca</code></a>,
        <a href="server-administration.html#sysvar_ssl_capath"><code class="literal">ssl_capath</code></a>,
        <a href="server-administration.html#sysvar_ssl_cert"><code class="literal">ssl_cert</code></a>,
        <a href="server-administration.html#sysvar_ssl_cipher"><code class="literal">ssl_cipher</code></a>, and
        <a href="server-administration.html#sysvar_ssl_key"><code class="literal">ssl_key</code></a> system variables, which
        display the values given via the corresponding command options.
        See <a href="server-administration.html#ssl-options" title="5.5.7.3. SSL Command Options">Section 5.5.7.3, “SSL Command Options”</a>.
       (<a href="http://bugs.mysql.com/19606" target="_top">Bug#19606</a>)</p></li><li><p>
        SQL syntax for prepared statements now supports
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, and
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
       (<a href="http://bugs.mysql.com/19308" target="_top">Bug#19308</a>)</p></li><li><p>
        For a table with an <code class="literal">AUTO_INCREMENT</code> column,
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> now shows the
        next <code class="literal">AUTO_INCREMENT</code> value to be generated.
       (<a href="http://bugs.mysql.com/19025" target="_top">Bug#19025</a>)</p></li><li><p>
        The <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
        mode now also applies to the <code class="literal">HAVING</code> clause.
        That is, columns not named in the <code class="literal">GROUP BY</code>
        clause cannot be used in the <code class="literal">HAVING</code> clause if
        not used in an aggregate function.
       (<a href="http://bugs.mysql.com/18739" target="_top">Bug#18739</a>)</p></li><li><p>
        Added the <a href="programs.html#option_mysqldump_set-charset"><code class="option">--set-charset</code></a> option
        to <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> to allow the character set to
        be specified for processing binary log files.
       (<a href="http://bugs.mysql.com/18351" target="_top">Bug#18351</a>)</p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.3.5. This
        improves handling of certain problems with SSL-related command
        options.
       (<a href="http://bugs.mysql.com/17737" target="_top">Bug#17737</a>)</p></li><li><p>
        Added the
        <a href="server-administration.html#option_general_ssl-verify-server-cert"><code class="option">--ssl-verify-server-cert</code></a> option
        to MySQL client programs. This option causes the server's Common
        Name value in its certificate to be verified against the host
        name used when connecting to the server, and the connection is
        rejected if there is a mismatch. Added
        <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code> option for
        the <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API
        function to enable this verification. This feature can be used
        to prevent man-in-the-middle attacks. Verification is disabled
        by default.
       (<a href="http://bugs.mysql.com/17208" target="_top">Bug#17208</a>)</p></li><li><p>
        It is now possible to use
        <code class="literal">NEW.<em class="replaceable"><code>var_name</code></em></code>
        values within triggers as <code class="literal">INOUT</code> parameters to
        stored procedures.
       (<a href="http://bugs.mysql.com/14635" target="_top">Bug#14635</a>)</p></li><li><p>
        Added the <code class="option">--angel-pid-file</code> option to
        <span><strong class="command">mysqlmanager</strong></span> for specifying the file in which
        the angel process records its process ID when
        <span><strong class="command">mysqlmanager</strong></span> runs in daemon mode.
       (<a href="http://bugs.mysql.com/14106" target="_top">Bug#14106</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-get-ssl-cipher" title="20.9.3.33. mysql_get_ssl_cipher()"><code class="literal">mysql_get_ssl_cipher()</code></a> C API
        function was added.
      </p></li><li><p>
        The <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> command has been converted
        from a shell script to a C program, so it is available on
        non-Unix systems such as Windows. This program should be run for
        each MySQL upgrade. See <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.9, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>.
      </p></li><li><p>
        Binary distributions that include SSL support now are built
        using yaSSL when possible.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A <code class="literal">NUL</code> byte within a comment in a statement
        string caused the rest of the string not to be written to the
        query log, allowing logging to be bypassed.
       (<a href="http://bugs.mysql.com/17667" target="_top">Bug#17667</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-0903" target="_top">CVE-2006-0903</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client command <code class="literal">ALL
        CLUSTERLOG STATISTICS=15</code> had no effect.
       (<a href="http://bugs.mysql.com/20336" target="_top">Bug#20336</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node when preparing to commit a
        transaction (that is, while the node's status was
        <code class="literal">CS_PREPARE_TO_COMMIT</code>) could cause the failure
        of other cluster data nodes.
       (<a href="http://bugs.mysql.com/20185" target="_top">Bug#20185</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An internal formatting error caused some management client error
        messages to be unreadable.
       (<a href="http://bugs.mysql.com/20016" target="_top">Bug#20016</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Renaming a table in such a way as to move it to a different
        database failed to move the table's indexes.
       (<a href="http://bugs.mysql.com/19967" target="_top">Bug#19967</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running management client commands while <span><strong class="command">mgmd</strong></span>
        was in the process of disconnecting could cause the management
        server to fail.
       (<a href="http://bugs.mysql.com/19932" target="_top">Bug#19932</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running <code class="literal">ALL START</code> in the
        <code class="literal">NDB</code> management client or restarting
        multiple nodes simultaneously could under some circumstances
        cause the cluster to crash.
       (<a href="http://bugs.mysql.com/19930" target="_top">Bug#19930</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns in Cluster tables
        having both an explicit primary key and a unique key were not
        correctly updated by <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a>
        statements.
       (<a href="http://bugs.mysql.com/19906" target="_top">Bug#19906</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster's data nodes failed while trying to load data when
        <code class="literal">NoOfFrangmentLogFiles</code> was set equal to 1.
       (<a href="http://bugs.mysql.com/19894" target="_top">Bug#19894</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Restoring a backup with <span><strong class="command">ndb_restore</strong></span> failed
        when the backup had been taken from a cluster whose
        <code class="literal">DataMemory</code> had been completely used up.
       (<a href="http://bugs.mysql.com/19852" target="_top">Bug#19852</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Resources for unique indexes on Cluster table columns were
        incorrectly allocated, so that only one-fourth as many unique
        indexes as indicated by the value of
        <code class="literal">UniqueHashIndexes</code> could be created.
       (<a href="http://bugs.mysql.com/19623" target="_top">Bug#19623</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDBAPI): On big-endian platforms,
        <code class="literal">NdbOperation::write_attr()</code> did not update
        32-bit fields correctly.
       (<a href="http://bugs.mysql.com/19537" target="_top">Bug#19537</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        LOCAL</code></a> failed to ignore duplicate keys in Cluster
        tables.
       (<a href="http://bugs.mysql.com/19496" target="_top">Bug#19496</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        For <span><strong class="command">ndb_mgmd</strong></span>, Valgrind revealed problems with
        a memory leak and a dependency on an uninitialized variable.
       (<a href="http://bugs.mysql.com/19318" target="_top">Bug#19318</a>, <a href="http://bugs.mysql.com/20333" target="_top">Bug#20333</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A problem with error handling when
        <a href="mysql-cluster.html#sysvar_ndb_use_exact_count"><code class="literal">ndb_use_exact_count</code></a> was enabled
        could lead to incorrect values returned from queries using
        <a href="functions.html#function_count"><code class="literal">COUNT()</code></a>. A warning is now
        returned in such cases.
       (<a href="http://bugs.mysql.com/19202" target="_top">Bug#19202</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> failed on tables having
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns with the error
        <span class="errortext">Lock wait timeout exceeded</span>.
       (<a href="http://bugs.mysql.com/19201" target="_top">Bug#19201</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">mysql-test-run.pl</strong></span> started
        <code class="literal">NDB</code> even for test cases that did
        not need it.
       (<a href="http://bugs.mysql.com/19083" target="_top">Bug#19083</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Stopping multiple nodes could cause node failure handling not to
        be completed.
       (<a href="http://bugs.mysql.com/19039" target="_top">Bug#19039</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client <code class="literal">ALL STOP</code> command shut
        down <span><strong class="command">mgmd</strong></span> processes (as well as
        <span><strong class="command">ndbd</strong></span> processes).
       (<a href="http://bugs.mysql.com/18966" target="_top">Bug#18966</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> failed to reset the
        <code class="literal">AUTO_INCREMENT</code> counter.
       (<a href="http://bugs.mysql.com/18864" target="_top">Bug#18864</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated <code class="literal">CREATE</code> -
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> - <code class="literal">DROP</code>
        operations on tables could in some circumstances cause the MySQL
        table definition cache to become corrupt, so that some
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes could access table
        information but others could not.
       (<a href="http://bugs.mysql.com/18595" target="_top">Bug#18595</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated use of the <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> and
        <code class="literal">ALL STATUS</code> commands in the
        <span><strong class="command">ndb_mgm</strong></span> client could cause the
        <span><strong class="command">mgmd</strong></span> process to crash.
       (<a href="http://bugs.mysql.com/18591" target="_top">Bug#18591</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndbd</strong></span> sometimes failed to start with the error
        <span class="errortext">Node failure handling not completed</span>
        following a graceful restart.
       (<a href="http://bugs.mysql.com/18550" target="_top">Bug#18550</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Backups could fail for large clusters with many tables, where
        the number of tables approached
        <code class="literal">MaxNoOfTables</code>.
       (<a href="http://bugs.mysql.com/17607" target="_top">Bug#17607</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An issue with <span><strong class="command">ndb_mgmd</strong></span> prevented more than 27
        <code class="literal">mysqld</code> processes from connecting to a single
        cluster at one time.
       (<a href="http://bugs.mysql.com/17150" target="_top">Bug#17150</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using “<span class="quote">stale</span>” <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        <code class="filename">.frm</code> files could cause a newly-restored
        cluster to fail. This situation could arise when restarting a
        MySQL Cluster using the <code class="option">--initial</code> option while
        leaving connected <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes running.
       (<a href="http://bugs.mysql.com/16875" target="_top">Bug#16875</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data node failures could cause excessive CPU usage by
        <span><strong class="command">ndb_mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/13987" target="_top">Bug#13987</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster system status variables were not updated properly.
       (<a href="http://bugs.mysql.com/11459" target="_top">Bug#11459</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some queries having a <code class="literal">WHERE</code> clause of the
        form <code class="literal">c1=val1 OR c2 LIKE 'val2'</code> were not
        evaluated correctly. (Bug# 17421)
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDBAPI): Update operations on blobs were not checked for
        illegal operations.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Read locks with blob update operations are now upgraded from
          read committed to read shared.
        </p></div></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Valgrind revealed several issues with <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        that were corrected: A dangling stack pointer being overwritten;
        possible uninitialized data in a string comparison; memory
        corruption in replication slaves when switching databases;
        <code class="literal">syscall()</code> write parameter pointing to an
        uninitialized byte.
       (<a href="http://bugs.mysql.com/19022" target="_top">Bug#19022</a>, <a href="http://bugs.mysql.com/20579" target="_top">Bug#20579</a>, <a href="http://bugs.mysql.com/20769" target="_top">Bug#20769</a>, <a href="http://bugs.mysql.com/20783" target="_top">Bug#20783</a>, <a href="http://bugs.mysql.com/20791" target="_top">Bug#20791</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The binary log would create an incorrect <code class="literal">DROP</code>
        query when creating temporary tables during replication.
       (<a href="http://bugs.mysql.com/17263" target="_top">Bug#17263</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An invalid <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statement for
        which <code class="literal">Ok</code> was returned on a replication master
        caused an error on the slave and replication to fail.
       (<a href="http://bugs.mysql.com/6774" target="_top">Bug#6774</a>)</p></li><li><p>
        A buffer overwrite error in Instance Manager caused a crash.
       (<a href="http://bugs.mysql.com/20622" target="_top">Bug#20622</a>)</p></li><li><p>
        On Windows, temporary tables containing
        “<span class="quote"><code class="literal">:</code></span>” in the name could not be
        created.
       (<a href="http://bugs.mysql.com/20616" target="_top">Bug#20616</a>)</p></li><li><p>
        The <code class="filename">fill_help_tables.sql</code> file did not
        contain a <code class="literal">SET NAMES 'utf8'</code> statement to
        indicate its encoding. This caused problems for some settings of
        the MySQL character set such as <code class="literal">big5</code>.
       (<a href="http://bugs.mysql.com/20551" target="_top">Bug#20551</a>)</p></li><li><p>
        The <code class="filename">fill_help_tables.sql</code> file did not load
        properly if the <a href="server-administration.html#sqlmode_ansi_quotes"><code class="literal">ANSI_QUOTES</code></a>
        SQL mode was enabled.
       (<a href="http://bugs.mysql.com/20542" target="_top">Bug#20542</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> was missing from binary MySQL
        distributions.
       (<a href="http://bugs.mysql.com/20403" target="_top">Bug#20403</a>, <a href="http://bugs.mysql.com/18516" target="_top">Bug#18516</a>, <a href="http://bugs.mysql.com/20556" target="_top">Bug#20556</a>)</p></li><li><p>
        Several aspects of view privileges were being checked
        incorrectly.
       (<a href="http://bugs.mysql.com/20363" target="_top">Bug#20363</a>, <a href="http://bugs.mysql.com/18681" target="_top">Bug#18681</a>)</p></li><li><p>
        Queries using an indexed column as the argument for the
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> functions following an
        <code class="literal">ALTER TABLE .. DISABLE KEYS</code> statement
        returned <span class="errortext">Got error 124 from storage
        engine</span> until <code class="literal">ALTER TABLE ... ENABLE
        KEYS</code> was run on the table.
       (<a href="http://bugs.mysql.com/20357" target="_top">Bug#20357</a>)</p></li><li><p>
        The thread for <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a>
        rows was maintaining a separate
        <code class="literal">AUTO_INCREMENT</code> counter, resulting in
        incorrect values being assigned if <code class="literal">DELAYED</code>
        and non-<code class="literal">DELAYED</code> inserts were mixed.
       (<a href="http://bugs.mysql.com/20195" target="_top">Bug#20195</a>)</p></li><li><p>
        On Linux, <code class="literal">libmysqlclient</code> when compiled with
        yaSSL using the <span><strong class="command">icc</strong></span> compiler had a spurious
        dependency on C++ libraries.
       (<a href="http://bugs.mysql.com/20119" target="_top">Bug#20119</a>)</p></li><li><p>
        A number of dependency issues in the RPM
        <code class="literal">bench</code> and <code class="literal">test</code> packages
        caused installation of these packages to fail.
       (<a href="http://bugs.mysql.com/20078" target="_top">Bug#20078</a>)</p></li><li><p>
        A compatibility issue with NPTL (Native POSIX Thread Library) on
        Linux could result in a deadlock with
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> under some conditions.
       (<a href="http://bugs.mysql.com/20048" target="_top">Bug#20048</a>)</p></li><li><p>
        Some outer joins were incorrectly converted to inner joins.
       (<a href="http://bugs.mysql.com/19816" target="_top">Bug#19816</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/17146" target="_top">Bug#17146</a>.</p></li><li><p>
        <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>, <code class="literal">RENAME
        DATABASE</code>, and <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP
        DATABASE</code></a> could deadlock in cases where there was a
        global read lock.
       (<a href="http://bugs.mysql.com/19815" target="_top">Bug#19815</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> was not enforced when a
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> statement was executed
        against a view.
       (<a href="http://bugs.mysql.com/19789" target="_top">Bug#19789</a>)</p></li><li><p>
        Multiple-table updates with <code class="literal">FEDERATED</code> tables
        could cause a server crash.
       (<a href="http://bugs.mysql.com/19773" target="_top">Bug#19773</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> unlocked its data directory before
        committing a transaction, potentially resulting in
        nonrecoverable tables if a server crash occurred before the
        commit.
       (<a href="http://bugs.mysql.com/19727" target="_top">Bug#19727</a>)</p></li><li><p>
        Subqueries that produced a <code class="literal">BIGINT UNSIGNED</code>
        value were being treated as returning a signed value.
       (<a href="http://bugs.mysql.com/19700" target="_top">Bug#19700</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on an expression that contained a
        cast to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> produced an
        incorrect result.
       (<a href="http://bugs.mysql.com/19667" target="_top">Bug#19667</a>)</p></li><li><p>
        <code class="literal">MERGE</code> tables did not work reliably with
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/19648" target="_top">Bug#19648</a>)</p></li><li><p>
        Re-execution of a prepared multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement that involves a
        trigger or stored function can result in a server crash.
       (<a href="http://bugs.mysql.com/19634" target="_top">Bug#19634</a>)</p></li><li><p>
        The range operator failed and caused a server crash for clauses
        of the form <code class="literal">
        <em class="replaceable"><code>tbl_name</code></em>.<em class="replaceable"><code>unsigned_keypart</code></em>
        NOT IN (<em class="replaceable"><code>negative_const</code></em>,
        ...)</code>.
       (<a href="http://bugs.mysql.com/19618" target="_top">Bug#19618</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> on a
        <code class="literal">MyISAM</code> table briefly cleared its
        <code class="literal">AUTO_INCREMENT</code> value, while holding only a
        read lock. Concurrent inserts to that table could use the wrong
        <code class="literal">AUTO_INCREMENT</code> value.
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> no longer modifies
        the <code class="literal">AUTO_INCREMENT</code> value.
       (<a href="http://bugs.mysql.com/19604" target="_top">Bug#19604</a>)</p></li><li><p>
        Using
        <a href="functions.html#function_concat"><code class="literal">CONCAT(@<em class="replaceable"><code>user_var</code></em>,
        <em class="replaceable"><code>col_name</code></em>)</code></a>, where
        <em class="replaceable"><code>col_name</code></em> is a column in an
        <code class="literal">INFORMATION_SCHEMA</code> table, could cause
        erroneous duplication of data in the query result.
       (<a href="http://bugs.mysql.com/19599" target="_top">Bug#19599</a>)</p></li><li><p>
        Some yaSSL public function names conflicted with those from
        OpenSSL, causing conflicts for applications that linked against
        both OpenSSL and a version of <code class="literal">libmysqlclient</code>
        that was built with yaSSL support. The yaSSL public functions
        now are renamed to avoid this conflict.
       (<a href="http://bugs.mysql.com/19575" target="_top">Bug#19575</a>)</p></li><li><p>
        A view definition that referred to an alias in the
        <code class="literal">HAVING</code> clause could be saved in the
        <code class="filename">.frm</code> file with the alias replaced by the
        expression that it referred to, causing failure of subsequent
        <code class="literal">SELECT * FROM <em class="replaceable"><code>view_name</code></em>
        </code> statements.
       (<a href="http://bugs.mysql.com/19573" target="_top">Bug#19573</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> displayed <code class="literal">NULL</code> for
        strings that are empty or contain only spaces.
       (<a href="http://bugs.mysql.com/19564" target="_top">Bug#19564</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> failed to increment the
        <code class="literal">handler_read_prev</code> counter.
       (<a href="http://bugs.mysql.com/19542" target="_top">Bug#19542</a>)</p></li><li><p>
        Selecting from a view that used <code class="literal">GROUP BY</code> on a
        nonconstant temporal interval (such as
        <code class="literal">DATE(<em class="replaceable"><code>col</code></em>) + INTERVAL
        TIME_TO_SEC(<em class="replaceable"><code>col</code></em>) SECOND</code>
        could cause a server crash.
       (<a href="http://bugs.mysql.com/19490" target="_top">Bug#19490</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> did not dump the table name
        correctly for some table identifiers that contained unusual
        characters such as “<span class="quote"><code class="literal">:</code></span>”.
       (<a href="http://bugs.mysql.com/19479" target="_top">Bug#19479</a>)</p></li><li><p>
        On 64-bit Windows systems, <code class="literal">REGEXP</code> for regular
        expressions with exactly 31 characters did not work.
       (<a href="http://bugs.mysql.com/19407" target="_top">Bug#19407</a>)</p></li><li><p>
        An outer join of two views that was written using <code class="literal">{ OJ
        ... }</code> syntax could cause a server crash.
       (<a href="http://bugs.mysql.com/19396" target="_top">Bug#19396</a>)</p></li><li><p>
        Race conditions on certain platforms could cause the Instance
        Manager to fail to initialize.
       (<a href="http://bugs.mysql.com/19391" target="_top">Bug#19391</a>)</p></li><li><p>
        Use of the <a href="programs.html#option_mysql_no-pager"><code class="option">--no-pager</code></a> option
        caused <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/19363" target="_top">Bug#19363</a>)</p></li><li><p>
        In the <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a>
        table, the values for the
        <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> and
        <code class="literal">CHARACTER_OCTET_LENGTH</code> columns were incorrect
        for multi-byte character sets.
       (<a href="http://bugs.mysql.com/19236" target="_top">Bug#19236</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements
        containing a subquery that selected from one of the tables being
        modified caused a server crash.
       (<a href="http://bugs.mysql.com/19225" target="_top">Bug#19225</a>)</p></li><li><p>
        On Windows, removal of binary log files would fail if the files
        were already open.
       (<a href="http://bugs.mysql.com/19208" target="_top">Bug#19208</a>)</p></li><li><p>
        Flushing the compression buffer (via
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLE</code></a>) no
        longer increases the size of an unmodified
        <code class="literal">ARCHIVE</code> table.
       (<a href="http://bugs.mysql.com/19204" target="_top">Bug#19204</a>)</p></li><li><p>
        An <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operation that
        does not need to copy data, when executed on a table created
        prior to MySQL 4.0.25, could result in a server crash for
        subsequent accesses to the table.
       (<a href="http://bugs.mysql.com/19192" target="_top">Bug#19192</a>)</p></li><li><p>
        SSL connections using yaSSL on OpenBSD could fail.
       (<a href="http://bugs.mysql.com/19191" target="_top">Bug#19191</a>)</p></li><li><p>
        Attempting to set the default value of an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> or <code class="literal">SET</code>
        column to <code class="literal">NULL</code> caused a server crash.
       (<a href="http://bugs.mysql.com/19145" target="_top">Bug#19145</a>)</p></li><li><p>
        Use of uninitialized user variables in a subquery in the
        <code class="literal">FROM</code> clause resulted in invalid entries in
        the binary log.
       (<a href="http://bugs.mysql.com/19136" target="_top">Bug#19136</a>)</p></li><li><p>
        A <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement that
        created a table from a materialized view did not inherit default
        values from the underlying table.
       (<a href="http://bugs.mysql.com/19089" target="_top">Bug#19089</a>)</p></li><li><p>
        Index prefixes for <code class="literal">utf8</code>
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns did not work for
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/19080" target="_top">Bug#19080</a>)</p></li><li><p>
        Premature optimization of nested subqueries in the
        <code class="literal">FROM</code> clause that refer to aggregate functions
        could lead to incorrect results.
       (<a href="http://bugs.mysql.com/19077" target="_top">Bug#19077</a>)</p></li><li><p>
        The parser leaked memory when its stack needed to be extended.
       (<a href="http://bugs.mysql.com/18930" target="_top">Bug#18930</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns in a table could
        cause joins that use the table to fail.
       (<a href="http://bugs.mysql.com/18895" target="_top">Bug#18895</a>)</p></li><li><p>
        The MySQL server startup script
        <span><strong class="command">/etc/init.d/mysql</strong></span> (created from
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a>) is now marked to ensure that
        the system services <span><strong class="command">ypbind</strong></span>,
        <span><strong class="command">nscd</strong></span>, <span><strong class="command">ldap</strong></span>, and
        <span><strong class="command">NTP</strong></span> are started first (if these are
        configured on the machine).
       (<a href="http://bugs.mysql.com/18810" target="_top">Bug#18810</a>)</p></li><li><p>
        The <code class="literal">COM_STATISTICS</code> command was changed in
        5.0.3 to display session status variable values rather than
        global values. This causes <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin status</strong></span></a>
        information not to be useful for the <code class="literal">Slow
        queries</code> and <code class="literal">Opens</code> values. Now
        <code class="literal">COM_STATISTICS</code> displays the global values for
        <code class="literal">Slow queries</code> and <code class="literal">Opens</code>.
       (<a href="http://bugs.mysql.com/18669" target="_top">Bug#18669</a>)</p></li><li><p>
        <code class="literal">LOAD DATA FROM MASTER</code> would fail when trying
        to load the <code class="literal">INFORMATION_SCHEMA</code> database from
        the master, because the <code class="literal">INFORMATION_SCHEMA</code>
        system database would already exist on the slave.
       (<a href="http://bugs.mysql.com/18607" target="_top">Bug#18607</a>)</p></li><li><p>
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> arguments to or values
        returned from stored functions were not copied properly if too
        long and could become garbled.
       (<a href="http://bugs.mysql.com/18587" target="_top">Bug#18587</a>)</p></li><li><p>
        The <code class="literal">IN</code>-to-<code class="literal">EXISTS</code>
        transformation was making a reference to a parse tree fragment
        that was left out of the parse tree. This caused problems with
        prepared statements.
       (<a href="http://bugs.mysql.com/18492" target="_top">Bug#18492</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produced garbled output for view
        definitions.
       (<a href="http://bugs.mysql.com/18462" target="_top">Bug#18462</a>)</p></li><li><p>
        The configuration information for building the embedded server
        on Windows was missing a file.
       (<a href="http://bugs.mysql.com/18455" target="_top">Bug#18455</a>)</p></li><li><p>
        In <span><strong class="command">mysqltest</strong></span>, <code class="option">--sleep=0</code> had
        no effect. Now it correctly causes <code class="literal">sleep</code>
        commands in test case files to sleep for 0 seconds.
       (<a href="http://bugs.mysql.com/18312" target="_top">Bug#18312</a>)</p></li><li><p>
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> provided
        inconsistent info about invalid views. This could cause server
        crashes or result in incorrect data being returned for queries
        that attempt to obtain information from
        <code class="literal">INFORMATION_SCHEMA</code> tables about views using
        stored functions.
       (<a href="http://bugs.mysql.com/18282" target="_top">Bug#18282</a>)</p></li><li><p>
        On Windows, corrected a crash stemming from differences in
        Visual C runtime library routines from POSIX behavior regarding
        invalid file descriptors.
       (<a href="http://bugs.mysql.com/18275" target="_top">Bug#18275</a>)</p></li><li><p>
        On Windows, terminating <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with Control-C
        could result in a crash during shutdown.
       (<a href="http://bugs.mysql.com/18235" target="_top">Bug#18235</a>)</p></li><li><p>
        Selecting data from a <code class="literal">MEMORY</code> table with a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column and a
        <code class="literal">HASH</code> index over it returned only the first
        row matched.
       (<a href="http://bugs.mysql.com/18233" target="_top">Bug#18233</a>)</p></li><li><p>
        The use of <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> on columns with an index
        prefix produced incorrect results in some queries.
       (<a href="http://bugs.mysql.com/18206" target="_top">Bug#18206</a>)</p></li><li><p>
        An entry in the <code class="literal">mysql.proc</code> table with an
        empty routine name caused access to the
        <a href="information-schema.html#routines-table" title="19.14. The INFORMATION_SCHEMA ROUTINES Table"><code class="literal">INFORMATION_SCHEMA.ROUTINES</code></a> table
        to crash the server.
       (<a href="http://bugs.mysql.com/18177" target="_top">Bug#18177</a>)</p></li><li><p>
        A <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> over more than 128
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements that use an
        aggregate function failed.
       (<a href="http://bugs.mysql.com/18175" target="_top">Bug#18175</a>)</p></li><li><p>
        Updates to a <code class="literal">MEMORY</code> table caused the size of
        <code class="literal">BTREE</code> indexes for the table to increase.
       (<a href="http://bugs.mysql.com/18160" target="_top">Bug#18160</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> queries sometimes returned only the last row.
       (<a href="http://bugs.mysql.com/18068" target="_top">Bug#18068</a>)</p></li><li><p>
        Returning the value of a system variable from a stored function
        caused a server crash.
       (<a href="http://bugs.mysql.com/18037" target="_top">Bug#18037</a>)</p></li><li><p>
        An update that used a join of a table to itself and modified the
        table on both sides of the join reported the table as crashed.
       (<a href="http://bugs.mysql.com/18036" target="_top">Bug#18036</a>)</p></li><li><p>
        Race conditions on certain platforms could cause the Instance
        Manager to try to restart the same instance multiple times.
       (<a href="http://bugs.mysql.com/18023" target="_top">Bug#18023</a>)</p></li><li><p>
        For a reference to a nonexistent index in <code class="literal">FORCE
        INDEX</code>, the error message referred to a column, not an
        index.
       (<a href="http://bugs.mysql.com/17873" target="_top">Bug#17873</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_sql_big_selects"><code class="literal">sql_big_selects</code></a> system
        variable was not displayed by <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a>.
       (<a href="http://bugs.mysql.com/17849" target="_top">Bug#17849</a>)</p></li><li><p>
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> did not restore the
        length for packed keys in tables created under MySQL 4.x, which
        caused them to appear corrupt to <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> but not to <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR
        TABLE</code></a>.
       (<a href="http://bugs.mysql.com/17810" target="_top">Bug#17810</a>)</p></li><li><p>
        Results from
        <a href="information-schema.html#schemata-table" title="19.1. The INFORMATION_SCHEMA SCHEMATA Table"><code class="literal">INFORMATION_SCHEMA.SCHEMATA</code></a> could
        contain uppercase information when
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was not
        0.
       (<a href="http://bugs.mysql.com/17661" target="_top">Bug#17661</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> did not always produce the proper column
        default value in <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>
        SQL mode.
       (<a href="http://bugs.mysql.com/17626" target="_top">Bug#17626</a>)</p></li><li><p>
        A range access optimizer heuristic was invalid, causing some
        queries to be much slower in MySQL 5.0 than in 4.0.
       (<a href="http://bugs.mysql.com/17379" target="_top">Bug#17379</a>, <a href="http://bugs.mysql.com/18940" target="_top">Bug#18940</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> would not dump views that had
        become invalid because a table named in the view definition had
        been dropped. Instead, it quit with an error message. Now you
        can specify the <code class="option">--force</code> option to cause
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to keep going and write an SQL
        comment containing the view definition to the dump output.
       (<a href="http://bugs.mysql.com/17371" target="_top">Bug#17371</a>)</p></li><li><p>
        The <a href="programs.html#option_mysqld_safe_core-file-size"><code class="option">--core-file-size</code></a> option
        for <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> was effective only for
        <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/17353" target="_top">Bug#17353</a>)</p></li><li><p>
        On Windows, multiple clients simultaneously attempting to
        perform <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations on
        an <code class="literal">InnoDB</code> table could deadlock.
       (<a href="http://bugs.mysql.com/17264" target="_top">Bug#17264</a>)</p></li><li><p>
        Revised memory allocation for local objects within stored
        functions and triggers to avoid memory leak for repeated
        function or trigger invocation.
       (<a href="http://bugs.mysql.com/17260" target="_top">Bug#17260</a>)</p></li><li><p>
        Multiple calls to a stored procedure that selects from
        <code class="literal">INFORMATION_SCHEMA</code> could cause a server
        crash.
       (<a href="http://bugs.mysql.com/17204" target="_top">Bug#17204</a>)</p></li><li><p>
        Views created from prepared statements inside of stored
        procedures were created with a definition that included both
        <code class="literal">SQL_CACHE</code> and
        <code class="literal">SQL_NO_CACHE</code>.
       (<a href="http://bugs.mysql.com/17203" target="_top">Bug#17203</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> wrote an extra pair of
        <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> and
        <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a> statements if run
        with the <a href="programs.html#option_mysqldump_add-drop-database"><code class="option">--add-drop-database</code></a>
        option and the database contained views.
       (<a href="http://bugs.mysql.com/17201" target="_top">Bug#17201</a>)</p></li><li><p>
        A <span class="errortext">Table ... doesn't exist</span> error could
        occur for statements that called a function defined in another
        database.
       (<a href="http://bugs.mysql.com/17199" target="_top">Bug#17199</a>)</p></li><li><p>
        For certain <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT</code></a> statements, the selected values were
        truncated when inserted into the new table.
       (<a href="http://bugs.mysql.com/17048" target="_top">Bug#17048</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> on a table created
        prior to 5.0.3 would cause table corruption if the
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> did one of the
        following:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Change the default value of a column.
          </p></li><li><p>
            Change the table comment.
          </p></li><li><p>
            Change the table password.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/17001" target="_top">Bug#17001</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> table deadlock was possible if one
        thread issued a <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>
        request for write locks and then an administrative statement
        such as <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, if
        between the two statements another client meanwhile issued a
        multiple-table <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> for some of
        the locked tables.
       (<a href="http://bugs.mysql.com/16986" target="_top">Bug#16986</a>)</p></li><li><p>
        Symlinking <code class="filename">.mysql_history</code> to
        <code class="filename">/dev/null</code> to suppress statement history
        saving by <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not work.
        (<a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> deleted the symlink and recreated
        <code class="filename">.mysql_history</code> as a regular file, and then
        wrote history to it.)
       (<a href="http://bugs.mysql.com/16803" target="_top">Bug#16803</a>)</p></li><li><p>
        Concatenating the results of multiple constant subselects
        produced incorrect results.
       (<a href="http://bugs.mysql.com/16716" target="_top">Bug#16716</a>)</p></li><li><p>
        Privilege checking on the contents of the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table was
        insufficiently restrictive.
       (<a href="http://bugs.mysql.com/16681" target="_top">Bug#16681</a>)</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> tried to check views instead of
        ignoring them.
       (<a href="http://bugs.mysql.com/16502" target="_top">Bug#16502</a>)</p></li><li><p>
        <a href="functions.html#function_is-used-lock"><code class="literal">IS_USED_LOCK()</code></a> could return an
        incorrect connection identifier.
       (<a href="http://bugs.mysql.com/16501" target="_top">Bug#16501</a>)</p></li><li><p>
        Concurrent reading and writing of privilege structures could
        crash the server.
       (<a href="http://bugs.mysql.com/16372" target="_top">Bug#16372</a>)</p></li><li><p>
        Grant table modifications sometimes did not refresh the
        in-memory tables if the host name was <code class="literal">''</code> or
        not specified.
       (<a href="http://bugs.mysql.com/16297" target="_top">Bug#16297</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_sql_notes"><code class="literal">sql_notes</code></a> and
        <a href="server-administration.html#sysvar_sql_warnings"><code class="literal">sql_warnings</code></a> system variables
        were not always displayed correctly by <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a> (for example, they were displayed as
        <code class="literal">ON</code> after being set to
        <code class="literal">OFF</code>).
       (<a href="http://bugs.mysql.com/16195" target="_top">Bug#16195</a>)</p></li><li><p>
        The <code class="literal">max_length</code> metadata value for columns
        created from <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> could be
        incorrect when the collation of an argument differed from the
        collation of the <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> itself.
        In some contexts such as <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>,
        this could lead to truncation of the column contents.
       (<a href="http://bugs.mysql.com/15962" target="_top">Bug#15962</a>)</p></li><li><p>
        The server no longer uses a signal handler for signal 0 because
        it could cause a crash on some platforms.
       (<a href="http://bugs.mysql.com/15869" target="_top">Bug#15869</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but did not prevent creation
        of such an index.
       (<a href="http://bugs.mysql.com/15860" target="_top">Bug#15860</a>)</p></li><li><p>
        Long multiple-row <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statements could take a very long time for some multi-byte
        character sets.
       (<a href="http://bugs.mysql.com/15811" target="_top">Bug#15811</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_system_time_zone"><code class="literal">system_time_zone</code></a> and
        <code class="literal">version_*</code> system variables could not be
        accessed via <code class="literal">SELECT
        @@<em class="replaceable"><code>var_name</code></em></code> syntax.
       (<a href="http://bugs.mysql.com/15684" target="_top">Bug#15684</a>, <a href="http://bugs.mysql.com/12792" target="_top">Bug#12792</a>)</p></li><li><p>
        <code class="literal">EXPLAIN ... SELECT INTO</code> caused the client to
        hang.
       (<a href="http://bugs.mysql.com/15463" target="_top">Bug#15463</a>)</p></li><li><p>
        Nested natural joins worked executed correctly when executed as
        a nonprepared statement could fail with an <code class="literal">Unknown
        column '<em class="replaceable"><code>col_name</code></em>' in 'field
        list'</code> error when executed as a prepared statement, due
        to a name resolution problem.
       (<a href="http://bugs.mysql.com/15355" target="_top">Bug#15355</a>)</p></li><li><p>
        The <a href="functions.html#function_md5"><code class="literal">MD5()</code></a> and
        <a href="functions.html#function_sha1"><code class="literal">SHA()</code></a> functions
        treat their arguments as case-sensitive strings. But when they
        are compared, their arguments were compared as case-insensitive
        strings, which leads to two function calls with different
        arguments (and thus different results) compared as being
        identical. This can lead to a wrong decision made in the range
        optimizer and thus to an incorrect result set.
       (<a href="http://bugs.mysql.com/15351" target="_top">Bug#15351</a>)</p></li><li><p>
        Invalid escape sequences in option files caused MySQL programs
        that read them to abort.
       (<a href="http://bugs.mysql.com/15328" target="_top">Bug#15328</a>)</p></li><li><p>
        Re-executing a stored procedure with a complex stored procedure
        cursor query could lead to a server crash.
       (<a href="http://bugs.mysql.com/15217" target="_top">Bug#15217</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT ...</code></a> statements that used a stored function
        explicitly or implicitly (through a view) resulted in a
        <code class="literal">Table not locked</code> error.
       (<a href="http://bugs.mysql.com/15137" target="_top">Bug#15137</a>, <a href="http://bugs.mysql.com/12472" target="_top">Bug#12472</a>)</p></li><li><p>
        An invalid comparison between keys with index prefixes over
        multi-byte character fields could lead to incorrect result sets
        if the selected query execution plan used a range scan by an
        index prefix over a <code class="literal">UTF8</code> character field.
        This also caused incorrect results under similar circumstances
        with many other character sets.
       (<a href="http://bugs.mysql.com/14896" target="_top">Bug#14896</a>)</p></li><li><p>
        A view with a nonexistent account in the
        <code class="literal">DEFINER</code> clause caused
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> to fail. Now
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> issues a warning
        instead.
       (<a href="http://bugs.mysql.com/14875" target="_top">Bug#14875</a>)</p></li><li><p>
        For <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a> mode full-text
        searches on nonindexed columns, <code class="literal">NULL</code> rows
        generated by a <code class="literal">LEFT JOIN</code> caused incorrect
        query results.
       (<a href="http://bugs.mysql.com/14708" target="_top">Bug#14708</a>, <a href="http://bugs.mysql.com/25637" target="_top">Bug#25637</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        the <code class="literal">AUTO_INCREMENT</code> column attribute if the
        SQL mode was <a href="server-administration.html#sqlmode_mysql323"><code class="literal">MYSQL323</code></a> or
        <a href="server-administration.html#sqlmode_mysql40"><code class="literal">MYSQL40</code></a>. This also affected
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, which uses
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> to get table
        definitions.
       (<a href="http://bugs.mysql.com/14515" target="_top">Bug#14515</a>)</p></li><li><p>
        Some queries were slower in 5.0 than in 4.1 because some 4.1
        cost-evaluation code had not been merged into 5.0.
       (<a href="http://bugs.mysql.com/14292" target="_top">Bug#14292</a>)</p></li><li><p>
        The binary log lacked character set information for table names
        when dropping temporary tables.
       (<a href="http://bugs.mysql.com/14157" target="_top">Bug#14157</a>)</p></li><li><p>
        The result from <a href="functions.html#function_conv"><code class="literal">CONV()</code></a> is a
        string, but was not always treated the same way as a string when
        converted to a real value for an arithmetic operation.
       (<a href="http://bugs.mysql.com/13975" target="_top">Bug#13975</a>)</p></li><li><p>
        RPM packages had spurious dependencies on Perl modules and other
        programs.
       (<a href="http://bugs.mysql.com/13634" target="_top">Bug#13634</a>)</p></li><li><p>
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements caused
        activation of <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> triggers,
        not <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> and
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> triggers.
       (<a href="http://bugs.mysql.com/13479" target="_top">Bug#13479</a>)</p></li><li><p>
        With settings of
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> &gt;= 2G and
        <a href="server-administration.html#sysvar_read_rnd_buffer_size"><code class="literal">read_rnd_buffer_size</code></a> &gt;=2G,
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> failed with no error message or caused a server
        crash for files larger than 2GB.
       (<a href="http://bugs.mysql.com/12982" target="_top">Bug#12982</a>)</p></li><li><p>
        A <code class="literal">B-TREE</code> index on a <code class="literal">MEMORY</code>
        table erroneously reported duplicate entry error for multiple
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/12873" target="_top">Bug#12873</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> in a stored
        function or trigger (or in a stored procedure called from a
        stored function or trigger) caused an error.
       (<a href="http://bugs.mysql.com/11081" target="_top">Bug#11081</a>)</p></li><li><p>
        <a href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> returned an error if
        the file did not exist, rather than <code class="literal">NULL</code> as
        it should according to the manual.
       (<a href="http://bugs.mysql.com/10418" target="_top">Bug#10418</a>)</p></li><li><p>
        When <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> needed to rebuild a table,
        <code class="literal">AUTO_INCREMENT</code> information was lost.
       (<a href="http://bugs.mysql.com/10405" target="_top">Bug#10405</a>)</p></li><li><p>
        For certain <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a>
        statements, the server did not detect invalid subqueries within
        the <code class="literal">SELECT </code> part.
       (<a href="http://bugs.mysql.com/7549" target="_top">Bug#7549</a>)</p></li><li><p>
        Within a trigger, <code class="literal">SET</code> used the SQL mode of
        the invoking statement, not the mode in effect at trigger
        creation time.
       (<a href="http://bugs.mysql.com/6951" target="_top">Bug#6951</a>)</p></li><li><p>
        Some queries that used <code class="literal">ORDER BY</code> and
        <code class="literal">LIMIT</code> performed quickly in MySQL 3.23, but
        slowly in MySQL 4.x/5.x due to an optimizer problem.
       (<a href="http://bugs.mysql.com/4981" target="_top">Bug#4981</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a> and
        <code class="literal">tmpdir</code> system variables could not be accessed
        via <code class="literal">@@<em class="replaceable"><code>var_name</code></em></code>
        syntax.
       (<a href="http://bugs.mysql.com/1039" target="_top">Bug#1039</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-22"></a>C.1.63. Changes in MySQL 5.0.22 (24 May 2006)</h3></div></div></div><p class="release-level">
      This is a security fix release for the previous production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        An SQL-injection security hole has been found in multi-byte
        encoding processing. The bug was in the server, incorrectly
        parsing the string escaped with the
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a> C API
        function.
      </p><p>
        This vulnerability was discovered and reported by Josh Berkus
        <code class="email">&lt;<a href="mailto:josh@postgresql.org">josh@postgresql.org</a>&gt;</code> and Tom Lane
        <code class="email">&lt;<a href="mailto:tgl@sss.pgh.pa.us">tgl@sss.pgh.pa.us</a>&gt;</code> as part of the inter-project
        security collaboration of the OSDB consortium. For more
        information about SQL injection, please see the following text.
      </p><p><b>Discussion. </b>
          An SQL injection security hole has been found in multi-byte
          encoding processing. An SQL injection security hole can
          include a situation whereby when a user supplied data to be
          inserted into a database, the user might inject SQL statements
          into the data that the server will execute. With regards to
          this vulnerability, when character set-unaware escaping is
          used (for example, <code class="literal">addslashes()</code> in PHP), it
          is possible to bypass the escaping in some multi-byte
          character sets (for example, SJIS, BIG5 and GBK). As a result,
          a function such as <code class="literal">addslashes()</code> is not able
          to prevent SQL-injection attacks. It is impossible to fix this
          on the server side. The best solution is for applications to
          use character set-aware escaping offered by a function such
          <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>.
        </p><p>
        However, a bug was detected in how the MySQL server parses the
        output of
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>. As a
        result, even when the character set-aware function
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a> was
        used, SQL injection was possible. This bug has been fixed.
      </p><p><b>Workarounds. </b>
          If you are unable to upgrade MySQL to a version that includes
          the fix for the bug in
          <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>
          parsing, but run MySQL 5.0.1 or higher, you can use the
          <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
          mode as a workaround. (This mode was introduced in MySQL
          5.0.1.) <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a>
          enables an SQL standard compatibility mode, where backslash is
          not considered a special character. The result will be that
          queries will fail.
        </p><p>
        To set this mode for the current connection, enter the following
        SQL statement:
      </p><pre class="programlisting">SET sql_mode='NO_BACKSLASH_ESCAPES';
</pre><p>
        You can also set the mode globally for all clients:
      </p><pre class="programlisting">SET GLOBAL sql_mode='NO_BACKSLASH_ESCAPES';
</pre><p>
        This SQL mode also can be enabled automatically when the server
        starts by using the command-line option
        <a href="server-administration.html#option_mysqld_sql-mode"><code class="option">--sql-mode=NO_BACKSLASH_ESCAPES</code></a>
        or by setting <code class="literal">sql-mode=NO_BACKSLASH_ESCAPES</code>
        in the server option file (for example,
        <code class="filename">my.cnf</code> or <code class="filename">my.ini</code>,
        depending on your system).
       (<a href="http://bugs.mysql.com/8378" target="_top">Bug#8378</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-2753" target="_top">CVE-2006-2753</a>)</p><p>See also <a href="http://bugs.mysql.com/8303" target="_top">Bug#8303</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The dropping of a temporary table whose name contained a
        backtick ('<code class="literal">`</code>') character was not correctly
        written to the binary log, which also caused it not to be
        replicated correctly.
       (<a href="http://bugs.mysql.com/19188" target="_top">Bug#19188</a>)</p></li><li><p>
        The client libraries were not compiled for position-independent
        code on Solaris-SPARC and AMD x86_64 platforms.
       (<a href="http://bugs.mysql.com/18091" target="_top">Bug#18091</a>, <a href="http://bugs.mysql.com/13159" target="_top">Bug#13159</a>, <a href="http://bugs.mysql.com/14202" target="_top">Bug#14202</a>)</p></li><li><p>
        Running <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a> followed by
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> with the
        <a href="programs.html#option_myisamchk_unpack"><code class="option">--unpack</code></a> option would corrupt
        the <code class="literal">auto_increment</code> key.
       (<a href="http://bugs.mysql.com/12633" target="_top">Bug#12633</a>)</p></li><li><p>
        The patch for <a href="http://bugs.mysql.com/8303" target="_top">Bug#8303</a> broke the fix for <a href="http://bugs.mysql.com/8378" target="_top">Bug#8378</a> and was
        reverted.
      </p><p>
        In string literals with an escape character
        (<code class="literal">\</code>) followed by a multi-byte character that
        had (<code class="literal">\</code>) as its second byte, the literal was
        not interpreted correctly. Now only next byte now is escaped,
        and not the entire multi-byte character. This means it is a
        strict reverse of the
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>
        function.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-21"></a>C.1.64. Changes in MySQL 5.0.21 (02 May 2006)</h3></div></div></div><p>
        This MySQL 5.0.21 release includes the patches for recently
        reported security vulnerabilites in the MySQL client-server
        protocol. We would like to thank Stefano Di Paola
        <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        reporting these to us.
      </p><p class="release-level">
      This is a bugfix release for the current production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Added the global
        <a href="server-administration.html#sysvar_max_prepared_stmt_count"><code class="literal">max_prepared_stmt_count</code></a> system
        variable to limit the total number of prepared statements in the
        server. This limits the potential for denial-of-service attacks
        based on running the server out of memory by preparing huge
        numbers of statements. The current number of prepared statements
        is available through the
        <a href="server-administration.html#sysvar_prepared_stmt_count"><code class="literal">prepared_stmt_count</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/16365" target="_top">Bug#16365</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to perform a partial start of a cluster. That
        is, it is now possible to bring up the cluster without first
        running <span><strong class="command">ndbd <code class="option">--initial</code></strong></span> on
        all configured data nodes.
       (<a href="http://bugs.mysql.com/18606" target="_top">Bug#18606</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Added the <code class="option">--nowait-nodes</code> startup option for
        <span><strong class="command">ndbd</strong></span>, making it possible to skip specified
        nodes without waiting for them to start when starting the
        cluster. See
        <a href="mysql-cluster.html#mysql-cluster-program-options-ndbd" title="17.6.22.2. Program Options for ndbd">Section 17.6.22.2, “Program Options for <span><strong class="command">ndbd</strong></span>”</a>.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to install MySQL with Cluster support to a
        nondefault location and change the search path for font
        description files using either the
        <a href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> or
        <a href="server-administration.html#option_mysqld_character-sets-dir"><code class="option">--character-sets-dir</code></a> options.
        (Previously in MySQL 5.0, <span><strong class="command">ndbd</strong></span> searched only
        the default path for character sets.)
      </p></li><li><p><span class="bold"><strong>Packaging</strong></span>: 
        The
        <code class="literal">MySQL-shared-compat-5.0.<em class="replaceable"><code>X</code></em>-.i386.rpm</code>
        shared compatibility RPMs no longer contain libraries for MySQL
        5.1. This avoids a conflict because the 5.0 and 5.1 libraries
        share the same soname number. They now contain libraries for
        MySQL 3.23, 4.0, 4.1, and 5.0 only.
       (<a href="http://bugs.mysql.com/19288" target="_top">Bug#19288</a>)</p></li><li><p>
        The default for the
        <a href="storage-engines.html#sysvar_innodb_thread_concurrency"><code class="literal">innodb_thread_concurrency</code></a>
        system variable was changed to <code class="literal">8</code>.
       (<a href="http://bugs.mysql.com/15868" target="_top">Bug#15868</a>)</p></li><li><p>
        Server and clients ignored the <code class="option">--sysconfdir</code>
        option that was passed to <span><strong class="command">configure</strong></span>. The
        directory specified by this option, if set, now is used as one
        of the standard locations in which to look for option files.
       (<a href="http://bugs.mysql.com/15069" target="_top">Bug#15069</a>)</p></li><li><p>
        In result set metadata, the
        <code class="literal">MYSQL_FIELD.length</code> value for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns now is reported in
        number of bits. For example, the value for a
        <code class="literal">BIT(9)</code> column is 9. (Formerly, the value was
        related to number of bytes.)
       (<a href="http://bugs.mysql.com/13601" target="_top">Bug#13601</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Invalid arguments to
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> caused a server
        crash. Thanks to Jean-David Maillefer for discovering and
        reporting this problem to the Debian project and to Christian
        Hammers from the Debian Team for notifying us of it.
       (<a href="http://bugs.mysql.com/20729" target="_top">Bug#20729</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-3469" target="_top">CVE-2006-3469</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malicious client, using specially crafted invalid
        <code class="literal">COM_TABLE_DUMP</code> packets was able to trigger an
        exploitable buffer overflow on the server. Thanks to Stefano Di
        Paola <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        reporting this bug.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1518" target="_top">CVE-2006-1518</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malicious client, using specially crafted invalid login or
        <code class="literal">COM_TABLE_DUMP</code> packets was able to read
        uninitialized memory, which potentially, though unlikely in
        MySQL, could have led to an information disclosure. (, ) Thanks
        to Stefano Di Paola <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for
        finding and reporting this bug.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1516" target="_top">CVE-2006-1516</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1517" target="_top">CVE-2006-1517</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A simultaneous <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> and
        table update operation utilising a table scan could trigger a
        node failure.
       (<a href="http://bugs.mysql.com/18597" target="_top">Bug#18597</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When multiple node restarts were attempted without allowing each
        restart to complete, the error message returned was
        <span class="errortext">Array index out of bounds</span> rather than
        <span class="errortext">Too many crashed replicas</span>.
       (<a href="http://bugs.mysql.com/18349" target="_top">Bug#18349</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In a 2-node cluster with a node failure, restarting the node
        with a low value for <code class="literal">StartPartialTimeout</code>
        could cause the cluster to come up partitioned
        (“<span class="quote">split-brain</span>” issue).
      </p><p>
        A similar issue could occur when the cluster was first started
        with a sufficiently low value for this parameter.
       (<a href="http://bugs.mysql.com/16447" target="_top">Bug#16447</a>, <a href="http://bugs.mysql.com/18612" target="_top">Bug#18612</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On systems with multiple network interfaces, data nodes would
        get “<span class="quote">stuck</span>” in startup phase 2 if the interface
        connecting them to the management server was working on node
        startup while the interface interconnecting the data nodes
        experienced a temporary outage.
       (<a href="http://bugs.mysql.com/15695" target="_top">Bug#15695</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On slow networks or CPUs, the management client
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> command could sometimes
        erroneously show all data nodes as being master nodes belonging
        to nodegroup 0.
       (<a href="http://bugs.mysql.com/15530" target="_top">Bug#15530</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> did not reset the
        <code class="literal">AUTO_INCREMENT</code> counter for
        <code class="literal">MyISAM</code> tables when issued inside a stored
        procedure.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This bug did not affect <code class="literal">InnoDB</code> tables.
        </p><p>
          In addition, <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> does not
          reset the <code class="literal">AUTO_INCREMENT</code> counter for
          <code class="literal">NDB</code> tables regardless of when it
          is called.
        </p></div><p>(<a href="http://bugs.mysql.com/14945" target="_top">Bug#14945</a>)</p><p>See also <a href="http://bugs.mysql.com/18864" target="_top">Bug#18864</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Unused open handlers for tables in which the metadata had
        changed were not properly closed. This could result in stale
        results from <code class="literal">NDB</code> tables following
        an <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement.
       (<a href="http://bugs.mysql.com/13228" target="_top">Bug#13228</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Uninitialized internal variables could lead to unexpected
        results.
       (<a href="http://bugs.mysql.com/11033" target="_top">Bug#11033</a>, <a href="http://bugs.mysql.com/11034" target="_top">Bug#11034</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When attempting to create an index on a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column, <span class="errortext">Error
        743: Unsupported character set in table or index</span> was
        returned instead of <span class="errortext">Error 906: Unsupported attribute
        type in index</span>.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statements would not
        be replicated to the slave if the
        <a href="replication.html#option_mysqld_replicate-wild-ignore-table"><code class="option">--replicate-wild-ignore-table</code></a>
        rule was enabled.
       (<a href="http://bugs.mysql.com/18715" target="_top">Bug#18715</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Updating a field value when also requesting a lock with
        <a href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> would cause slave
        servers in a replication environment to terminate.
       (<a href="http://bugs.mysql.com/17284" target="_top">Bug#17284</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could read a delete mark from its
        system tables incorrectly.
       (<a href="http://bugs.mysql.com/19217" target="_top">Bug#19217</a>)</p></li><li><p>
        Corrected a syntax error in
        <span><strong class="command">mysql-test-run.sh</strong></span>.
       (<a href="http://bugs.mysql.com/19190" target="_top">Bug#19190</a>)</p></li><li><p>
        Index corruption could occur in cases when
        <a href="server-administration.html#sysvar_key_cache_block_size"><code class="literal">key_cache_block_size</code></a> was not a
        multiple of the <a href="server-administration.html#option_mysqld_myisam-block-size"><code class="option">myisam-block-size</code></a>
        value (for example, with
        <a href="server-administration.html#sysvar_key_cache_block_size"><code class="option">--key_cache_block_size=1536</code></a> and
        <a href="server-administration.html#option_mysqld_myisam-block-size"><code class="option">--myisam-block-size=1024</code></a>).
       (<a href="http://bugs.mysql.com/19079" target="_top">Bug#19079</a>)</p></li><li><p>
        The optimizer could cause a server crash or use a nonoptimal
        subset of indexes when evaluating whether to use <code class="literal">Index
        Merge/Intersection</code> variant of
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> optimization.
       (<a href="http://bugs.mysql.com/19021" target="_top">Bug#19021</a>)</p></li><li><p>
        A missing <code class="function">DBUG_RETURN()</code> caused the server
        to emit a spurious error message: <code class="literal">missing DBUG_RETURN
        or DBUG_VOID_RETURN macro in function "open_table"</code>.
       (<a href="http://bugs.mysql.com/18964" target="_top">Bug#18964</a>)</p></li><li><p>
        Creating a table in an <code class="literal">InnoDB</code> database with a
        column name that matched the name of an internal
        <code class="literal">InnoDB</code> column (including
        <code class="literal">DB_ROW_ID</code>, <code class="literal">DB_TRX_ID</code>,
        <code class="literal">DB_ROLL_PTR</code> and <code class="literal">DB_MIX_ID</code>)
        would cause a crash. MySQL now returns Error 1005
        <span class="errortext">Cannot create table</span> with
        <code class="literal">errno</code> set to -1.
       (<a href="http://bugs.mysql.com/18934" target="_top">Bug#18934</a>)</p></li><li><p>
        MySQL would not compile on Linux distributions that use the
        <code class="literal">tinfo</code> library.
       (<a href="http://bugs.mysql.com/18912" target="_top">Bug#18912</a>)</p></li><li><p>
        <code class="literal">mysql_reconnect()</code> sent a <code class="literal">SET
        NAMES</code> statement to the server, even for pre-4.1
        servers that do not understand the statement.
       (<a href="http://bugs.mysql.com/18830" target="_top">Bug#18830</a>)</p></li><li><p>
        For a reference to a nonexistent stored function in a stored
        routine that had a <code class="literal">CONTINUE</code> handler, the
        server continued as though a useful result had been returned,
        possibly resulting in a server crash.
       (<a href="http://bugs.mysql.com/18787" target="_top">Bug#18787</a>)</p></li><li><p>
        For single-<a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> union
        constructs of the form (SELECT ... ORDER BY
        <em class="replaceable"><code>order_list1</code></em> [LIMIT
        <em class="replaceable"><code>n</code></em>]) ORDER BY
        <em class="replaceable"><code>order_list2</code></em>, the <code class="literal">ORDER
        BY</code> lists were concatenated and the
        <code class="literal">LIMIT</code> clause was ignored.
       (<a href="http://bugs.mysql.com/18767" target="_top">Bug#18767</a>)</p></li><li><p>
        Conversion of a number to a <code class="literal">CHAR UNICODE</code>
        string returned an invalid result.
       (<a href="http://bugs.mysql.com/18691" target="_top">Bug#18691</a>)</p></li><li><p>
        <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS(NULL)</code></a> could cause
        subsequent <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> calls to
        return <code class="literal">NULL</code> for legal
        non-<code class="literal">NULL</code> arguments.
       (<a href="http://bugs.mysql.com/18643" target="_top">Bug#18643</a>)</p></li><li><p>
        If the second or third argument to
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> was a constant expression
        such as <code class="literal">'2005-09-01 - INTERVAL 6 MONTH</code> and
        the other two arguments were columns,
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> was evaluated incorrectly.
       (<a href="http://bugs.mysql.com/18618" target="_top">Bug#18618</a>)</p></li><li><p>
        A <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> statement that
        failed could cause <code class="literal">MyISAM</code> not to update table
        statistics properly, causing a subsequent
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> to report table
        corruption.
       (<a href="http://bugs.mysql.com/18544" target="_top">Bug#18544</a>)</p></li><li><p>
        The yaSSL library returned a cipher list in a manner
        incompatible with OpenSSL.
       (<a href="http://bugs.mysql.com/18399" target="_top">Bug#18399</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> did not use a consistent read for
        <code class="literal">CREATE ... SELECT</code> when
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        was set.
       (<a href="http://bugs.mysql.com/18350" target="_top">Bug#18350</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> did not drop stored
        routines associated with the database if the database name was
        longer than 21 characters.
       (<a href="http://bugs.mysql.com/18344" target="_top">Bug#18344</a>)</p></li><li><p>
        The euro sign (<code class="literal">€</code>) was not stored
        correctly in columns using the
        <code class="literal">latin1_german1_ci</code> or
        <code class="literal">latin1_general_ci</code> collation.
       (<a href="http://bugs.mysql.com/18321" target="_top">Bug#18321</a>)</p></li><li><p>
        A recent change caused the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client not
        to display <code class="literal">NULL</code> values correctly and to
        display numeric columns left-justified rather than
        right-justified. The problems have been corrected.
       (<a href="http://bugs.mysql.com/18265" target="_top">Bug#18265</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> on a
        <code class="literal">MyISAM</code> table could return different results
        for the base table and a view on the base table.
       (<a href="http://bugs.mysql.com/18237" target="_top">Bug#18237</a>)</p></li><li><p>
        <a href="functions.html#function_extract"><code class="literal">EXTRACT(QUARTER FROM
        <em class="replaceable"><code>date</code></em>)</code></a> returned unexpected
        results.
       (<a href="http://bugs.mysql.com/18100" target="_top">Bug#18100</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> on a large table
        that had been compressed within <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a>
        could cause a crash.
       (<a href="http://bugs.mysql.com/17917" target="_top">Bug#17917</a>)</p></li><li><p>
        Casting a string to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        worked, but casting a trimmed string (using
        <a href="functions.html#function_ltrim"><code class="literal">LTRIM()</code></a> or
        <a href="functions.html#function_rtrim"><code class="literal">RTRIM()</code></a>) resulted in loss of
        decimal digits.
       (<a href="http://bugs.mysql.com/17043" target="_top">Bug#17043</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> could not be run as
        <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/17002" target="_top">Bug#17002</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT DISTINCT
        <em class="replaceable"><code>timestamp_column</code></em> WHERE
        <em class="replaceable"><code>date_function</code></em>(<em class="replaceable"><code>timestamp_col</code></em>)
        = <em class="replaceable"><code>constant</code></em></code> did not return
        all matching rows.
       (<a href="http://bugs.mysql.com/16710" target="_top">Bug#16710</a>)</p></li><li><p>
        IA-64 RPM packages for Red Hat and SuSE Linux that were built
        with the <span><strong class="command">icc</strong></span> compiler incorrectly depended on
        <span><strong class="command">icc</strong></span> runtime libraries.
       (<a href="http://bugs.mysql.com/16662" target="_top">Bug#16662</a>)</p></li><li><p>
        <code class="literal">MySQL-shared-compat-5.0.13-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.15-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.18-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.19-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.20-0.i386.rpm</code>, and
        <code class="literal">MySQL-shared-compat-5.0.20a-0.i386.rpm</code>
        incorrectly depended on <code class="literal">glibc</code> 2.3 and could
        not be installed on a <code class="literal">glibc</code> 2.2 system.
       (<a href="http://bugs.mysql.com/16539" target="_top">Bug#16539</a>)</p></li><li><p>
        The presence of multiple equalities in a condition after reading
        a constant table could cause the optimizer not to use an index.
        This resulted in certain queries being much slower than in MySQL
        4.1.
       (<a href="http://bugs.mysql.com/16504" target="_top">Bug#16504</a>)</p></li><li><p>
        Within a trigger, <a href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a>
        did not return the connection ID of the thread that caused the
        trigger to be activated.
       (<a href="http://bugs.mysql.com/16461" target="_top">Bug#16461</a>)</p></li><li><p>
        For tables created in a MySQL 4.1 installation upgraded to MySQL
        5.0 and up, multiple-table updates could update only the first
        matching row.
       (<a href="http://bugs.mysql.com/16281" target="_top">Bug#16281</a>)</p></li><li><p>
        A query using WHERE (<em class="replaceable"><code>column_1</code></em>,
        <em class="replaceable"><code>column_2</code></em>) IN
        ((<em class="replaceable"><code>value_1</code></em>,
        <em class="replaceable"><code>value_2</code></em>)[, (..., ...), ...]) would
        return incorrect results.
       (<a href="http://bugs.mysql.com/16248" target="_top">Bug#16248</a>)</p></li><li><p>
        For <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a>, if the
        <code class="option">basedir</code> option was specified after
        <code class="option">datadir</code> in an option file, the setting for
        <code class="option">datadir</code> was ignored and assumed to be located
        under <code class="option">basedir</code>.
       (<a href="http://bugs.mysql.com/16240" target="_top">Bug#16240</a>)</p></li><li><p>
        If the first argument to <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a>
        was a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> column of a view and the
        other arguments were constants,
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> did not perform conversion
        of the constants to the appropriate temporary type, resulting in
        incorrect evaluation.
       (<a href="http://bugs.mysql.com/16069" target="_top">Bug#16069</a>)</p></li><li><p>
        After calling <code class="literal">FLUSH STATUS</code>, the
        <code class="literal">max_used_connections</code> variable did not
        increment for existing connections and connections which use the
        thread cache.
       (<a href="http://bugs.mysql.com/15933" target="_top">Bug#15933</a>)</p></li><li><p>
        Lettercase in database name qualifiers was not consistently
        handled properly in queries when
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was set
        to 1.
       (<a href="http://bugs.mysql.com/15917" target="_top">Bug#15917</a>)</p></li><li><p>
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements that used large
        <code class="literal">NOT IN
        (<em class="replaceable"><code>value_list</code></em>)</code> clauses could
        use large amounts of memory.
       (<a href="http://bugs.mysql.com/15872" target="_top">Bug#15872</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> failure to release an adaptive hash
        index latch could cause a server crash if the query cache was
        enabled.
       (<a href="http://bugs.mysql.com/15758" target="_top">Bug#15758</a>)</p></li><li><p>
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> in a stored
        function or trigger returned zero. .
       (<a href="http://bugs.mysql.com/15728" target="_top">Bug#15728</a>)</p></li><li><p>
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> with <code class="literal">LEFT
        JOIN</code> for <code class="literal">InnoDB</code> tables could crash
        the server if
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        was enabled.
       (<a href="http://bugs.mysql.com/15650" target="_top">Bug#15650</a>)</p></li><li><p>
        When running a query that contained a
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(SELECT GROUP_CONCAT(...)
        )</code></a>, the result was <code class="literal">NULL</code> except in
        the <code class="literal">ROLLUP</code> part of the result, if there was
        one.
       (<a href="http://bugs.mysql.com/15560" target="_top">Bug#15560</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> in a view
        definition could result in spurious syntax or access errors.
       (<a href="http://bugs.mysql.com/15153" target="_top">Bug#15153</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>double</code></em> AS
        SIGNED INT)</code></a> for large
        <em class="replaceable"><code>double</code></em> values outside the signed
        integer range truncated the result to be within range, but the
        result sometimes had the wrong sign, and no warning was
        generated.
       (<a href="http://bugs.mysql.com/15098" target="_top">Bug#15098</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, an expression of the form
        <code class="literal"><em class="replaceable"><code>col_name</code></em> BETWEEN
        <em class="replaceable"><code>col_name2</code></em> - INTERVAL
        <em class="replaceable"><code>x</code></em> DAY AND
        <em class="replaceable"><code>col_name2</code></em> + INTERVAL
        <em class="replaceable"><code>x</code></em> DAY</code> when used in a join
        returned incorrect results.
       (<a href="http://bugs.mysql.com/14360" target="_top">Bug#14360</a>)</p></li><li><p>
        Prevent recursive views caused by using
        <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> on a view after
        creating it.
       (<a href="http://bugs.mysql.com/14308" target="_top">Bug#14308</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> into a view caused
        an infinite loop.
       (<a href="http://bugs.mysql.com/13683" target="_top">Bug#13683</a>)</p></li><li><p>
        Avoid trying to include
        <code class="filename">&lt;asm/atomic.h&gt;</code> when it doesn't work
        in C++ code.
       (<a href="http://bugs.mysql.com/13621" target="_top">Bug#13621</a>)</p></li><li><p>
        Within stored routines, user names were parsed incorrectly if
        they were enclosed within quotes.
       (<a href="http://bugs.mysql.com/13310" target="_top">Bug#13310</a>)</p></li><li><p>
        The server was always built as though
        <a href="installing.html#option_configure_with-extra-charsets"><code class="option">--with-extra-charsets=complex</code></a>
        had been specified.
       (<a href="http://bugs.mysql.com/12076" target="_top">Bug#12076</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-20a"></a>C.1.65. Changes in MySQL 5.0.20a (18 April 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family. It replaces MySQL 5.0.20.
    </p><p>Additional information about SSL support</p><div class="itemizedlist"><ul type="disc"><li><p>
        Please note that the original 5.0.20 announcement included
        inexact wording: SSL support is “<span class="quote">included</span>” in both
        server and client, but by default not “<span class="quote">enabled</span>”.
        SSL can be enabled by passing the SSL-related options
        (<a href="server-administration.html#option_general_ssl"><code class="option">--ssl</code></a>,
        <a href="server-administration.html#option_general_ssl-key"><code class="option">--ssl-key=...</code></a>,
        <a href="server-administration.html#option_general_ssl-cert"><code class="option">--ssl-cert=...</code></a>,
        <a href="server-administration.html#option_general_ssl-ca"><code class="option">--ssl-ca=...</code></a>) when starting the
        server and the client or by specifying these options in an
        option file. For more information, see
        <a href="server-administration.html#secure-connections" title="5.5.7. Using SSL for Secure Connections">Section 5.5.7, “Using SSL for Secure Connections”</a>.
      </p></li><li><p>
        With version 5.0.20a, SSL support is contained in all binaries
        for all Unix (including Linux) and Windows platforms except AIX,
        HP-UX, OpenServer 6, and the RPMs specific for RHAS3/RHAS4/SLES9
        on Itanium CPUs (<code class="literal">ia64</code>); It is also not
        contained in those for Novell Netware. We are trying to add
        these platforms in future versions.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The fix for “<span class="quote">Command line options are ignored for mysql
        client</span>” has been revoked because it introduced an
        incompatible change in the way the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>
        command-line client selects the server to connect to. In the
        worst case, this might have led to a client issuing commands to
        a server for which they were not intended, and this must not
        happen. To help all users in understanding this subject,
        <a href="programs.html#invoking-programs" title="4.2.1. Invoking MySQL Programs">Section 4.2.1, “Invoking MySQL Programs”</a> now includes additional
        explanation of how command options function with regard to host
        selection.
       (<a href="http://bugs.mysql.com/16855" target="_top">Bug#16855</a>)</p></li><li><p>
        The code of the <code class="literal">yaSSL</code> library has been
        improved to avoid a dependency on a C++ runtime library, so a
        link with pure C applications is now possible on additional (but
        not yet all) platforms. We are working on fixing the remaining
        issues.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-20"></a>C.1.66. Changes in MySQL 5.0.20 (31 March 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDBCLUSTER</code> storage engine now
        supports <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
        IGNORE</code></a> and <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a>
        statements. Previously, these statements failed with an error.
       (<a href="http://bugs.mysql.com/17431" target="_top">Bug#17431</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Triggers from older servers that included no
        <code class="literal">DEFINER</code> clause in the trigger definition now
        execute with the privileges of the invoker (which on the slave
        is the slave SQL thread). Previously, replication slaves could
        not replicate such triggers.
       (<a href="http://bugs.mysql.com/16266" target="_top">Bug#16266</a>)</p></li><li><p>
        Builds for Windows, Linux, and Unix (except AIX) platforms now
        have SSL support enabled, in the server as well as in the client
        libraries. Because part of the SSL code is written in C++, this
        does introduce dependencies on the system's C++ runtime
        libraries in several cases, depending on compiler specifics.
       (<a href="http://bugs.mysql.com/18195" target="_top">Bug#18195</a>)</p></li><li><p>
        Large file support added to build for <code class="literal">QNX</code>
        platform.
       (<a href="http://bugs.mysql.com/17336" target="_top">Bug#17336</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The <code class="literal">InnoDB</code> storage
        engine now provides a descriptive error message if
        <code class="filename">ibdata</code> file information is omitted from
        <code class="filename">my.cnf</code>.
       (<a href="http://bugs.mysql.com/16827" target="_top">Bug#16827</a>)</p></li><li><p>
        Added the <a href="server-administration.html#option_mysqld_sysdate-is-now"><code class="option">--sysdate-is-now</code></a> option
        to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to enable
        <a href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> to be treated as an
        alias for <a href="functions.html#function_now"><code class="literal">NOW()</code></a>. See
        <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.
       (<a href="http://bugs.mysql.com/15101" target="_top">Bug#15101</a>)</p></li><li><p>
        Large file support was re-enabled for the MySQL server binary
        for the AIX 5.2 platform.
       (<a href="http://bugs.mysql.com/13571" target="_top">Bug#13571</a>)</p></li><li><p>
        The syntax for <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a>
        and <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> statements
        now includes a <code class="literal">DEFINER</code> clause. The
        <code class="literal">DEFINER</code> value specifies the security context
        to be used when checking access privileges at routine invocation
        time if the routine has the <code class="literal">SQL SECURITY
        DEFINER</code> characteristic. See
        <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax">Section 12.1.9, “<code class="literal">CREATE PROCEDURE</code> and
      <code class="literal">CREATE FUNCTION</code> Syntax”</a>, for more information.
      </p><p>
        When <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> is invoked with the
        <a href="programs.html#option_mysqldump_routines"><code class="option">--routines</code></a> option, it now
        dumps the <code class="literal">DEFINER</code> value for stored routines.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A timeout in the handling of an <code class="literal">ABORT</code>
        condition with more that 32 operations could yield a node
        failure.
       (<a href="http://bugs.mysql.com/18414" target="_top">Bug#18414</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node restart immediately following a
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> would fail.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          This fix supports 2-node Clusters only.
        </p></div><p>(<a href="http://bugs.mysql.com/18385" target="_top">Bug#18385</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In event of a node failure during a rollback, a
        “<span class="quote">false</span>” lock could be established on the backup for
        that node, which lock could not be removed without restarting
        the node.
       (<a href="http://bugs.mysql.com/18352" target="_top">Bug#18352</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster created a crashed replica of a table having an
        ordered index — or when logging was not enabled, of a
        table having a table or unique index — leading to a crash
        of the cluster following 8 successive restarts.
       (<a href="http://bugs.mysql.com/18298" target="_top">Bug#18298</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When replacing a failed master node, the replacement node could
        cause the cluster to crash from a buffer overflow if it had an
        excessively large amount of data to write to the cluster log.
       (<a href="http://bugs.mysql.com/18118" target="_top">Bug#18118</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Certain queries using <code class="literal">ORDER BY ... ASC</code> in the
        <code class="literal">WHERE</code> clause could return incorrect results.
       (<a href="http://bugs.mysql.com/17729" target="_top">Bug#17729</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If a <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> or other client could not parse
        the result set returned from a <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process
        acting as an SQL node in a cluster, the client would crash
        instead of returning the appropriate error. For example, this
        could happen when the client attempted to use a character set
        was not available to the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.
       (<a href="http://bugs.mysql.com/17380" target="_top">Bug#17380</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some query cache statistics were not always correctly reported
        for Cluster tables.
       (<a href="http://bugs.mysql.com/16795" target="_top">Bug#16795</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Restarting nodes were allowed to start and join the cluster too
        early.
       (<a href="http://bugs.mysql.com/16772" target="_top">Bug#16772</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Inserting and deleting <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        column values while a backup was in process could cause data
        nodes to shut down.
       (<a href="http://bugs.mysql.com/14028" target="_top">Bug#14028</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server would not compile with
        <code class="literal">NDB</code> support on AIX 5.2.
       (<a href="http://bugs.mysql.com/10776" target="_top">Bug#10776</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Use of <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for a <code class="literal">TEMPORARY</code> table on a
        master server was propagated to slaves properly, but slaves did
        not decrement the
        <a href="server-administration.html#statvar_Slave_open_temp_tables"><code class="literal">Slave_open_temp_tables</code></a> counter
        properly.
       (<a href="http://bugs.mysql.com/17137" target="_top">Bug#17137</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <code class="literal">DEFINER</code> value for stored routines was not
        replicated.
       (<a href="http://bugs.mysql.com/15963" target="_top">Bug#15963</a>)</p></li><li><p>
        A <code class="literal">SELECT ... ORDER BY ...</code> from a view defined
        using a function could crash the server. An example of such a
        view is <code class="literal">CREATE VIEW v1 AS SELECT SQRT(c1) FROM
        t1</code>.
       (<a href="http://bugs.mysql.com/18386" target="_top">Bug#18386</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> had a memory leak for duplicate-key
        errors with tables having 90 columns or more.
       (<a href="http://bugs.mysql.com/18384" target="_top">Bug#18384</a>)</p></li><li><p>
        A <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> using a subquery could
        crash the server.
       (<a href="http://bugs.mysql.com/18306" target="_top">Bug#18306</a>)</p></li><li><p>
        If a row was inserted inside a stored procedure using the
        parameters passed to the procedure in the INSERT statement, the
        resulting binary log entry was not escaped properly.
       (<a href="http://bugs.mysql.com/18293" target="_top">Bug#18293</a>)</p></li><li><p>
        If <code class="literal">InnoDB</code> encountered a
        <code class="literal">HA_ERR_LOCK_TABLE_FULL</code> error and rolled back
        a transaction, the transaction was still written to the binary
        log.
       (<a href="http://bugs.mysql.com/18283" target="_top">Bug#18283</a>)</p></li><li><p>
        When using <code class="literal">ORDER BY</code> with a nonstring column
        inside <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> the
        result's character set was converted to binary.
       (<a href="http://bugs.mysql.com/18281" target="_top">Bug#18281</a>)</p><p>See also <a href="http://bugs.mysql.com/14169" target="_top">Bug#14169</a>.</p></li><li><p>
        Complex queries with nested joins could cause a server crash.
       (<a href="http://bugs.mysql.com/18279" target="_top">Bug#18279</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables created in MySQL 4.1 or
        earlier, or created in 5.0 or later with compact format,
        updating a row so that a long column is updated or the length of
        some column changes, <code class="literal">InnoDB</code> later would fail
        to reclaim the <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> storage space
        if the row was deleted.
       (<a href="http://bugs.mysql.com/18252" target="_top">Bug#18252</a>)</p></li><li><p>
        If <code class="literal">InnoDB</code> ran out of buffer space for row
        locks and adaptive hashes, the server would crash. Now
        <code class="literal">InnoDB</code> rolls back the transaction.
       (<a href="http://bugs.mysql.com/18238" target="_top">Bug#18238</a>)</p></li><li><p>
        Views that incorporated tables from the
        <code class="literal">INFORMATION_SCHEMA</code> database resulted in a
        server crash when queried.
       (<a href="http://bugs.mysql.com/18224" target="_top">Bug#18224</a>)</p></li><li><p>
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, and
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations on
        transactional tables (or on tables of any type on Windows) could
        corrupt triggers associated with those tables.
       (<a href="http://bugs.mysql.com/18153" target="_top">Bug#18153</a>)</p></li><li><p>
        The server could deadlock under heavy load while writing to the
        binary log.
       (<a href="http://bugs.mysql.com/18116" target="_top">Bug#18116</a>)</p></li><li><p>
        A <code class="literal">SELECT *</code> query on an
        <code class="literal">INFORMATION_SCHEMA</code> table by a user with
        limited privileges resulted in a server crash.
       (<a href="http://bugs.mysql.com/18113" target="_top">Bug#18113</a>)</p></li><li><p>
        Connecting to a server with a UCS2 default character set with a
        client using a non-UCS2 character set crashed the server.
       (<a href="http://bugs.mysql.com/18004" target="_top">Bug#18004</a>)</p></li><li><p>
        <code class="literal">MyISAM</code>: Performing a bulk insert on a table
        referenced by a trigger would crash the table.
       (<a href="http://bugs.mysql.com/17764" target="_top">Bug#17764</a>)</p></li><li><p>
        Updating a view that filters certain rows to set a filtered out
        row to be included in the table caused infinite loop. For
        example, if the view has a WHERE clause of <code class="literal">salary &gt;
        100</code> then issuing an UPDATE statement of <code class="literal">SET
        salary = 200 WHERE id = 10</code>, caused an infinite loop.
       (<a href="http://bugs.mysql.com/17726" target="_top">Bug#17726</a>)</p></li><li><p>
        <code class="literal">MyISAM</code>: Keys for which the first part of the
        key was a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> or
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column using the UTF-8
        character set and longer than 254 bytes could become corrupted.
       (<a href="http://bugs.mysql.com/17705" target="_top">Bug#17705</a>)</p></li><li><p>
        Updating the value of a Unicode
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column with the result
        returned by a stored function would cause the insertion of ASCII
        characters into the column instead of Unicode, even where the
        function's return type was also declared as Unicode.
       (<a href="http://bugs.mysql.com/17615" target="_top">Bug#17615</a>)</p></li><li><p>
        For <code class="literal">FEDERATED</code> tables, a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement with an
        <code class="literal">ORDER BY</code> clause did not return rows in the
        proper order.
       (<a href="http://bugs.mysql.com/17377" target="_top">Bug#17377</a>)</p></li><li><p>
        <code class="literal">SELECT ... WHERE <em class="replaceable"><code>column</code></em> LIKE
        'A%'</code>, when <em class="replaceable"><code>column</code></em> had a key
        and used the <code class="literal">latin2_czech_cs</code> collation,
        caused the wrong number of rows to be returned.
       (<a href="http://bugs.mysql.com/17374" target="_top">Bug#17374</a>)</p></li><li><p>
        A <code class="literal">LEFT JOIN</code> with a
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> that selects literal values
        could crash the server.
       (<a href="http://bugs.mysql.com/17366" target="_top">Bug#17366</a>)</p></li><li><p>
        Checks for permissions on database operations could be performed
        in a case-insensitive manner (a user with permissions on
        database <code class="literal">MYDATABASE</code> could by accident get
        permissions on database <code class="literal">myDataBase</code>), if the
        privilege data were still cached from a previous check.
       (<a href="http://bugs.mysql.com/17279" target="_top">Bug#17279</a>)</p></li><li><p>
        Stored procedures that call UDFs and pass local string variables
        caused server crashes.
       (<a href="http://bugs.mysql.com/17261" target="_top">Bug#17261</a>)</p></li><li><p>
        If the <code class="literal">WHERE</code> condition of a query contained
        an <code class="literal">OR</code>-ed <code class="literal">FALSE</code> term, the
        set of tables whose rows cannot serve for null-complements in
        outer joins was determined incorrectly. This resulted in
        blocking possible conversions of outer joins into joins by the
        optimizer for such queries.
       (<a href="http://bugs.mysql.com/17164" target="_top">Bug#17164</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> tables with an adaptive hash blocked
        other queries during <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>
        statements while the entire hash was checked. This could be a
        long time for a large hash.
       (<a href="http://bugs.mysql.com/17126" target="_top">Bug#17126</a>)</p></li><li><p>
        Stored routine names longer than 64 characters were silently
        truncated. Now the limit is properly enforced and an error
        occurs.
       (<a href="http://bugs.mysql.com/17015" target="_top">Bug#17015</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The <code class="literal">LATEST FOREIGN KEY
        ERROR</code> section in the output of
        <a href="sql-syntax.html#show-innodb-status" title="12.5.5.19. SHOW INNODB STATUS Syntax"><code class="literal">SHOW INNODB STATUS</code></a> was sometimes
        formatted incorrectly, causing problems with scripts that parsed
        the output of this statement.
       (<a href="http://bugs.mysql.com/16814" target="_top">Bug#16814</a>)</p></li><li><p>
        If the server was started with the
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option, it
        was impossible to create a trigger or a view without explicitly
        specifying a <code class="literal">DEFINER</code> clause.
       (<a href="http://bugs.mysql.com/16777" target="_top">Bug#16777</a>)</p></li><li><p>
        The <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a> function returned an
        incorrect result when the client's
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> value
        was <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/16678" target="_top">Bug#16678</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY <em class="replaceable"><code>intvar</code></em>
        </code> within a stored procedure (where
        <em class="replaceable"><code>intvar</code></em> is an integer variable or
        expression) would crash the server.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The use of an integer <em class="replaceable"><code>i</code></em> in an
          <code class="literal">ORDER BY <em class="replaceable"><code>i</code></em></code>
          clause for sorting the result by the
          <em class="replaceable"><code>i</code></em> <sup>th</sup>
          column is deprecated (and nonstandard). It should
          <span class="emphasis"><em>not</em></span> be used in new applications. See
          <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax">Section 12.2.8, “<code class="literal">SELECT</code> Syntax”</a>.
        </p></div><p>(<a href="http://bugs.mysql.com/16474" target="_top">Bug#16474</a>)</p></li><li><p>
        Character set conversion of string constants for
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> of constant and table
        column was not done when it was safe to do so.
       (<a href="http://bugs.mysql.com/15949" target="_top">Bug#15949</a>)</p></li><li><p>
        Triggers created in MySQL 5.0.16 and earlier could not be
        dropped after upgrading the server to 5.0.17 or later.
       (<a href="http://bugs.mysql.com/15921" target="_top">Bug#15921</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-close" title="20.9.3.5. mysql_close()"><code class="literal">mysql_close()</code></a> C API function
        leaked handles for shared-memory connections on Windows.
       (<a href="http://bugs.mysql.com/15846" target="_top">Bug#15846</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        <em class="replaceable"><code>col1</code></em>,
        <em class="replaceable"><code>col2</code></em>)</code></a> and
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        CONCAT(<em class="replaceable"><code>col1</code></em>,
        <em class="replaceable"><code>col2</code></em>))</code></a> operations produced
        different results if one of the columns was an indexed
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column.
       (<a href="http://bugs.mysql.com/15745" target="_top">Bug#15745</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> using a function against
        a nested view would crash the server.
       (<a href="http://bugs.mysql.com/15683" target="_top">Bug#15683</a>)</p></li><li><p>
        The server displayed garbage in the error message warning about
        bad assignments to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        columns or routine variables.
       (<a href="http://bugs.mysql.com/15480" target="_top">Bug#15480</a>)</p></li><li><p>
        During conversion from one character set to
        <code class="literal">ucs2</code>, multi-byte characters with no
        <code class="literal">ucs2</code> equivalent were converted to multiple
        characters, rather than to <code class="literal">0x003F QUESTION
        MARK</code>.
       (<a href="http://bugs.mysql.com/15375" target="_top">Bug#15375</a>)</p></li><li><p>
        Certain combinations of joins with mixed <code class="literal">ON</code>
        and <code class="literal">USING</code> claused caused <span class="errortext">unknown
        column</span> errors.
       (<a href="http://bugs.mysql.com/15229" target="_top">Bug#15229</a>)</p></li><li><p>
        <code class="literal">SELECT COUNT(*)</code> for a
        <code class="literal">MyISAM</code> table could return different results
        depending on whether an index was used.
       (<a href="http://bugs.mysql.com/14980" target="_top">Bug#14980</a>)</p></li><li><p>
        Attempting to access an <code class="literal">InnoDB</code> table after
        starting the server with
        <a href="server-administration.html#option_mysqld_skip-innodb"><code class="option">--skip-innodb</code></a> caused a server
        crash.
       (<a href="http://bugs.mysql.com/14575" target="_top">Bug#14575</a>)</p></li><li><p>
        Use of stored functions with <code class="literal">DISTINCT</code> or
        <code class="literal">GROUP BY</code> can produce incorrect results when
        <code class="literal">ORDER BY</code> is also used.
       (<a href="http://bugs.mysql.com/13575" target="_top">Bug#13575</a>)</p></li><li><p>
        The server would execute stored routines that had a nonexistent
        definer.
       (<a href="http://bugs.mysql.com/13198" target="_top">Bug#13198</a>)</p></li><li><p>
        <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> returned incorrect libraries on
        <code class="literal">x86_64</code> systems.
       (<a href="http://bugs.mysql.com/13158" target="_top">Bug#13158</a>)</p></li><li><p>
        Loading of UDFs in a statically linked MySQL caused a server
        crash. UDF loading is now blocked if the MySQL server is
        statically linked.
       (<a href="http://bugs.mysql.com/11835" target="_top">Bug#11835</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-19"></a>C.1.67. Changes in MySQL 5.0.19 (04 March 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">InnoDB</code> storage engine no longer ignores
        trailing spaces when comparing
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> or
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column values. This
        means that (for example) the binary values
        <code class="literal">'a'</code> and <code class="literal">'a '</code> are now
        regarded as <span class="emphasis"><em>unequal</em></span> any time they are
        compared, as they are in <code class="literal">MyISAM</code> tables.
      </p><p>
        See <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types">Section 10.4.2, “The <code class="literal">BINARY</code> and
        <code class="literal">VARBINARY</code> Types”</a> for more information
        about the <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> types.
       (<a href="http://bugs.mysql.com/14189" target="_top">Bug#14189</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        More descriptive warnings are now issued when inappropriate
        logging parameters are set in <code class="filename">config.ini</code>.
        (Formerly, the warning issued was simply <span class="errortext">Could not
        add logfile destination</span>.)
       (<a href="http://bugs.mysql.com/11331" target="_top">Bug#11331</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client commands
        <code class="literal"><em class="replaceable"><code>node_id</code></em> START</code> and
        <code class="literal"><em class="replaceable"><code>node_id</code></em> STOP</code> now
        work with management nodes as well as data nodes. However, using
        <code class="literal">ALL</code> for <em class="replaceable"><code>node_id</code></em>
        continues to affect all data nodes only.
      </p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> no longer terminates data value display
        when it encounters a NUL byte. Instead, it displays NUL bytes as
        spaces.
       (<a href="http://bugs.mysql.com/16859" target="_top">Bug#16859</a>)</p></li><li><p>
        New <code class="literal">charset</code> command added to
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> command-line client. By typing
        <code class="literal">charset <em class="replaceable"><code>name</code></em></code> or
        <code class="literal">\C <em class="replaceable"><code>name</code></em></code> (such as
        <code class="literal">\C UTF8</code>), the client character set can be
        changed without reconnecting.
       (<a href="http://bugs.mysql.com/16217" target="_top">Bug#16217</a>)</p></li><li><p>
        Added the <code class="option">--wait-timeout</code> option to
        <span><strong class="command">mysqlmanager</strong></span> to allow configuration of the
        timeout for dropping an inactive connection, and increased the
        default timeout from 30 seconds to 28,800 seconds (8 hours).
       (<a href="http://bugs.mysql.com/15980" target="_top">Bug#15980</a>, <a href="http://bugs.mysql.com/12674" target="_top">Bug#12674</a>)</p></li><li><p>
        The <code class="literal">INFORMATION_SCHEMA</code> now skips data
        contained in unlistable/unreadable directories rather than
        returning an error.
       (<a href="http://bugs.mysql.com/15851" target="_top">Bug#15851</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> now caches a list of unflushed files
        instead of scanning for unflushed files during a table flush
        operation. This improves performance when
        <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="option">--innodb_file_per_table</code></a> is set on
        a system with a large number of <code class="literal">InnoDB</code>
        tables.
       (<a href="http://bugs.mysql.com/15653" target="_top">Bug#15653</a>)</p></li><li><p>
        Added the <a href="server-administration.html#option_mysqld_port-open-timeout"><code class="option">--port-open-timeout</code></a>
        option to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to control how many seconds
        the server should wait for the TCP/IP port to become free if it
        cannot be opened.
       (<a href="http://bugs.mysql.com/15591" target="_top">Bug#15591</a>)</p></li><li><p>
        Wording of error 1329 changed to <span class="errortext">No data - zero rows
        fetched, selected, or processed</span>.
       (<a href="http://bugs.mysql.com/15206" target="_top">Bug#15206</a>)</p></li><li><p>
        The message for error 1109 changed from <span class="errortext">Unknown table
        ... in order clause</span> to <span class="errortext">Unknown table ...
        in field list</span>.
       (<a href="http://bugs.mysql.com/15091" target="_top">Bug#15091</a>)</p></li><li><p>
        A number of performance issues were resolved that had previously
        been encountered when using statements that repeatedly invoked
        stored functions. For example, calling
        <a href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> using a stored
        function executed much more slowly than when invoking it with
        inline code that accomplished the same task. In most cases the
        two should now execute with approximately the same speed.
       (<a href="http://bugs.mysql.com/14946" target="_top">Bug#14946</a>, <a href="http://bugs.mysql.com/15014" target="_top">Bug#15014</a>)</p></li><li><p>
        <code class="filename">mysqldump</code> now surrounds the
        <code class="literal">DEFINER</code>, <code class="literal">SQL SECURITY
        DEFINER</code> and <code class="literal">WITH CHECK OPTION</code>
        clauses of a <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a>
        statement with "not in version" comments to prevent errors in
        earlier versions of MySQL.
       (<a href="http://bugs.mysql.com/14871" target="_top">Bug#14871</a>)</p></li><li><p>
        When using the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        function where the
        <a href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> system
        variable was greater than 512, the type of the result was
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> only if the query included
        an <code class="literal">ORDER BY</code> clause; otherwise the result was
        a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>.
      </p><p>
        The result type of the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function is now
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> only if the value of the
        <a href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> system
        variable is less than or equal to 512. Otherwise, this function
        returns a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>.
       (<a href="http://bugs.mysql.com/14169" target="_top">Bug#14169</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-ping" title="20.9.3.50. mysql_ping()"><code class="literal">mysql_ping()</code></a> function will
        now retry if the <code class="literal">reconnect</code> flag is set and
        error <a href="error-handling.html#error_cr_server_lost"><code class="literal">CR_SERVER_LOST</code></a> is
        encountered during the first attempt to ping the server.
       (<a href="http://bugs.mysql.com/14057" target="_top">Bug#14057</a>)</p></li><li><p>
        The <code class="filename">mysqltest</code> utility now converts all
        <code class="literal">CR/LF</code> combinations to <code class="literal">LF</code>
        to allow test cases intended for Windows to work properly on
        UNIX-like systems.
       (<a href="http://bugs.mysql.com/13809" target="_top">Bug#13809</a>)</p></li><li><p>
        <code class="literal">libmysqlclient</code> now uses versioned symbols
        with GNU ld.
       (<a href="http://bugs.mysql.com/3074" target="_top">Bug#3074</a>)</p></li><li><p>
        The client API now attempts to reconnect using TCP/IP if the
        <code class="literal">reconnect</code> flag is set, as is the case with
        sockets.
       (<a href="http://bugs.mysql.com/2845" target="_top">Bug#2845</a>)</p></li><li><p>
        Two new Hungarian collations are included:
        <code class="literal">utf8_hungarian_ci</code> and
        <code class="literal">ucs2_hungarian_ci</code>. These support the correct
        sort order for Hungarian vowels. However, they do not support
        the correct order for sorting Hungarian consonant contractions;
        we expect to fix this issue in a future release.
      </p></li><li><p>
        Several changes were made to make upgrades easier:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Added the <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> program that
            checks all tables for incompatibilities with the current
            version of MySQL Server and repairs them if necessary. This
            program should be run for each MySQL upgrade (rather than
            <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables"><span><strong class="command">mysql_fix_privilege_tables</strong></span></a>). See
            <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.9, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>.
          </p></li><li><p>
            Added the <code class="literal">FOR UPGRADE</code> option for the
            <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> statement. This
            option checks whether tables are incompatible with the
            current version of MySQL Server.
          </p></li><li><p>
            Added the <a href="programs.html#option_mysqlcheck_check-upgrade"><code class="option">--check-upgrade</code></a>
            to <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> that invokes
            <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> with the
            <code class="literal">FOR UPGRADE</code> option.
          </p></li></ul></div></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster log file paths were truncated to 128 characters. They
        may now be as long as <code class="literal">MAX_PATH</code> (the maximum
        path length permitted by the operating system).
       (<a href="http://bugs.mysql.com/17411" target="_top">Bug#17411</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Following multiple forced shutdowns and restarts of data nodes,
        <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> could fail.
       (<a href="http://bugs.mysql.com/17325" target="_top">Bug#17325</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">REDO</code> log would become corrupted (and thus
        unreadable) in some circumstances, due to a failure in the query
        handler.
       (<a href="http://bugs.mysql.com/17295" target="_top">Bug#17295</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> with an inner join
        failed to match any records if both tables in the join did not
        have a primary key.
       (<a href="http://bugs.mysql.com/17257" target="_top">Bug#17257</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> with a join in the
        <code class="literal">WHERE</code> clause failed to retrieve any records
        if both tables in the join did not have a primary key.
       (<a href="http://bugs.mysql.com/17249" target="_top">Bug#17249</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The error message returned by <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror
        <a href="programs.html#option_perror_ndb"><code class="option">--ndb</code></a></strong></span></a> was prefixed with
        <span class="errortext">OS error code</span> instead of <span class="errortext">NDB
        error code</span>.
       (<a href="http://bugs.mysql.com/17235" target="_top">Bug#17235</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> did not load all data into
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/17081" target="_top">Bug#17081</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_delete_all</strong></span> ran out of memory when
        processing tables containing <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        columns.
       (<a href="http://bugs.mysql.com/16693" target="_top">Bug#16693</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column whose offset and
        length totaled 32 caused the cluster to crash.
       (<a href="http://bugs.mysql.com/16125" target="_top">Bug#16125</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UNIQUE</code> keys in Cluster tables were limited to
        225 bytes in length.
       (<a href="http://bugs.mysql.com/15918" target="_top">Bug#15918</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">ndb_autodiscover</code> test failed sporadically
        due to a node not being permitted to connect to the cluster.
       (<a href="http://bugs.mysql.com/15619" target="_top">Bug#15619</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> returned an incorrect
        <span class="errortext">Can't find file error</span> for OS error 24;
        this has been changed to <span class="errortext">Too many open
        files</span>.
       (<a href="http://bugs.mysql.com/15020" target="_top">Bug#15020</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        No error message was generated for setting
        <code class="literal">NoOfFragmentLogFiles</code> too low.
       (<a href="http://bugs.mysql.com/13966" target="_top">Bug#13966</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        No error message was generated for setting
        <code class="literal">MaxNoOfAttributes</code> too low.
       (<a href="http://bugs.mysql.com/13965" target="_top">Bug#13965</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When running more than one management process in a cluster:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <span><strong class="command">ndb_mgm -c
              <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>
              -e "<em class="replaceable"><code>node_id</code></em> STOP"</strong></span>
              stopped a management process running only on the same
              system where the command was issued.
            </p></li><li><p>
              <span><strong class="command">ndb_mgm -e "SHUTDOWN"</strong></span> failed to shut
              down any management processes at all.
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/12045" target="_top">Bug#12045</a>, <a href="http://bugs.mysql.com/12124" target="_top">Bug#12124</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -c
        <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>
        -e "<em class="replaceable"><code>node_id</code></em> STOP"</strong></span> would
        stop a management process running only on the same system on
        which the command was issued.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -e "SHUTDOWN"</strong></span> failed to shut down any
        management processes at all.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For a transaction that used <code class="literal">MyISAM</code> and
        <code class="literal">InnoDB</code> tables, interruption of the
        transaction due to a dropped connection on a master server
        caused slaves to lose synchrony.
       (<a href="http://bugs.mysql.com/16559" target="_top">Bug#16559</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <code class="option">--replicate-do</code> and
        <code class="option">--replicate-ignore</code> options were not being
        enforced on multiple-table statements.
       (<a href="http://bugs.mysql.com/16487" target="_top">Bug#16487</a>, <a href="http://bugs.mysql.com/15699" target="_top">Bug#15699</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Previously, a stored function invocation was written to the
        binary log as <code class="literal">DO
        <em class="replaceable"><code>func_name</code></em>()</code> if the
        invocation changes data and occurs within a nonlogged statement,
        or if the function invokes a stored procedure that produces an
        error. These invocations now are logged as <code class="literal">SELECT
        <em class="replaceable"><code>func_name</code></em>()</code> instead for
        better control over error code checking (slave servers could
        stop due to detecting a different error than occurred on the
        master).
       (<a href="http://bugs.mysql.com/14769" target="_top">Bug#14769</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> fields were not properly
        handled when using row-based replication.
       (<a href="http://bugs.mysql.com/13418" target="_top">Bug#13418</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Upon the completion of a scan where a key request remained
        outstanding on the primary replica and a starting node died, the
        scan did not terminate. This caused incomplete error handling
        for the failed node.
       (<a href="http://bugs.mysql.com/15908" target="_top">Bug#15908</a>)</p></li><li><p>
        <code class="literal">type_decimal</code> failed with the prepared
        statement protocol.
       (<a href="http://bugs.mysql.com/17826" target="_top">Bug#17826</a>)</p></li><li><p>
        The MySQL server could crash with out of memory errors when
        performing aggregate functions on a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column.
       (<a href="http://bugs.mysql.com/17602" target="_top">Bug#17602</a>)</p></li><li><p>
        Using <code class="literal">DROP FUNCTION IF EXISTS
        <em class="replaceable"><code>func_name</code></em></code> to drop a
        user-defined function caused a server crash if the server was
        running with the
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option.
       (<a href="http://bugs.mysql.com/17595" target="_top">Bug#17595</a>)</p></li><li><p>
        Data truncations on non-<code class="literal">UNIQUE</code> indexes could
        crash <code class="literal">InnoDB</code> when using multi-byte character
        sets.
       (<a href="http://bugs.mysql.com/17530" target="_top">Bug#17530</a>)</p></li><li><p>
        A natural join between <code class="literal">INFORMATION_SCHEMA</code>
        tables failed.
       (<a href="http://bugs.mysql.com/17523" target="_top">Bug#17523</a>)</p></li><li><p>
        A stored procedure failed to return data the first time it was
        called per connection.
       (<a href="http://bugs.mysql.com/17476" target="_top">Bug#17476</a>)</p></li><li><p>
        For certain <code class="literal">MERGE</code> tables, the optimizer
        wrongly assumed that using
        <code class="literal">index_merge/intersection</code> was too expensive.
       (<a href="http://bugs.mysql.com/17314" target="_top">Bug#17314</a>)</p></li><li><p>
        The parser allowed <code class="literal">CREATE AGGREGATE FUNCTION</code>
        for creating stored functions, even though
        <code class="literal">AGGREGATE</code> does not apply. (It is used only
        for <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> only when
        creating user-defined functions.)
       (<a href="http://bugs.mysql.com/16896" target="_top">Bug#16896</a>)</p></li><li><p>
        Cursors in stored routines could cause a server crash.
       (<a href="http://bugs.mysql.com/16887" target="_top">Bug#16887</a>)</p></li><li><p>
        Triggers created without <code class="literal">BEGIN</code> and
        <code class="literal">END</code> clauses resulted in “<span class="quote">You have an
        error in your SQL syntax</span>” errors when dumping and
        replaying a binary log.
       (<a href="http://bugs.mysql.com/16878" target="_top">Bug#16878</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to increase the
        length of a
        <code class="literal">BINARY(<em class="replaceable"><code>M</code></em>)</code> column
        caused column values to be padded with spaces rather than
        <code class="literal">0x00</code> bytes.
       (<a href="http://bugs.mysql.com/16857" target="_top">Bug#16857</a>)</p></li><li><p>
        A <a href="sql-syntax.html#return" title="12.8.7. RETURN Syntax"><code class="literal">RETURN</code></a> statement within a
        trigger caused a server crash.
        <a href="sql-syntax.html#return" title="12.8.7. RETURN Syntax"><code class="literal">RETURN</code></a> now is disallowed within
        triggers. To exit immediately, use
        <a href="sql-syntax.html#leave-statement" title="12.8.6.4. LEAVE
        Statement"><code class="literal">LEAVE</code></a>.
       (<a href="http://bugs.mysql.com/16829" target="_top">Bug#16829</a>)</p></li><li><p>
        For a MySQL 5.0 server, using MySQL 4.1 tables in queries with a
        <code class="literal">GROUP BY</code> clause could result in buffer
        overrun or a server crash.
       (<a href="http://bugs.mysql.com/16752" target="_top">Bug#16752</a>)</p></li><li><p>
        An <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement in a stored
        procedure corrupted the binary log.
       (<a href="http://bugs.mysql.com/16621" target="_top">Bug#16621</a>)</p></li><li><p>
        If the query optimizer transformed a <code class="literal">GROUP BY</code>
        clause in a subquery, it did not also transform the
        <code class="literal">HAVING</code> clause if there was one, producing
        incorrect results.
       (<a href="http://bugs.mysql.com/16603" target="_top">Bug#16603</a>)</p></li><li><p>
        In a highly concurrent environment, a server crash or deadlock
        could result from execution of a statement that used stored
        functions or activated triggers coincident with alteration of
        the tables used by these functions or triggers.
       (<a href="http://bugs.mysql.com/16593" target="_top">Bug#16593</a>)</p></li><li><p>
        A race condition could occur when dropping the adaptive hash
        index for a B-tree page in <code class="literal">InnoDB</code>.
       (<a href="http://bugs.mysql.com/16582" target="_top">Bug#16582</a>)</p></li><li><p>
        When evaluation of the test in a
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        failed in a stored procedure that contained a
        <code class="literal">CONTINUE</code> handler, execution resumed at the
        beginning of the CASE statement instead of at the end.
       (<a href="http://bugs.mysql.com/16568" target="_top">Bug#16568</a>)</p></li><li><p>
        Clients compiled from source with the
        <code class="option">--without-readline</code> did not save command history
        from session to session.
       (<a href="http://bugs.mysql.com/16557" target="_top">Bug#16557</a>)</p></li><li><p>
        The <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> data type was not
        being handled correctly with prepared statements.
       (<a href="http://bugs.mysql.com/16511" target="_top">Bug#16511</a>)</p></li><li><p>
        Instance Manager searched wrong location for password file on
        some platforms.
       (<a href="http://bugs.mysql.com/16499" target="_top">Bug#16499</a>)</p></li><li><p>
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement crashed
        multi-byte character set <code class="literal">FULLTEXT</code> index if
        update value was almost identical to initial value only
        differing in some spaces being changed to &amp;nbsp;.
       (<a href="http://bugs.mysql.com/16489" target="_top">Bug#16489</a>)</p></li><li><p>
        Certain nested <code class="literal">LEFT JOIN</code> operations were not
        properly optimized.
       (<a href="http://bugs.mysql.com/16393" target="_top">Bug#16393</a>)</p></li><li><p>
        Dropping <code class="literal">InnoDB</code> constraints named
        <code class="literal"><em class="replaceable"><code>tbl_name</code></em>_ibfk_0</code>
        could crash the server.
       (<a href="http://bugs.mysql.com/16387" target="_top">Bug#16387</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> with <code class="literal">GROUP
        BY</code> on a view could cause a server crash.
       (<a href="http://bugs.mysql.com/16382" target="_top">Bug#16382</a>)</p></li><li><p>
        An invalid stored routine could not be dropped.
       (<a href="http://bugs.mysql.com/16303" target="_top">Bug#16303</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: After upgrading an
        <code class="literal">InnoDB</code> table having a <code class="literal">VARCHAR
        BINARY</code> column created in MySQL 4.0 to MySQL 5.0,
        update operations on the table would cause the server to crash.
       (<a href="http://bugs.mysql.com/16298" target="_top">Bug#16298</a>)</p></li><li><p>
        Parallel builds occasionally failed on Solaris.
       (<a href="http://bugs.mysql.com/16282" target="_top">Bug#16282</a>)</p></li><li><p>
        A call to the <a href="functions.html#function_if"><code class="literal">IF()</code></a> function using
        decimal arguments could return incorrect results.
       (<a href="http://bugs.mysql.com/16272" target="_top">Bug#16272</a>)</p></li><li><p>
        MySQL server dropped client connection for certain
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements against views
        defined that used <code class="literal">MERGE</code> algorithm.
       (<a href="http://bugs.mysql.com/16260" target="_top">Bug#16260</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> used full explicit table locks in
        trigger processing.
       (<a href="http://bugs.mysql.com/16229" target="_top">Bug#16229</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on column used in
        <code class="literal">WHERE</code> clause could cause empty set to be
        returned.
       (<a href="http://bugs.mysql.com/16203" target="_top">Bug#16203</a>)</p></li><li><p>
        A memory leak caused warnings on slaves for certain statements
        that executed without warning on the master.
       (<a href="http://bugs.mysql.com/16175" target="_top">Bug#16175</a>)</p></li><li><p>
        The <code class="literal">FORCE INDEX</code> keyword in a query would
        prevent an index merge from being used where an index merge
        would normally be chosen by the optimizer.
       (<a href="http://bugs.mysql.com/16166" target="_top">Bug#16166</a>)</p></li><li><p>
        Setting <code class="literal">InnoDB</code> path settings to an empty
        string caused <code class="literal">InnoDB</code> storage engine to crash
        upon server startup.
       (<a href="http://bugs.mysql.com/16157" target="_top">Bug#16157</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-stmt-sqlstate" title="20.9.7.26. mysql_stmt_sqlstate()"><code class="literal">mysql_stmt_sqlstate()</code></a> C API
        function incorrectly returned an empty string rather than
        <code class="literal">'00000'</code> when no error occurred.
       (<a href="http://bugs.mysql.com/16143" target="_top">Bug#16143</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> operations were not
        optimized for views.
       (<a href="http://bugs.mysql.com/16016" target="_top">Bug#16016</a>)</p></li><li><p>
        Performing a <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> on an
        <code class="literal">InnoDB</code> table when the server was started with
        the <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="option">--innodb_file_per_table</code></a>
        option and the data directory was a symlink caused a server
        crash.
       (<a href="http://bugs.mysql.com/15991" target="_top">Bug#15991</a>)</p></li><li><p>
        Executing a <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a>
        query of an invalid view caused the
        <code class="function">mysql_next_result()</code> function of
        <code class="filename">libMySQL.dll</code> to hang.
       (<a href="http://bugs.mysql.com/15943" target="_top">Bug#15943</a>)</p></li><li><p>
        Test suite <code class="literal">sp</code> test left behind tables when
        the test failed that could cause future tests to fail.
       (<a href="http://bugs.mysql.com/15866" target="_top">Bug#15866</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE(1,NULL)</code></a> caused a
        server crash.
       (<a href="http://bugs.mysql.com/15828" target="_top">Bug#15828</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-3081" target="_top">CVE-2006-3081</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(... AS TIME)</code></a> operations
        returned different results when using versus not using
        prepared-statement protocol.
       (<a href="http://bugs.mysql.com/15805" target="_top">Bug#15805</a>)</p></li><li><p>
        Issuing a <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> command could
        cause some users to encounter a <code class="literal">
        <em class="replaceable"><code>hostname</code></em> is not allowed to connect to
        this MySQL server</code> error.
       (<a href="http://bugs.mysql.com/15775" target="_top">Bug#15775</a>)</p></li><li><p>
        The contents of <code class="filename">fill_help_tables.sql</code> could
        not be loaded in strict SQL mode.
       (<a href="http://bugs.mysql.com/15760" target="_top">Bug#15760</a>)</p></li><li><p>
        <code class="filename">fill_help_tables.sql</code> was not included in
        binary distributions for several platforms.
       (<a href="http://bugs.mysql.com/15759" target="_top">Bug#15759</a>)</p></li><li><p>
        Certain
        <a href="sql-syntax.html#leave-statement" title="12.8.6.4. LEAVE
        Statement"><code class="literal">LEAVE</code></a>
        statements in stored procedures were not properly optimized.
       (<a href="http://bugs.mysql.com/15737" target="_top">Bug#15737</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> C API
        function incorrectly reset the
        <code class="literal">MYSQL_OPT_RECONNECT</code> option to its default
        value.
       (<a href="http://bugs.mysql.com/15719" target="_top">Bug#15719</a>)</p></li><li><p>
        Created a user function with an empty string (that is,
        <code class="literal">CREATE FUNCTION ''()</code>), was accepted by the
        server. Following this, calling <a href="sql-syntax.html#show-function-status" title="12.5.5.16. SHOW FUNCTION STATUS Syntax"><code class="literal">SHOW
        FUNCTION STATUS</code></a> would cause the server to crash.
       (<a href="http://bugs.mysql.com/15658" target="_top">Bug#15658</a>)</p></li><li><p>
        Trying to compile the server on Windows generated a stack
        overflow warning due to a recursive definition of the internal
        <code class="literal">Field_date::store()</code> method.
       (<a href="http://bugs.mysql.com/15634" target="_top">Bug#15634</a>)</p></li><li><p>
        In some cases the query optimizer did not properly perform
        multiple joins where inner joins followed left joins, resulting
        in corrupted result sets.
       (<a href="http://bugs.mysql.com/15633" target="_top">Bug#15633</a>)</p></li><li><p>
        Certain permission management statements could create a
        <code class="literal">NULL</code> host name for a user, resulting in a
        server crash.
       (<a href="http://bugs.mysql.com/15598" target="_top">Bug#15598</a>)</p></li><li><p>
        Improper memory handling for stored routine variables could
        cause memory overruns and binary log corruption.
       (<a href="http://bugs.mysql.com/15588" target="_top">Bug#15588</a>)</p></li><li><p>
        The <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a> function truncated
        data in a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> column.
       (<a href="http://bugs.mysql.com/15581" target="_top">Bug#15581</a>)</p></li><li><p>
        Binary distributions for Solaris contained files with group
        ownership set to the nonexisting <code class="literal">wheel</code> group.
        Now the <code class="literal">bin</code> group is used.
       (<a href="http://bugs.mysql.com/15562" target="_top">Bug#15562</a>)</p></li><li><p>
        The absence of a table in the left part of a left or right join
        was not checked prior to name resolution, which resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/15538" target="_top">Bug#15538</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> of a stored function
        that references the <code class="literal">INFORMATION_SCHEMA</code> could
        crash the server.
       (<a href="http://bugs.mysql.com/15533" target="_top">Bug#15533</a>)</p></li><li><p>
        Characters in the <code class="literal">gb2312</code> and
        <code class="literal">euckr</code> character sets which did not have
        Unicode mappings were truncated.
       (<a href="http://bugs.mysql.com/15377" target="_top">Bug#15377</a>)</p></li><li><p>
        Certain subqueries where the inner query was the result of a
        aggregate function would return different results with MySQL
        5.0 than with MySQL 4.1.
      </p><p>
        Subselects could also return wrong results when the query cache
        and grouping were involved.
       (<a href="http://bugs.mysql.com/15347" target="_top">Bug#15347</a>)</p></li><li><p>
        Performing an <code class="literal">ORDER BY</code> on an indexed
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column returned error.
       (<a href="http://bugs.mysql.com/15308" target="_top">Bug#15308</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query which contained a
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> and an
        <code class="literal">ORDER BY</code> clause against the
        <code class="literal">INFORMATION_SCHEMA</code> resulted in an empty
        result set.
       (<a href="http://bugs.mysql.com/15307" target="_top">Bug#15307</a>)</p></li><li><p>
        The <code class="literal">NOT FOUND</code> condition handler for stored
        procedures did not distinguish between a <code class="literal">NOT
        FOUND</code> condition and an exception or warning.
       (<a href="http://bugs.mysql.com/15231" target="_top">Bug#15231</a>)</p></li><li><p>
        The <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privilege was required
        for triggers that performed no selects.
       (<a href="http://bugs.mysql.com/15196" target="_top">Bug#15196</a>)</p></li><li><p>
        An attempt to open a table that requires a disabled storage
        engine could cause a server crash.
       (<a href="http://bugs.mysql.com/15185" target="_top">Bug#15185</a>)</p></li><li><p>
        The <a href="server-administration.html#priv_update"><code class="literal">UPDATE</code></a> privilege was required
        for triggers that performed no updates.
       (<a href="http://bugs.mysql.com/15166" target="_top">Bug#15166</a>)</p></li><li><p>
        Tarball install package was missing a proper
        <code class="filename">fill_help_tables.sql</code> file.
       (<a href="http://bugs.mysql.com/15151" target="_top">Bug#15151</a>)</p></li><li><p>
        Setting <a href="storage-engines.html#sysvar_innodb_log_file_size"><code class="literal">innodb_log_file_size</code></a> to
        a value greater than 4G crashed the server.
       (<a href="http://bugs.mysql.com/15108" target="_top">Bug#15108</a>)</p></li><li><p>
        When multiple handlers are created for the same MySQL error
        number within nested blocks, the outermost handler took
        precedence.
       (<a href="http://bugs.mysql.com/15011" target="_top">Bug#15011</a>)</p></li><li><p>
        A statement containing <code class="literal">GROUP BY</code> and
        <code class="literal">HAVING</code> clauses could return incorrect results
        when the <code class="literal">HAVING</code> clause contained logic that
        returned <code class="literal">FALSE</code> for every row.
       (<a href="http://bugs.mysql.com/14927" target="_top">Bug#14927</a>)</p></li><li><p>
        Stored routines that contained only a single statement were not
        written properly to the dumpfile when using
        <code class="filename">mysqldump</code>.
       (<a href="http://bugs.mysql.com/14857" target="_top">Bug#14857</a>)</p></li><li><p>
        Killing a long-running query containing a subquery could cause a
        server crash.
       (<a href="http://bugs.mysql.com/14851" target="_top">Bug#14851</a>)</p></li><li><p>
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statements specifying
        schema names that included underscore characters (that is,
        <code class="literal">my_schema</code>) did not match if the underscore
        was escaped in the <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a>
        statement (that is, <code class="literal">GRANT ALL ON `my\_schema`
        ...</code>).
       (<a href="http://bugs.mysql.com/14834" target="_top">Bug#14834</a>)</p></li><li><p>
        Generating an <code class="literal">AUTO_INCREMENT</code> value through a
        <code class="literal">FEDERATED</code> table did not set the value
        returned by <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>.
       (<a href="http://bugs.mysql.com/14768" target="_top">Bug#14768</a>)</p></li><li><p>
        <a href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a> could yield
        inconsistent results when applied with the same arguments to
        consecutive rows in a query.
       (<a href="http://bugs.mysql.com/14676" target="_top">Bug#14676</a>)</p></li><li><p>
        Running out of diskspace in the location specified by the
        <code class="literal">tmpdir</code> option resulted in incorrect error
        message.
       (<a href="http://bugs.mysql.com/14634" target="_top">Bug#14634</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Comparison of indexed
        <code class="literal">VARCHAR CHARACTER SET ucs2 COLLATE ucs2_bin</code>
        columns using <code class="literal">LIKE</code> could fail.
       (<a href="http://bugs.mysql.com/14583" target="_top">Bug#14583</a>)</p></li><li><p>
        A stored procedure with an undefined variable and an exception
        handler would hang the client when called.
       (<a href="http://bugs.mysql.com/14498" target="_top">Bug#14498</a>)</p></li><li><p>
        A <code class="literal">FULLTEXT</code> query in a prepared statement
        could result in unexpected behavior.
       (<a href="http://bugs.mysql.com/14496" target="_top">Bug#14496</a>)</p></li><li><p>
        Using an aggregate function as the argument for a
        <code class="literal">HAVING</code> clause resulted in the aggregate
        function always returning <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/14274" target="_top">Bug#14274</a>)</p></li><li><p>
        The use of <a href="sql-syntax.html#load-index" title="12.5.6.4. LOAD INDEX INTO
        CACHE Syntax"><code class="literal">LOAD INDEX</code></a> within a
        stored routine was permitted and caused the server to crash.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          <a href="sql-syntax.html#load-index" title="12.5.6.4. LOAD INDEX INTO
        CACHE Syntax"><code class="literal">LOAD INDEX</code></a> statements within
          stored routines <span class="emphasis"><em>are not supported</em></span>, and
          now yield an error if attempted. This behavior is intended.
        </p></div><p>(<a href="http://bugs.mysql.com/14270" target="_top">Bug#14270</a>)</p></li><li><p>
        A <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> statement followed by a
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement on a BDB
        table caused server crash.
       (<a href="http://bugs.mysql.com/14212" target="_top">Bug#14212</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-stmt-store-result" title="20.9.7.27. mysql_stmt_store_result()"><code class="literal">mysql_stmt_store_result()</code></a> C
        API function could not be used for a prepared statement if a
        cursor had been opened for the statement.
       (<a href="http://bugs.mysql.com/14013" target="_top">Bug#14013</a>)</p></li><li><p>
        <code class="literal">SET sql_mode = <em class="replaceable"><code>N</code></em></code>,
        where <em class="replaceable"><code>N</code></em> &gt; 31, did not work
        properly.
       (<a href="http://bugs.mysql.com/13897" target="_top">Bug#13897</a>)</p></li><li><p>
        Attempts to create <code class="literal">FULLTEXT</code> indexes on
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns larger than 1000
        bytes resulted in error.
       (<a href="http://bugs.mysql.com/13835" target="_top">Bug#13835</a>)</p></li><li><p>
        The <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> statement did
        not move triggers to the new table.
       (<a href="http://bugs.mysql.com/13525" target="_top">Bug#13525</a>)</p></li><li><p>
        The length of a <code class="literal">VARCHAR()</code> column that used
        the <code class="literal">utf8</code> character set would increase each
        time the table was re-created in a stored procedure or prepared
        statement, eventually causing the <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> statement to fail.
       (<a href="http://bugs.mysql.com/13134" target="_top">Bug#13134</a>)</p></li><li><p>
        Instance Manager erroneously accepted a list of instance
        identifiers for the <code class="literal">START INSTANCE</code> and
        <code class="literal">STOP INSTANCE</code> commands (should accept only a
        single identifier).
       (<a href="http://bugs.mysql.com/12813" target="_top">Bug#12813</a>)</p></li><li><p>
        A prepared statement created from a <code class="literal">SELECT ...
        LIKE</code> query (such as <code class="literal">PREPARE stmt1 FROM
        'SELECT col_1 FROM tedd_test WHERE col_1 LIKE ?';</code>)
        would begin to produce erratic results after being executed
        repeatedly numerous (thousands) of times.
       (<a href="http://bugs.mysql.com/12734" target="_top">Bug#12734</a>)</p></li><li><p>
        Multi-byte path names for <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA</code></a> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> caused errors. Added the
        <a href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a> system
        variable, which controls the interpretation of string literals
        that refer to file names.
       (<a href="http://bugs.mysql.com/12448" target="_top">Bug#12448</a>)</p></li><li><p>
        Temporary table aliasing did not work inside stored functions.
       (<a href="http://bugs.mysql.com/12198" target="_top">Bug#12198</a>)</p></li><li><p>
        The embedded server did not allow binding of columns to the
        <code class="literal">MYSQL_TYPE_VAR_STRING</code> data type in prepared
        statements.
       (<a href="http://bugs.mysql.com/12070" target="_top">Bug#12070</a>)</p></li><li><p>
        When MyODBC or any other client called
        <code class="function">my_init()</code>/<code class="function">my_end()</code>
        several times, it caused corruption of charset data stored in
        <code class="literal">once_mem_pool</code>.
       (<a href="http://bugs.mysql.com/11892" target="_top">Bug#11892</a>)</p></li><li><p>
        Setting the
        <a href="server-administration.html#sysvar_myisam_repair_threads"><code class="literal">myisam_repair_threads</code></a> system
        variable to a value larger than 1 could cause corruption of
        large <code class="literal">MyISAM</code> tables.
       (<a href="http://bugs.mysql.com/11527" target="_top">Bug#11527</a>)</p></li><li><p>
        The <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> utility did not output
        <code class="literal">DELIMITER</code> statements, causing syntax errors
        for stored routine creation statements.
       (<a href="http://bugs.mysql.com/11312" target="_top">Bug#11312</a>)</p></li><li><p>
        The embedded server failed various tests in the automated test
        suite.
       (<a href="http://bugs.mysql.com/10801" target="_top">Bug#10801</a>, <a href="http://bugs.mysql.com/10925" target="_top">Bug#10925</a>, <a href="http://bugs.mysql.com/15433" target="_top">Bug#15433</a>, <a href="http://bugs.mysql.com/9633" target="_top">Bug#9633</a>, <a href="http://bugs.mysql.com/10926" target="_top">Bug#10926</a>, <a href="http://bugs.mysql.com/9631" target="_top">Bug#9631</a>, <a href="http://bugs.mysql.com/10930" target="_top">Bug#10930</a>, <a href="http://bugs.mysql.com/10911" target="_top">Bug#10911</a>, <a href="http://bugs.mysql.com/9630" target="_top">Bug#9630</a>, <a href="http://bugs.mysql.com/10924" target="_top">Bug#10924</a>)</p></li><li><p>
        A large <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> value specified in
        a <code class="literal">WHERE</code> clause could be treated differently
        depending on whether it is specified as a quoted string. (For
        example, <code class="literal">WHERE bigint_col =
        17666000000000000000</code> versus <code class="literal">WHERE bigint_col
        = '17666000000000000000'</code>).
       (<a href="http://bugs.mysql.com/9088" target="_top">Bug#9088</a>)</p></li><li><p>
        <a href="sql-syntax.html#checksum-table" title="12.5.2.4. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> returned different
        values for <code class="literal">MyISAM</code> tables depending on whether
        the <code class="literal">QUICK</code> or <code class="literal">EXTENDED</code>
        option was used.
       (<a href="http://bugs.mysql.com/8841" target="_top">Bug#8841</a>)</p></li><li><p>
        Using the <a href="functions.html#function_truncate"><code class="literal">TRUNCATE()</code></a> function
        with a negative number for the second argument on a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column returned incorrect
        results.
       (<a href="http://bugs.mysql.com/8461" target="_top">Bug#8461</a>)</p></li><li><p>
        Issuing <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT
        EXECUTE</code></a> on a procedure would display any warnings
        related to the creation of the procedure.
       (<a href="http://bugs.mysql.com/7787" target="_top">Bug#7787</a>)</p></li><li><p>
        Repeated invocation of <code class="literal">my_init()</code> and
        <code class="literal">my_end()</code> caused corruption of character set
        data and connection failure.
       (<a href="http://bugs.mysql.com/6536" target="_top">Bug#6536</a>)</p></li><li><p>
        An <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statement between tables in a
        <code class="literal">MERGE</code> set can return errors when statement
        involves insert into child table from merge table or vice-versa.
       (<a href="http://bugs.mysql.com/5390" target="_top">Bug#5390</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-18"></a>C.1.68. Changes in MySQL 5.0.18 (21 December 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The server treats stored routine parameters and local variables
        (and stored function return values) according to standard SQL.
        Previously, parameters, variables, and return values were
        treated as items in expressions and were subject to automatic
        (silent) conversion and truncation. Now the data type is
        observed. Data type conversion and overflow problems that occur
        in assignments result in warnings, or errors in strict mode. The
        <code class="literal">CHARACTER SET</code> clause for character data type
        declarations is used. Parameters, variables, and return values
        must be scalars; it is no longer possible to assign a row value.
        Also, stored functions execute using the
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> value in force at
        function creation time rather than ignoring it. For more
        information, see <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax">Section 12.1.9, “<code class="literal">CREATE PROCEDURE</code> and
      <code class="literal">CREATE FUNCTION</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/13808" target="_top">Bug#13808</a>, <a href="http://bugs.mysql.com/12903" target="_top">Bug#12903</a>, <a href="http://bugs.mysql.com/9078" target="_top">Bug#9078</a>, <a href="http://bugs.mysql.com/14161" target="_top">Bug#14161</a>, <a href="http://bugs.mysql.com/13705" target="_top">Bug#13705</a>, <a href="http://bugs.mysql.com/13909" target="_top">Bug#13909</a>, <a href="http://bugs.mysql.com/15148" target="_top">Bug#15148</a>, <a href="http://bugs.mysql.com/8769" target="_top">Bug#8769</a>, <a href="http://bugs.mysql.com/8702" target="_top">Bug#8702</a>, <a href="http://bugs.mysql.com/9572" target="_top">Bug#9572</a>, <a href="http://bugs.mysql.com/8768" target="_top">Bug#8768</a>)</p></li><li><p>
        It is now possible to build the server such that
        <code class="literal">MyISAM</code> tables can support up to 128 keys
        rather than the standard 64. This can be done by configuring the
        build using the option
        <code class="option">--with-max-indexes=<em class="replaceable"><code>N</code></em>
        </code>, where <em class="replaceable"><code>N</code></em>≤128 is the
        maximum number of indexes to permit per table.
       (<a href="http://bugs.mysql.com/10932" target="_top">Bug#10932</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If an abort by the Transaction Coordinator timed out, the abort
        condition was incorrectly handled, causing the transaction
        record to be released prematurely.
       (<a href="http://bugs.mysql.com/15685" target="_top">Bug#15685</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">ndb_read_multi_range.test</code> script failed
        to drop a table, causing the test to fail.
       (<a href="http://bugs.mysql.com/15675" target="_top">Bug#15675</a>)</p><p>See also <a href="http://bugs.mysql.com/15402" target="_top">Bug#15402</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, it was possible for a restarting node
        to undergo a forced shutdown.
       (<a href="http://bugs.mysql.com/15632" target="_top">Bug#15632</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node which failed during cluster startup was sometimes not
        removed from the internal list of active nodes.
       (<a href="http://bugs.mysql.com/15587" target="_top">Bug#15587</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave server could sometimes crash on a
        <code class="literal">BEFORE UPDATE</code> trigger if the
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> query was not executed in
        the same database as the table with the trigger.
       (<a href="http://bugs.mysql.com/14614" target="_top">Bug#14614</a>)</p></li><li><p>
        When a connection using yaSSL was aborted, the server would
        continue to try to read the closed socket, and the thread
        continued to appear in the output of <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a>. Note that this issue did not affect
        secure connection attempts using OpenSSL.
       (<a href="http://bugs.mysql.com/15772" target="_top">Bug#15772</a>)</p></li><li><p>
        <code class="literal"></code> API function
        <a href="connectors-apis.html#mysql-stmt-prepare" title="20.9.7.20. mysql_stmt_prepare()"><code class="literal">mysql_stmt_prepare()</code></a> returned
        wrong field length for TEXT columns.
       (<a href="http://bugs.mysql.com/15613" target="_top">Bug#15613</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Having two tables in a parent-child
        relationship enforced by a foreign key where one table used
        <code class="literal">ROW_FORMAT=COMPACT</code> and the other used
        <code class="literal">ROW_FORMAT=REDUNDANT</code> could result in a MySQL
        server crash. Note that this problem did not exist prior to
        MySQL 5.0.3, when the compact row format for
        <code class="literal">InnoDB</code> was introduced.
       (<a href="http://bugs.mysql.com/15550" target="_top">Bug#15550</a>)</p></li><li><p>
        <code class="literal">BDB</code>: A <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>, or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> of a
        <code class="literal">BDB</code> table could cause the server to crash
        where the query contained a subquery using an index read.
       (<a href="http://bugs.mysql.com/15536" target="_top">Bug#15536</a>)</p></li><li><p>
        Resolution of the argument to the
        <a href="functions.html#function_values"><code class="literal">VALUES()</code></a> function to a variable
        inside a stored routine caused a server crash. The argument must
        be a table column.
       (<a href="http://bugs.mysql.com/15441" target="_top">Bug#15441</a>)</p></li><li><p>
        A left join on a column that having a <code class="literal">NULL</code>
        value could cause the server to crash.
       (<a href="http://bugs.mysql.com/15268" target="_top">Bug#15268</a>)</p></li><li><p>
        The output of <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --triggers</strong></span></a> did not
        contain the <code class="literal">DEFINER</code> clause in dumped trigger
        definitions.
       (<a href="http://bugs.mysql.com/15110" target="_top">Bug#15110</a>)</p></li><li><p>
        Reversing the order of operands in a <code class="literal">WHERE</code>
        clause testing a simple equality (such as <code class="literal">WHERE t1.col1
        = t2.col2</code>) would produce different output from
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a>.
       (<a href="http://bugs.mysql.com/15106" target="_top">Bug#15106</a>)</p></li><li><p>
        The output of <a href="sql-syntax.html#show-triggers" title="12.5.5.35. SHOW TRIGGERS Syntax"><code class="literal">SHOW TRIGGERS</code></a>
        contained extraneous whitespace.
       (<a href="http://bugs.mysql.com/15103" target="_top">Bug#15103</a>)</p></li><li><p>
        Creating a trigger caused a server crash if the table or trigger
        database was not known because no default database had been
        selected.
       (<a href="http://bugs.mysql.com/14863" target="_top">Bug#14863</a>)</p></li><li><p>
        Column aliases were displayed incorrectly in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> from a view following an
        update to a base table of the view.
       (<a href="http://bugs.mysql.com/14861" target="_top">Bug#14861</a>)</p></li><li><p>
        <code class="literal">SHOW [FULL] COLUMNS</code> and
        <a href="sql-syntax.html#show-index" title="12.5.5.18. SHOW INDEX Syntax"><code class="literal">SHOW INDEX</code></a> did not function with
        temporary tables.
       (<a href="http://bugs.mysql.com/14387" target="_top">Bug#14387</a>, <a href="http://bugs.mysql.com/15224" target="_top">Bug#15224</a>)</p></li><li><p>
        The <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a>
        table did not report the size of
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> or
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns.
       (<a href="http://bugs.mysql.com/14271" target="_top">Bug#14271</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: If
        <a href="server-administration.html#sysvar_foreign_key_checks"><code class="literal">foreign_key_checks</code></a> was 0,
        <code class="literal">InnoDB</code> allowed inconsistent foreign keys to
        be created.
       (<a href="http://bugs.mysql.com/13778" target="_top">Bug#13778</a>)</p></li><li><p>
        The server would not compile under Cygwin.
       (<a href="http://bugs.mysql.com/13640" target="_top">Bug#13640</a>)</p></li><li><p>
        <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> did not function with
        temporary tables.
       (<a href="http://bugs.mysql.com/12770" target="_top">Bug#12770</a>)</p></li><li><p>
        Set functions could not be aggregated in outer subqueries.
       (<a href="http://bugs.mysql.com/12762" target="_top">Bug#12762</a>)</p></li><li><p>
        A race condition when creating temporary files caused a deadlock
        on Windows with threads in <code class="literal">Opening tables</code> or
        <code class="literal">Waiting for table</code> states.
       (<a href="http://bugs.mysql.com/12071" target="_top">Bug#12071</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-17"></a>C.1.69. Changes in MySQL 5.0.17 (14 December 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        The syntax for <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a> now
        includes a <code class="literal">DEFINER</code> clause for specifying
        which access privileges to check at trigger invocation time. See
        <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax">Section 12.1.11, “<code class="literal">CREATE TRIGGER</code> Syntax”</a>, for more information.
      </p><p><b>Known issue. </b>
          If you attempt to replicate from a master server older than
          MySQL 5.0.17 to a slave running MySQL 5.0.17 through 5.0.19,
          replication of <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a>
          statements fails on the slave with a <span class="errortext">Definer not
          fully qualified error</span>. A workaround is to create
          triggers on the master using a version-specific comment
          embedded in each <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a>
          statement:
</p><pre class="programlisting">CREATE /*!50017 DEFINER = 'root'@'localhost' */ TRIGGER ... ;
</pre><p>
          <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a> statements
          written this way will replicate to newer slaves, which pick up
          the <code class="literal">DEFINER</code> clause from the comment and
          execute successfully.
        </p><p>(<a href="http://bugs.mysql.com/16266" target="_top">Bug#16266</a>)</p></li><li><p>
        Support files for compiling with Visual Studio 6 have been
        removed.
       (<a href="http://bugs.mysql.com/15094" target="_top">Bug#15094</a>)</p></li><li><p>
        In the <code class="literal">latin5_turkish_ci</code> collation, the order
        of the characters <code class="literal">A WITH CIRCUMFLEX</code>,
        <code class="literal">I WITH CIRCUMLEX</code>, and <code class="literal">U WITH
        CIRCUMFLEX</code> was changed. If you have used these
        characters in any indexed columns, you should rebuild those
        indexes.
       (<a href="http://bugs.mysql.com/13421" target="_top">Bug#13421</a>)</p></li><li><p>
        Recursion is allowed in stored procedures. Recursive stored
        functions and triggers still are disallowed.
       (<a href="http://bugs.mysql.com/10100" target="_top">Bug#10100</a>)</p></li><li><p>
        Added a <code class="literal">DEFINER</code> column to the
        <a href="information-schema.html#triggers-table" title="19.16. The INFORMATION_SCHEMA TRIGGERS Table"><code class="literal">INFORMATION_SCHEMA.TRIGGERS</code></a> table.
      </p></li><li><p>
        Invoking a stored function or trigger creates a new savepoint
        level. When the function or trigger finishes, the previous
        savepoint level is restored.
      </p><p>See also <a href="http://bugs.mysql.com/13825" target="_top">Bug#13825</a>.</p></li><li><p>
        The maximum key length for <code class="literal">InnoDB</code> indexes was
        increased from 1024 bytes to 3072 bytes for all builds. (In
        MySQL 5.0.15, the length was increased but only for 64-bit
        builds.)
      </p></li><li><p>
        Added the <a href="sql-syntax.html#show-function-code" title="12.5.5.15. SHOW FUNCTION CODE Syntax"><code class="literal">SHOW FUNCTION CODE</code></a> and
        <a href="sql-syntax.html#show-procedure-code" title="12.5.5.25. SHOW PROCEDURE CODE Syntax"><code class="literal">SHOW PROCEDURE CODE</code></a> statements
        (available only for servers that have been built with debugging
        support). See <a href="sql-syntax.html#show-procedure-code" title="12.5.5.25. SHOW PROCEDURE CODE Syntax">Section 12.5.5.25, “<code class="literal">SHOW PROCEDURE CODE</code> Syntax”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A forced cluster shutdown occurred when the management daemon
        was restarted with a changed <code class="filename">config.ini</code>
        file that added an API or SQL node.
       (<a href="http://bugs.mysql.com/15512" target="_top">Bug#15512</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        There was a small window for a node failure to occur during a
        backup without an error being reported.
       (<a href="http://bugs.mysql.com/15425" target="_top">Bug#15425</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using <code class="literal">ORDER BY
        <em class="replaceable"><code>primary_key_column</code></em></code> when
        selecting from a table having the primary key on a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column caused a forced
        shutdown of the cluster.
       (<a href="http://bugs.mysql.com/15240" target="_top">Bug#15240</a>, <a href="http://bugs.mysql.com/15682" target="_top">Bug#15682</a>, <a href="http://bugs.mysql.com/14828" target="_top">Bug#14828</a>, <a href="http://bugs.mysql.com/15517" target="_top">Bug#15517</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain circumstances, when <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        connected to a cluster management server, the connection would
        fail before a node ID could be allocated.
       (<a href="http://bugs.mysql.com/15215" target="_top">Bug#15215</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Creating a table with packed keys failed silently.
        <code class="literal">NDB</code> now supports the
        <code class="literal">PACK_KEYS</code> option to
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> correctly.
       (<a href="http://bugs.mysql.com/14514" target="_top">Bug#14514</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> failed when attempting to
        update a primary key value in a Cluster table.
       (<a href="http://bugs.mysql.com/14007" target="_top">Bug#14007</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Stored functions making use of cursors were not replicated.
       (<a href="http://bugs.mysql.com/14077" target="_top">Bug#14077</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        On Windows, the server could crash during shutdown if both
        replication threads and normal client connection threads were
        active.
       (<a href="http://bugs.mysql.com/11796" target="_top">Bug#11796</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">InnoDB</code>: During replication, There was a
        failure to record events in the binary log that still occurred
        even in the event of a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>. For
        example, this sequence of commands:
      </p><pre class="programlisting">BEGIN;
CREATE TEMPORARY TABLE t1 (a INT) ENGINE=INNODB;
ROLLBACK;
INSERT INTO t1 VALUES (1);
</pre><p>
        would succeed on the replication master as expected. However,
        the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> would fail on the
        slave because the
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a> would
        (erroneously) cause the
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TEMPORARY
        TABLE</code></a> statement not to be written to the binlog.
       (<a href="http://bugs.mysql.com/7947" target="_top">Bug#7947</a>)</p></li><li><p>
        Corrected an error-handling problem within stored routines on
        64-bit platforms.
       (<a href="http://bugs.mysql.com/15630" target="_top">Bug#15630</a>)</p></li><li><p>
        Slave SQL thread cleanup was not handled properly on Mac OS X
        when a statement was killed, resulting in a slave crash.
       (<a href="http://bugs.mysql.com/15623" target="_top">Bug#15623</a>, <a href="http://bugs.mysql.com/15668" target="_top">Bug#15668</a>)</p></li><li><p>
        The <code class="literal">CREATE</code> test case in
        <span><strong class="command">mysql-test-run.pl</strong></span> failed on AIX and SCO.
       (<a href="http://bugs.mysql.com/15607" target="_top">Bug#15607</a>)</p></li><li><p>
        A bug in <code class="filename">mysql-test/t/mysqltest.test</code> caused
        that test to fail.
       (<a href="http://bugs.mysql.com/15605" target="_top">Bug#15605</a>)</p></li><li><p>
        A statement that produced a warning, when fetched via
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a>, did not
        produce a warning count according to
        <a href="connectors-apis.html#mysql-warning-count" title="20.9.3.72. mysql_warning_count()"><code class="literal">mysql_warning_count()</code></a>.
       (<a href="http://bugs.mysql.com/15510" target="_top">Bug#15510</a>)</p></li><li><p>
        The database-changing code for stored routine handling caused an
        error-handling problem resulting in a server crash.
       (<a href="http://bugs.mysql.com/15392" target="_top">Bug#15392</a>)</p></li><li><p>
        The original Linux RPM packages (5.0.17-0) had an issue with a
        <code class="literal">zlib</code> dependency that would result in an error
        during an install or upgrade. They were replaced by new
        binaries, 5.0.17-1. Here is a list of the new RPM binaries:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              MySQL-{Max,client,devel,server,shared,ndb*}-5.0.17-1.i386.rpm
            </p></li><li><p>
              MySQL-*-standard-5.0.17-1.rhel3.i386.rpm,
              MySQL-*-standard-5.0.17-1.rhel3.ia64.rpm,
              MySQL-*-standard-5.0.17-1.rhel3.x86_64.rpm
            </p></li><li><p>
              MySQL-*-pro-5.0.17-1.rhel3.i386.rpm,
              MySQL-*-pro-5.0.17-1.rhel3.ia64.rpm,
              MySQL-*-pro-5.0.17-1.rhel3.x86_64.rpm
            </p></li><li><p>
              MySQL-*-pro-gpl-5.0.17-1.rhel3.i386.rpm,
              MySQL-*-pro-gpl-5.0.17-1.rhel3.ia64.rpm,
              MySQL-*-pro-gpl-5.0.17-1.rhel3.x86_64.rpm
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/15223" target="_top">Bug#15223</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would not start on Windows 9X
        operating systems including Windows Me.
       (<a href="http://bugs.mysql.com/15209" target="_top">Bug#15209</a>)</p></li><li><p>
        Queries that select records based on comparisons to a set of
        column could crash the server if there was one index covering
        the columns, and a set of other noncovering indexes that taken
        together cover the columns.
       (<a href="http://bugs.mysql.com/15204" target="_top">Bug#15204</a>)</p></li><li><p>
        Selecting from a view processed with the temptable algorithm
        caused a server crash if the query cache was enabled.
       (<a href="http://bugs.mysql.com/15119" target="_top">Bug#15119</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql --help</strong></span></a> was missing a newline after the
        version string when the bundled <code class="literal">readline</code>
        library was not used.
       (<a href="http://bugs.mysql.com/15097" target="_top">Bug#15097</a>)</p></li><li><p>
        Creating a view that referenced a stored function that selected
        from a view caused a crash upon selection from the view.
       (<a href="http://bugs.mysql.com/15096" target="_top">Bug#15096</a>)</p></li><li><p>
        The server crashed if compiled without any transactional storage
        engines.
       (<a href="http://bugs.mysql.com/15047" target="_top">Bug#15047</a>)</p></li><li><p>
        Multiple-table update operations were counting updates and not
        updated rows. As a result, if a row had several updates it was
        counted several times for the “<span class="quote">rows matched</span>” value
        but updated only once.
       (<a href="http://bugs.mysql.com/15028" target="_top">Bug#15028</a>)</p></li><li><p>
        Symbolic links did not function properly on Windows platforms.
       (<a href="http://bugs.mysql.com/14960" target="_top">Bug#14960</a>, <a href="http://bugs.mysql.com/14310" target="_top">Bug#14310</a>)</p></li><li><p>
        <a href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> returned an incorrect
        result after <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a> of a
        prepared statement.
       (<a href="http://bugs.mysql.com/14956" target="_top">Bug#14956</a>)</p></li><li><p>
        When using an aggregate function to select from a table that has
        a multiple-column primary key, adding <code class="literal">ORDER
        BY</code> to the query could produce an incorrect result.
       (<a href="http://bugs.mysql.com/14920" target="_top">Bug#14920</a>)</p></li><li><p>
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a> did not properly
        update table statistics for a <code class="literal">MyISAM</code> table
        with a <code class="literal">FULLTEXT</code> index containing stopwords,
        so a subsequent <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>
        would not recognize the table as having already been analyzed.
       (<a href="http://bugs.mysql.com/14902" target="_top">Bug#14902</a>)</p></li><li><p>
        Creating a view within a stored procedure could result in an out
        of memory error or a server crash.
       (<a href="http://bugs.mysql.com/14885" target="_top">Bug#14885</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on a view column did not correctly
        account for the possibility that the column could contain
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/14850" target="_top">Bug#14850</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> C API
        function could return <code class="literal">MYSQL_NO_DATA</code> for a
        <code class="literal">SELECT COUNT(*) FROM
        <em class="replaceable"><code>tbl_name</code></em> WHERE 1 = 0</code>
        statement, which should return 1 row.
       (<a href="http://bugs.mysql.com/14845" target="_top">Bug#14845</a>)</p></li><li><p>
        Selecting from a view used <code class="literal">filesort</code> retrieval
        when faster retrieval was possible.
       (<a href="http://bugs.mysql.com/14816" target="_top">Bug#14816</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: A race condition allowed two threads
        to drop a hash index simultaneously.
       (<a href="http://bugs.mysql.com/14747" target="_top">Bug#14747</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> for a view
        could fail if the client had locked the view.
       (<a href="http://bugs.mysql.com/14726" target="_top">Bug#14726</a>)</p></li><li><p>
        The grammar for supporting the <code class="literal">DEFINER =
        CURRENT_USER</code> clause in <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> and <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> was
        incorrect.
       (<a href="http://bugs.mysql.com/14719" target="_top">Bug#14719</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... SET DEFAULT</code> had no effect.
       (<a href="http://bugs.mysql.com/14693" target="_top">Bug#14693</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> on a column from a view, when
        also selecting the column normally, and via an alias, caused a
        mistaken <code class="literal">Column 'x' in order clause is
        ambiguous</code> error.
       (<a href="http://bugs.mysql.com/14662" target="_top">Bug#14662</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries that began with an
        opening parenthesis were not being placed in the query cache.
       (<a href="http://bugs.mysql.com/14652" target="_top">Bug#14652</a>)</p></li><li><p>
        In a stored procedure, continuing (via a condition handler)
        after a failed variable initialization caused a server crash.
       (<a href="http://bugs.mysql.com/14643" target="_top">Bug#14643</a>)</p></li><li><p>
        A <code class="literal">LIMIT</code>-related optimization failed to take
        into account that <code class="literal">MyISAM</code> table indexes can be
        disabled, causing Error 124 when it tried to use such an index.
       (<a href="http://bugs.mysql.com/14616" target="_top">Bug#14616</a>)</p></li><li><p>
        <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> tried to copy
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/14610" target="_top">Bug#14610</a>)</p></li><li><p>
        A server crash resulted from the following sequence of events:
        1) With no default database selected, create a stored procedure
        with the procedure name explicitly qualified with a database
        name (<code class="literal">CREATE PROCEDURE
        <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>proc_name</code></em>
        ...</code>). 2) Create another stored procedure with no
        database name qualifier. 3) Execute <a href="sql-syntax.html#show-procedure-status" title="12.5.5.26. SHOW PROCEDURE STATUS Syntax"><code class="literal">SHOW
        PROCEDURE STATUS</code></a>.
       (<a href="http://bugs.mysql.com/14569" target="_top">Bug#14569</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --triggers</strong></span></a> did not account for the
        SQL mode and could dump trigger definitions with missing
        whitespace if the <a href="server-administration.html#sqlmode_ignore_space"><code class="literal">IGNORE_SPACE</code></a>
        mode was enabled.
       (<a href="http://bugs.mysql.com/14554" target="_top">Bug#14554</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE <em class="replaceable"><code>tbl_name</code></em> (...)
        SELECT ...</code> could crash the server and write invalid
        data into the <code class="filename">.frm</code> file if the
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> both contained a column
        with the same name. Also, if a default value is specified in the
        column definition, it is now actually used.
       (<a href="http://bugs.mysql.com/14480" target="_top">Bug#14480</a>)</p></li><li><p>
        The value of
        <code class="literal">INFORMATION_SCHEMA.TABLES.TABLE_TYPE</code>
        sometimes was reported as empty.
       (<a href="http://bugs.mysql.com/14476" target="_top">Bug#14476</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> contained an
        erroneous comment that resulted in an error when the file
        contents were processed.
       (<a href="http://bugs.mysql.com/14469" target="_top">Bug#14469</a>)</p></li><li><p>
        Queries on <code class="literal">ARCHIVE</code> tables that used the
        <code class="literal">filesort</code> sorting method could result in a
        server crash.
       (<a href="http://bugs.mysql.com/14433" target="_top">Bug#14433</a>)</p></li><li><p>
        Creating a table containing an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> or <code class="literal">SET</code>
        column from within a stored procedure or prepared statement
        caused a server crash later when executing the procedure or
        statement.
       (<a href="http://bugs.mysql.com/14410" target="_top">Bug#14410</a>)</p></li><li><p>
        For a table that had been opened with <code class="literal">HANDLER
        OPEN</code>, issuing <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE
        TABLE</code></a>, <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, or
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> caused a server
        crash.
       (<a href="http://bugs.mysql.com/14397" target="_top">Bug#14397</a>)</p></li><li><p>
        Declaring a stored routine variable to have a
        <code class="literal">DEFAULT</code> value that referred to a variable of
        the same name caused a server crash. (For example:
        <code class="literal">DECLARE x INT DEFAULT x</code>) Now the
        <code class="literal">DEFAULT</code> variable is interpreted as referring
        to a variable in an outer scope, if there is one.
       (<a href="http://bugs.mysql.com/14376" target="_top">Bug#14376</a>)</p></li><li><p>
        Complex subqueries could cause improper internal query execution
        environment initialization and crash the server.
       (<a href="http://bugs.mysql.com/14342" target="_top">Bug#14342</a>)</p></li><li><p>
        Within a stored procedure, inserting with
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> into a table with an
        <code class="literal">AUTO_INCREMENT</code> column did not generate the
        correct sequence number.
       (<a href="http://bugs.mysql.com/14304" target="_top">Bug#14304</a>)</p></li><li><p>
        Space truncation was being ignored when inserting into
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> or
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns. Now space
        truncation results in a warning, or an error in strict mode.
       (<a href="http://bugs.mysql.com/14299" target="_top">Bug#14299</a>)</p></li><li><p>
        Casting a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> whose value was less than
        <code class="literal">1.0E-06</code> to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> would yield an
        inappropriate value.
       (<a href="http://bugs.mysql.com/14268" target="_top">Bug#14268</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
        BINARY(<em class="replaceable"><code>N</code></em>)</code></a>) did not pad with
        0x00 to a length of <em class="replaceable"><code>N</code></em> bytes.
       (<a href="http://bugs.mysql.com/14255" target="_top">Bug#14255</a>)</p></li><li><p>
        Manual manipulation of the <code class="literal">mysql.proc</code> table
        could cause a server crash. This should not happen, but it is
        also not supported that the server will notice such changes.
       (<a href="http://bugs.mysql.com/14233" target="_top">Bug#14233</a>)</p></li><li><p>
        A <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns could produce
        incorrect results.
       (<a href="http://bugs.mysql.com/14216" target="_top">Bug#14216</a>)</p></li><li><p>
        The maximum value of <code class="literal">MAX_ROWS</code> was handled
        incorrectly on 64-bit systems.
       (<a href="http://bugs.mysql.com/14155" target="_top">Bug#14155</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(... USING ...)</code></a> and
        <a href="functions.html#function_convert"><code class="literal">CONVERT(CHAR(...) USING ...)</code></a>,
        though logically equivalent, could produce different results.
       (<a href="http://bugs.mysql.com/14146" target="_top">Bug#14146</a>)</p></li><li><p>
        The server could misinterpret old trigger definition files
        created before MySQL 5.0.17. Now they are interpreted correctly,
        but this takes more time and the server issues a warning that
        the trigger should be re-created.
       (<a href="http://bugs.mysql.com/14090" target="_top">Bug#14090</a>)</p></li><li><p>
        For a invalid view definition, selecting from the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table or
        using <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> failed,
        making it difficult to determine what part of the definition was
        invalid. Now the server returns the definition and issues a
        warning.
       (<a href="http://bugs.mysql.com/13818" target="_top">Bug#13818</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Activity on an
        <code class="literal">InnoDB</code> table caused execution time for
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> for the table
        to increase.
       (<a href="http://bugs.mysql.com/13762" target="_top">Bug#13762</a>)</p></li><li><p>
        Within a stored procedure, exception handling for
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements that caused a
        duplicate-key error caused a <code class="literal">Packets out of
        order</code> error for the following statement.
       (<a href="http://bugs.mysql.com/13729" target="_top">Bug#13729</a>)</p></li><li><p>
        Statements that implicitly commit a transaction are prohibited
        in stored functions and triggers. An attempt to create a
        function or trigger containing such a statement produces an
        error. (The originally reported symptom was that a trigger that
        dropped another trigger could cause a server crash. That problem
        was fixed by the patch for <a href="http://bugs.mysql.com/13343" target="_top">Bug#13343</a>.)
       (<a href="http://bugs.mysql.com/13627" target="_top">Bug#13627</a>)</p></li><li><p>
        A newline character in a column alias in a view definition
        caused an error when selecting from the view later.
       (<a href="http://bugs.mysql.com/13622" target="_top">Bug#13622</a>)</p></li><li><p>
        Invoking a stored procedure within another stored procedure
        caused the server to crash.
       (<a href="http://bugs.mysql.com/13549" target="_top">Bug#13549</a>)</p></li><li><p>
        Warnings from a previous command were not being reset when
        fetching from a cursor.
       (<a href="http://bugs.mysql.com/13524" target="_top">Bug#13524</a>)</p></li><li><p>
        In some cases, a left outer join could yield an invalid result
        or cause the server to crash, due to a
        <code class="literal">MYSQL_DATA_TRUNCATED</code> error.
       (<a href="http://bugs.mysql.com/13488" target="_top">Bug#13488</a>)</p></li><li><p>
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> from
        <code class="literal">CSV</code> tables reported an incorrect
        rows-affected value.
       (<a href="http://bugs.mysql.com/13406" target="_top">Bug#13406</a>)</p></li><li><p>
        A server crash could occur if a prepared statement updated a
        table for which a trigger existed when the statement was
        prepared but had been dropped prior to statement execution.
       (<a href="http://bugs.mysql.com/13399" target="_top">Bug#13399</a>)</p></li><li><p>
        <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> failed to delete log
        files on Windows. One consequence of this change is that server
        opens the general query and slow log files in shared mode, so
        now they can be renamed while the server has them open
        (something not true in previous versions).
       (<a href="http://bugs.mysql.com/13377" target="_top">Bug#13377</a>)</p></li><li><p>
        For binary string data types, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump
        --hex-blob</strong></span></a> produced an illegal output value of
        <code class="literal">0x</code> rather than <code class="literal">''</code>.
       (<a href="http://bugs.mysql.com/13318" target="_top">Bug#13318</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLES</code>, <code class="literal">BACKUP
        TABLES</code>, <code class="literal">RESTORE TABLES</code> within a
        stored procedure caused a server crash.
       (<a href="http://bugs.mysql.com/13012" target="_top">Bug#13012</a>)</p></li><li><p>
        Implicit versus explicit conversion of float to integer (such as
        inserting a float value into an integer column versus using
        <a href="functions.html#function_cast"><code class="literal">CAST(... AS UNSIGNED)</code></a> before
        inserting the value) could produce different results. Implicit
        and explicit typecasts now are done the same way, with a value
        equal to the nearest integer according to the prevailing
        rounding mode.
       (<a href="http://bugs.mysql.com/12956" target="_top">Bug#12956</a>)</p></li><li><p>
        Some comparisons for the <a href="functions.html#function_in"><code class="literal">IN()</code></a>
        operator were inconsistent with equivalent comparisons for the
        <code class="literal">=</code> operator.
       (<a href="http://bugs.mysql.com/12612" target="_top">Bug#12612</a>)</p></li><li><p>
        A server crash could occur if a prepared statement invoked a
        stored procedure that existed when the statement was prepared
        but had been dropped and re-created prior to statement
        execution.
       (<a href="http://bugs.mysql.com/12329" target="_top">Bug#12329</a>)</p></li><li><p>
        <span><strong class="command">make</strong></span> failed when attempting to build MySQL in
        different directory other than that containing the source.
       (<a href="http://bugs.mysql.com/11827" target="_top">Bug#11827</a>)</p></li><li><p>
        Revised table locking to allow proper assessment of view
        security.
       (<a href="http://bugs.mysql.com/11555" target="_top">Bug#11555</a>)</p></li><li><p>
        Perform character set conversion of constant values whenever
        possible without data loss.
       (<a href="http://bugs.mysql.com/10446" target="_top">Bug#10446</a>)</p></li><li><p>
        Within a trigger definition the
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> function evaluated
        to the user whose actions caused the trigger to be activated.
        Now that triggers have a <code class="literal">DEFINER</code> value,
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> evaluates to the
        trigger definer.
       (<a href="http://bugs.mysql.com/5861" target="_top">Bug#5861</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> ignored the
        <code class="literal">MYSQL_TCP_PORT</code> environment variable.
       (<a href="http://bugs.mysql.com/5792" target="_top">Bug#5792</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-16"></a>C.1.70. Changes in MySQL 5.0.16 (10 November 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">InnoDB</code>, <code class="literal">NDB</code>,
        <code class="literal">BDB</code>, and <code class="literal">ARCHIVE</code> storage
        engines now support spatial columns. See
        <a href="functions.html#spatial-extensions" title="11.12. Spatial Extensions">Section 11.12, “Spatial Extensions”</a>.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Added a <code class="option">--hexdump</code> option to
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> that displays a hex dump of the
        log in comments. This output can be helpful for replication
        debugging.
      </p></li><li><p>
        When a date column is set <code class="literal">NOT NULL</code> and
        contains <code class="literal">0000-00-00</code>, it will be updated for
        UPDATE statements that contains <code class="literal">
        <em class="replaceable"><code>columnname</code></em> IS NULL</code> in the
        WHERE clause.
       (<a href="http://bugs.mysql.com/14186" target="_top">Bug#14186</a>)</p></li><li><p>
        When trying to run the server with yaSSL enabled, MySQL now
        tries to open <code class="filename">/dev/random</code> automatically if
        <code class="filename">/dev/urandom</code> is not available.
       (<a href="http://bugs.mysql.com/13164" target="_top">Bug#13164</a>)</p></li><li><p>
        MySQL 5.0 now supports character set conversion for
        seven additional <code class="literal">cp950</code> characters into the
        <code class="literal">big5</code> character set:
        <code class="literal">0xF9D6</code>, <code class="literal">0xF9D7</code>,
        <code class="literal">0xF9D8</code>, <code class="literal">0xF9D9</code>,
        <code class="literal">0xF9DA</code>, <code class="literal">0xF9DB</code>, and
        <code class="literal">0xF9DC</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If you move data containing these additional characters to an
          older MySQL installation which does not support them, you may
          encounter errors.
        </p></div><p>(<a href="http://bugs.mysql.com/12476" target="_top">Bug#12476</a>)</p></li><li><p>
        You must now declare a prefix for an index on any column of any
        <code class="literal">Geometry</code> class, the only exception being when
        the column is a <code class="literal">POINT</code>.
       (<a href="http://bugs.mysql.com/12267" target="_top">Bug#12267</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system variable
        no longer applies to <code class="literal">TEMPORARY</code> tables.
       (<a href="http://bugs.mysql.com/4544" target="_top">Bug#4544</a>)</p></li><li><p>
        Due to changes in binary logging, the restrictions on which
        stored routine creators can be trusted not to create unsafe
        routines have been lifted for stored procedures (but not stored
        functions). Consequently, the
        <code class="literal">log_bin_trust_routine_creators</code> system
        variable and the corresponding
        <code class="option">--log-bin-trust-routine-creators</code> server option
        were renamed to
        <a href="server-administration.html#sysvar_log_bin_trust_function_creators"><code class="literal">log_bin_trust_function_creators</code></a>
        and <code class="option">--log-bin-trust-function-creators</code>. For
        backward compatibility, the old names are recognized but result
        in a warning. See <a href="stored-programs-views.html#stored-programs-logging" title="18.5. Binary Logging of Stored Programs">Section 18.5, “Binary Logging of Stored Programs”</a>.
      </p></li><li><p>
        The <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> statement now
        works for <code class="literal">ARCHIVE</code> tables.
      </p></li><li><p>
        In MySQL 5.0.13, syntax for <code class="literal">DEFINER</code> and
        <code class="literal">SQL SECURITY</code> clauses was added to the
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> and
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> statements, but the
        clauses had no effect. They now are enabled. They specify the
        security context to be used when checking access privileges at
        view invocation time. See <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax">Section 12.1.12, “<code class="literal">CREATE VIEW</code> Syntax”</a>, for
        more information.
      </p></li><li><p>
        Added the <a href="server-administration.html#statvar_Compression"><code class="literal">Compression</code></a> status
        variable, which indicates whether the client connection uses
        compression in the client/server protocol.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated transactions using unique index lookups could cause a
        memory leak leading to error 288, <code class="literal">Out of index
        operations in transaction coordinator</code>.
       (<a href="http://bugs.mysql.com/14199" target="_top">Bug#14199</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A memory leak occurred when performing ordered index scans using
        indexes on columns larger than 32 bytes. This would eventually
        lead to the forced shutdown of all <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        server processes used with the cluster.
       (<a href="http://bugs.mysql.com/13078" target="_top">Bug#13078</a>)</p></li><li><p>
        For some stored functions dumped by <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump
        --routines</strong></span></a>, the function definition could not be
        reloaded later due to a parsing error.
       (<a href="http://bugs.mysql.com/14723" target="_top">Bug#14723</a>)</p></li><li><p>
        Deletes from a <code class="literal">CSV</code> table could cause table
        corruption.
       (<a href="http://bugs.mysql.com/14672" target="_top">Bug#14672</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>, or
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> on a view for
        which an underlying table had been dropped caused a server
        crash.
       (<a href="http://bugs.mysql.com/14540" target="_top">Bug#14540</a>)</p></li><li><p>
        <span><strong class="command">mysqlmanager</strong></span> did not start up correctly on
        Windows 2003.
       (<a href="http://bugs.mysql.com/14537" target="_top">Bug#14537</a>)</p></li><li><p>
        Selecting from a table in both an outer query and a subquery
        could cause a server crash.
       (<a href="http://bugs.mysql.com/14482" target="_top">Bug#14482</a>)</p></li><li><p>
        <code class="literal">ORDER BY DESC</code> within the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function was not
        honored when used in a view.
       (<a href="http://bugs.mysql.com/14466" target="_top">Bug#14466</a>)</p></li><li><p>
        The input polling loop for Instance Manager did not sleep
        properly. Instance Manager used up too much CPU as a result.
       (<a href="http://bugs.mysql.com/14388" target="_top">Bug#14388</a>)</p></li><li><p>
        Indexes for <code class="literal">BDB</code> tables were being limited
        incorrectly to 255 bytes.
       (<a href="http://bugs.mysql.com/14381" target="_top">Bug#14381</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> parser did not properly strip the
        delimiter from input lines less than nine characters long. For
        example, this could cause <code class="literal">USE abc;</code> to result
        in an <code class="literal">Unknown database: abc;</code> error.
       (<a href="http://bugs.mysql.com/14358" target="_top">Bug#14358</a>)</p></li><li><p>
        The displayed value for the
        <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> column in the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table
        was not adjusted for multi-byte character sets.
       (<a href="http://bugs.mysql.com/14290" target="_top">Bug#14290</a>)</p></li><li><p>
        The parser did not correctly recognize wildcards in the host
        part of the <code class="literal">DEFINER</code> user in
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statements.
       (<a href="http://bugs.mysql.com/14256" target="_top">Bug#14256</a>)</p></li><li><p>
        Memory corruption and a server crash could be caused by
        statements that used a cursor and generated a result set larger
        than <a href="server-administration.html#sysvar_max_heap_table_size"><code class="literal">max_heap_table_size</code></a>.
       (<a href="http://bugs.mysql.com/14210" target="_top">Bug#14210</a>)</p></li><li><p>
        A bug fix in MySQL 5.0.15 caused the displayed values for the
        <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> and
        <code class="literal">CHARACTER_OCTET_LENGTH</code> columns in the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table to
        be reversed.
       (<a href="http://bugs.mysql.com/14207" target="_top">Bug#14207</a>)</p></li><li><p>
        Statements of the form
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT ...</code></a> that created a column with a multi-byte
        character set could incorrectly calculate the maximum length of
        the column, resulting in a <code class="literal">Specified key was too
        long</code> error.
       (<a href="http://bugs.mysql.com/14139" target="_top">Bug#14139</a>)</p></li><li><p>
        Use of <code class="literal">WITH ROLLUP PROCEDURE ANALYSE()</code> could
        hang the server.
       (<a href="http://bugs.mysql.com/14138" target="_top">Bug#14138</a>)</p></li><li><p>
        On Windows, the value of
        <a href="server-administration.html#sysvar_character_sets_dir"><code class="literal">character_sets_dir</code></a> in
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> output was
        displayed inconsistently (using both
        “<span class="quote"><code class="literal">/</code></span>” and
        “<span class="quote"><code class="literal">\</code></span>” as path name component
        separators).
       (<a href="http://bugs.mysql.com/14137" target="_top">Bug#14137</a>)</p></li><li><p>
        A comparison with an invalid date (such as <code class="literal">WHERE
        <em class="replaceable"><code>col_name</code></em> &gt; '2005-09-31'</code>)
        caused any index on <em class="replaceable"><code>col_name</code></em> not to
        be used and a string comparison for each row, resulting in slow
        performance.
       (<a href="http://bugs.mysql.com/14093" target="_top">Bug#14093</a>)</p></li><li><p>
        Subqueries in the <code class="literal">FROM</code> clause failed if the
        current database was <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/14089" target="_top">Bug#14089</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, using a column prefix for
        a <code class="literal">utf8</code> column in a primary key caused
        <code class="literal">Cannot find record</code> errors when attempting to
        locate records.
       (<a href="http://bugs.mysql.com/14056" target="_top">Bug#14056</a>)</p></li><li><p>
        Some updatable views could not be updated.
       (<a href="http://bugs.mysql.com/14027" target="_top">Bug#14027</a>)</p></li><li><p>
        A prepared statement that selected from a view processed using
        the merge algorithm could crash on the second execution.
       (<a href="http://bugs.mysql.com/14026" target="_top">Bug#14026</a>)</p></li><li><p>
        When the <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> function
        appeared in both the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> and
        <code class="literal">ORDER BY</code> clauses of a query but with
        arguments that differ by case (for example,
        <code class="literal">%m</code> and <code class="literal">%M</code>), incorrect
        sorting may have occurred.
       (<a href="http://bugs.mysql.com/14016" target="_top">Bug#14016</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a>,
        <a href="functions.html#function_addtime"><code class="literal">ADDTIME()</code></a>, and
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> were not reporting
        that they could return <code class="literal">NULL</code>, so functions
        that invoked them might misinterpret their results.
       (<a href="http://bugs.mysql.com/14009" target="_top">Bug#14009</a>)</p></li><li><p>
        Within stored routines, <a href="functions.html#function_replace"><code class="literal">REPLACE()</code></a>
        could return an empty string (rather than the original string)
        when no replacement was done, and
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could return garbage
        results.
       (<a href="http://bugs.mysql.com/13941" target="_top">Bug#13941</a>)</p></li><li><p>
        Inserting a new row into an <code class="literal">InnoDB</code> table
        could cause <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values
        already stored in the table to change.
       (<a href="http://bugs.mysql.com/13900" target="_top">Bug#13900</a>)</p></li><li><p>
        An update of a <code class="literal">CSV</code> table could cause a server
        crash.
       (<a href="http://bugs.mysql.com/13894" target="_top">Bug#13894</a>)</p></li><li><p>
        Corrected a parser precedence problem that resulted in an
        <code class="literal">Unknown column ... in 'on clause'</code> error for
        some joins.
       (<a href="http://bugs.mysql.com/13832" target="_top">Bug#13832</a>)</p></li><li><p>
        Trying to take the logarithm of a negative value is now handled
        in the same fashion as division by zero. That is, it produces a
        warning when
        <a href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a> is
        set, and an error in strict mode.
       (<a href="http://bugs.mysql.com/13820" target="_top">Bug#13820</a>)</p></li><li><p>
        The example configuration files supplied with MySQL
        distributions listed the
        <a href="server-administration.html#sysvar_thread_cache_size"><code class="literal">thread_cache_size</code></a> variable as
        <code class="literal">thread_cache</code>.
       (<a href="http://bugs.mysql.com/13811" target="_top">Bug#13811</a>)</p></li><li><p>
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> did not correctly start the
        <code class="literal">-max</code> version of the server (if it was
        present) if the <code class="option">--ledir</code> option was given.
       (<a href="http://bugs.mysql.com/13774" target="_top">Bug#13774</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        the <code class="literal">CONNECTION</code> string for
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/13724" target="_top">Bug#13724</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table originally created in
        MySQL 4.1, <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/13707" target="_top">Bug#13707</a>)</p></li><li><p>
        The server incorrectly accepted column definitions of the form
        <code class="literal">DECIMAL(0,<em class="replaceable"><code>D</code></em>)</code> for
        <em class="replaceable"><code>D</code></em> less than 11.
       (<a href="http://bugs.mysql.com/13667" target="_top">Bug#13667</a>)</p></li><li><p>
        Trying to create a stored routine with no database selected
        would crash the server.
       (<a href="http://bugs.mysql.com/13587" target="_top">Bug#13587</a>, <a href="http://bugs.mysql.com/13514" target="_top">Bug#13514</a>)</p></li><li><p>
        Inserts of too-large <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        values were handled inconsistently (sometimes set to the maximum
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> value, sometimes set to
        0).
       (<a href="http://bugs.mysql.com/13573" target="_top">Bug#13573</a>)</p></li><li><p>
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> returned an
        incorrect result if one argument but not the other was a leap
        year and a date was from March or later.
       (<a href="http://bugs.mysql.com/13534" target="_top">Bug#13534</a>)</p></li><li><p>
        Specifying <code class="option">--default-character-set=cp-932</code> for
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would cause SQL scripts containing
        comments written using that character set to fail with a syntax
        error.
       (<a href="http://bugs.mysql.com/13487" target="_top">Bug#13487</a>)</p></li><li><p>
        Use of <code class="literal"><em class="replaceable"><code>col_name</code></em> =
        VALUES(<em class="replaceable"><code>col_name</code></em>)</code> in the
        <code class="literal">ON DUPLICATE KEY UPDATE</code> clause of an
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement failed with an
        <code class="literal">Column '<em class="replaceable"><code>col_name</code></em>' in field
        list is ambiguous</code> error.
       (<a href="http://bugs.mysql.com/13392" target="_top">Bug#13392</a>)</p></li><li><p>
        The default value of
        <a href="server-administration.html#sysvar_query_prealloc_size"><code class="literal">query_prealloc_size</code></a> was set to
        8192, lower than its minimum of 16384. The minimum has been
        lowered to 8192.
       (<a href="http://bugs.mysql.com/13334" target="_top">Bug#13334</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: When dropping and adding a
        <code class="literal">PRIMARY KEY</code>, if a loose index scan using only
        the second part of multiple-part index was chosen, incorrect
        keys were created and an endless loop resulted.
       (<a href="http://bugs.mysql.com/13293" target="_top">Bug#13293</a>)</p></li><li><p>
        <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        would hang on SCO OpenServer.
       (<a href="http://bugs.mysql.com/13238" target="_top">Bug#13238</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT
        CHAR(<em class="replaceable"><code>col_name</code></em>)</code> returned
        incorrect results after <code class="literal">SET NAMES utf8</code>.
       (<a href="http://bugs.mysql.com/13233" target="_top">Bug#13233</a>)</p></li><li><p>
        For queries with nested outer joins, the optimizer could choose
        join orders that query execution could not handle. The fix is
        that now the optimizer avoids choosing such join orders.
       (<a href="http://bugs.mysql.com/13126" target="_top">Bug#13126</a>)</p></li><li><p>
        The server did not take character set into account in checking
        the width of the <code class="literal">mysql.user.Password</code> column.
        As a result, it could incorrectly generate long password hashes
        even if the column was not long enough to hold them.
       (<a href="http://bugs.mysql.com/13064" target="_top">Bug#13064</a>)</p></li><li><p>
        The source distribution failed to compile when configured with
        the <code class="option">--without-geometry</code> option.
       (<a href="http://bugs.mysql.com/12991" target="_top">Bug#12991</a>)</p></li><li><p>
        Use of the deprecated <code class="option">--sql-bin-update-same</code>
        option caused a server crash.
       (<a href="http://bugs.mysql.com/12974" target="_top">Bug#12974</a>)</p></li><li><p>
        Maximum values were handled incorrectly for command-line options
        of type <code class="literal">GET_LL</code>.
       (<a href="http://bugs.mysql.com/12925" target="_top">Bug#12925</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could not dump views if the
        <code class="option">-x</code> option was given.
       (<a href="http://bugs.mysql.com/12838" target="_top">Bug#12838</a>)</p></li><li><p>
        Two threads that were creating triggers on an
        <code class="literal">InnoDB</code> table at the same time could deadlock.
       (<a href="http://bugs.mysql.com/12739" target="_top">Bug#12739</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Large
        <code class="literal">innobase_buffer_pool_size</code> and
        <code class="literal">innobase_log_file_size</code> values were displayed
        incorrectly on 64-bit systems.
       (<a href="http://bugs.mysql.com/12701" target="_top">Bug#12701</a>)</p></li><li><p>
        For <code class="literal">LIKE ... ESCAPE</code>, an escape sequence
        longer than one character was accepted as valid. Now the
        sequence must be empty or one character long. If the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode
        is enabled, the sequence must be one character long.
       (<a href="http://bugs.mysql.com/12595" target="_top">Bug#12595</a>)</p></li><li><p>
        Inserting <code class="literal">cp932</code> strings into a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column caused a server
        crash rather than string truncation if the string was longer
        than the column definition.
       (<a href="http://bugs.mysql.com/12547" target="_top">Bug#12547</a>)</p></li><li><p>
        A prepared statement failed with <code class="literal">Illegal mix of
        collations</code> if the client character set was
        <code class="literal">utf8</code> and the statement used a table that had
        a character set of <code class="literal">latin1</code>.
       (<a href="http://bugs.mysql.com/12371" target="_top">Bug#12371</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to add an index
        could fail if the operation ran out of temporary file space. Now
        it automatically makes a second attempt that uses a slower
        method but no temporary file. In this case, problems that
        occurred during the first attempt can be displayed with
        <a href="sql-syntax.html#show-warnings" title="12.5.5.37. SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a>.
       (<a href="http://bugs.mysql.com/12166" target="_top">Bug#12166</a>)</p></li><li><p>
        <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> now issues a <code class="literal">SET
        @@character_set_database = binary</code> statement before
        loading data so that a file containing mixed character sets
        (columns with different character sets) can be loaded properly.
       (<a href="http://bugs.mysql.com/12123" target="_top">Bug#12123</a>)</p></li><li><p>
        Running <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> and other
        data-updating statements concurrently on an
        <code class="literal">InnoDB</code> table could cause a crash or the
        following warnings in the error log: <code class="literal">Warning: Found
        locks from different threads in write: enter
        write_lock</code>, <code class="literal">Warning: Found locks from
        different threads in write: start of release lock</code>.
       (<a href="http://bugs.mysql.com/11704" target="_top">Bug#11704</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> would not accept the same character for both
        the <code class="literal">ESCAPED BY</code> and the <code class="literal">ENCLOSED
        BY</code> clauses.
       (<a href="http://bugs.mysql.com/11203" target="_top">Bug#11203</a>)</p></li><li><p>
        The value of <a href="server-administration.html#statvar_Last_query_cost"><code class="literal">Last_query_cost</code></a>
        was not updated for queries served from the query cache.
       (<a href="http://bugs.mysql.com/10303" target="_top">Bug#10303</a>)</p></li><li><p>
        Starting <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with the
        <a href="server-administration.html#option_mysqld_skip-innodb"><code class="option">--skip-innodb</code></a> and
        <a href="server-administration.html#option_mysqld_default-storage-engine"><code class="option">--default-storage-engine=innodb</code></a>
        (or <a href="server-administration.html#option_mysqld_default-table-type"><code class="option">--default-table-type=innodb</code></a>
        caused a server crash.
       (<a href="http://bugs.mysql.com/9815" target="_top">Bug#9815</a>)</p></li><li><p>
        The <code class="option">--exit-info=65536</code> option conflicted with
        <a href="server-administration.html#option_mysqld_temp-pool"><code class="option">--temp-pool</code></a> and caused problems
        with the server's use of temporary files. Now
        <a href="server-administration.html#option_mysqld_temp-pool"><code class="option">--temp-pool</code></a> is ignored if
        <code class="option">--exit-info=65536</code> is specified.
       (<a href="http://bugs.mysql.com/9551" target="_top">Bug#9551</a>)</p></li><li><p>
        For a user that has the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        privilege on a view, the server erroneously was also requiring
        the user to have the <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a>
        privilege at view execution time for stored functions used in
        the view definition.
       (<a href="http://bugs.mysql.com/9505" target="_top">Bug#9505</a>)</p></li><li><p>
        Where one stored procedure called another stored procedure: If
        the second stored procedure generated an exception, the
        exception was not caught by the calling stored procedure. For
        example, if stored procedure <code class="literal">A</code> used an
        <code class="literal">EXIT</code> statement to handle an exception,
        subsequent statements in <code class="literal">A</code> would be executed
        regardless when <code class="literal">A</code> was called by another
        stored procedure <code class="literal">B</code>, even if an exception that
        should have been handled by the <code class="literal">EXIT</code> was
        generated in <code class="literal">A</code>.
       (<a href="http://bugs.mysql.com/7049" target="_top">Bug#7049</a>)</p></li><li><p>
        On Windows, the server was not ignoring hidden or system
        directories that Windows may have created in the data directory,
        and would treat them as available databases.
       (<a href="http://bugs.mysql.com/4375" target="_top">Bug#4375</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-15"></a>C.1.71. Changes in MySQL 5.0.15 (19 October 2005 Production)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> columns, the pad value
        and how it is handled has changed. The pad value for inserts now
        is <code class="literal">0x00</code> rather than space, and there is no
        stripping of the pad value for selects. For details, see
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types">Section 10.4.2, “The <code class="literal">BINARY</code> and
        <code class="literal">VARBINARY</code> Types”</a>.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> function now returns a
        binary string rather than a string in the connection character
        set. An optional <code class="literal">USING
        <em class="replaceable"><code>charset</code></em></code> clause may be used
        to produce a result in a specific character set instead. Also,
        arguments larger than 256 produce multiple characters. They are
        no longer interpreted modulo 256 to produce a single character
        each. These changes may cause some incompatibilities, as noted
        in <a href="installing.html#upgrading-from-previous-series" title="2.18.1.2. Upgrading from MySQL 4.1 to 5.0">Section 2.18.1.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client now reports node startup
        phases automatically.
       (<a href="http://bugs.mysql.com/16197" target="_top">Bug#16197</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A new “<span class="quote">smart</span>” node allocation algorithm means that
        it is no longer necessary to use sequential IDs for cluster
        nodes, and that nodes not explicitly assigned IDs should now
        have IDs allocated automatically in most cases. In practical
        terms, this means that it is now possible to assign a set of
        node IDs such as <code class="literal">1</code>, <code class="literal">2</code>,
        <code class="literal">4</code>, <code class="literal">5</code> without an error
        being generated due to the missing <code class="literal">3</code>.
       (<a href="http://bugs.mysql.com/13009" target="_top">Bug#13009</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A number of new or improved error messages have been implemented
        in this release in order to provide better and more accurate
        diagnostic information regarding cluster configuration issues
        and problems.
       (<a href="http://bugs.mysql.com/12786" target="_top">Bug#12786</a>, <a href="http://bugs.mysql.com/11749" target="_top">Bug#11749</a>, <a href="http://bugs.mysql.com/13197" target="_top">Bug#13197</a>, <a href="http://bugs.mysql.com/11739" target="_top">Bug#11739</a>, <a href="http://bugs.mysql.com/12044" target="_top">Bug#12044</a>)</p></li><li><p>
        The following statements now cause an implicit
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#rename-user" title="12.5.1.4. RENAME USER Syntax"><code class="literal">RENAME USER</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/13343" target="_top">Bug#13343</a>)</p></li><li><p>
        Added the <a href="programs.html#option_mysqldump_tz-utc"><code class="option">--tz-utc</code></a> option to
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>. This option adds <code class="literal">SET
        TIME_ZONE='+00:00'</code> to the dump file so that
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns can be dumped
        and reloaded between servers in different time zones and
        protected from changes due to daylight saving time.
       (<a href="http://bugs.mysql.com/13052" target="_top">Bug#13052</a>)</p></li><li><p>
        When executing single-table
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> queries containing an
        <code class="literal">ORDER BY ... LIMIT
        <em class="replaceable"><code>N</code></em></code> clause, but not having
        any <code class="literal">WHERE</code> clause, MySQL can now take
        advantage of an index to read the first
        <em class="replaceable"><code>N</code></em> rows in the ordering specified in
        the query. If an index is used, only the first
        <em class="replaceable"><code>N</code></em> records will be read, as opposed to
        scanning the entire table.
       (<a href="http://bugs.mysql.com/12915" target="_top">Bug#12915</a>)</p></li><li><p>
        The <code class="literal">MySQL-server</code> RPM now explicitly assigns
        the <code class="literal">mysql</code> system user to the
        <code class="literal">mysql</code> user group during the postinstallation
        process. This corrects an issue with upgrading the server on
        some Linux distributions whereby a previously existing
        <code class="literal">mysql</code> user was not changed to the
        <code class="literal">mysql</code> group, resulting in wrong groups for
        files created following the installation.
       (<a href="http://bugs.mysql.com/12823" target="_top">Bug#12823</a>)</p></li><li><p>
        The maximum key length for <code class="literal">InnoDB</code> indexes was
        increased from 1024 bytes to 3072 bytes for 64-bit builds.
      </p></li><li><p>
        When declaring a local variable (or parameter) named
        <code class="literal">password</code> or <code class="literal">name</code>, and
        setting it with <code class="literal">SET</code> (for example,
        <code class="literal">SET password = ''</code>), the new error message
        <code class="literal">ERROR 42000: Variable 'nnn' must be quoted with `...`,
        or renamed</code> is returned (where 'nnn' is 'password' or
        'names'). This means there is a syntax conflict with special
        sentences like <code class="literal">SET PASSWORD = PASSWORD(...)</code>
        (for setting a user's password) and <code class="literal">set names
        default</code> (for setting charset and collation).
      </p><p>
        This must be resolved either by quoting the variable name:
        <code class="literal">SET `password` = ...</code>, which will set the
        local variable <code class="literal">`password`</code>, or by renaming the
        variable to something else (if setting the user's password is
        the desired effect).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> utility included with the
        <code class="literal">MySQL-Server</code> RPM did not provide support for
        the <a href="programs.html#option_perror_ndb"><code class="option">--ndb</code></a> option. It now supports
        this option, and so can be used to obtain error message text for
        MySQL Cluster error codes.
       (<a href="http://bugs.mysql.com/13740" target="_top">Bug#13740</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Placing multiple <code class="literal">[tcp default]</code> sections in
        the cluster's <code class="filename">config.ini</code> file crashed
        <span><strong class="command">ndb_mgmd</strong></span>. (The process now exits gracefully
        in such cases, with an appropriate error message.)
       (<a href="http://bugs.mysql.com/13611" target="_top">Bug#13611</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgmd</strong></span> allowed a node to be stopped or
        restarted while another node was still starting up, which could
        crash the cluster. It should now not be possible to issue a node
        stop or restart while a different node is still restarting, and
        the cluster management client should issue an error when such an
        attempt is made.
       (<a href="http://bugs.mysql.com/13461" target="_top">Bug#13461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Trying to run <span><strong class="command">ndbd</strong></span> as system
        <code class="literal">root</code> when connecting to a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process running as the
        <code class="literal">mysql</code> system user via SHM caused the
        <span><strong class="command">ndbd</strong></span> process to crash.
        (<span><strong class="command">ndbd</strong></span> should now exit gracefully with an
        appropriate error message instead.)
       (<a href="http://bugs.mysql.com/9249" target="_top">Bug#9249</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> query using a join
        would be executed incorrectly on a replication slave.
       (<a href="http://bugs.mysql.com/12618" target="_top">Bug#12618</a>)</p></li><li><p>
        Tests containing <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> or <code class="literal">INFORMATION_SCHEMA</code> failed
        on opnsrv6c.
       (<a href="http://bugs.mysql.com/14064" target="_top">Bug#14064</a>, <a href="http://bugs.mysql.com/14065" target="_top">Bug#14065</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could not dump views.
       (<a href="http://bugs.mysql.com/14061" target="_top">Bug#14061</a>)</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
        <a href="programs.html#option_mysqlcheck_all-databases"><code class="option">--all-databases</code></a>
        <a href="programs.html#option_mysqlcheck_analyze"><code class="option">--analyze</code></a>
        <a href="programs.html#option_mysqlcheck_optimize"><code class="option">--optimize</code></a> failed because it
        also tried to analyze and optimize the
        <code class="literal">INFORMATION_SCHEMA</code> tables which it can't.
       (<a href="http://bugs.mysql.com/13783" target="_top">Bug#13783</a>)</p></li><li><p>
        Character set conversion was not being done for
        <a href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET()</code></a>.
       (<a href="http://bugs.mysql.com/13751" target="_top">Bug#13751</a>)</p></li><li><p>
        On BSD systems, the system <code class="literal">crypt()</code> call could
        return an error for some salt values. The error was not handled,
        resulting in a server crash.
       (<a href="http://bugs.mysql.com/13619" target="_top">Bug#13619</a>)</p></li><li><p>
        When calling a stored procedure with the syntax <code class="literal">CALL
        <em class="replaceable"><code>schema</code></em>.<em class="replaceable"><code>procedurename</code></em>
        </code> and no default schema selected, <code class="literal">ERROR
        1046</code> was displayed after the procedure returned.
       (<a href="http://bugs.mysql.com/13616" target="_top">Bug#13616</a>)</p></li><li><p>
        A column in the <code class="literal">ON</code> condition of a join that
        referenced a table in a nested join could not be resolved if the
        nested join was a right join.
       (<a href="http://bugs.mysql.com/13597" target="_top">Bug#13597</a>)</p></li><li><p>
        The server could over-allocate memory when performing a
        <code class="literal">FULLTEXT</code> search for stopwords only.
       (<a href="http://bugs.mysql.com/13582" target="_top">Bug#13582</a>)</p></li><li><p>
        <code class="literal">CREATE DEFINER=... VIEW ...</code> caused the server
        to crash when run with
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>.
       (<a href="http://bugs.mysql.com/13504" target="_top">Bug#13504</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Queries that were executed using an
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> union or
        intersection could produce incorrect results if the underlying
        table used the <code class="literal">InnoDB</code> storage engine and had
        a primary key containing <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        members.
       (<a href="http://bugs.mysql.com/13484" target="_top">Bug#13484</a>)</p></li><li><p>
        A qualified reference to a view column in the
        <code class="literal">HAVING</code> clause could not be resolved.
       (<a href="http://bugs.mysql.com/13410" target="_top">Bug#13410</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(1E+300 TO SIGNED INT)</code></a>
        produced an incorrect result on little-endian machines.
       (<a href="http://bugs.mysql.com/13344" target="_top">Bug#13344</a>)</p></li><li><p>
        Queries that use indexes in normal
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements may cause range
        scans in <code class="literal">VIEW</code>s.
       (<a href="http://bugs.mysql.com/13327" target="_top">Bug#13327</a>)</p></li><li><p>
        <code class="literal">SELECT * INTO OUTFILE ... FROM
        INFORMATION_SCHEMA.schemata</code> failed with an
        <code class="literal">Access denied</code> error.
       (<a href="http://bugs.mysql.com/13202" target="_top">Bug#13202</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --triggers</strong></span></a> did not quote
        identifiers properly if the
        <a href="programs.html#option_mysqldump_compatible"><code class="option">--compatible</code></a> option was given,
        so the dump output could not be reloaded.
       (<a href="http://bugs.mysql.com/13146" target="_top">Bug#13146</a>)</p></li><li><p>
        A table or view named Ç (C-cedilla) couldn't be dropped.
       (<a href="http://bugs.mysql.com/13145" target="_top">Bug#13145</a>)</p></li><li><p>
        For XA transaction IDs (<code class="literal">
        <em class="replaceable"><code>gtrid</code></em>.<em class="replaceable"><code>bqual</code></em>.<em class="replaceable"><code>formatID</code></em>
        </code>), uniqueness is supposed to be assessed based on
        <em class="replaceable"><code>gtrid</code></em> and
        <em class="replaceable"><code>bqual</code></em>. MySQL was also including
        <em class="replaceable"><code>formatID</code></em> in the uniqueness check.
       (<a href="http://bugs.mysql.com/13143" target="_top">Bug#13143</a>)</p></li><li><p>
        Trying to create a view dynamically using a prepared statement
        within a stored procedure failed with error 1295.
       (<a href="http://bugs.mysql.com/13095" target="_top">Bug#13095</a>)</p></li><li><p>
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> did not detect when multiple error
        messages for a language were given for an error symbol.
       (<a href="http://bugs.mysql.com/13071" target="_top">Bug#13071</a>)</p></li><li><p>
        If special characters such as <code class="literal">'_'</code> ,
        <code class="literal">'%'</code>, or the escape character were included
        within the prefix of a column index, <code class="literal">LIKE</code>
        pattern matching on the indexed column did not return the
        correct result.
       (<a href="http://bugs.mysql.com/13046" target="_top">Bug#13046</a>, <a href="http://bugs.mysql.com/13919" target="_top">Bug#13919</a>)</p></li><li><p>
        Using an undefined variable in an
        <a href="sql-syntax.html#if-statement" title="12.8.6.1. IF Statement"><code class="literal">IF</code></a> or
        <code class="literal">SET</code> clause inside a stored routine produced
        an incorrect <code class="literal">unknown column ... in 'order
        clause'</code> error message.
       (<a href="http://bugs.mysql.com/13037" target="_top">Bug#13037</a>)</p></li><li><p>
        With <a href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a>
        <code class="literal">Exec_master_log_pos</code> of SQL thread lagged IO
       (<a href="http://bugs.mysql.com/13023" target="_top">Bug#13023</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        any <code class="literal">FOREIGN KEY</code> clauses if a temporary file
        could not be created. Now <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> displays an error message in an SQL comment if
        this occurs.
       (<a href="http://bugs.mysql.com/13002" target="_top">Bug#13002</a>)</p></li><li><p>
        Local (non-XA) and XA transactions are supposed to be mutually
        exclusive within a given client connection, but this prohibition
        was not always enforced.
       (<a href="http://bugs.mysql.com/12935" target="_top">Bug#12935</a>)</p></li><li><p>
        Server crashed during a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statement, writing a message like this to the error log:
</p><pre class="programlisting"><code class="literal">InnoDB</code>: Error: MySQL is trying to perform a SELECT
<code class="literal">InnoDB</code>: but it has not locked any tables in ::external_lock()!
</pre><p>
       (<a href="http://bugs.mysql.com/12736" target="_top">Bug#12736</a>)</p></li><li><p>
        An expression in an <code class="literal">ORDER BY</code> clause failed
        with <code class="literal">Unknown column
        '<em class="replaceable"><code>col_name</code></em>' in 'order
        clause'</code> if the expression referred to a column alias.
       (<a href="http://bugs.mysql.com/11694" target="_top">Bug#11694</a>)</p></li><li><p>
        Issuing <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a> after having
        acquired a global read lock with
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> caused a deadlock. Now <a href="sql-syntax.html#stop-slave" title="12.6.2.8. STOP SLAVE Syntax"><code class="literal">STOP
        SLAVE</code></a> is generates an error in such circumstances.
       (<a href="http://bugs.mysql.com/10942" target="_top">Bug#10942</a>)</p></li><li><p>
        Corrected a memory-copying problem for <code class="literal">big5</code>
        values when using <span><strong class="command">icc</strong></span> compiler on Linux IA-64
        systems.
       (<a href="http://bugs.mysql.com/10836" target="_top">Bug#10836</a>)</p></li><li><p>
        The <code class="option">--interactive-timeout</code> and
        <code class="option">--slave-net-timeout</code> options for
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> were not being obeyed on Mac OS X and
        other BSD-based platforms.
       (<a href="http://bugs.mysql.com/8731" target="_top">Bug#8731</a>)</p></li><li><p>
        Queries of the form <code class="literal">(SELECT ...) ORDER BY ...</code>
        were being treated as a <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>.
        This improperly resulted in only distinct values being returned
        (because <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> by default
        eliminates duplicate results). Also, references to column
        aliases in <code class="literal">ORDER BY</code> clauses following
        parenthesized <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        were not resolved properly.
       (<a href="http://bugs.mysql.com/7672" target="_top">Bug#7672</a>)</p></li><li><p>
        Character set file parsing during
        <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> read past
        the end of a memory buffer.
       (<a href="http://bugs.mysql.com/6413" target="_top">Bug#6413</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-14"></a>C.1.72. Changes in MySQL 5.0.14 (Not released)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        Multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> and
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements that do not
        affect any rows are now written to the binary log and will
        replicate.
       (<a href="http://bugs.mysql.com/13348" target="_top">Bug#13348</a>, <a href="http://bugs.mysql.com/12844" target="_top">Bug#12844</a>)</p></li><li><p>
        Range scans can now be performed for queries on VIEWs such as
        <code class="literal">column IN (&lt;constants&gt;)</code> and
        <code class="literal">column BETWEEN ConstantA AND ConstantB</code>.
       (<a href="http://bugs.mysql.com/13317" target="_top">Bug#13317</a>)</p></li><li><p>
        The limit of 255 characters on the input buffer for
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> on Windows has been lifted. The exact
        limit depends on what the system allows, but can be up to 64K
        characters. A typical limit is 16K characters.
       (<a href="http://bugs.mysql.com/12929" target="_top">Bug#12929</a>)</p></li><li><p>
        Added the <a href="server-administration.html#sysvar_myisam_stats_method"><code class="literal">myisam_stats_method</code></a>,
        which controls whether <code class="literal">NULL</code> values in indexes
        are considered the same or different when collecting statistics
        for <code class="literal">MyISAM</code> tables. This influences the query
        optimizer as described in
        <a href="optimization.html#myisam-index-statistics" title="7.4.6. MyISAM Index Statistics Collection">Section 7.4.6, “<code class="literal">MyISAM</code> Index Statistics Collection”</a>.
       (<a href="http://bugs.mysql.com/12232" target="_top">Bug#12232</a>)</p></li><li><p>
        The <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> function now takes
        into account the character set and collation given by the
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
        <a href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
        variables. For an argument <em class="replaceable"><code>n</code></em> to
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a>, the result is
        <em class="replaceable"><code>n</code></em> mod 256 for single-byte character
        sets. For multi-byte character sets,
        <em class="replaceable"><code>n</code></em> must be a valid code point in the
        character set. Also, the result string from
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> is checked for
        well-formedness. For invalid arguments, or a result that is not
        well-formed, MySQL generates a warning (or, in strict SQL mode,
        an error).
       (<a href="http://bugs.mysql.com/10504" target="_top">Bug#10504</a>)</p></li><li><p>
        Re-enabled the
        <a href="programs.html#option_mysqldump_delayed-insert"><code class="option">--delayed-insert</code></a> option for
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, which now checks for each table
        dumped whether its storage engine supports
        <code class="literal">DELAYED</code> inserts.
       (<a href="http://bugs.mysql.com/7815" target="_top">Bug#7815</a>)</p></li><li><p>
        <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> now works for views
        as well, as long as you do not try to rename a view into a
        different database.
       (<a href="http://bugs.mysql.com/5508" target="_top">Bug#5508</a>)</p></li><li><p>
        Configure-time checking for the availability of multi-byte
        macros and functions in the bundled <code class="literal">readline</code>
        library. This improves handling of multi-byte character sets in
        the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
       (<a href="http://bugs.mysql.com/3982" target="_top">Bug#3982</a>)</p></li><li><p>
        When an <code class="literal">InnoDB</code> foreign key constraint is
        violated, the error message now indicates which table, column,
        and constraint names are involved.
       (<a href="http://bugs.mysql.com/3443" target="_top">Bug#3443</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A trigger updating the value of an
        <code class="literal">AUTO_INCREMENT</code> column in an
        <code class="literal">NDB</code> table would insert an error
        code rather than the expected value into the column.
       (<a href="http://bugs.mysql.com/13961" target="_top">Bug#13961</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If <span><strong class="command">ndb_restore</strong></span> could not find a free
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process, it crashed.
       (<a href="http://bugs.mysql.com/13512" target="_top">Bug#13512</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Adding an index to a table with a large number of columns (more
        then 100) crashed the storage node.
       (<a href="http://bugs.mysql.com/13316" target="_top">Bug#13316</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns and following columns
        in <code class="literal">NDB</code> tables were corrupt when
        dumped by <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>.
       (<a href="http://bugs.mysql.com/13152" target="_top">Bug#13152</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Queries on <code class="literal">NDB</code> tables that were
        executed using <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a>
        could produce incorrect results.
       (<a href="http://bugs.mysql.com/13081" target="_top">Bug#13081</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Receipt of several <code class="literal">ENTER SINGLE USER MODE</code>
        commands by multiple <span><strong class="command">ndb_mgmd</strong></span> processes
        within a short period of time resulted in cluster shutdown.
       (<a href="http://bugs.mysql.com/13053" target="_top">Bug#13053</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Multiple <span><strong class="command">ndb_mgmd</strong></span> processes in a cluster did
        not know each other's IP addresses.
       (<a href="http://bugs.mysql.com/12037" target="_top">Bug#12037</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        With two <span><strong class="command">mgmd</strong></span> processes in a cluster,
        <span><strong class="command">ndb_mgm</strong></span> output for
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> would display the same IP
        address for both processes, even when they were on different
        hosts.
       (<a href="http://bugs.mysql.com/11595" target="_top">Bug#11595</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> with a large data file failed.
       (<a href="http://bugs.mysql.com/10694" target="_top">Bug#10694</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When deleting a great many (tens of thousands of) rows at once
        from an <code class="literal">NDB</code> table, an improperly
        dereferenced pointer could cause the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        process to crash.
       (<a href="http://bugs.mysql.com/9282" target="_top">Bug#9282</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="replication.html#option_mysqld_replicate-rewrite-db"><code class="option">--replicate-rewrite-db</code></a> and
        <a href="replication.html#option_mysqld_replicate-do-table"><code class="option">--replicate-do-table</code></a> options did
        not work for statements in which tables were aliased to names
        other than those listed by the options.
       (<a href="http://bugs.mysql.com/11139" target="_top">Bug#11139</a>)</p></li><li><p>
        Certain joins using <code class="literal">Range checked for each
        record</code> in the query execution plan could cause the
        server to crash.
       (<a href="http://bugs.mysql.com/24776" target="_top">Bug#24776</a>)</p></li><li><p>
        Joins nested under <code class="literal">NATURAL</code> or
        <code class="literal">USING</code> joins were sometimes not initialized
        properly, causing a server crash.
       (<a href="http://bugs.mysql.com/13545" target="_top">Bug#13545</a>)</p></li><li><p>
        After running <span><strong class="command">configure</strong></span> with the
        <code class="option">--with-embedded-privilege-control</code> option, the
        embedded server failed to build.
       (<a href="http://bugs.mysql.com/13501" target="_top">Bug#13501</a>)</p></li><li><p>
        The optimizer chose a less efficient execution plan for
        <code class="literal"><em class="replaceable"><code>col_name</code></em> BETWEEN
        <em class="replaceable"><code>const</code></em> AND
        <em class="replaceable"><code>const</code></em></code> than for <code class="literal">
        <em class="replaceable"><code>col_name</code></em> =
        <em class="replaceable"><code>const</code></em></code>, even though the two
        expressions are logically equivalent. Now the optimizer can use
        the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access method for
        both expressions.
       (<a href="http://bugs.mysql.com/13455" target="_top">Bug#13455</a>)</p></li><li><p>
        Locking a view with the query cache enabled and
        <a href="server-administration.html#sysvar_query_cache_wlock_invalidate"><code class="literal">query_cache_wlock_invalidate</code></a>
        enabled could cause a server crash.
       (<a href="http://bugs.mysql.com/13424" target="_top">Bug#13424</a>)</p></li><li><p>
        A <code class="literal">HAVING</code> clause that references an
        unqualified view column name could crash the server.
       (<a href="http://bugs.mysql.com/13411" target="_top">Bug#13411</a>)</p></li><li><p>
        The <code class="option">--skip-innodb-doublewrite</code> option disables
        use of the <code class="literal">InnoDB</code> doublewrite buffer.
        However, having this option in effect when creating a new MySQL
        installation prevented the buffer from even being created,
        resulting in a server crash later.
       (<a href="http://bugs.mysql.com/13367" target="_top">Bug#13367</a>)</p></li><li><p>
        Calling the <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a> function
        with a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column value
        caused a server crash when the value was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/13361" target="_top">Bug#13361</a>)</p></li><li><p>
        Comparisons involving row constructors containing constants
        could cause a server crash.
       (<a href="http://bugs.mysql.com/13356" target="_top">Bug#13356</a>)</p></li><li><p>
        Aggregate functions sometimes incorrectly were allowed in the
        <code class="literal">WHERE</code> clause of
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> and
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements.
       (<a href="http://bugs.mysql.com/13180" target="_top">Bug#13180</a>)</p></li><li><p>
        <code class="literal">NATURAL</code> joins and joins with
        <code class="literal">USING</code> against a view could return
        <code class="literal">NULL</code> rather than the correct value.
       (<a href="http://bugs.mysql.com/13127" target="_top">Bug#13127</a>)</p></li><li><p>
        For queries with <code class="literal">DISTINCT</code> and <code class="literal">WITH
        ROLLUP</code>, the <code class="literal">DISTINCT</code> should be
        applied after the rollup operation, but was not always.
       (<a href="http://bugs.mysql.com/12887" target="_top">Bug#12887</a>)</p></li><li><p>
        It was possible to create a view that executed a stored function
        for which you did not have the
        <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege.
       (<a href="http://bugs.mysql.com/12812" target="_top">Bug#12812</a>)</p></li><li><p>
        Shared-memory connections were not working on Windows.
       (<a href="http://bugs.mysql.com/12723" target="_top">Bug#12723</a>)</p></li><li><p>
        The server was not rejecting
        <code class="literal">FLOAT(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
        or
        <code class="literal">DOUBLE(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
        columns specifications when <em class="replaceable"><code>M</code></em> was
        less than <em class="replaceable"><code>D</code></em>.
       (<a href="http://bugs.mysql.com/12694" target="_top">Bug#12694</a>)</p></li><li><p>
        <a href="sql-syntax.html#checksum-table" title="12.5.2.4. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> locked
        <code class="literal">InnoDB</code> tables and did not use a consistent
        read.
       (<a href="http://bugs.mysql.com/12669" target="_top">Bug#12669</a>)</p></li><li><p>
        Incorrect creation of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        local variables in a stored procedure could cause a server
        crash.
       (<a href="http://bugs.mysql.com/12589" target="_top">Bug#12589</a>)</p></li><li><p>
        For queries for which the optimizer determined a join type of
        “<span class="quote">Range checked for each record</span>” (as shown by
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a>, the query sometimes
        could cause a server crash, depending on the data distribution.
       (<a href="http://bugs.mysql.com/12291" target="_top">Bug#12291</a>)</p></li><li><p>
        After running <span><strong class="command">configure</strong></span> with the
        <a href="installing.html#option_configure_without-server"><code class="option">--without-server</code></a> option, the
        distribution failed to build.
       (<a href="http://bugs.mysql.com/11680" target="_top">Bug#11680</a>, <a href="http://bugs.mysql.com/13550" target="_top">Bug#13550</a>)</p></li><li><p>
        Use of a user-defined function within the
        <code class="literal">HAVING</code> clause of a query resulted in an
        <code class="literal">Unknown column</code> error.
       (<a href="http://bugs.mysql.com/11553" target="_top">Bug#11553</a>)</p></li><li><p>
        The server crashed when processing a view that invoked the
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> function.
       (<a href="http://bugs.mysql.com/11416" target="_top">Bug#11416</a>)</p></li><li><p>
        When <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> or
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... LOCK IN SHARE
        MODE</code></a> for an <code class="literal">InnoDB</code> table were
        executed from within a stored function or a trigger, they were
        converted to a nonlocking consistent read.
       (<a href="http://bugs.mysql.com/11238" target="_top">Bug#11238</a>)</p></li><li><p>
        Queries against a <code class="literal">MERGE</code> table that has a
        composite index could produce incorrect results.
       (<a href="http://bugs.mysql.com/9112" target="_top">Bug#9112</a>)</p></li><li><p>
        MySQL programs in binary distributions for Solaris 8/9/10 x86
        systems would not run on Pentium III machines.
       (<a href="http://bugs.mysql.com/6772" target="_top">Bug#6772</a>)</p></li><li><p>
        Nested handlers within stored procedures didn't work.
       (<a href="http://bugs.mysql.com/6127" target="_top">Bug#6127</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-13"></a>C.1.73. Changes in MySQL 5.0.13 (22 September 2005 Release Candidate)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        Better detection of connection timeout for replication servers
        on Windows allows elimination of extraneous <code class="literal">Lost
        connection</code> errors in the error log.
       (<a href="http://bugs.mysql.com/5588" target="_top">Bug#5588</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> and
        <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> now are prohibited in
        stored procedures and functions and in triggers.
       (<a href="http://bugs.mysql.com/12953" target="_top">Bug#12953</a>, <a href="http://bugs.mysql.com/12995" target="_top">Bug#12995</a>)</p></li><li><p>
        The <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> and
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a> functions used to
        return <code class="literal">NULL</code> only if all arguments were
        <code class="literal">NULL</code>. Now they return <code class="literal">NULL</code>
        if any argument is <code class="literal">NULL</code>, the same as Oracle.
       (<a href="http://bugs.mysql.com/12791" target="_top">Bug#12791</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> statement for <code class="literal">InnoDB</code> tables
        always resets the counter for an
        <code class="literal">AUTO_INCREMENT</code> column now, regardless of
        whether there is a foreign key constraint on the table.
        (Beginning with 5.0.3,
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> reset the counter, but only if there was no such
        constraint.)
       (<a href="http://bugs.mysql.com/11946" target="_top">Bug#11946</a>)</p></li><li><p>
        Reorder network startup to come after all other initialization,
        particularly storage engine startup which can take a long time.
        This also prevents MySQL from being run on a privileged port
        (any port under 1024) unless run as the root user.
       (<a href="http://bugs.mysql.com/11707" target="_top">Bug#11707</a>)</p></li><li><p>
        The restriction on the use of
        <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a>,
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>, and
        <a href="sql-syntax.html#deallocate-prepare" title="12.7.3. DEALLOCATE PREPARE Syntax"><code class="literal">DEALLOCATE PREPARE</code></a> within stored
        procedures was lifted. The restriction still applies to stored
        functions and triggers.
       (<a href="http://bugs.mysql.com/10975" target="_top">Bug#10975</a>, <a href="http://bugs.mysql.com/10605" target="_top">Bug#10605</a>)</p><p>See also <a href="http://bugs.mysql.com/7115" target="_top">Bug#7115</a>.</p></li><li><p>
        A new command line argument was added to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to ignore client character set
        information sent during handshake, and use server side settings
        instead, to reproduce 4.0 behavior :
</p><pre class="programlisting">mysqld --skip-character-set-client-handshake</pre><p>
       (<a href="http://bugs.mysql.com/9948" target="_top">Bug#9948</a>)</p></li><li><p>
        Added a <a href="programs.html#option_mysqldump_routines"><code class="option">--routines</code></a> option for
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> that enables dumping of stored
        routines.
       (<a href="http://bugs.mysql.com/9056" target="_top">Bug#9056</a>)</p></li><li><p>
        <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> no longer allows
        nonconstant initializers. (Prior to MySQL 5.0.13, the effect of
        nonconstant initializers is undefined.)
       (<a href="http://bugs.mysql.com/6172" target="_top">Bug#6172</a>)</p></li><li><p>
        The syntax for <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> and
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> statements now
        includes <code class="literal">DEFINER</code> and <code class="literal">SQL
        SECURITY</code> clauses for specifying the security context
        to be used when checking access privileges at view invocation
        time. (The syntax is present in 5.0.13, but these clauses have
        no effect until 5.0.16.) See <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax">Section 12.1.12, “<code class="literal">CREATE VIEW</code> Syntax”</a>, for
        more information.
      </p></li><li><p>
        The <code class="option">--hex-dump</code> option for
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now also applies to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
      </p></li><li><p>
        Two new collations have been added for Esperanto:
        <code class="literal">utf8_esperanto_ci</code> and
        <code class="literal">ucs2_esperanto_ci</code>.
      </p></li><li><p>
        The Windows binary packages are now compiled with the Microsoft
        Visual Studio 2003 compiler instead of Microsoft Visual C++ 6.0.
      </p></li><li><p>
        The connection string for <code class="literal">FEDERATED</code> tables
        now is specified using a <code class="literal">CONNECTION</code> table
        option rather than a <code class="literal">COMMENT</code> table option.
      </p></li><li><p>
        The binaries compiled with the Intel icc compiler are now built
        using icc 9.0 instead of icc 8.1. You will have to install new
        versions of the Intel icc runtime libraries, which are available
        from here:
        <a href="http://dev.mysql.com/downloads/os-linux.html" target="_top">http://dev.mysql.com/downloads/os-linux.html</a>
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        A lock wait timeout caused <code class="literal">InnoDB</code> to roll
        back the entire current transaction. Now it rolls back only the
        most recent SQL statement.
       (<a href="http://bugs.mysql.com/12308" target="_top">Bug#12308</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster management client <code class="literal">START BACKUP</code>
        command could be interrupted by a
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> command.
       (<a href="http://bugs.mysql.com/13054" target="_top">Bug#13054</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A cluster shutdown following the crash of a data node failed to
        terminate any remaining node processes, even though
        <span><strong class="command">ndb_mgm</strong></span> showed the shutdown request as having
        been completed.
       (<a href="http://bugs.mysql.com/9996" target="_top">Bug#9996</a>, <a href="http://bugs.mysql.com/10938" target="_top">Bug#10938</a>, <a href="http://bugs.mysql.com/11623" target="_top">Bug#11623</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The average row size for Cluster tables was calculated
        incorrectly. This affected the values shown for the
        <code class="literal">Data_length</code> and
        <code class="literal">Avg_row_length</code> columns in the output
        generated by <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> as
        well as the values for the <code class="literal">data_length</code> and
        <code class="literal">data_length/table_rows</code> columns shown in the
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">TABLES</code></a> table of the
        <code class="literal">INFORMATION_SCHEMA</code> database with respect to
        Cluster tables.
      </p><p>
        Tables using storage engines other than
        <code class="literal">NDB</code> were not affected by this bug.
       (<a href="http://bugs.mysql.com/9896" target="_top">Bug#9896</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Within a transaction, the following statements now cause an
        implicit commit: <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a>,
        <a href="sql-syntax.html#drop-function" title="12.1.14. DROP FUNCTION Syntax"><code class="literal">DROP FUNCTION</code></a>,
        <a href="sql-syntax.html#drop-procedure" title="12.1.16. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP PROCEDURE</code></a> (for stored
        functions, not UDFs), <a href="sql-syntax.html#alter-function" title="12.1.2. ALTER FUNCTION Syntax"><code class="literal">ALTER
        FUNCTION</code></a>, <a href="sql-syntax.html#alter-procedure" title="12.1.3. ALTER PROCEDURE Syntax"><code class="literal">ALTER
        PROCEDURE</code></a>, <a href="sql-syntax.html#create-procedure" title="12.1.9. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE
        PROCEDURE</code></a>. This corrects a problem where these
        statements followed by
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a> might
        not be replicated properly.
       (<a href="http://bugs.mysql.com/12870" target="_top">Bug#12870</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> failed between systems using different
        path name syntax (such as delimiter characters).
       (<a href="http://bugs.mysql.com/11815" target="_top">Bug#11815</a>)</p></li><li><p>
        Local variables in stored routines were not always initialized
        correctly.
       (<a href="http://bugs.mysql.com/13133" target="_top">Bug#13133</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine does not support
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, but no appropriate
        error message was issued.
       (<a href="http://bugs.mysql.com/13108" target="_top">Bug#13108</a>)</p></li><li><p>
        Columns named in the <code class="literal">USING()</code> clause of
        <code class="literal">JOIN ... USING()</code> were incorrectly resolved in
        case-sensitive fashion.
       (<a href="http://bugs.mysql.com/13067" target="_top">Bug#13067</a>)</p></li><li><p>
        For a server compiled with yaSSL, clients that used MySQL
        Connector/J were not able to establish SSH connections.
       (<a href="http://bugs.mysql.com/13029" target="_top">Bug#13029</a>)</p></li><li><p>
        When used in view definitions,
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME(<em class="replaceable"><code>expr</code></em>)</code></a>,
        <a href="functions.html#function_dayofweek"><code class="literal">DAYOFWEEK(<em class="replaceable"><code>expr</code></em>)</code></a>,
        <a href="functions.html#function_weekday"><code class="literal">WEEKDAY(<em class="replaceable"><code>expr</code></em>)</code></a>
        were incorrectly treated as though the expression was
        <a href="functions.html#function_to-days"><code class="literal">TO_DAYS(<em class="replaceable"><code>expr</code></em>)</code></a>
        or
        <a href="functions.html#function_to-days"><code class="literal">TO_DAYS(TO_DAYS(<em class="replaceable"><code>expr</code></em>))</code></a>.
       (<a href="http://bugs.mysql.com/13000" target="_top">Bug#13000</a>)</p></li><li><p>
        Using <code class="literal">AS</code> to rename a column selected from a
        view in a subquery made it not possible to refer to that column
        in the outer query.
       (<a href="http://bugs.mysql.com/12993" target="_top">Bug#12993</a>)</p></li><li><p>
        Using an <code class="literal">INOUT</code> parameter with a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> data type in a stored
        procedure caused a server crash.
       (<a href="http://bugs.mysql.com/12979" target="_top">Bug#12979</a>)</p></li><li><p>
        <code class="literal">SELECT ... JOIN ... ON ... JOIN ... USING</code>
        caused a server crash.
       (<a href="http://bugs.mysql.com/12977" target="_top">Bug#12977</a>)</p></li><li><p>
        A bug introduced in MySQL 5.0.12 caused
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> to display an
        <code class="literal">Auto_increment</code> value of 0 for
        <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/12973" target="_top">Bug#12973</a>)</p></li><li><p>
        On HP-UX 11.x (PA-RISC), the <code class="option">-L</code> option caused
        <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/12958" target="_top">Bug#12958</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: A consistent read could return
        inconsistent results due to a bug introduced in MySQL 5.0.5.
       (<a href="http://bugs.mysql.com/12947" target="_top">Bug#12947</a>)</p></li><li><p>
        Incorrect implicit nesting of joins caused the parser to fail on
        queries of the form <code class="literal">SELECT ... FROM t1 JOIN t2 JOIN t3
        ON t1.t1col = t3.t3col</code> with an <code class="literal">Unknown column
        't1.t1col' in 'on clause'</code> error.
       (<a href="http://bugs.mysql.com/12943" target="_top">Bug#12943</a>)</p></li><li><p>
        Incorrect results could be returned from a view processed using
        a temporary table.
       (<a href="http://bugs.mysql.com/12941" target="_top">Bug#12941</a>)</p></li><li><p>
        Multiplying a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> value
        within a loop in a stored routine could incorrectly result in a
        value of <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/12938" target="_top">Bug#12938</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> when selecting from a view in
        some cases could cause incorrect results to be returned.
       (<a href="http://bugs.mysql.com/12922" target="_top">Bug#12922</a>)</p></li><li><p>
        The counters for the
        <a href="server-administration.html#statvar_Key_read_requests"><code class="literal">Key_read_requests</code></a>,
        <a href="server-administration.html#statvar_Key_reads"><code class="literal">Key_reads</code></a>,
        <a href="server-administration.html#statvar_Key_write_requests"><code class="literal">Key_write_requests</code></a>, and
        <a href="server-administration.html#statvar_Key_writes"><code class="literal">Key_writes</code></a> status variables
        were changed from <code class="literal">unsigned long</code> to
        <code class="literal">unsigned longlong</code> to accommodate larger
        values before the variables roll over and restart from 0.
       (<a href="http://bugs.mysql.com/12920" target="_top">Bug#12920</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> were
        ignoring the
        <a href="programs.html#option_general_defaults-extra-file"><code class="option">--defaults-extra-file</code></a> option.
       (<a href="http://bugs.mysql.com/12917" target="_top">Bug#12917</a>)</p></li><li><p>
        <code class="literal">SHOW FIELDS FROM
        <em class="replaceable"><code>schemaname</code></em>.<em class="replaceable"><code>viewname</code></em>
        </code> caused error 1046 when no default schema was set.
       (<a href="http://bugs.mysql.com/12905" target="_top">Bug#12905</a>)</p></li><li><p>
        <code class="literal">UNION [DISTINCT]</code> was not removing all
        duplicates for multi-byte character values.
       (<a href="http://bugs.mysql.com/12891" target="_top">Bug#12891</a>)</p></li><li><p>
        A column that can be <code class="literal">NULL</code> was not handled
        properly for <code class="literal">WITH ROLLUP</code> in a subquery or
        view.
       (<a href="http://bugs.mysql.com/12885" target="_top">Bug#12885</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> ignored an empty
        string if it was the first value to occur in the result.
       (<a href="http://bugs.mysql.com/12863" target="_top">Bug#12863</a>)</p></li><li><p>
        If a client has opened an <code class="literal">InnoDB</code> table for
        which the <code class="filename">.ibd</code> file is missing,
        <code class="literal">InnoDB</code> would not honor a
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> statement for the
        table.
       (<a href="http://bugs.mysql.com/12852" target="_top">Bug#12852</a>)</p></li><li><p>
        Within a stored procedure, a server crash was caused by
        assigning to a <code class="literal">VARCHAR INOUT</code> parameter the
        value of an expression that included the variable itself. (For
        example, <code class="literal">SET c = c</code>.)
       (<a href="http://bugs.mysql.com/12849" target="_top">Bug#12849</a>)</p></li><li><p>
        The server crashed when one thread resized the query cache while
        another thread was using it.
       (<a href="http://bugs.mysql.com/12848" target="_top">Bug#12848</a>)</p></li><li><p>
        A concurrency problem for <code class="literal">CREATE ... SELECT</code>
        could cause a server crash.
       (<a href="http://bugs.mysql.com/12845" target="_top">Bug#12845</a>)</p></li><li><p>
        <code class="literal">DO IFNULL(NULL, NULL)</code> and <code class="literal">SELECT
        CAST(IFNULL(NULL, NULL) AS DECIMAL)</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/12841" target="_top">Bug#12841</a>)</p></li><li><p>
        After changing the character set with <code class="literal">SET CHARACTER
        SET</code>, the result of the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function was not
        converted to the proper character set.
       (<a href="http://bugs.mysql.com/12829" target="_top">Bug#12829</a>)</p></li><li><p>
        The Windows installer made a change to one of the
        <code class="literal">mysql.proc</code> table files, causing stored
        routine functionality to be compromised. The Windows installer
        now never overwrites files in the MySQL data directory. During
        an upgrade from one version to another, a file in the data
        directory will not be overwritten even if it has not been
        modified since it was put there by an older installer.
      </p><p>
        If you have already lost access to stored routines because of
        this problem, you can get them back using the following
        procedure:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Stop the server.
          </p></li><li><p>
            In the <code class="filename">mysql\data</code> directory under your
            MySQL installation directory, and replace the
            <code class="filename">proc.frm</code> file with corresponding file
            from the version of MySQL that you were using before you
            upgraded.
          </p></li><li><p>
            Start the server.
          </p></li><li><p>
            Start the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> command-line client (use
            the <code class="literal">root</code> account or another account that
            has full database privileges) and execute the
            <code class="filename">mysql_fix_privilege_tables.sql</code> script
            that upgrades the grant tables to the current structure.
            Instructions for doing this are given in
            <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
          </p></li></ul></div><p>
        After this, all stored routine functionality should work.
       (<a href="http://bugs.mysql.com/12820" target="_top">Bug#12820</a>)</p></li><li><p>
        Queries with subqueries, where the inner subquery uses the
        <a href="optimization.html#jointype_range"><code class="literal">range</code></a> or
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> access method,
        could return incorrect results.
       (<a href="http://bugs.mysql.com/12720" target="_top">Bug#12720</a>)</p></li><li><p>
        The server failed to disallow
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">SET autocommit</code></a>
        in stored functions and triggers. It is allowed to change the
        value of <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> in stored
        procedures, but a runtime error might occur if the procedure is
        invoked from a stored function or trigger.
       (<a href="http://bugs.mysql.com/12712" target="_top">Bug#12712</a>)</p></li><li><p>
        Simultaneous execution of DML statements and
        <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a> or
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> statements on the
        same table could cause server crashes or errors.
       (<a href="http://bugs.mysql.com/12704" target="_top">Bug#12704</a>)</p></li><li><p>
        Performing an <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a> check on the
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> of an indexed column in a
        complex query could produce incorrect results.
       (<a href="http://bugs.mysql.com/12695" target="_top">Bug#12695</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> and
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a> with a statement that
        selected from a view in a subquery could cause a server crash.
       (<a href="http://bugs.mysql.com/12651" target="_top">Bug#12651</a>)</p></li><li><p>
        If the binary log is enabled, execution of a stored procedure
        that modifies table data and uses user variables could cause a
        server crash or incorrect information to be written to the
        binary log.
       (<a href="http://bugs.mysql.com/12637" target="_top">Bug#12637</a>)</p></li><li><p>
        The <code class="literal">LIKE ... ESCAPE</code> syntax produced invalid
        results when escape character was larger than one byte.
       (<a href="http://bugs.mysql.com/12611" target="_top">Bug#12611</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> did not dump triggers properly.
       (<a href="http://bugs.mysql.com/12597" target="_top">Bug#12597</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Limit recursion depth to 200 in
        deadlock detection to avoid running out of stack space.
       (<a href="http://bugs.mysql.com/12588" target="_top">Bug#12588</a>)</p></li><li><p>
        The <code class="filename">mysql.server</code> script contained an
        incorrect path for the <code class="literal">libexec</code> directory.
       (<a href="http://bugs.mysql.com/12550" target="_top">Bug#12550</a>)</p></li><li><p>
        A <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> of long
        <code class="literal">utf8</code> <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        columns was sometimes returned as a column with a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> data type rather than
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>. This could prevent such
        queries from working at all if selected into a
        <code class="literal">MEMORY</code> table because the
        <code class="literal">MEMORY</code> storage engine does not support the
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> data types.
       (<a href="http://bugs.mysql.com/12537" target="_top">Bug#12537</a>)</p></li><li><p>
        A client connection thread cleanup problem caused the server to
        crash when closing the connection if the binary log was enabled.
       (<a href="http://bugs.mysql.com/12517" target="_top">Bug#12517</a>)</p></li><li><p>
        Use of the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client
        <a href="sql-syntax.html#help" title="12.3.3. HELP Syntax"><code class="literal">HELP</code></a> command from within a stored
        routine caused a “<span class="quote">packets out of order</span>” error and a
        lost connection. Now <a href="sql-syntax.html#help" title="12.3.3. HELP Syntax"><code class="literal">HELP</code></a> is
        detected and disallowed within stored routines.
       (<a href="http://bugs.mysql.com/12490" target="_top">Bug#12490</a>)</p></li><li><p>
        The <a href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> function now
        returns the time at which it was invoked. In particular, within
        a stored routine or trigger,
        <a href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> returns the time at
        which it executes, not the time at which the stored routine or
        triggering statement began to execute.
       (<a href="http://bugs.mysql.com/12480" target="_top">Bug#12480</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> inside a stored
        procedure caused a server crash if the table underlying the view
        had been deleted.
       (<a href="http://bugs.mysql.com/12468" target="_top">Bug#12468</a>)</p></li><li><p>
        Deadlock occurred when several account management statements
        were run (particularly between
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a>/<a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>
        and
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a>/<a href="sql-syntax.html#revoke" title="12.5.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a>
        statements).
       (<a href="http://bugs.mysql.com/12423" target="_top">Bug#12423</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> was too permissive with <code class="literal">LOCK
        TABLE ... READ LOCAL</code> and allowed new inserts into the
        table. Now <code class="literal">READ LOCAL</code> is equivalent to
        <code class="literal">READ</code> for <code class="literal">InnoDB</code>. This will
        cause slightly more locking in <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, but
        makes <code class="literal">InnoDB</code> table dumps consistent with
        <code class="literal">MyISAM</code> table dumps.
       (<a href="http://bugs.mysql.com/12410" target="_top">Bug#12410</a>)</p></li><li><p>
        If a stored function invoked from a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> failed with an error, it
        could cause the client connection to be dropped. Now such errors
        generate warnings instead so as not to interrupt the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/12379" target="_top">Bug#12379</a>)</p></li><li><p>
        The value of
        <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> could be
        set to <code class="literal">NULL</code>, but returned the string
        <code class="literal">"NULL"</code> when retrieved.
       (<a href="http://bugs.mysql.com/12363" target="_top">Bug#12363</a>)</p></li><li><p>
        On Windows, the server was preventing tables from being created
        if the table name was a prefix of a forbidden name. For example,
        <code class="literal">nul</code> is a forbidden name because it is the
        same as a Windows device name, but a table with the name of
        <code class="literal">n</code> or <code class="literal">nu</code> was being
        forbidden as well.
       (<a href="http://bugs.mysql.com/12325" target="_top">Bug#12325</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... DISCARD TABLESPACE</code> for
        non-<code class="literal">InnoDB</code> table caused the client to lose
        the connection. (The server was not returning the error
        properly.)
       (<a href="http://bugs.mysql.com/12207" target="_top">Bug#12207</a>)</p></li><li><p>
        Outer join elimination was erroneously applied for some queries
        that used a <code class="literal">NOT BETWEEN</code> condition, an
        <a href="functions.html#function_in"><code class="literal">IN(<em class="replaceable"><code>value_list</code></em>)</code></a>
        condition, or an <a href="functions.html#function_if"><code class="literal">IF()</code></a> condition.
       (<a href="http://bugs.mysql.com/12102" target="_top">Bug#12102</a>, <a href="http://bugs.mysql.com/12101" target="_top">Bug#12101</a>)</p></li><li><p>
        Foreign keys were not properly enforced in
        <code class="literal">TEMPORARY</code> tables. Foreign keys now are
        disallowed in <code class="literal">TEMPORARY</code> tables.
       (<a href="http://bugs.mysql.com/12084" target="_top">Bug#12084</a>)</p></li><li><p>
        When using a cursor, a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statement that uses a <code class="literal">GROUP BY</code> clause could
        return incorrect results.
       (<a href="http://bugs.mysql.com/11904" target="_top">Bug#11904</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a> system
        variable could not be selected with <code class="literal">SELECT
        @@character_set_system</code>.
       (<a href="http://bugs.mysql.com/11775" target="_top">Bug#11775</a>)</p></li><li><p>
        A memory leak resulting from repeated <code class="literal">SELECT ...
        INTO</code> statements inside a stored procedure could cause
        the server to crash.
       (<a href="http://bugs.mysql.com/11333" target="_top">Bug#11333</a>)</p></li><li><p>
        Use of yaSSL for a secure client connection caused
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> to fail.
       (<a href="http://bugs.mysql.com/11286" target="_top">Bug#11286</a>)</p></li><li><p>
        <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a> now quotes arguments on command
        lines that it constructs to avoid problems with arguments that
        contain shell metacharacters.
       (<a href="http://bugs.mysql.com/11280" target="_top">Bug#11280</a>)</p></li><li><p>
        The server allowed privileges to be granted explicitly for the
        <code class="literal">INFORMATION_SCHEMA</code> database. Such privileges
        are always implicit and should not be grantable.
       (<a href="http://bugs.mysql.com/10734" target="_top">Bug#10734</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> and
        <a href="sql-syntax.html#show-create-function" title="12.5.5.7. SHOW CREATE FUNCTION Syntax"><code class="literal">SHOW CREATE FUNCTION</code></a> no longer
        qualify the routine name with the database name, for consistency
        with the behavior of <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a>.
       (<a href="http://bugs.mysql.com/10362" target="_top">Bug#10362</a>)</p></li><li><p>
        The server incorrectly generated an <code class="literal">Unknown
        table</code> error message when for attempts to drop tables
        in the <code class="literal">INFORMATION_SCHEMA</code> database. Now it
        issues an <code class="literal">Access denied</code> message.
       (<a href="http://bugs.mysql.com/9846" target="_top">Bug#9846</a>)</p></li><li><p>
        Within a stored procedure, fetching a large number of rows in a
        loop using a cursor could result in a server crash or an out of
        memory error. Also, values inserted within a stored procedure
        using a cursor were interpreted as <code class="literal">latin1</code>
        even if character set variables had been set to a different
        character set.
       (<a href="http://bugs.mysql.com/9819" target="_top">Bug#9819</a>, <a href="http://bugs.mysql.com/6513" target="_top">Bug#6513</a>)</p></li><li><p>
        The server allowed <code class="literal">TEMPORARY</code> tables and
        stored procedures to be created in the
        <code class="literal">INFORMATION_SCHEMA</code> database.
       (<a href="http://bugs.mysql.com/9683" target="_top">Bug#9683</a>, <a href="http://bugs.mysql.com/10708" target="_top">Bug#10708</a>)</p></li><li><p>
        <code class="literal">SHOW FIELDS</code> truncated the
        <code class="literal">TYPE</code> column to 40 characters.
       (<a href="http://bugs.mysql.com/7142" target="_top">Bug#7142</a>)</p><p>See also <a href="http://bugs.mysql.com/12817" target="_top">Bug#12817</a>.</p></li><li><p>
        A view-creation statement of the form <code class="literal">CREATE VIEW
        <em class="replaceable"><code>name</code></em> AS SELECT ... FROM
        <em class="replaceable"><code>tbl_name</code></em> AS
        <em class="replaceable"><code>name</code></em></code> failed with a
        <code class="literal">Not unique table/alias:
        '<em class="replaceable"><code>name</code></em>'</code> error.
       (<a href="http://bugs.mysql.com/6808" target="_top">Bug#6808</a>)</p></li><li><p>
        <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a> did not properly pack
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values larger than
        2<sup>24</sup> bytes.
       (<a href="http://bugs.mysql.com/4214" target="_top">Bug#4214</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-12"></a>C.1.74. Changes in MySQL 5.0.12 (02 September 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Beginning with MySQL 5.0.12, natural joins and joins with
        <code class="literal">USING</code>, including outer join variants, are
        processed according to the SQL:2003 standard. The changes
        include elimination of redundant output columns for
        <code class="literal">NATURAL</code> joins and joins specified with a
        <code class="literal">USING</code> clause and proper ordering of output
        columns. The precedence of the comma operator also now is lower
        compared to <code class="literal">JOIN</code>.
      </p><p>
        In addition, a <span class="errortext">Duplicate column name
        error</span> no longer occurs when selecting from a view
        defined as <code class="literal">SELECT *</code> from a join that uses a
        <code class="literal">USING</code> clause on tables that have a common
        column name.
      </p><p>
        These changes make MySQL more compliant with standard SQL.
        However, they can result in different output columns for some
        joins. Also, some queries that appeared to work correctly prior
        to 5.0.12 must be rewritten to comply with the standard. For
        details about the scope of the changes and examples that show
        what query rewrites are necessary, see <a href="sql-syntax.html#join" title="12.2.8.1. JOIN Syntax">Section 12.2.8.1, “<code class="literal">JOIN</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/6495" target="_top">Bug#6495</a>, <a href="http://bugs.mysql.com/6136" target="_top">Bug#6136</a>, <a href="http://bugs.mysql.com/10972" target="_top">Bug#10972</a>, <a href="http://bugs.mysql.com/9978" target="_top">Bug#9978</a>, <a href="http://bugs.mysql.com/10428" target="_top">Bug#10428</a>, <a href="http://bugs.mysql.com/10646" target="_top">Bug#10646</a>, <a href="http://bugs.mysql.com/6276" target="_top">Bug#6276</a>, <a href="http://bugs.mysql.com/6489" target="_top">Bug#6489</a>, <a href="http://bugs.mysql.com/6558" target="_top">Bug#6558</a>, <a href="http://bugs.mysql.com/9067" target="_top">Bug#9067</a>, <a href="http://bugs.mysql.com/4789" target="_top">Bug#4789</a>, <a href="http://bugs.mysql.com/12065" target="_top">Bug#12065</a>, <a href="http://bugs.mysql.com/13551" target="_top">Bug#13551</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The parsing of the <code class="literal">CLUSTERLOG</code> command by
        <span><strong class="command">ndb_mgm</strong></span> was corrected to allow multiple
        items.
       (<a href="http://bugs.mysql.com/12833" target="_top">Bug#12833</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Interleaved execution of stored procedures and functions could
        be written to the binary log incorrectly, causing replication
        slaves to get out of sync.
       (<a href="http://bugs.mysql.com/12335" target="_top">Bug#12335</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Calls to stored procedures were written to the binary log even
        within transactions that were rolled back, causing them to be
        executed on replication slaves.
       (<a href="http://bugs.mysql.com/12334" target="_top">Bug#12334</a>)</p></li><li><p>
        A query of the form <code class="literal">SHOW TABLE STATUS FROM
        <em class="replaceable"><code>db_name</code></em> WHERE name IN
        (<em class="replaceable"><code>select_query</code></em>)</code> would crash
        the server.
       (<a href="http://bugs.mysql.com/12636" target="_top">Bug#12636</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> on a view after
        renaming a column in one of the view's base tables caused the
        server to crash.
       (<a href="http://bugs.mysql.com/12533" target="_top">Bug#12533</a>)</p></li><li><p>
        If a thread (connection) has tables locked, the query cache is
        switched off for that thread. This prevents invalid results
        where the locking thread inserts values between a second thread
        connecting and selecting from the table.
       (<a href="http://bugs.mysql.com/12385" target="_top">Bug#12385</a>)</p></li><li><p>
        <code class="literal">SHOW TABLE STATUS FROM INFORMATION_SCHEMA</code> now
        sorts output by table name the same as it does for other
        databases.
       (<a href="http://bugs.mysql.com/12315" target="_top">Bug#12315</a>)</p></li><li><p>
        It is no longer possible to issue
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH</code></a> commands from within stored
        functions or triggers. See
        <a href="restrictions.html#stored-program-restrictions" title="D.1. Restrictions on Stored Routines and Triggers">Section D.1, “Restrictions on Stored Routines and Triggers”</a>, for details.
       (<a href="http://bugs.mysql.com/12280" target="_top">Bug#12280</a>, <a href="http://bugs.mysql.com/12307" target="_top">Bug#12307</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-open-tables" title="12.5.5.23. SHOW OPEN TABLES Syntax"><code class="literal">SHOW OPEN TABLES</code></a> now supports
        <code class="literal">FROM</code> and <code class="literal">LIKE</code> clauses.
       (<a href="http://bugs.mysql.com/12183" target="_top">Bug#12183</a>)</p></li><li><p>
        Recursive triggers are detected and disallowed. Also, within a
        stored function or trigger, it is not allowable to modify a
        table that is already being used (for reading or writing) by the
        statement that invoked the function or trigger.
       (<a href="http://bugs.mysql.com/11896" target="_top">Bug#11896</a>, <a href="http://bugs.mysql.com/12644" target="_top">Bug#12644</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> objects are now reported
        as a <code class="literal">SYSTEM VIEW</code> table type.
       (<a href="http://bugs.mysql.com/11711" target="_top">Bug#11711</a>)</p></li><li><p>
        The stability of cursors when used with
        <code class="literal">InnoDB</code> tables was greatly improved.
       (<a href="http://bugs.mysql.com/11309" target="_top">Bug#11309</a>, <a href="http://bugs.mysql.com/11832" target="_top">Bug#11832</a>, <a href="http://bugs.mysql.com/12243" target="_top">Bug#12243</a>)</p></li><li><p>
        Trying to drop the default keycache by setting
        <code class="literal">@@global.key_buffer_size</code> to zero now returns
        a warning that the default keycache cannot be dropped.
       (<a href="http://bugs.mysql.com/10473" target="_top">Bug#10473</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-engine" title="12.5.5.12. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE INNODB
        STATUS</code></a> now can display longer query strings.
       (<a href="http://bugs.mysql.com/7819" target="_top">Bug#7819</a>)</p></li><li><p>
        Added the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> function, which
        pauses for the number of seconds given by its argument.
       (<a href="http://bugs.mysql.com/6760" target="_top">Bug#6760</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> for a view now
        shows <code class="literal">VIEW</code> in uppercase, consistent with
        <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> and
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/5501" target="_top">Bug#5501</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When it could not copy a fragment, <span><strong class="command">ndbd</strong></span>
        exited without printing a message about the condition to the
        error log. Now the message is written.
       (<a href="http://bugs.mysql.com/12900" target="_top">Bug#12900</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a <span class="errortext">Disk is full</span> condition occurred,
        <span><strong class="command">ndbd</strong></span> exited without reporting this condition
        in the error log.
       (<a href="http://bugs.mysql.com/12716" target="_top">Bug#12716</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster failed to take character set data into account when
        recomputing hashes (and thus could not locate records for
        updating or deletion) following a configuration change and node
        restart.
       (<a href="http://bugs.mysql.com/12220" target="_top">Bug#12220</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> command caused
        loss of data stored prior to the issuing of the command.
       (<a href="http://bugs.mysql.com/12118" target="_top">Bug#12118</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Invalid values in <code class="filename">config.ini</code> caused
        <span><strong class="command">ndb_mgmd</strong></span> to crash.
       (<a href="http://bugs.mysql.com/12043" target="_top">Bug#12043</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a schema was detected to be corrupt, <span><strong class="command">ndb</strong></span>
        neglected to close it, resulting in a <span class="errortext">file already
        open</span> error if the schema was opened again later.
        written.
       (<a href="http://bugs.mysql.com/12027" target="_top">Bug#12027</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Improved error messages related to file system issues.
       (<a href="http://bugs.mysql.com/11218" target="_top">Bug#11218</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The wrong error message was displayed when the cluster
        management server port was closed while a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process was trying to connect.
       (<a href="http://bugs.mysql.com/10950" target="_top">Bug#10950</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some statements executed on a master server caused the SQL
        thread on a slave to run out of memory.
       (<a href="http://bugs.mysql.com/12532" target="_top">Bug#12532</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Trigger and stored procedure execution could break replication.
       (<a href="http://bugs.mysql.com/12482" target="_top">Bug#12482</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>,
        <a href="functions.html#function_current-time"><code class="literal">CURRENT_TIME()</code></a> and values
        generated by timestamp columns are now constant for the duration
        of a stored function or trigger. This prevents the breaking of
        statement-based replication.
       (<a href="http://bugs.mysql.com/12481" target="_top">Bug#12481</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Slave I/O threads were considered to be in the running state
        when launched (rather than after successfully connecting to the
        master server), resulting in incorrect <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW
        SLAVE STATUS</code></a> output.
       (<a href="http://bugs.mysql.com/10780" target="_top">Bug#10780</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If a <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> fails on a
        master server due to the presence of a nondatabase file in the
        database directory, the master have the database tables deleted,
        but not the slaves. To deal with failed database drops, we now
        write <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> statements to
        the binary log for the tables so that they are dropped on
        slaves.
       (<a href="http://bugs.mysql.com/4680" target="_top">Bug#4680</a>)</p></li><li><p>
        An optimizer estimate of zero rows for a nonempty
        <code class="literal">InnoDB</code> table used in a left or right join
        could cause incomplete rollback for the table.
       (<a href="http://bugs.mysql.com/12779" target="_top">Bug#12779</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> was missing
        a comma, causing a syntax error when executed.
       (<a href="http://bugs.mysql.com/12705" target="_top">Bug#12705</a>)</p></li><li><p>
        Invocations of the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a>
        function incorrectly could get optimized away for statements in
        which it occurs. Statements containing
        <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> incorrectly could be
        stored in the query cache.
       (<a href="http://bugs.mysql.com/12689" target="_top">Bug#12689</a>)</p></li><li><p>
        Improper use of loose index scan in <code class="literal">InnoDB</code>
        sometimes caused incorrect query results.
       (<a href="http://bugs.mysql.com/12672" target="_top">Bug#12672</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> query with a constant value for one of the
        columns would return only a single row.
       (<a href="http://bugs.mysql.com/12625" target="_top">Bug#12625</a>)</p></li><li><p>
        <code class="literal">SHOW TABLES FROM</code> returned wrong error message
        if the schema specified did not exist.
       (<a href="http://bugs.mysql.com/12591" target="_top">Bug#12591</a>)</p></li><li><p>
        A server crash could result from an update of a view defined as
        a join, even though the update updated only a single table.
       (<a href="http://bugs.mysql.com/12569" target="_top">Bug#12569</a>)</p></li><li><p>
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> for an indexed
        <code class="literal">MyISAM</code> table could fail. This was due to a
        change in end-space comparison behavior from 4.0 to 4.1.
       (<a href="http://bugs.mysql.com/12565" target="_top">Bug#12565</a>)</p></li><li><p>
        The <code class="literal">COLUMN_DEFAULT</code> column of the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table
        should be returned as <code class="literal">NULL</code> if a column has no
        default value. An empty string was being returned if the column
        was defined as <code class="literal">NOT NULL</code>.
       (<a href="http://bugs.mysql.com/12518" target="_top">Bug#12518</a>)</p></li><li><p>
        The <code class="literal">ROW()</code> contructor returned an incorrect
        result when comparison involved <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/12509" target="_top">Bug#12509</a>)</p></li><li><p>
        <a href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a> was not handled
        correctly in views.
       (<a href="http://bugs.mysql.com/12489" target="_top">Bug#12489</a>)</p></li><li><p>
        Selecting from a view defined as a join over many tables could
        result in a server crash due to miscalculation of the number of
        conditions in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/12470" target="_top">Bug#12470</a>)</p></li><li><p>
        <code class="literal">MEMORY</code> tables using <code class="literal">B-Tree</code>
        index on 64-bit platforms could produce false table is full
        errors.
       (<a href="http://bugs.mysql.com/12460" target="_top">Bug#12460</a>)</p></li><li><p>
        The <code class="literal">CREATE_OPTIONS</code> column of
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> showed
        incorrect options for tables in
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/12397" target="_top">Bug#12397</a>)</p></li><li><p>
        Mishandling of comparison for rows containing
        <code class="literal">NULL</code> values against rows produced by an
        <code class="literal">IN</code> subquery could cause a server crash.
       (<a href="http://bugs.mysql.com/12392" target="_top">Bug#12392</a>)</p></li><li><p>
        Selecting from a view after
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statements for the view's
        underlying table yielded different results than subsequent
        selects.
       (<a href="http://bugs.mysql.com/12382" target="_top">Bug#12382</a>)</p></li><li><p>
        Concatenating <a href="functions.html#function_user"><code class="literal">USER()</code></a> or
        <a href="functions.html#function_database"><code class="literal">DATABASE()</code></a> with a column produced
        invalid results.
       (<a href="http://bugs.mysql.com/12351" target="_top">Bug#12351</a>)</p></li><li><p>
        Comparison of <code class="literal">InnoDB</code> multi-part primary keys
        that include <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns can
        result in incorrect results.
       (<a href="http://bugs.mysql.com/12340" target="_top">Bug#12340</a>)</p></li><li><p>
        Renamed the <code class="literal">rest()</code> macro in
        <code class="filename">my_list.h</code> to <code class="literal">list_rest()</code>
        to avoid name clashes with user code.
       (<a href="http://bugs.mysql.com/12327" target="_top">Bug#12327</a>)</p></li><li><p>
        When restoring <code class="literal">INFORMATION_SCHEMA</code> as the
        default database after failing to execute a stored procedure in
        an inaccessible database, the server returned a spurious
        <code class="literal">ERROR 42000: Unknown database
        'information_schema'</code> message.
       (<a href="http://bugs.mysql.com/12318" target="_top">Bug#12318</a>)</p></li><li><p>
        Users created using an IP address or other alias rather than a
        host name listed in <code class="filename">/etc/hosts</code> could not
        set their own passwords.
       (<a href="http://bugs.mysql.com/12302" target="_top">Bug#12302</a>)</p></li><li><p>
        The <code class="literal">NUMERIC_SCALE</code> column of the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table
        should be returned as <code class="literal">0</code> for integer columns.
        It was being returned as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/12301" target="_top">Bug#12301</a>)</p></li><li><p>
        Creating a view that included the
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> function resulted
        in a invalid view.
       (<a href="http://bugs.mysql.com/12298" target="_top">Bug#12298</a>)</p></li><li><p>
        <a href="sql-syntax.html#checksum-table" title="12.5.2.4. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> command returned
        incorrect results for tables with deleted rows. After upgrading,
        users who used stored checksum information to detect table
        changes should rebuild their checksum data.
       (<a href="http://bugs.mysql.com/12296" target="_top">Bug#12296</a>)</p></li><li><p>
        Inserting <code class="literal">NULL</code> into a
        <code class="literal">GEOMETRY</code> column for a table that has a
        trigger could result in a server crash if the table was
        subsequently dropped.
       (<a href="http://bugs.mysql.com/12281" target="_top">Bug#12281</a>)</p></li><li><p>
        <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a> failed to delete
        <code class="filename">.TMD</code> temporary files when run with
        <code class="option">-T</code> option.
       (<a href="http://bugs.mysql.com/12235" target="_top">Bug#12235</a>)</p></li><li><p>
        A race condition between server threads could cause a crash if
        one thread deleted a stored routine while another thread was
        executing a stored routine.
       (<a href="http://bugs.mysql.com/12228" target="_top">Bug#12228</a>)</p></li><li><p>
        Duplicate instructions in stored procedures resulted in
        incorrect execution when the optimizer optimized the duplicate
        code away.
       (<a href="http://bugs.mysql.com/12168" target="_top">Bug#12168</a>)</p></li><li><p>
        <code class="literal">XA</code> allowed two active transactions to be
        started with the same XID.
       (<a href="http://bugs.mysql.com/12162" target="_top">Bug#12162</a>)</p></li><li><p>
        <code class="literal">NULL</code> column definitions read incorrectly for
        inner tables of nested outer joins.
       (<a href="http://bugs.mysql.com/12154" target="_top">Bug#12154</a>)</p></li><li><p>
        <code class="literal">GROUP_CONCAT</code> ignores the
        <code class="literal">DISTINCT</code> modifier when used in a query
        joining multiple tables where one of the tables has a single
        row.
       (<a href="http://bugs.mysql.com/12095" target="_top">Bug#12095</a>)</p></li><li><p>
        A failure to obtain a lock for a <code class="literal">LOCK IN SHARE
        MODE</code> query could result in a server crash.
       (<a href="http://bugs.mysql.com/12082" target="_top">Bug#12082</a>)</p></li><li><p>
        <code class="literal">SELECT ... INTO <em class="replaceable"><code>var_name</code></em>
        </code> within a trigger could cause a server crash.
       (<a href="http://bugs.mysql.com/11973" target="_top">Bug#11973</a>)</p></li><li><p>
        Using cursors and nested queries for the same table, corrupted
        results were returned for the outer query.
       (<a href="http://bugs.mysql.com/11909" target="_top">Bug#11909</a>)</p></li><li><p>
        A query using a <code class="literal">LEFT JOIN</code>, an
        <code class="literal">IN</code> subquery on the outer table, and an
        <code class="literal">ORDER BY</code> clause, caused the server to crash
        when cursors were enabled.
       (<a href="http://bugs.mysql.com/11901" target="_top">Bug#11901</a>)</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> query with
        <code class="literal">FULLTEXT</code> could cause server crash.
       (<a href="http://bugs.mysql.com/11869" target="_top">Bug#11869</a>)</p></li><li><p>
        Some subqueries of the form <code class="literal">SELECT ... WHERE ROW(...)
        IN (<em class="replaceable"><code>subquery)</code></em></code> were being
        handled incorrectly.
       (<a href="http://bugs.mysql.com/11867" target="_top">Bug#11867</a>)</p></li><li><p>
        Column names in subqueries must be unique, but were not being
        checked for uniqueness.
       (<a href="http://bugs.mysql.com/11864" target="_top">Bug#11864</a>)</p></li><li><p>
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> did not work with <code class="literal">TEMPORARY</code>
        <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/11816" target="_top">Bug#11816</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-info" title="20.9.3.35. mysql_info()"><code class="literal">mysql_info()</code></a> C API function
        could return incorrect data when executed as part of a
        multi-statement that included a mix of statements that do and do
        not return information.
       (<a href="http://bugs.mysql.com/11688" target="_top">Bug#11688</a>)</p></li><li><p>
        A trigger that included a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statement could cause a server crash.
       (<a href="http://bugs.mysql.com/11587" target="_top">Bug#11587</a>)</p></li><li><p>
        Built-in commands for the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, such
        as <code class="literal">delimiter</code> and <code class="literal">\d</code> are
        now always parsed within files that are read using the
        <code class="literal">\.</code> and <code class="literal">source</code> commands.
       (<a href="http://bugs.mysql.com/11523" target="_top">Bug#11523</a>)</p></li><li><p>
        Added portability check for Intel compiler to address a problem
        compiling <code class="literal">InnoDB</code> code.
       (<a href="http://bugs.mysql.com/11510" target="_top">Bug#11510</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE <em class="replaceable"><code>db_name.t</code></em> RENAME
        <em class="replaceable"><code>t</code></em></code> did not move the table to
        default database unless the new name was qualified with the
        database name.
       (<a href="http://bugs.mysql.com/11493" target="_top">Bug#11493</a>)</p></li><li><p>
        Joins on <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns of
        different lengths could produce incorrect results.
       (<a href="http://bugs.mysql.com/11398" target="_top">Bug#11398</a>)</p></li><li><p>
        For PKG installs on Mac OS X, the preinstallation and
        postinstallation scripts were being run only for new
        installations and not for upgrade installations, resulting in an
        incomplete installation process.
       (<a href="http://bugs.mysql.com/11380" target="_top">Bug#11380</a>)</p></li><li><p>
        Prepared statement parameters could cause errors in the binary
        log if the character set was <code class="literal">cp932</code>.
       (<a href="http://bugs.mysql.com/11338" target="_top">Bug#11338</a>)</p></li><li><p>
        Columns defined as <code class="literal">TINYINT(1)</code> were redefined
        as <code class="literal">TINYINT(4)</code> when incorporated into a
        <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11335" target="_top">Bug#11335</a>)</p></li><li><p>
        Stored procedures with particularly long loops could crash
        server due to memory leak.
       (<a href="http://bugs.mysql.com/11247" target="_top">Bug#11247</a>, <a href="http://bugs.mysql.com/12297" target="_top">Bug#12297</a>)</p></li><li><p>
        <a href="sql-syntax.html#set-transaction" title="12.4.6. SET TRANSACTION Syntax"><code class="literal">SET GLOBAL
        TRANSACTION ISOLATION LEVEL</code></a> was not working.
       (<a href="http://bugs.mysql.com/11207" target="_top">Bug#11207</a>)</p></li><li><p>
        A view was allowed to depend on a function that referred to a
        temporary table.
       (<a href="http://bugs.mysql.com/10970" target="_top">Bug#10970</a>)</p></li><li><p>
        Issuing <code class="literal">FLUSH INSTANCES</code> followed by
        <code class="literal">STOP INSTANCE</code> caused instance manager to
        crash.
       (<a href="http://bugs.mysql.com/10957" target="_top">Bug#10957</a>)</p></li><li><p>
        User variables were not automatically cast for comparisons,
        causing queries to fail if the column and connection character
        sets differed. Now when mixing strings with different character
        sets but the same coercibility, allow conversion if one
        character set is a superset of the other.
       (<a href="http://bugs.mysql.com/10892" target="_top">Bug#10892</a>)</p></li><li><p>
        An incorrect conversion from <code class="literal">double</code> to
        <code class="literal">ulonglong</code> caused indexes not to be used for
        <code class="literal">BDB</code> tables on HP-UX.
       (<a href="http://bugs.mysql.com/10802" target="_top">Bug#10802</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> and
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a> were converting
        invalid dates to <code class="literal">NULL</code> in
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> SQL mode rather
        than rejecting them with an error.
       (<a href="http://bugs.mysql.com/10627" target="_top">Bug#10627</a>)</p></li><li><p>
        Views with multiple <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a> and
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION ALL</code></a>
        produced incorrect results.
       (<a href="http://bugs.mysql.com/10624" target="_top">Bug#10624</a>)</p></li><li><p>
        It was not possible to create a stored function with a spatial
        return value data type.
       (<a href="http://bugs.mysql.com/10499" target="_top">Bug#10499</a>)</p></li><li><p>
        <code class="literal">INSERT ... SELECT ... ON DUPLICATE KEY UPDATE</code>
        could fail with an erroneous “<span class="quote">Column
        '<em class="replaceable"><code>col_name</code></em>' specified twice</span>”
        error.
       (<a href="http://bugs.mysql.com/10109" target="_top">Bug#10109</a>)</p></li><li><p>
        The only valid values for the <code class="literal">PACK_KEYS</code> table
        option are 0 and 1, but other values were being accepted.
       (<a href="http://bugs.mysql.com/10056" target="_top">Bug#10056</a>)</p></li><li><p>
        Using a stored procedure that referenced tables in the
        <code class="literal">INFORMATION_SCHEMA</code> database would return an
        empty result set.
       (<a href="http://bugs.mysql.com/10055" target="_top">Bug#10055</a>, <a href="http://bugs.mysql.com/12278" target="_top">Bug#12278</a>)</p></li><li><p>
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> combined with <code class="literal">LOCK TABLE ..
        WRITE</code> caused deadlock.
       (<a href="http://bugs.mysql.com/9459" target="_top">Bug#9459</a>)</p></li><li><p>
        A data type of <code class="literal">CHAR BINARY</code> was not recognized
        as valid for stored routine parameters.
       (<a href="http://bugs.mysql.com/9048" target="_top">Bug#9048</a>)</p></li><li><p>
        <code class="literal">ISO-8601</code> formatted dates were not being
        parsed correctly.
       (<a href="http://bugs.mysql.com/7308" target="_top">Bug#7308</a>)</p></li><li><p>
        On Windows when the
        <a href="storage-engines.html#sysvar_innodb_buffer_pool_awe_mem_mb"><code class="option">--innodb_buffer_pool_awe_mem_mb</code></a>
        option has been given, the server detects whether AWE support is
        available and has been compiled into the server, and displays an
        appropriate error message if not.
       (<a href="http://bugs.mysql.com/6581" target="_top">Bug#6581</a>)</p></li><li><p>
        Pathame values for options such as
        <a href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> or
        <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> didn't work on Japanese
        Windows machines for directory names containing multi-byte
        characters having a second byte of <code class="literal">0x5C</code>
        (“<span class="quote"><code class="literal">\</code></span>”).
       (<a href="http://bugs.mysql.com/5439" target="_top">Bug#5439</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> sometimes
        reported a <code class="literal">Row_format</code> value of
        <code class="literal">Dynamic</code> for <code class="literal">MEMORY</code> tables,
        though such tables always have a format of
        <code class="literal">Fixed</code>.
       (<a href="http://bugs.mysql.com/3094" target="_top">Bug#3094</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-11"></a>C.1.75. Changes in MySQL 5.0.11 (06 August 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Improved handling of the configuration variables
        <code class="literal">NoOfPagesToDiskDuringRestartACC</code>,
        <code class="literal">NoOfPagesToDiskAfterRestartACC</code>,
        <code class="literal">NoOfPagesToDiskDuringRestartTUP</code>, and
        <code class="literal">NoOfPagesToDiskAfterRestartTUP</code> should result
        in noticeably faster startup times for MySQL Cluster.
       (<a href="http://bugs.mysql.com/12149" target="_top">Bug#12149</a>)</p></li><li><p>
        Added an optimization that avoids key access with
        <code class="literal">NULL</code> keys for the
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> method when used in outer
        joins.
       (<a href="http://bugs.mysql.com/12144" target="_top">Bug#12144</a>)</p></li><li><p>
        Added support of where clause for queries with <code class="literal">FROM
        DUAL</code>.
       (<a href="http://bugs.mysql.com/11745" target="_top">Bug#11745</a>)</p></li><li><p>
        Maximum size of stored procedures increased from 64k to 4Gb.
       (<a href="http://bugs.mysql.com/11602" target="_top">Bug#11602</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-character-set" title="12.5.5.3. SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER SET</code></a> and
        <code class="literal">INFORMATION_SCHEMA</code> now properly report the
        <code class="literal">Latin1</code> character set as
        <code class="literal">cp1252</code>.
       (<a href="http://bugs.mysql.com/11216" target="_top">Bug#11216</a>)</p></li><li><p>
        Added new
        <a href="error-handling.html#error_er_stack_overrun_need_more"><code class="literal">ER_STACK_OVERRUN_NEED_MORE</code></a> error
        message to indicate that, while the stack is not completely
        full, more stack space is required.
       (<a href="http://bugs.mysql.com/11213" target="_top">Bug#11213</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now dumps triggers for each dumped
        table. This can be suppressed with the
        <a href="programs.html#option_mysqldump_triggers"><code class="option">--skip-triggers</code></a>
        option.
       (<a href="http://bugs.mysql.com/10431" target="_top">Bug#10431</a>)</p></li><li><p>
        Added error message for users who attempt <code class="literal">CREATE TABLE
        ... LIKE</code> and specify a nontable in the
        <code class="literal">LIKE</code> clause.
       (<a href="http://bugs.mysql.com/6859" target="_top">Bug#6859</a>)</p></li><li><p>
        Security improvement: Applied a patch that addresses a potential
        <code class="literal">zlib</code> data vulnerability that could result in
        an application crash. This only affects the binaries for
        platforms that are linked statically against the bundled zlib
        (most notably Microsoft Windows and HP-UX).
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-1849" target="_top">CVE-2005-1849</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The MySQL Cluster backup log was invalid where the number of
        Cluster nodes was not equal to a power of 2.
       (<a href="http://bugs.mysql.com/11675" target="_top">Bug#11675</a>)</p></li><li><p>
        Creation of the <code class="literal">mysql</code> group account failed
        during the RPM installation.
       (<a href="http://bugs.mysql.com/12348" target="_top">Bug#12348</a>)</p></li><li><p>
        Updated dependency list for RPM builds to include missing
        dependencies such as <code class="literal">useradd</code> and
        <code class="literal">groupadd</code>.
       (<a href="http://bugs.mysql.com/12233" target="_top">Bug#12233</a>)</p></li><li><p>
        A delayed insert that would duplicate an existing record crashed
        the server instead.
       (<a href="http://bugs.mysql.com/12226" target="_top">Bug#12226</a>)</p></li><li><p>
        When <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> was called
        concurrently with a <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> of
        any table, the MySQL Server crashed.
       (<a href="http://bugs.mysql.com/12212" target="_top">Bug#12212</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: True
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>: Return
        <code class="literal">NULL</code> columns in the format expected by MySQL.
       (<a href="http://bugs.mysql.com/12186" target="_top">Bug#12186</a>)</p></li><li><p>
        Information about a trigger was not displayed in the output of
        <code class="literal">SELECT ... FROM INFORMATION_SCHEMA.TRIGGERS</code>
        when the selected database was
        <code class="literal">INFORMATION_SCHEMA</code>, prior to the trigger's
        first invocation.
       (<a href="http://bugs.mysql.com/12127" target="_top">Bug#12127</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Do not flush after each write, not
        even before setting up the doublewrite buffer. Flushing can be
        extremely slow on some systems.
       (<a href="http://bugs.mysql.com/12125" target="_top">Bug#12125</a>)</p></li><li><p>
        Two threads could potentially initialize different characters
        sets and overwrite each other.
       (<a href="http://bugs.mysql.com/12109" target="_top">Bug#12109</a>)</p></li><li><p>
        <code class="literal">big5</code> strings were not being stored in
        <code class="literal">FULLTEXT</code> index.
       (<a href="http://bugs.mysql.com/12075" target="_top">Bug#12075</a>)</p></li><li><p>
        Character data truncated when GBK characters
        <code class="literal">0xA3A0</code> and <code class="literal">0xA1</code> are
        present.
       (<a href="http://bugs.mysql.com/11987" target="_top">Bug#11987</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> when
        <code class="literal">sql_mode = 'TRADITIONAL'</code> gave rise to an
        invalid error message.
       (<a href="http://bugs.mysql.com/11964" target="_top">Bug#11964</a>)</p></li><li><p>
        Issuing successive <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        TABLES WITH READ LOCK</code></a> would cause the
        <code class="literal">mysql</code> client to hang.
       (<a href="http://bugs.mysql.com/11934" target="_top">Bug#11934</a>)</p></li><li><p>
        <code class="literal">mysql_install_db</code> used static
        <code class="literal">localhost</code> value in
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> tables even when server
        host name is not <code class="literal">localhost</code>, such as
        <code class="literal">localhost.localdomain</code>. This change is applied
        to version 5.0.10b on Windows.
       (<a href="http://bugs.mysql.com/11822" target="_top">Bug#11822</a>)</p></li><li><p>
        Comparisons like <code class="literal">SELECT "A\\" LIKE "A\\";</code>
        fail when using <code class="literal">SET NAMES utf8;</code>.
       (<a href="http://bugs.mysql.com/11754" target="_top">Bug#11754</a>)</p></li><li><p>
        Attempting to repair a table having a fulltext index on a column
        containing words whose length exceeded 21 characters and where
        <a href="server-administration.html#sysvar_myisam_repair_threads"><code class="literal">myisam_repair_threads</code></a> was
        greater than 1 would crash the server.
       (<a href="http://bugs.mysql.com/11684" target="_top">Bug#11684</a>)</p></li><li><p>
        When used in a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query
        against a view, the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function returned
        only a single row.
       (<a href="http://bugs.mysql.com/11412" target="_top">Bug#11412</a>)</p></li><li><p>
        Multiplying <a href="functions.html#function_abs"><code class="literal">ABS()</code></a> output by a
        negative number would return incorrect results.
       (<a href="http://bugs.mysql.com/11402" target="_top">Bug#11402</a>)</p></li><li><p>
        The <a href="functions.html#function_lpad"><code class="literal">LPAD()</code></a> and
        <a href="functions.html#function_rpad"><code class="literal">RPAD()</code></a> functions returned the
        wrong length to
        <a href="connectors-apis.html#mysql-fetch-fields" title="20.9.3.19. mysql_fetch_fields()"><code class="literal">mysql_fetch_fields()</code></a>.
       (<a href="http://bugs.mysql.com/11311" target="_top">Bug#11311</a>)</p></li><li><p>
        A <code class="literal">UNIQUE VARCHAR</code> column would be
        mis-identified as <code class="literal">MUL</code> in table descriptions.
       (<a href="http://bugs.mysql.com/11227" target="_top">Bug#11227</a>)</p></li><li><p>
        DDL statements are now allowed in stored procedures if the
        procedure is not invoked from a stored function or a trigger.
        This fix also resolves a problem where a
        <code class="literal">TEMPORARY</code> statement created by one stored
        routine was inaccessible to another routine invoked during the
        same connection.
       (<a href="http://bugs.mysql.com/11126" target="_top">Bug#11126</a>)</p></li><li><p>
        Calling the C API function
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.9.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> after all
        rows of a result set were exhausted would return an error
        instead of <code class="literal">MYSQL_NO_DATA</code>.
       (<a href="http://bugs.mysql.com/11037" target="_top">Bug#11037</a>)</p></li><li><p>
        <code class="literal">SELECT @@local...</code> returned
        <code class="literal">@@session...</code> in the column header.
       (<a href="http://bugs.mysql.com/10724" target="_top">Bug#10724</a>)</p></li><li><p>
        Incorrect error message displayed if user attempted to create a
        table in a nonexisting database using <code class="literal">CREATE
        <em class="replaceable"><code>database_name</code></em>.<em class="replaceable"><code>table_name</code></em>
        </code> syntax.
       (<a href="http://bugs.mysql.com/10407" target="_top">Bug#10407</a>)</p></li><li><p>
        Unsigned <code class="literal">LONG</code> system variables may return
        incorrect value when retrieved with a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> for certain values.
       (<a href="http://bugs.mysql.com/10351" target="_top">Bug#10351</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> sometimes returned
        a result with a different collation from that of its arguments.
       (<a href="http://bugs.mysql.com/10201" target="_top">Bug#10201</a>)</p></li><li><p>
        Prepared statements were not being written to the Slow Query
        log.
       (<a href="http://bugs.mysql.com/9968" target="_top">Bug#9968</a>)</p></li><li><p>
        The value of <code class="literal">max_connections_per_hour</code> was
        capped by the unrelated
        <a href="server-administration.html#sysvar_max_user_connections"><code class="literal">max_user_connections</code></a> setting.
       (<a href="http://bugs.mysql.com/9947" target="_top">Bug#9947</a>)</p></li><li><p>
        In stored procedures, a cursor that fetched an empty string into
        a variable would set the variable to <code class="literal">NULL</code>
        instead.
       (<a href="http://bugs.mysql.com/8692" target="_top">Bug#8692</a>)</p></li><li><p>
        Added checks to prevent error when allocating memory when there
        was insufficient memory available.
       (<a href="http://bugs.mysql.com/7003" target="_top">Bug#7003</a>)</p></li><li><p>
        Multiple <code class="literal">SELECT SQL_CACHE</code> queries in a stored
        procedure causes error and client hang.
       (<a href="http://bugs.mysql.com/6897" target="_top">Bug#6897</a>)</p></li><li><p>
        A trigger dependent on a feature of one
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> setting would cause an
        error when invoked after the
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> was changed.
       (<a href="http://bugs.mysql.com/5891" target="_top">Bug#5891</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-10"></a>C.1.76. Changes in MySQL 5.0.10 (27 July 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The namespace for triggers has changed. Previously, trigger
        names had to be unique per table. Now they must be unique within
        the schema (database). An implication of this change is that
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> syntax now uses a
        schema name instead of a table name (schema name is optional
        and, if omitted, the current schema will be used).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          When upgrading from a version of MySQL 5 older than 5.0.10 to
          MySQL 5.0.10 or newer, you must drop all triggers and
          re-create them or <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a>
          will not work after the upgrade. A suggested procedure for
          doing this is given in
          <a href="installing.html#upgrading-from-previous-series" title="2.18.1.2. Upgrading from MySQL 4.1 to 5.0">Section 2.18.1.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
        </p></div><p>(<a href="http://bugs.mysql.com/5892" target="_top">Bug#5892</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A new <code class="option">-P</code> option is available for use with the
        <span><strong class="command">ndb_mgmd</strong></span> client. When called with this
        option, <span><strong class="command">ndb_mgmd</strong></span> prints all configuration
        data to <code class="literal">stdout</code>, then exits.
      </p></li><li><p>
        On Windows, the search path used by MySQL applications for
        <code class="filename">my.ini</code> now includes
        <code class="filename">..\my.ini</code> (that is, the application's
        parent directory, and hence, the installation directory).
       (<a href="http://bugs.mysql.com/10419" target="_top">Bug#10419</a>)</p></li><li><p>
        The viewing of triggers and trigger metadata has been enhanced
        as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            An extension to the <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a>
            command has been added: <a href="sql-syntax.html#show-triggers" title="12.5.5.35. SHOW TRIGGERS Syntax"><code class="literal">SHOW
            TRIGGERS</code></a> can be used to view a listing of
            triggers. See <a href="sql-syntax.html#show-triggers" title="12.5.5.35. SHOW TRIGGERS Syntax">Section 12.5.5.35, “<code class="literal">SHOW TRIGGERS</code> Syntax”</a>, for details.
          </p></li><li><p>
            The <code class="literal">INFORMATION_SCHEMA</code> database now
            includes a <a href="information-schema.html#triggers-table" title="19.16. The INFORMATION_SCHEMA TRIGGERS Table"><code class="literal">TRIGGERS</code></a> table. See
            <a href="information-schema.html#triggers-table" title="19.16. The INFORMATION_SCHEMA TRIGGERS Table">Section 19.16, “The <code class="literal">INFORMATION_SCHEMA TRIGGERS</code> Table”</a>, for details.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/9586" target="_top">Bug#9586</a>)</p></li><li><p>
        It is no longer necessary to issue an explicit
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> for any tables
        accessed by a trigger prior to executing any statements that
        might invoke the trigger.
      </p><p>
        Previously, executing a statement that invoked a trigger would
        cause problems unless a <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLES</code></a> was first issued for any tables accessed by the
        trigger. The exact nature of the problem depended upon the MySQL
        5.0 release being used: prior to 5.0.3, this resulted in a
        crash; from 5.0.3 to 5.0.7, MySQL would issue a warning; in
        5.0.9, the server would issue an error.
      </p><p>
        The same issue caused <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>
        to fail following
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">UNLOCK
        TABLES</code></a> if triggers were involved.
       (<a href="http://bugs.mysql.com/8406" target="_top">Bug#8406</a>, <a href="http://bugs.mysql.com/9581" target="_top">Bug#9581</a>)</p></li><li><p>
        The MySQL server now starts correctly with all combinations of
        <a href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> and
        <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a>, resolving an issue
        introduced by the original fix for this bug in MySQL 4.1.9.
       (<a href="http://bugs.mysql.com/7249" target="_top">Bug#7249</a>)</p><p>See also <a href="http://bugs.mysql.com/7518" target="_top">Bug#7518</a>.</p></li><li><p>
        Added
        <a href="connectors-apis.html#mysql-get-character-set-info" title="20.9.3.26. mysql_get_character_set_info()"><code class="literal">mysql_get_character_set_info()</code></a> C
        API function for obtaining information about the default
        character set of the current connection.
      </p></li><li><p>
        An extension to the <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> command
        has been added: <a href="sql-syntax.html#show-triggers" title="12.5.5.35. SHOW TRIGGERS Syntax"><code class="literal">SHOW TRIGGERS</code></a> can
        be used to view a listing of triggers. See
        <a href="sql-syntax.html#show-triggers" title="12.5.5.35. SHOW TRIGGERS Syntax">Section 12.5.5.35, “<code class="literal">SHOW TRIGGERS</code> Syntax”</a>, for details.
      </p></li><li><p>
        Add the <a href="programs.html#option_general_defaults-group-suffix"><code class="option">--defaults-group-suffix</code></a>
        option. See <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
      </p></li><li><p>
        The bundled version of the <code class="literal">readline</code> library
        was upgraded to version 5.0.
      </p></li><li><p>
        Triggers can now reference tables by name. See
        <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax">Section 12.1.11, “<code class="literal">CREATE TRIGGER</code> Syntax”</a>, for more information.
      </p></li><li><p>
        Add <a href="server-administration.html#sysvar_table_lock_wait_timeout"><code class="literal">table_lock_wait_timeout</code></a>
        global system variable.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A vulnerability in <code class="literal">zlib</code> could result in a
        buffer overflow and arbitrary code execution.
       (<a href="http://bugs.mysql.com/11844" target="_top">Bug#11844</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-2096" target="_top">CVE-2005-2096</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-1849" target="_top">CVE-2005-1849</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The temporary tables created by an <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> on an <code class="literal">NDB</code> table
        were visible to all SQL nodes in the cluster.
       (<a href="http://bugs.mysql.com/12055" target="_top">Bug#12055</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> ignored the
        <code class="literal">Hostname</code> option in the <code class="literal">[ndbd
        default]</code> section of the cluster configuration file.
       (<a href="http://bugs.mysql.com/12028" target="_top">Bug#12028</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output of <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror <code class="option">--help</code></strong></span></a>
        did not display any information about the
        <a href="programs.html#option_perror_ndb"><code class="option">--ndb</code></a> option.
       (<a href="http://bugs.mysql.com/11999" target="_top">Bug#11999</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to create or drop tables during a backup would cause
        the cluster to shut down.
       (<a href="http://bugs.mysql.com/11942" target="_top">Bug#11942</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgmd</strong></span> leaked file descriptors.
       (<a href="http://bugs.mysql.com/11898" target="_top">Bug#11898</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The MySQL Server left core files following shutdown if data
        nodes had failed.
       (<a href="http://bugs.mysql.com/11516" target="_top">Bug#11516</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When attempting to drop a table with a broken unique index,
        <code class="literal">NDB</code> failed to drop the table and
        erroneously report that the table was unknown.
       (<a href="http://bugs.mysql.com/11355" target="_top">Bug#11355</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Trying to use a greater number of tables than specified by the
        value of <code class="literal">MaxNoOfTables</code> caused table
        corruption such that data nodes could not be restarted.
       (<a href="http://bugs.mysql.com/9994" target="_top">Bug#9994</a>)</p></li><li><p>
        The server did not compile correctly when using
        <span><strong class="command">gcc4</strong></span> on AMD64 platforms.
       (<a href="http://bugs.mysql.com/12040" target="_top">Bug#12040</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-binary-logs" title="12.5.5.1. SHOW BINARY LOGS Syntax"><code class="literal">SHOW BINARY LOGS</code></a> displayed a file
        size of 0 for all log files but the current one if the files
        were not located in the data directory.
       (<a href="http://bugs.mysql.com/12004" target="_top">Bug#12004</a>)</p></li><li><p>
        Increased the version number of the
        <code class="literal">libmysqlclient</code> shared library from 14 to 15
        because it is binary incompatible with the MySQL 4.1 client
        library.
       (<a href="http://bugs.mysql.com/11893" target="_top">Bug#11893</a>)</p></li><li><p>
        The server crashed when dropping a trigger that invoked a stored
        procedure, if the procedure was not yet in the
        connection-specific stored routine cache.
       (<a href="http://bugs.mysql.com/11889" target="_top">Bug#11889</a>)</p></li><li><p>
        <code class="literal">SELECT ... NOT IN()</code> gave unexpected results
        when only static value present between the
        <code class="literal">()</code>.
       (<a href="http://bugs.mysql.com/11885" target="_top">Bug#11885</a>)</p></li><li><p>
        A recent optimizer change caused <code class="literal">DELETE ... WHERE ...
        NOT LIKE</code> and <code class="literal">DELETE ... WHERE ... NOT
        BETWEEN</code> to not properly identify the rows to be
        deleted.
       (<a href="http://bugs.mysql.com/11853" target="_top">Bug#11853</a>)</p></li><li><p>
        Execution of a prepared statement that invoked a nonexistent or
        dropped stored routine would crash the server.
       (<a href="http://bugs.mysql.com/11834" target="_top">Bug#11834</a>)</p></li><li><p>
        Selecting the result of an aggregate function for an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> or <code class="literal">SET</code>
        column within a subquery could result in a server crash.
       (<a href="http://bugs.mysql.com/11821" target="_top">Bug#11821</a>)</p></li><li><p>
        Creating a table with a <code class="literal">SET</code> or
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column with the
        <code class="literal">DEFAULT 0</code> clause caused a server crash if the
        table's character set was <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/11819" target="_top">Bug#11819</a>)</p></li><li><p>
        Incorrect column values could be retrieved from views defined
        using statements of the form <code class="literal">SELECT * FROM
        <em class="replaceable"><code>tbl_name</code></em></code>.
       (<a href="http://bugs.mysql.com/11771" target="_top">Bug#11771</a>)</p></li><li><p>
        When invoked within a view,
        <a href="functions.html#function_subtime"><code class="literal">SUBTIME()</code></a> returned incorrect
        values.
       (<a href="http://bugs.mysql.com/11760" target="_top">Bug#11760</a>)</p></li><li><p>
        For several character sets, MySQL incorrectly converted the
        character code for the division sign to the
        <code class="literal">eucjpms</code> character set.
       (<a href="http://bugs.mysql.com/11717" target="_top">Bug#11717</a>)</p></li><li><p>
        Performing an <code class="literal">ORDER BY</code> on a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> from a
        <code class="literal">VIEW</code> produced unexpected results when
        <code class="literal">VIEW</code> and underlying table had the same column
        name on different columns.
       (<a href="http://bugs.mysql.com/11709" target="_top">Bug#11709</a>)</p></li><li><p>
        Execution of <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> failed
        to increment the <code class="literal">Com_show_tables</code> status
        variable.
       (<a href="http://bugs.mysql.com/11685" target="_top">Bug#11685</a>)</p></li><li><p>
        LIKE pattern matching using prefix index didn't return correct
        result.
       (<a href="http://bugs.mysql.com/11650" target="_top">Bug#11650</a>)</p></li><li><p>
        Invoking the <a href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a>
        function could cause a server crash if the server was started
        without the <a href="server-administration.html#option_mysqld_des-key-file"><code class="option">--des-key-file</code></a>
        option.
       (<a href="http://bugs.mysql.com/11643" target="_top">Bug#11643</a>)</p></li><li><p>
        IP addresses not shown in <code class="literal">ndb_mgm SHOW</code>
        command on second ndb_mgmd (or on ndb_mgmd restart).
       (<a href="http://bugs.mysql.com/11596" target="_top">Bug#11596</a>)</p></li><li><p>
        <code class="literal">SHOW PROCEDURE/FUNCTION STATUS</code> didn't work
        for users with limited access.
       (<a href="http://bugs.mysql.com/11577" target="_top">Bug#11577</a>)</p></li><li><p>
        <code class="literal">mysqlbinlog</code> was failing the test suite on
        Windows due to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a> being
        incorrectly cast to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>.
       (<a href="http://bugs.mysql.com/11567" target="_top">Bug#11567</a>)</p></li><li><p>
        The server crashed upon execution of a statement that used a
        stored function indirectly (via a view) if the function was not
        yet in the connection-specific stored routine cache and the
        statement would update a
        <code class="literal">Handler_<em class="replaceable"><code>xxx</code></em></code> status
        variable. This fix allows the use of stored routines under
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> without explicitly
        locking the <code class="literal">mysql.proc</code> table. However, you
        cannot use <code class="literal">mysql.proc</code> in statements that will
        combine locking of it with modifications for other tables.
       (<a href="http://bugs.mysql.com/11554" target="_top">Bug#11554</a>)</p></li><li><p>
        Aliasing the column names in a <code class="literal">VIEW</code> did not
        work when executing a <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        query on the <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11399" target="_top">Bug#11399</a>)</p></li><li><p>
        The <code class="literal">mysql.proc</code> table was not being created
        properly with the proper <code class="literal">utf8</code> character set
        and collation, causing server crashes for stored procedure
        operations if the server was using a multi-byte character set.
        To take advantage of the bug fix,
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables"><span><strong class="command">mysql_fix_privilege_tables</strong></span></a> should be run to
        correct the structure of the <code class="literal">mysql.proc</code>
        table.
      </p><p>
        Note that it is <span class="emphasis"><em>necessary</em></span> to run
        <span><strong class="command">mysql_fix_privileges_tables</strong></span> when upgrading
        from a previous installation that contains the
        <code class="literal">mysql.proc</code> table (that is, from a previous
        5.0 installation). Otherwise, creating stored procedures might
        not work.
       (<a href="http://bugs.mysql.com/11365" target="_top">Bug#11365</a>)</p></li><li><p>
        For prepared statements, the SQL parser did not disallow
        “<span class="quote"><code class="literal">?</code></span>” parameter markers
        immediately adjacent to other tokens, which could result in
        malformed statements in the binary log. (For example,
        <code class="literal">SELECT * FROM t WHERE? = 1</code> could become
        <code class="literal">SELECT * FROM t WHERE0 = 1</code>.)
       (<a href="http://bugs.mysql.com/11299" target="_top">Bug#11299</a>)</p></li><li><p>
        The C API function
        <a href="connectors-apis.html#mysql-stmt-reset" title="20.9.7.21. mysql_stmt_reset()"><code class="literal">mysql_stmt_reset()</code></a> did not clear
        error information.
       (<a href="http://bugs.mysql.com/11183" target="_top">Bug#11183</a>)</p></li><li><p>
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> had some
        inaccurate values for some data types.
       (<a href="http://bugs.mysql.com/11057" target="_top">Bug#11057</a>)</p></li><li><p>
        MySQL server would crash is a fetch was performed after a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a> when
        cursors were involved.
       (<a href="http://bugs.mysql.com/10760" target="_top">Bug#10760</a>)</p></li><li><p>
        When two threads competed for the same table, a deadlock could
        occur if one thread also had a lock on another table through
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> and the thread was
        attempting to remove the table in some manner while the other
        thread tried to place locks on both tables.
       (<a href="http://bugs.mysql.com/10600" target="_top">Bug#10600</a>)</p></li><li><p>
        When used within a subquery,
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> returned an empty
        string.
       (<a href="http://bugs.mysql.com/10269" target="_top">Bug#10269</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> queries
        using <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> would fail
        with an error.
       (<a href="http://bugs.mysql.com/9979" target="_top">Bug#9979</a>)</p></li><li><p>
        With strict SQL mode enabled, <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> reported spurious “<span class="quote">Invalid default
        value</span>” messages for columns that had no
        <code class="literal">DEFAULT</code> clause.
       (<a href="http://bugs.mysql.com/9881" target="_top">Bug#9881</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-fetch-fields" title="20.9.3.19. mysql_fetch_fields()"><code class="literal">mysql_fetch_fields()</code></a> returned
        incorrect length information for <code class="literal">MEDIUM</code> and
        <code class="literal">LONG</code> <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns.
       (<a href="http://bugs.mysql.com/9735" target="_top">Bug#9735</a>)</p></li><li><p>
        Within a stored procedure, selecting from a table through a view
        caused subsequent updates to the table to fail with a message
        that the table was read-locked.
       (<a href="http://bugs.mysql.com/9597" target="_top">Bug#9597</a>)</p></li><li><p>
        Within a stored procedure that selects from a table, invoking
        another procedure that requires a write lock for the table
        caused that procedure to fail with a message that the table was
        read-locked.
       (<a href="http://bugs.mysql.com/9565" target="_top">Bug#9565</a>)</p></li><li><p>
        Server-side prepared statements failed for columns with a
        character set of <code class="literal">ucs2</code>.
       (<a href="http://bugs.mysql.com/9442" target="_top">Bug#9442</a>)</p></li><li><p>
        In SQL prepared statements, comparisons could fail for values
        not equally space-padded. For example, <code class="literal">SELECT 'a' =
        'a ';</code> returns 1, but <code class="literal">PREPARE s FROM
        'SELECT ?=?'; SET @a = 'a', @b = 'a '; PREPARE s FROM
        'SELECT ?=?'; EXECUTE s USING @a, @b;</code> incorrectly
        returned 0.
       (<a href="http://bugs.mysql.com/9379" target="_top">Bug#9379</a>)</p></li><li><p>
        References to system variables in an SQL statement prepared with
        <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> were evaluated during
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a> to their values at
        prepare time, not to their values at execution time.
       (<a href="http://bugs.mysql.com/9359" target="_top">Bug#9359</a>)</p></li><li><p>
        The server did not accept some fully-qualified trigger names.
       (<a href="http://bugs.mysql.com/8758" target="_top">Bug#8758</a>)</p></li><li><p>
        Creating a trigger in one database that references a table in
        another database was being allowed without generating errors.
       (<a href="http://bugs.mysql.com/8751" target="_top">Bug#8751</a>)</p></li><li><p>
        For server shutdown on Windows, error messages of the form
        <code class="literal">Forcing close of thread <em class="replaceable"><code>n</code></em>
        user: '<em class="replaceable"><code>name</code></em>'</code> were being
        written to the error log. Now connections are closed more
        gracefully without generating error messages.
       (<a href="http://bugs.mysql.com/7403" target="_top">Bug#7403</a>)</p></li><li><p>
        For a stored procedure defined with <code class="literal">SQL SECURITY
        DEFINER</code> characteristic,
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> incorrectly
        reported the use invoking the procedure, not the user who
        defined it.
       (<a href="http://bugs.mysql.com/7291" target="_top">Bug#7291</a>)</p></li><li><p>
        Labels in stored routines did not work if the character set was
        not <code class="literal">latin1</code>.
       (<a href="http://bugs.mysql.com/7088" target="_top">Bug#7088</a>)</p></li><li><p>
        Duplicate trigger names were allowed within a single schema.
       (<a href="http://bugs.mysql.com/6182" target="_top">Bug#6182</a>)</p></li><li><p>
        For execution of a stored procedure that refers to a view,
        changes to the view definition were not seen. The procedure
        continued to see the old contents of the view.
       (<a href="http://bugs.mysql.com/6120" target="_top">Bug#6120</a>)</p></li><li><p>
        The <code class="literal">traditional</code> SQL mode accepted invalid
        dates if the date value provided was the result of an implicit
        type conversion.
       (<a href="http://bugs.mysql.com/5906" target="_top">Bug#5906</a>)</p></li><li><p>
        In a shared Windows environment, MySQL could not find its
        configuration file unless the file was in the
        <code class="filename">C:\</code> directory.
       (<a href="http://bugs.mysql.com/5354" target="_top">Bug#5354</a>)</p></li><li><p>
        Functions that evaluate to constants (such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> and
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> were being
        evaluated in the definition of a <code class="literal">VIEW</code> rather
        than included verbatim.
       (<a href="http://bugs.mysql.com/4663" target="_top">Bug#4663</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-9"></a>C.1.77. Changes in MySQL 5.0.9 (15 July 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The handling of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns has
        been improved, and should now be much more reliable in a number
        of cases.
       (<a href="http://bugs.mysql.com/11572" target="_top">Bug#11572</a>, <a href="http://bugs.mysql.com/11091" target="_top">Bug#11091</a>, <a href="http://bugs.mysql.com/10617" target="_top">Bug#10617</a>)</p></li><li><p>
        Recursion in stored routines is now disabled because it was
        crashing the server. We plan to modify stored routines to allow
        this to operate safely in a future release.
       (<a href="http://bugs.mysql.com/11394" target="_top">Bug#11394</a>)</p></li><li><p>
        An attempt to create a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>
        column with a display width (for example,
        <code class="literal">TIMESTAMP(6)</code>) now results in a warning.
        Display widths have not been supported for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> since MySQL 4.1.
       (<a href="http://bugs.mysql.com/10466" target="_top">Bug#10466</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a> API
        function now respects
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode.
       (<a href="http://bugs.mysql.com/10214" target="_top">Bug#10214</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Made <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> killable.
       (<a href="http://bugs.mysql.com/9730" target="_top">Bug#9730</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Make
        <code class="literal">innodb_thread_concurrency = 20</code> by default.
        Bypass the concurrency checking if the setting is greater than
        or equal to 20.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Various optimizations. Removed
        unreachable debug code from nondebug builds. Added hints for the
        branch predictor in <span><strong class="command">gcc</strong></span>. Made assertions
        occupy less space.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: When creating or extending an
        <code class="literal">InnoDB</code> data file, at most one megabyte at a
        time is allocated for initializing the file. Previously,
        <code class="literal">InnoDB</code> allocated and initialized 1 or 8
        megabytes of memory, even if only a few 16-kilobyte pages were
        to be written. This improves the performance of
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> in
        <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a> mode.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When trying to open a table that could not be discovered or
        unpacked, the cluster returned error codes which the MySQL
        server falsely interpreted as operating system errors.
       (<a href="http://bugs.mysql.com/10365" target="_top">Bug#10365</a>)</p></li><li><p>
        The <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> option for
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> resulted in no error if the binary
        log was not enabled. Now an error occurs unless the
        <code class="option">--force</code> option is given.
       (<a href="http://bugs.mysql.com/11678" target="_top">Bug#11678</a>)</p></li><li><p>
        When a table had a primary key containing a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column, creation of another
        index failed with the error <code class="literal">BLOB/TEXT column used in
        key specification without keylength</code>, even when the new
        index did not contain a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        column.
       (<a href="http://bugs.mysql.com/11657" target="_top">Bug#11657</a>)</p></li><li><p>
        Incorrect results when using <code class="literal">GROUP BY ... WITH
        ROLLUP</code> on a <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11639" target="_top">Bug#11639</a>)</p></li><li><p>
        MySQL would not compile correctly on QNX due to missing
        <code class="literal">rint()</code> function.
       (<a href="http://bugs.mysql.com/11544" target="_top">Bug#11544</a>)</p></li><li><p>
        A <code class="literal">SELECT DISTINCT <em class="replaceable"><code>col_name</code></em>
        </code> would work correctly with a <code class="literal">MyISAM</code>
        table only when there was an index on
        <em class="replaceable"><code>col_name</code></em>.
       (<a href="http://bugs.mysql.com/11484" target="_top">Bug#11484</a>)</p></li><li><p>
        Using <a href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a> on a column set
        <code class="literal">NOT NULL</code> caused incorrect results when used
        in a <code class="literal">LEFT JOIN</code>.
       (<a href="http://bugs.mysql.com/11469" target="_top">Bug#11469</a>)</p></li><li><p>
        Temporary tables were created in the data directory instead of
        <code class="literal">tmpdir</code>.
       (<a href="http://bugs.mysql.com/11440" target="_top">Bug#11440</a>)</p></li><li><p>
        Running a <code class="literal">CHECK TABLES</code> on multiple views
        crashed the server.
       (<a href="http://bugs.mysql.com/11337" target="_top">Bug#11337</a>)</p></li><li><p>
        Manually inserting a row with <code class="literal">host=''</code> into
        <code class="literal">mysql.tables_priv</code> and performing a
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> would cause the server to crash.
       (<a href="http://bugs.mysql.com/11330" target="_top">Bug#11330</a>)</p></li><li><p>
        Wrong comparison method used in <code class="literal">VIEW</code> when
        relaxed date syntax used (for example,
        <code class="literal">2005.06.10</code>).
       (<a href="http://bugs.mysql.com/11325" target="_top">Bug#11325</a>)</p></li><li><p>
        Signed <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> would not accept
        <code class="literal">-9223372036854775808</code> as a
        <code class="literal">DEFAULT</code> value.
       (<a href="http://bugs.mysql.com/11215" target="_top">Bug#11215</a>)</p></li><li><p>
        Optimizer performed range check when comparing unsigned integers
        to negative constants, could cause errors.
       (<a href="http://bugs.mysql.com/11185" target="_top">Bug#11185</a>)</p></li><li><p>
        A cursor using a query with a filter on a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column would cause the
        server to crash server after the data was fetched.
       (<a href="http://bugs.mysql.com/11172" target="_top">Bug#11172</a>)</p></li><li><p>
        The <code class="literal">mysql_config</code> script did not handle
        symbolic linking properly.
       (<a href="http://bugs.mysql.com/10986" target="_top">Bug#10986</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed when reloading a view if the
        view was defined in terms of a different view that had not yet
        been reloaded. <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now creates a dummy
        table to handle this case.
       (<a href="http://bugs.mysql.com/10927" target="_top">Bug#10927</a>)</p></li><li><p>
        If a prepared statement cursor is opened but not completely
        fetched, attempting to open a cursor for a second prepared
        statement will fail.
       (<a href="http://bugs.mysql.com/10794" target="_top">Bug#10794</a>)</p></li><li><p>
        Combining cursors and subqueries could cause server crash or
        memory leaks.
       (<a href="http://bugs.mysql.com/10736" target="_top">Bug#10736</a>)</p></li><li><p>
        Instances of the <a href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a>
        function in view definitions were converted to
        <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a>. This is incorrect
        because <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> is the same as
        <a href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a>, not
        <a href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a>.
       (<a href="http://bugs.mysql.com/10651" target="_top">Bug#10651</a>)</p></li><li><p>
        <a href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> and
        <a href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> require SSL support
        to be enabled, but were not checking for it. Checking for
        incorrect arguments or resource exhaustion was also improved for
        these functions.
       (<a href="http://bugs.mysql.com/10589" target="_top">Bug#10589</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, it was possible for
        updates to be performed using outdated key statistics when the
        updates involved only very small changes in a very few rows.
        This resulted in the random failures of queries such as
        <code class="literal">UPDATE t SET col = col + 1 WHERE col_key = 2;</code>
        where the same query with no <code class="literal">WHERE</code> clause
        would succeed.
       (<a href="http://bugs.mysql.com/10178" target="_top">Bug#10178</a>)</p></li><li><p>
        When used in joins, <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a>
        failed to truncate to zero those string values that could not be
        converted to numbers.
       (<a href="http://bugs.mysql.com/10124" target="_top">Bug#10124</a>)</p></li><li><p>
        Views did not use indexes on all appropriate queries.
       (<a href="http://bugs.mysql.com/10031" target="_top">Bug#10031</a>)</p></li><li><p>
        Closing a cursor that was already closed would cause MySQL to
        hang.
       (<a href="http://bugs.mysql.com/9814" target="_top">Bug#9814</a>)</p></li><li><p>
        The server would lose table-level <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> and <a href="server-administration.html#priv_show-view"><code class="literal">SHOW VIEW</code></a>
        privileges following a
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> or server restart.
       (<a href="http://bugs.mysql.com/9795" target="_top">Bug#9795</a>)</p></li><li><p>
        <code class="literal">mysqldump --xml</code> did not format
        <code class="literal">NULL</code> column values correctly.
       (<a href="http://bugs.mysql.com/9657" target="_top">Bug#9657</a>)</p></li><li><p>
        The <a href="programs.html#option_mysqldump_no-data"><code class="option">--no-data</code></a> option for
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> was being ignored if table names
        were given after the database name.
       (<a href="http://bugs.mysql.com/9558" target="_top">Bug#9558</a>)</p></li><li><p>
        Clients would hang following some errors with stored procedures.
       (<a href="http://bugs.mysql.com/9503" target="_top">Bug#9503</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could crash for illegal or
        nonexistent table names.
       (<a href="http://bugs.mysql.com/9358" target="_top">Bug#9358</a>)</p></li><li><p>
        A compression algorithm issue caused
        <code class="literal">myisampack</code>to fail for very large data sets
        (where the total size of all records in a single column was on
        the order of 3 GB or more) on 64-bit platforms. (A fix for other
        platforms was made in MySQL 5.0.6.)
       (<a href="http://bugs.mysql.com/8321" target="_top">Bug#8321</a>)</p></li><li><p>
        The <a href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> and
        <a href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a> functions would
        cause errors when used with a <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/7024" target="_top">Bug#7024</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> did not take the
        <code class="literal">ANSI MODE</code> into account when quoting
        identifiers.
       (<a href="http://bugs.mysql.com/6903" target="_top">Bug#6903</a>)</p></li><li><p>
        In strict mode, an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> into a
        view that did not include a value for a <code class="literal">NOT
        NULL</code> column but that did include a
        <code class="literal">WHERE</code> test on the same column would succeed,
        This happened even though the
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> should have been prevented
        due to the failure to supply a value for the <code class="literal">NOT
        NULL</code> column.
       (<a href="http://bugs.mysql.com/6443" target="_top">Bug#6443</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-8"></a>C.1.78. Changes in MySQL 5.0.8 (Not released)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Starting with version 5.0.8, changes for MySQL Cluster can be
          found in the combined Change History.
        </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Previously, conversion of
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values to numeric form
        by adding zero produced a result in
        <code class="literal">YYYYMMDDHHMMSS</code> format. The result of
        <code class="literal">DATETIME+0</code> is now in
        <code class="literal">YYYYMMDDHHMMSS.000000</code> format.
       (<a href="http://bugs.mysql.com/12268" target="_top">Bug#12268</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some data definition statements (<a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> where the table was not a temporary table,
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a>, <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a>,
        and <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>) were not
        being written to the binary log after a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>. This
        also caused problems with replication.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          As a result of this fix, the folowing statements now cause an
          implicit commit:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>
            </p></li><li><p>
              <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
              TABLE</code></a>
            </p></li><li><p>
              <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a>
            </p></li><li><p>
              <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
            </p></li></ul></div></div><p>(<a href="http://bugs.mysql.com/6883" target="_top">Bug#6883</a>)</p></li><li><p>
        Where a <code class="literal">GROUP BY</code> query uses a grouping column
        from the query's <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> clause,
        MySQL now issues a warning. This is done because the SQL
        standard states that any grouping column must unambiguously
        reference a column of the table resulting from the query's
        <code class="literal">FROM</code> clause, and allowing columns from the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> clause to be used as
        grouping columns is a MySQL extension to the standard.
      </p><p>
        By way of example, consider the following table:
      </p><pre class="programlisting">CREATE TABLE users (
  userid INT NOT NULL PRIMARY KEY,
  username VARCHAR(25),
  usergroupid INT NOT NULL
);
</pre><p>
        MySQL allows you to use the alias in this query:
      </p><pre class="programlisting">SELECT usergroupid AS id, COUNT(userid) AS number_of_users
FROM users
GROUP BY id;
</pre><p>
        However, the SQL standard requires that the column name be used,
        as shown here:
      </p><pre class="programlisting">SELECT usergroupid AS id, COUNT(userid) AS number_of_users
FROM users
GROUP BY usergroupid;
</pre><p>
        Queries such as the first of the two shown above will continue
        to be supported in MySQL; however, beginning with MySQL 5.0.8,
        using a column alias in this fashion will generate a warning.
        Note that in the event of a collision between column names
        and/or aliases used in joins, MySQL attempts to resolve the
        conflict by giving preference to columns arising from tables
        named in the query's <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/11211" target="_top">Bug#11211</a>)</p></li><li><p>
        Using prepared statements within a stored routine
        (<a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a>,
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>,
        <a href="sql-syntax.html#deallocate-prepare" title="12.7.3. DEALLOCATE PREPARE Syntax"><code class="literal">DEALLOCATE PREPARE</code></a>) could cause
        the client connection to be dropped after the routine returned.
        In addition, executing a statement which called a function
        deallocating the same statement caused the server to crash. This
        is prevented by disabling dynamic SQL within stored routines.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This restriction was lifted in 5.0.13 for stored procedures,
          but not stored functions or triggers.
        </p></div><p>(<a href="http://bugs.mysql.com/10975" target="_top">Bug#10975</a>, <a href="http://bugs.mysql.com/10605" target="_top">Bug#10605</a>)</p><p>See also <a href="http://bugs.mysql.com/7115" target="_top">Bug#7115</a>.</p></li><li><p>
        Added support for <code class="literal">B'10'</code> syntax for bit
        literal.
       (<a href="http://bugs.mysql.com/10650" target="_top">Bug#10650</a>)</p></li><li><p>
        <code class="literal">MEMORY</code> tables now support indexes of up to
        500 bytes. See <a href="storage-engines.html#memory-storage-engine" title="13.4. The MEMORY (HEAP) Storage Engine">Section 13.4, “The <code class="literal">MEMORY</code> (<code class="literal">HEAP</code>) Storage Engine”</a>.
       (<a href="http://bugs.mysql.com/10566" target="_top">Bug#10566</a>)</p></li><li><p>
        Expanded on information provided in general log and slow query
        log for prepared statements.
       (<a href="http://bugs.mysql.com/8367" target="_top">Bug#8367</a>, <a href="http://bugs.mysql.com/9334" target="_top">Bug#9334</a>)</p></li><li><p>
        New <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> mode
        <a href="server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a>
        prevents automatic substitution of storage engine when the
        requested storage engine is disabled or not compiled in.
       (<a href="http://bugs.mysql.com/6877" target="_top">Bug#6877</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        On Windows systems, a user with any of the following privileges
        on <code class="literal">*.*</code> could crash <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        by issuing a <code class="literal">USE LPT1;</code> or <code class="literal">USE
        PRN;</code> command:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <a href="server-administration.html#priv_references"><code class="literal">REFERENCES</code></a>
          </p></li><li><p>
            <a href="server-administration.html#priv_create-temporary-tables"><code class="literal">CREATE TEMPORARY TABLES</code></a>
          </p></li><li><p>
            <a href="server-administration.html#priv_grant-option"><code class="literal">GRANT OPTION</code></a>
          </p></li><li><p>
            <a href="server-administration.html#priv_create"><code class="literal">CREATE</code></a>
          </p></li><li><p>
            <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
          </p></li></ul></div><p>
        In addition, any of the commands <code class="literal">USE NUL;</code>,
        <code class="literal">USE CON;</code>, <code class="literal">USE COM1;</code>, or
        <code class="literal">USE AUX;</code> would report success even though the
        database was not in fact changed.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Although this bug was thought to be fixed previously, it was
          later discovered to be present in the MySQL 5.0.7-beta release
          for Windows.
        </p></div><p>(<a href="http://bugs.mysql.com/9148" target="_top">Bug#9148</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">TransactionInactiveTimeout = 0</code> did
        not result in an infinite timeout.
       (<a href="http://bugs.mysql.com/11290" target="_top">Bug#11290</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes did not reconnect to the
        cluster following a restart of <span><strong class="command">ndb_mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/11221" target="_top">Bug#11221</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Insert records were incorrectly applied by
        <span><strong class="command">ndb_restore</strong></span>, thus making restoring from
        backup inconsistent if the binary log contained inserts.
       (<a href="http://bugs.mysql.com/11166" target="_top">Bug#11166</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> performed as part of a
        transaction caused an erroneous result.
       (<a href="http://bugs.mysql.com/11133" target="_top">Bug#11133</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Connections between data nodes and management nodes were not
        closed following shutdown of <span><strong class="command">ndb_mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/11132" target="_top">Bug#11132</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client's
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> command displayed incorrect
        output after master data node failure.
       (<a href="http://bugs.mysql.com/11050" target="_top">Bug#11050</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When using dynamically allocated ports on Linux, the cluster
        would hang on initial startup.
       (<a href="http://bugs.mysql.com/10893" target="_top">Bug#10893</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Not allowing sufficient parallelism in the cluster's
        configuration (for example, by setting
        <code class="literal">NoOfTransactions</code> too small) caused
        <span><strong class="command">ndb_restore</strong></span> to fail without providing any
        error messages.
       (<a href="http://bugs.mysql.com/10294" target="_top">Bug#10294</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running <span><strong class="command">ndb_select_count</strong></span> crashed the cluster
        when running on Red Hat Enterprise 4/64-bit/Opteron.
       (<a href="http://bugs.mysql.com/10058" target="_top">Bug#10058</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data nodes failed to restart on 64-bit Solaris.
       (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On 64-bit Solaris 9, the cluster timed out and crashed after the
        first query was made.
       (<a href="http://bugs.mysql.com/8918" target="_top">Bug#8918</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An invalid comaprison caused warnings for packet length in
        replication on 64-bit compilers.
       (<a href="http://bugs.mysql.com/11064" target="_top">Bug#11064</a>)</p></li><li><p>
        Multiple range accesses in a subquery cause server crash.
       (<a href="http://bugs.mysql.com/11487" target="_top">Bug#11487</a>)</p></li><li><p>
        A <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> value could not be
        included in a <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11387" target="_top">Bug#11387</a>)</p></li><li><p>
        Server crashed when using <code class="literal">GROUP BY</code> on the
        result of a <code class="literal">DIV</code> operation on a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> value.
       (<a href="http://bugs.mysql.com/11385" target="_top">Bug#11385</a>)</p></li><li><p>
        <code class="literal">INSERT INTO SELECT FROM <em class="replaceable"><code>view</code></em>
        </code> produced incorrect result when using <code class="literal">ORDER
        BY</code>.
       (<a href="http://bugs.mysql.com/11298" target="_top">Bug#11298</a>)</p></li><li><p>
        Possible <code class="literal">NULL</code> values in
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns could crash the
        server when a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> was used in a
        <code class="literal">GROUP BY</code> query.
       (<a href="http://bugs.mysql.com/11295" target="_top">Bug#11295</a>)</p></li><li><p>
        An outer join with an <code class="literal">ON</code> condition that
        evaluated to false could return an incorrect result.
       (<a href="http://bugs.mysql.com/11285" target="_top">Bug#11285</a>)</p></li><li><p>
        An outer join with an empty derived table (a result from a
        subquery) returned no result.
       (<a href="http://bugs.mysql.com/11284" target="_top">Bug#11284</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST( ... AS DECIMAL)</code></a> didn't work
        for strings.
       (<a href="http://bugs.mysql.com/11283" target="_top">Bug#11283</a>)</p></li><li><p>
        Corrected a problem with <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>
        returning an incorrect result on 64-bit systems.
       (<a href="http://bugs.mysql.com/11235" target="_top">Bug#11235</a>)</p></li><li><p>
        The <code class="literal">SHOW INSTANCE OPTIONS</code> command in MySQL
        Instance Manager displayed option values incorrectly for options
        for which no value had been given.
       (<a href="http://bugs.mysql.com/11200" target="_top">Bug#11200</a>)</p></li><li><p>
        The default host name for MySQL server was always
        <code class="literal">mysql</code>.
       (<a href="http://bugs.mysql.com/11174" target="_top">Bug#11174</a>)</p></li><li><p>
        Some internal functions did not take into account that, for
        multi-byte character sets, <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>
        columns could exceed 255 bytes and
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns could exceed
        65,535 bytes, which could cause the server to crash.
       (<a href="http://bugs.mysql.com/11167" target="_top">Bug#11167</a>)</p></li><li><p>
        There were locking problems with multiple-statement
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements performed
        within a stored routine, such as incorrectly locking the table
        to be read with a read lock rather than a write lock.
       (<a href="http://bugs.mysql.com/11158" target="_top">Bug#11158</a>)</p></li><li><p>
        Testing for <code class="literal">crypt()</code> support caused
        compilation problems when using OpenSSL/yaSSL on HP-UX and Mac
        OS X.
       (<a href="http://bugs.mysql.com/11150" target="_top">Bug#11150</a>, <a href="http://bugs.mysql.com/10675" target="_top">Bug#10675</a>)</p></li><li><p>
        The <a href="functions.html#function_nullif"><code class="literal">NULLIF()</code></a> function could
        produce incorrect results if the first argument was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/11142" target="_top">Bug#11142</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li><li><p>
        Calling a stored procedure that made use of an <code class="literal">INSERT
        ... SELECT ... UNION SELECT ...</code> query caused a server
        crash.
       (<a href="http://bugs.mysql.com/11060" target="_top">Bug#11060</a>)</p></li><li><p>
        <code class="literal">sql_data_access</code> column of
        <code class="literal">routines</code> table of
        <code class="literal">INFORMATION_SCHEMA</code> was empty.
       (<a href="http://bugs.mysql.com/11055" target="_top">Bug#11055</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> queries or <code class="literal">GROUP BY</code>
        queries without <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return inconsistent
        results for indexed columns.
       (<a href="http://bugs.mysql.com/11044" target="_top">Bug#11044</a>)</p></li><li><p>
        A <code class="literal">CREATE TABLE
        <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>tbl_name</code></em>
        LIKE ...</code> statement would crash the server when no
        database was selected.
       (<a href="http://bugs.mysql.com/11028" target="_top">Bug#11028</a>)</p></li><li><p>
        On Windows, <code class="literal">mysqlshow</code> did not interpret
        wildcard characters properly if they were given in the table
        name argument.
       (<a href="http://bugs.mysql.com/10947" target="_top">Bug#10947</a>)</p></li><li><p>
        The host name cache was not working.
       (<a href="http://bugs.mysql.com/10931" target="_top">Bug#10931</a>)</p></li><li><p>
        A three byte buffer overflow in the client functions caused
        improper exiting of the client when reading a command from the
        user.
       (<a href="http://bugs.mysql.com/10841" target="_top">Bug#10841</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client would output a prompt twice
        following input of very long strings, because it incorrectly
        assumed that a call to the <span><strong class="command">_cgets()</strong></span> function
        would clear the input buffer.
       (<a href="http://bugs.mysql.com/10840" target="_top">Bug#10840</a>)</p></li><li><p>
        Setting <code class="literal">@@sql_mode = NULL</code> caused an erroneous
        error message.
       (<a href="http://bugs.mysql.com/10732" target="_top">Bug#10732</a>)</p></li><li><p>
        When using a cursor with a prepared statement, the first
        execution returned the correct result but was not cleaned up
        properly, causing subsequent executions to return incorrect
        results.
       (<a href="http://bugs.mysql.com/10729" target="_top">Bug#10729</a>)</p></li><li><p>
        Converting a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column
        having an index to a different type (such as
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a>) gave rise to an
        incorrect error message.
      </p><p>
        Note that this bug fix induces a slight change in the behavior
        of indexes: If an index is defined to be the same length as a
        field (or is left to default to that field's length), and the
        length of the field is later changed, then the index will adopt
        the new length of the field. Previously, the size of the index
        did not change for some field types (such as
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>) when the field type was
        changed.
       (<a href="http://bugs.mysql.com/10543" target="_top">Bug#10543</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Pad UTF-8
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns with
        <code class="literal">0x20</code>. Pad UCS2
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns with
        <code class="literal">0x0020</code>.
       (<a href="http://bugs.mysql.com/10511" target="_top">Bug#10511</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Enforce maximum
        <a href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a> of UTF-8 data in
        <code class="literal">ON UPDATE CASCADE</code>.
       (<a href="http://bugs.mysql.com/10409" target="_top">Bug#10409</a>)</p></li><li><p>
        <code class="literal">SELECT * FROM <em class="replaceable"><code>table</code></em>
        </code> returned incorrect results when called from a stored
        procedure, where <em class="replaceable"><code>table</code></em> had a primary
        key.
       (<a href="http://bugs.mysql.com/10136" target="_top">Bug#10136</a>)</p></li><li><p>
        The granting and revocation of privileges on a stored routine
        was performed when running the server with
        <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> even after
        the statement <code class="literal">SET @@GLOBAL.automatic_sp_privileges =
        1;</code> was executed.
       (<a href="http://bugs.mysql.com/9993" target="_top">Bug#9993</a>)</p></li><li><p>
        A stored procedure run while the query cache was enabled could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/9715" target="_top">Bug#9715</a>)</p></li><li><p>
        Table names were not handled correctly when
        <code class="literal">lower_case_table_names = 2</code> if the table name
        lettercase differed in the <code class="literal">FROM</code> and
        <code class="literal">WHERE</code> clauses.
       (<a href="http://bugs.mysql.com/9500" target="_top">Bug#9500</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE DATABASE INFORMATION_SCHEMA</code>
        returned an “<span class="quote">unknown database</span>” error.
       (<a href="http://bugs.mysql.com/9434" target="_top">Bug#9434</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT ... GROUP BY
        <em class="replaceable"><code>constant</code></em></code> returned multiple
        rows (it should return a single row).
       (<a href="http://bugs.mysql.com/8614" target="_top">Bug#8614</a>)</p></li><li><p>
        An issue with index merging could cause suboptimal index merge
        plans to be chosen when searching by indexes created on
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> columns. The same issue
        caused the <code class="literal">InnoDB</code> storage engine to issue the
        warning <code class="literal">using a partial-field key prefix in
        search</code>.
       (<a href="http://bugs.mysql.com/8441" target="_top">Bug#8441</a>)</p></li><li><p>
        The <code class="literal">mysqlhotcopy</code> script was not parsing the
        output of <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a>
        correctly when called with the <code class="option">--record_log_pos</code>
        option.
       (<a href="http://bugs.mysql.com/7967" target="_top">Bug#7967</a>)</p></li><li><p>
        A Boolean full-text search where a query contained more query
        terms than one-third of the query length caused the server to
        hang or crash.
       (<a href="http://bugs.mysql.com/7858" target="_top">Bug#7858</a>)</p></li><li><p>
        When used in defining a view, the
        <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> function failed
        with calculated values, for example, when passed the value
        returned by <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a>.
       (<a href="http://bugs.mysql.com/7521" target="_top">Bug#7521</a>)</p></li><li><p>
        Views could be created with duplicate column names.
       (<a href="http://bugs.mysql.com/7448" target="_top">Bug#7448</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> clause sometimes had no effect on
        the ordering of a result when selecting specific columns (as
        opposed to using <code class="literal">SELECT *</code>) from a view.
       (<a href="http://bugs.mysql.com/7422" target="_top">Bug#7422</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> to prepare a
        statement that invoked a stored routine that executed the
        prepared statement caused a <span class="errortext">Packets out of order
        error</span> the second time the routine was invoked. This
        is prevented by disabling dynamic SQL within stored routines.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This restriction was lifted in 5.0.13 for stored procedures,
          but not for stored functions or triggers.
        </p></div><p>(<a href="http://bugs.mysql.com/7115" target="_top">Bug#7115</a>)</p><p>See also <a href="http://bugs.mysql.com/10975" target="_top">Bug#10975</a>, <a href="http://bugs.mysql.com/10605" target="_top">Bug#10605</a>.</p></li><li><p>
        Selecting from a view defined using <code class="literal">SELECT SUM(DISTINCT
        ...)</code> caused an error; attempting to execute a
        <code class="literal">SELECT * FROM INFORMATION_SCHEMA.TABLES</code> query
        after defining such a view crashed the server.
       (<a href="http://bugs.mysql.com/7015" target="_top">Bug#7015</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-7"></a>C.1.79. Changes in MySQL 5.0.7 (10 June 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A UDF library-loading vulnerability could result in a buffer
        overflow and code execution.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-2558" target="_top">CVE-2005-2558</a>)</p></li><li><p>
        Improved the optimizer to be able to use indexes for expressions
        of the form <code class="literal"><em class="replaceable"><code>indexed_col</code></em> NOT
        IN (<em class="replaceable"><code>val1</code></em>,
        <em class="replaceable"><code>val2</code></em>, ...)</code> and <code class="literal">
        <em class="replaceable"><code>indexed_col</code></em> NOT BETWEEN
        <em class="replaceable"><code>val1</code></em> AND
        <em class="replaceable"><code>val2</code></em></code>.
       (<a href="http://bugs.mysql.com/10561" target="_top">Bug#10561</a>)</p></li><li><p>
        The <code class="literal">table</code>, <code class="literal">type</code>, and
        <code class="literal">rows</code> columns of
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> output can now be
        <code class="literal">NULL</code>. This is required for using
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> on
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries that use no
        tables, such as <code class="literal">EXPLAIN SELECT 1</code>).
       (<a href="http://bugs.mysql.com/9899" target="_top">Bug#9899</a>)</p></li><li><p>
        All characters occurring on the same line following the
        <code class="literal">DELIMITER</code> keyword will be set as delimiter.
        For example, <code class="literal">DELIMITER :;</code> will set
        <code class="literal">:;</code> as the delimiter. This behavior is now
        consistent between MySQL 5.1 and MySQL 5.0.
       (<a href="http://bugs.mysql.com/9879" target="_top">Bug#9879</a>)</p></li><li><p>
        Added <a href="connectors-apis.html#mysql-set-character-set" title="20.9.3.61. mysql_set_character_set()"><code class="literal">mysql_set_character_set()</code></a>
        C API function for setting the default character set of the
        current connection. This allows clients to affect the character
        set used by
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>.
       (<a href="http://bugs.mysql.com/8317" target="_top">Bug#8317</a>)</p></li><li><p>
        The <a href="programs.html#option_mysqldump_delayed-insert"><code class="option">--delayed-insert</code></a> option
        for <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> was disabled to avoid causing
        problems with storage engines that do not support
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a>.
       (<a href="http://bugs.mysql.com/7815" target="_top">Bug#7815</a>)</p></li><li><p>
        Placeholders now can be used for <code class="literal">LIMIT</code> in
        prepared statements.
       (<a href="http://bugs.mysql.com/7306" target="_top">Bug#7306</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: In stored procedures and functions,
        <code class="literal">InnoDB</code> no longer takes full explicit table
        locks for every involved table. Only “<span class="quote">intention</span>”
        locks are taken, similar to those in the execution of an
        ordinary SQL statement. This greatly reduces the number of
        deadlocks.
      </p></li><li><p>
        <a href="sql-syntax.html#show-binary-logs" title="12.5.5.1. SHOW BINARY LOGS Syntax"><code class="literal">SHOW BINARY LOGS</code></a> now displays a
        <code class="literal">File_size</code> column that indicates the size of
        each file.
      </p></li><li><p>
        Removed <code class="literal">WinMySQLAdmin</code> from the source
        distribution and from the “<span class="quote">No Installer</span>” Windows
        distribution (it had already been removed from the “<span class="quote">With
        Installer</span>” distribution before).
      </p></li><li><p>
        The behavior of the
        <a href="server-administration.html#statvar_Last_query_cost"><code class="literal">Last_query_cost</code></a> system
        variable has been changed. The default value is now 0 (rather
        than -1) and it now has session-level scope (rather than being
        global). See <a href="server-administration.html#server-status-variables" title="5.1.6. Server Status Variables">Section 5.1.6, “Server Status Variables”</a>, for
        additional information.
      </p></li><li><p>
        Removed <code class="literal">mysqlshutdown.exe</code> and
        <code class="literal">mysqlwatch.exe</code> from the Windows “<span class="quote">No
        Installer</span>” distribution (they had already been removed
        from the “<span class="quote">With Installer</span>” distribution before).
        Removed those programs from the source distribution.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL would pass an incorrect key length to storage engines for
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>. This could cause spurious
        warnings such as <span class="errortext">InnoDB: Warning: using a
        partial-field key prefix in search</span> to appear in the
        <code class="filename">.err</code> log.
       (<a href="http://bugs.mysql.com/13218" target="_top">Bug#13218</a>, <a href="http://bugs.mysql.com/11039" target="_top">Bug#11039</a>)</p></li><li><p>
        Build failures occurred when compiling the server on Windows
        using Visual Studio 6.
       (<a href="http://bugs.mysql.com/11153" target="_top">Bug#11153</a>)</p></li><li><p>
        Corrected a problem where an incorrect data type was returned in
        the result set metadata when using a prepared
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> statement to select from a view.
       (<a href="http://bugs.mysql.com/11111" target="_top">Bug#11111</a>)</p></li><li><p>
        The server could crash due to an attempt to allocate too much
        memory when <code class="literal">GROUP BY
        <em class="replaceable"><code>blob_col</code></em></code> and
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> were used.
       (<a href="http://bugs.mysql.com/11088" target="_top">Bug#11088</a>)</p></li><li><p>
        Multiple-row <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> could fail
        on a duplicate-key error when having one
        <code class="literal">AUTO_INCREMENT</code> key and one unique key.
       (<a href="http://bugs.mysql.com/11080" target="_top">Bug#11080</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: A duplicate key error occurred with
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> in a table having an
        <code class="literal">AUTO_INCREMENT</code> column.
       (<a href="http://bugs.mysql.com/11005" target="_top">Bug#11005</a>)</p></li><li><p>
        <code class="literal">WITH ROLLUP</code> did not sum values properly.
       (<a href="http://bugs.mysql.com/10982" target="_top">Bug#10982</a>)</p></li><li><p>
        <span class="bold"><strong>Security update</strong></span>: A user with
        limited privileges could obtain information about the privileges
        of other users by querying objects in the
        <code class="literal">INFORMATION_SCHEMA</code> database for which that
        user did not have the requisite privileges.
       (<a href="http://bugs.mysql.com/10964" target="_top">Bug#10964</a>)</p></li><li><p>
        The value returned by the <a href="functions.html#function_field"><code class="literal">FIELD()</code></a>
        function was incorrect when its parameter list contained one or
        more instances of <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/10944" target="_top">Bug#10944</a>)</p></li><li><p>
        Failure of a <code class="literal">BEFORE</code> trigger did not prevent
        the triggering statement from performing its operation on the
        row for which the trigger error occurred. Now the triggering
        statement fails as described in <a href="stored-programs-views.html#triggers" title="18.3. Using Triggers">Section 18.3, “Using Triggers”</a>.
       (<a href="http://bugs.mysql.com/10902" target="_top">Bug#10902</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine properly handled
        outer joins, but not inner joins.
       (<a href="http://bugs.mysql.com/10848" target="_top">Bug#10848</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#load-index" title="12.5.6.4. LOAD INDEX INTO
        CACHE Syntax"><code class="literal">LOAD INDEX
        INTO CACHE</code></a> for a table while other threads where
        selecting from the table caused a deadlock.
       (<a href="http://bugs.mysql.com/10602" target="_top">Bug#10602</a>)</p></li><li><p>
        The <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> function
        returned incorrect results with some format specifiers. See
        <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.
       (<a href="http://bugs.mysql.com/10590" target="_top">Bug#10590</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> failed to return
        <code class="literal">NULL</code> when supplied with an invalid argument.
        See <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.
       (<a href="http://bugs.mysql.com/10568" target="_top">Bug#10568</a>)</p></li><li><p>
        A problem with the <code class="filename">my_global.h</code> file caused
        compilation of MySQL to fail on single-processor Linux systems
        running 2.6 kernels.
       (<a href="http://bugs.mysql.com/10364" target="_top">Bug#10364</a>)</p></li><li><p>
        Corrected inappropriate error messages that were displayed when
        attempting to set the read-only
        <a href="server-administration.html#sysvar_warning_count"><code class="literal">warning_count</code></a> and
        <a href="server-administration.html#sysvar_error_count"><code class="literal">error_count</code></a> system variables.
       (<a href="http://bugs.mysql.com/10339" target="_top">Bug#10339</a>)</p></li><li><p>
        The MySQL Instance manager caused the version to be displayed as
        <code class="literal">unknown</code> by <code class="literal">SHOW INSTANCE
        STATUS</code>.
       (<a href="http://bugs.mysql.com/10229" target="_top">Bug#10229</a>)</p></li><li><p>
        A simultaneous <code class="literal">CREATE TABLE ... SELECT FROM
        <em class="replaceable"><code>table</code></em></code> and <code class="literal">ALTER
        TABLE <em class="replaceable"><code>table</code></em></code> on the same
        table caused the server to crash.
       (<a href="http://bugs.mysql.com/10224" target="_top">Bug#10224</a>)</p></li><li><p>
        Under certain rare circumstances, inserting into the
        <code class="literal">mysql.host</code> table could cause the server to
        crash.
       (<a href="http://bugs.mysql.com/10181" target="_top">Bug#10181</a>)</p></li><li><p>
        Consistently report <code class="literal">INFORMATION_SCHEMA</code> table
        names in uppercase in <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE
        STATUS</code></a> output.
       (<a href="http://bugs.mysql.com/10059" target="_top">Bug#10059</a>)</p></li><li><p>
        Accessing <code class="literal">InnoDB</code> tables within stored
        functions caused the MySQL server to crash. Now, statements that
        perform an implicit or explicit commit or rollback are
        prohibited within stored functions or triggers.
       (<a href="http://bugs.mysql.com/10015" target="_top">Bug#10015</a>)</p></li><li><p>
        Issuing a write lock for a table from one client prevented other
        clients from accessing the table's metadata. For example, if one
        client issued a <code class="literal">LOCK TABLES
        <em class="replaceable"><code>mydb</code></em>.<em class="replaceable"><code>mytable</code></em>
        WRITE</code>, then a second client attempting to execute a
        <code class="literal">USE <em class="replaceable"><code>mydb</code></em>;</code> would
        hang.
       (<a href="http://bugs.mysql.com/9998" target="_top">Bug#9998</a>)</p></li><li><p>
        Dropping stored routines when the MySQL server had been started
        with <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
        generated extraneous warnings.
       (<a href="http://bugs.mysql.com/9993" target="_top">Bug#9993</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-next-result" title="20.9.3.46. mysql_next_result()"><code class="literal">mysql_next_result()</code></a> function
        could hang if you were executing many statements in a
        <a href="connectors-apis.html#mysql-real-query" title="20.9.3.54. mysql_real_query()"><code class="literal">mysql_real_query()</code></a> call and one
        of those statements raised an error.
       (<a href="http://bugs.mysql.com/9992" target="_top">Bug#9992</a>)</p></li><li><p>
        The functions <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>, and
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> performed incorrect
        conversions of their arguments.
       (<a href="http://bugs.mysql.com/9939" target="_top">Bug#9939</a>)</p></li><li><p>
        An incorrect result was returned from a view that selected a
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a> expression from the
        result of an outer join.
       (<a href="http://bugs.mysql.com/9938" target="_top">Bug#9938</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Do very fast shutdown only if
        <code class="literal">innodb_fast_shutdown = 2</code>, but wait for
        threads to exit and release allocated memory if
        <code class="literal">innodb_fast_shutdown = 1</code>. Starting with
        MySQL/InnoDB 5.0.5, <code class="literal">InnoDB</code> would do brutal
        shutdown also when <code class="literal">innodb_fast_shutdown = 1</code>.
       (<a href="http://bugs.mysql.com/9673" target="_top">Bug#9673</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> to sort the results of an
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> that contained a
        <a href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> expression
        returned incorrect results due to integer overflow.
       (<a href="http://bugs.mysql.com/9669" target="_top">Bug#9669</a>)</p></li><li><p>
        On Windows, with
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> set to
        2, using <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to alter a
        <code class="literal">MEMORY</code> or <code class="literal">InnoDB</code> table
        that had a mixed-case name also improperly changed the name to
        lowercase.
       (<a href="http://bugs.mysql.com/9660" target="_top">Bug#9660</a>)</p></li><li><p>
        The combination of <a href="functions.html#function_count"><code class="literal">COUNT()</code></a>,
        <code class="literal">DISTINCT</code>, and
        <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> sometimes triggered a
        memory deallocation bug on Windows resulting in a server crash.
       (<a href="http://bugs.mysql.com/9593" target="_top">Bug#9593</a>)</p></li><li><p>
        <code class="literal">INSERT BEFORE</code> triggers were not being
        activated for implicit inserts (<a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA</code></a>).
       (<a href="http://bugs.mysql.com/8755" target="_top">Bug#8755</a>)</p></li><li><p>
        The ucs2_turkish_ci collation failed with upper('i').
        UPPER/LOWER now can return a string with different length.
       (<a href="http://bugs.mysql.com/8610" target="_top">Bug#8610</a>)</p></li><li><p>
        The server timed out SSL connections too quickly on Windows.
       (<a href="http://bugs.mysql.com/8572" target="_top">Bug#8572</a>)</p></li><li><p>
        If a stored function contained a
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement, the function
        crashed when invoked. <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH</code></a> now
        is disallowed within stored functions.
       (<a href="http://bugs.mysql.com/8409" target="_top">Bug#8409</a>)</p></li><li><p>
        <code class="literal">OPTIMIZE</code> run on an <code class="literal">InnoDB</code>
        table did not return a <span class="errortext">Table is full</span>
        error if there was insufficient room in the tablespace.
       (<a href="http://bugs.mysql.com/8135" target="_top">Bug#8135</a>)</p></li><li><p>
        An incorrect result was obtained for columns that included an
        aggregate function as part of an expression, and when
        <code class="literal">WITH ROLLUP</code> was used with <code class="literal">GROUP
        BY</code>.
       (<a href="http://bugs.mysql.com/7914" target="_top">Bug#7914</a>)</p></li><li><p>
        Queries with <code class="literal">ROLLUP</code> returned wrong results
        for expressions containing<code class="literal">GROUP BY</code> columns.
       (<a href="http://bugs.mysql.com/7894" target="_top">Bug#7894</a>)</p></li><li><p>
        The second invocation of a stored procedure that selected from a
        view defined as a join using <code class="literal">ON</code> in the join
        condition could cause the server to crash.
       (<a href="http://bugs.mysql.com/6866" target="_top">Bug#6866</a>)</p></li><li><p>
        <code class="literal">INSERT BEFORE</code> triggers were not being
        activated for
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statements.
       (<a href="http://bugs.mysql.com/6812" target="_top">Bug#6812</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> when the
        <code class="literal">WHERE</code> clause contained a correlated subquery
        that referred to a column of the table being modified caused the
        server to crash.
       (<a href="http://bugs.mysql.com/6384" target="_top">Bug#6384</a>)</p></li><li><p>
        MySQL was adding a <code class="literal">DEFAULT</code> clause to
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns that included no
        explicit <code class="literal">DEFAULT</code> and were defined as
        <code class="literal">NOT NULL</code>. (This is supposed to happen only
        for columns that are <code class="literal">NULL</code>.)
       (<a href="http://bugs.mysql.com/6267" target="_top">Bug#6267</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> for a table
        that had a trigger caused a crash when executing a statement
        that activated the trigger, and also a crash later with
        <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> for
        the database containing the table.
       (<a href="http://bugs.mysql.com/5894" target="_top">Bug#5894</a>)</p></li><li><p>
        Triggers with dropped functions caused crashes.
       (<a href="http://bugs.mysql.com/5893" target="_top">Bug#5893</a>)</p></li><li><p>
        Triggers were not being activated for multiple-table
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements.
       (<a href="http://bugs.mysql.com/5860" target="_top">Bug#5860</a>)</p></li><li><p>
        The incorrect sequence of statements <code class="literal">HANDLER
        <em class="replaceable"><code>tbl_name</code></em> READ
        <em class="replaceable"><code>index_name</code></em> NEXT</code> without a
        preceding <code class="literal">HANDLER <em class="replaceable"><code>tbl_name</code></em>
        READ <em class="replaceable"><code>index_name</code></em> =
        (<em class="replaceable"><code>value_list</code></em>)</code> for an
        <code class="literal">InnoDB</code> table resulted in a server crash
        rather than an error.
       (<a href="http://bugs.mysql.com/5373" target="_top">Bug#5373</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> always
        deleted on the fly from the first table that was to be deleted
        from. In some cases, when using many tables and when necessary
        to access the same row twice in the first table, some rows to be
        deleted from other tables could be missed.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-6"></a>C.1.80. Changes in MySQL 5.0.6 (26 May 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The behavior of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a> has changed when the <code class="literal">FIELDS
        TERMINATED BY</code> and <code class="literal">FIELDS ENCLOSED
        BY</code> values both are empty. Formerly, a column was read
        or written the display width of the column. For example,
        <code class="literal">INT(4)</code> was read or written using a field with
        a width of 4. Now columns are read and written using a field
        width wide enough to hold all values in the field. However, data
        files written before this change was made might not be reloaded
        correctly with <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> for MySQL 4.1.12 and up. This change also
        affects data files read by <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> and
        written by <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --tab</strong></span></a>, which use
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a>. For more information, see
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax">Section 12.2.6, “<code class="literal">LOAD DATA INFILE</code>
      Syntax”</a>.
       (<a href="http://bugs.mysql.com/12564" target="_top">Bug#12564</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">MyISAM</code> and <code class="literal">InnoDB</code> tables
        created with <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns in
        MySQL 5.0.3 to 5.0.5 will appear corrupt after an upgrade to
        MySQL 5.0.6. Dump such tables with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        before upgrading, and then reload them after upgrading. (The
        same incompatibility will occur for these tables created in
        MySQL 5.0.6 after a downgrade to MySQL 5.0.3 to 5.0.5.)
       (<a href="http://bugs.mysql.com/10465" target="_top">Bug#10465</a>, <a href="http://bugs.mysql.com/10625" target="_top">Bug#10625</a>)</p></li><li><p>
        When the server cannot read a table because it cannot read the
        <code class="filename">.frm</code> file, print a message that the table
        was created with a different version of MySQL. (This can happen
        if you create tables that use new features and then downgrade to
        an older version of MySQL.)
       (<a href="http://bugs.mysql.com/10435" target="_top">Bug#10435</a>)</p></li><li><p>
        The <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> and
        <a href="sql-syntax.html#revoke" title="12.5.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements now support an
        <em class="replaceable"><code>object_type</code></em> clause to be used for
        disambiguating whether the grant object is a table, a stored
        function, or a stored procedure. Use of this clause requires
        that you upgrade your grant tables. See
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
       (<a href="http://bugs.mysql.com/10246" target="_top">Bug#10246</a>)</p></li><li><p>
        Added <code class="literal">REFERENCED_TABLE_SCHEMA</code>,
        <code class="literal">REFERENCED_TABLE_NAME</code>, and
        <code class="literal">REFERENCED_COLUMN_NAME</code> columns to the
        <a href="information-schema.html#key-column-usage-table" title="19.13. The INFORMATION_SCHEMA KEY_COLUMN_USAGE Table"><code class="literal">KEY_COLUMN_USAGE</code></a> table of
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/9587" target="_top">Bug#9587</a>)</p></li><li><p>
        The use of <code class="literal">SESSION</code> or
        <code class="literal">GLOBAL</code> for user variables, or for local
        variables in stored routines, is now disallowed.
       (<a href="http://bugs.mysql.com/9286" target="_top">Bug#9286</a>)</p></li><li><p>
        New <code class="literal">/*&gt;</code> prompt for
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>. This prompt indicates that a
        <code class="literal">/* ... */</code> comment was begun on an earlier
        line and the closing <code class="literal">*/</code> sequence has not yet
        been seen.
       (<a href="http://bugs.mysql.com/9186" target="_top">Bug#9186</a>)</p></li><li><p>
        The <a href="information-schema.html#schemata-table" title="19.1. The INFORMATION_SCHEMA SCHEMATA Table"><code class="literal">INFORMATION_SCHEMA.SCHEMATA</code></a>
        table now has a <code class="literal">DEFAULT_COLLATION_NAME</code>
        column.
       (<a href="http://bugs.mysql.com/8998" target="_top">Bug#8998</a>)</p></li><li><p>
        Added a <a href="programs.html#option_mysql_show-warnings"><code class="option">--show-warnings</code></a> option to
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to cause warnings to be shown after
        each statement if there are any. This option applies to
        interactive and batch mode. In interactive mode,
        <code class="literal">\w</code> and <code class="literal">\W</code> may be used to
        enable and disable warning display.
       (<a href="http://bugs.mysql.com/8684" target="_top">Bug#8684</a>)</p></li><li><p>
        If strict SQL mode is enabled,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns with a length
        greater than 65,535 no longer are silently converted to
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns. Instead, an error
        occurs.
       (<a href="http://bugs.mysql.com/8295" target="_top">Bug#8295</a>, <a href="http://bugs.mysql.com/8296" target="_top">Bug#8296</a>)</p></li><li><p>
        Removed a limitation that prevented use of FIFOs as logging
        targets (such as for the general query log). This modification
        <span class="emphasis"><em>does not apply</em></span> to the binary log and the
        relay log.
       (<a href="http://bugs.mysql.com/8271" target="_top">Bug#8271</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> now shows the
        <a href="replication.html#sysvar_slave_compressed_protocol"><code class="literal">slave_compressed_protocol</code></a>,
        <a href="replication.html#sysvar_slave_load_tmpdir"><code class="literal">slave_load_tmpdir</code></a> and
        <a href="replication.html#sysvar_slave_skip_errors"><code class="literal">slave_skip_errors</code></a> system
        variables.
       (<a href="http://bugs.mysql.com/7800" target="_top">Bug#7800</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: When the maximum length of
        <a href="sql-syntax.html#show-innodb-status" title="12.5.5.19. SHOW INNODB STATUS Syntax"><code class="literal">SHOW INNODB STATUS</code></a> output would
        be exceeded, truncate the beginning of the list of active
        transactions, instead of truncating the end of the output.
       (<a href="http://bugs.mysql.com/5436" target="_top">Bug#5436</a>)</p></li><li><p>
        Updated version of <code class="literal">libedit</code> to 2.9.
       (<a href="http://bugs.mysql.com/2596" target="_top">Bug#2596</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: If
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        is enabled and the isolation level of the transaction is not set
        to <a href="sql-syntax.html#isolevel_serializable"><code class="literal">SERIALIZABLE</code></a>,
        <code class="literal">InnoDB</code> uses a consistent read for select in
        clauses such as
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO ...
        SELECT</code></a> and <code class="literal">UPDATE ... (SELECT)</code> that
        do not specify <code class="literal">FOR UPDATE</code> or <code class="literal">LOCK IN
        SHARE MODE</code>. Thus, no locks are set to rows read from
        selected table.
      </p></li><li><p>
        Added the
        <a href="server-administration.html#sysvar_div_precision_increment"><code class="literal">div_precision_increment</code></a> system
        variable, which indicates the number of digits by which to
        increase the scale of the result of division operations
        performed with the <code class="literal">/</code> operator.
      </p></li><li><p>
        Removed <code class="literal">mysqlshutdown.exe</code> and
        <code class="literal">mysqlwatch.exe</code> from the Windows “<span class="quote">With
        Installer</span>” distribution.
      </p></li><li><p>
        The precision of the <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> data
        type has been increased from 64 to 65 decimal digits.
      </p></li><li><p>
        Added the <code class="option">--log-bin-trust-routine-creators</code>
        server option for setting the
        <code class="literal">log_bin_trust_routine_creators</code> system
        variable from the command line.
      </p></li><li><p>
        Implemented the <code class="literal">STMT_ATTR_PREFETCH_ROWS</code>
        option for the
        <a href="connectors-apis.html#mysql-stmt-attr-set" title="20.9.7.3. mysql_stmt_attr_set()"><code class="literal">mysql_stmt_attr_set()</code></a> C API
        function. This sets how many rows to fetch at a time when using
        cursors with prepared statements.
      </p></li><li><p>
        Added the <code class="literal">log_bin_trust_routine_creators</code>
        system variable, which applies when binary logging is enabled.
        It controls whether stored routine creators can be trusted not
        to create stored routines that will cause unsafe events to be
        written to the binary log.
      </p></li><li><p>
        Removed unused system variable
        <a href="server-administration.html#sysvar_myisam_max_extra_sort_file_size"><code class="literal">myisam_max_extra_sort_file_size</code></a>.
      </p></li><li><p>
        Changed default value of
        <a href="server-administration.html#sysvar_myisam_data_pointer_size"><code class="literal">myisam_data_pointer_size</code></a> from 4
        to 6. This allows us to avoid <code class="literal">table is full</code>
        errors for most cases.
      </p></li><li><p>
        Added a <a href="programs.html#option_my_print_defaults_debug"><code class="option">--debug</code></a> option
        to <a href="programs.html#my-print-defaults" title="4.7.3. my_print_defaults — Display Options from Option Files"><span><strong class="command">my_print_defaults</strong></span></a>.
      </p></li><li><p>
        The variable <a href="server-administration.html#sysvar_concurrent_insert"><code class="literal">concurrent_insert</code></a>
        now takes 3 values. Setting this to 2 changes
        <code class="literal">MyISAM</code> to do concurrent inserts to end of
        table if table is in use by another thread.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="programs.html#mysql-install-db" title="4.4.6. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> created the
        <code class="filename">mysql_install_db.X</code> file with a predictable
        file name and insecure permissions, which allowed local users to
        execute arbitrary SQL statements by modifying the file's
        contents.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-1636" target="_top">CVE-2005-1636</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Statements that create and drop triggers were not being written
        to the binary log, which affects replication and data recovery
        options. Trigger-related statements now are logged, subject to
        the issues and limitations discussed in
        <a href="stored-programs-views.html#stored-programs-logging" title="18.5. Binary Logging of Stored Programs">Section 18.5, “Binary Logging of Stored Programs”</a>.
       (<a href="http://bugs.mysql.com/10417" target="_top">Bug#10417</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Statements that create and use stored routines were not being
        written to the binary log, which affects replication and data
        recovery options. Stored routine-related statements now are
        logged, subject to the issues and limitations discussed in
        <a href="stored-programs-views.html#stored-programs-logging" title="18.5. Binary Logging of Stored Programs">Section 18.5, “Binary Logging of Stored Programs”</a>.
       (<a href="http://bugs.mysql.com/2610" target="_top">Bug#2610</a>)</p></li><li><p>
        <code class="literal">MERGE</code> tables could fail on Windows due to
        incorrect interpretation of path name separator characters for
        file names in the <code class="filename">.MRG</code> file.
       (<a href="http://bugs.mysql.com/10687" target="_top">Bug#10687</a>)</p></li><li><p>
        Repeated calls to <a href="functions.html#function_abs"><code class="literal">ABS()</code></a> when the
        argument evaluated to <code class="literal">NULL</code> crashed the
        server.
       (<a href="http://bugs.mysql.com/10599" target="_top">Bug#10599</a>)</p></li><li><p>
        <code class="literal">SELECT 0/0</code> returned <code class="literal">0</code>
        rather than <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/10404" target="_top">Bug#10404</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> with <code class="literal">MERGE</code>
        tables, which do not have unique indexes, caused the server to
        crash.
       (<a href="http://bugs.mysql.com/10400" target="_top">Bug#10400</a>)</p></li><li><p>
        <code class="literal">AUTO_INCREMENT</code> in <code class="literal">InnoDB</code>
        tables could assign the same value for several rows.
       (<a href="http://bugs.mysql.com/10359" target="_top">Bug#10359</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> crashed using the
        <a href="programs.html#option_mysqldump_complete-insert"><code class="option">--complete-insert</code></a> option while
        dumping tables with a large number of long column names.
       (<a href="http://bugs.mysql.com/10286" target="_top">Bug#10286</a>)</p></li><li><p>
        Incomplete results were returned from
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> for
        <code class="literal">INFORMATION_SCHEMA</code> tables for
        non-<code class="literal">root</code> users.
       (<a href="http://bugs.mysql.com/10261" target="_top">Bug#10261</a>)</p></li><li><p>
        <code class="filename">mysql.cc</code> did not compile correctly using
        <span><strong class="command">VC++</strong></span> on Windows.
       (<a href="http://bugs.mysql.com/10245" target="_top">Bug#10245</a>)</p></li><li><p>
        Using <code class="literal">#pragma interface</code> or <code class="literal">#pragma
        implementation</code> in source files caused portability
        issues for <code class="literal">cygwin</code>.
       (<a href="http://bugs.mysql.com/10241" target="_top">Bug#10241</a>)</p></li><li><p>
        Corrected a problem where <code class="literal">DEFAULT</code> values were
        not assigned properly to <code class="literal">BIT(1)</code> or
        <code class="literal">CHAR(1)</code> columns if certain other columns
        preceded them in the table definition.
       (<a href="http://bugs.mysql.com/10179" target="_top">Bug#10179</a>)</p></li><li><p>
        The <code class="literal">BLACKHOLE</code> storage engine failed in
        testing, causing the server to crash.
       (<a href="http://bugs.mysql.com/10175" target="_top">Bug#10175</a>)</p></li><li><p>
        The optimizer was choosing suboptimal execution plans for
        certain outer joins where the right table of a left join (or
        left table of a right join) had both <code class="literal">ON</code> and
        <code class="literal">WHERE</code> conditions.
       (<a href="http://bugs.mysql.com/10162" target="_top">Bug#10162</a>)</p></li><li><p>
        Corrected a problem resolving outer column references in
        correlated subqueries when using the prepared statements.
       (<a href="http://bugs.mysql.com/10041" target="_top">Bug#10041</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> tables were inaccessible
        depending on the lettercase used to refer to them.
       (<a href="http://bugs.mysql.com/10018" target="_top">Bug#10018</a>)</p></li><li><p>
        <span><strong class="command">awk</strong></span> script portability problems were found in
        <span><strong class="command">
        <code class="filename">cmd-line-utils/libedit/makelist.sh</code>
        </strong></span>.
       (<a href="http://bugs.mysql.com/9954" target="_top">Bug#9954</a>)</p></li><li><p>
        The error message for exceeding
        <code class="literal">MAX_CONNECTIONS_PER_HOUR</code> mistakenly referred
        to <a href="server-administration.html#sysvar_max_connections"><code class="literal">max_connections</code></a>.
       (<a href="http://bugs.mysql.com/9947" target="_top">Bug#9947</a>)</p></li><li><p>
        <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> for an
        <code class="literal">ARCHIVE</code> table failed if the
        <code class="filename">.arn</code> file was not present.
       (<a href="http://bugs.mysql.com/9911" target="_top">Bug#9911</a>)</p></li><li><p>
        A <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> statement whose
        arguments were a view name followed by a table name caused the
        server to crash.
       (<a href="http://bugs.mysql.com/9897" target="_top">Bug#9897</a>)</p></li><li><p>
        <a href="programs.html#my-print-defaults" title="4.7.3. my_print_defaults — Display Options from Option Files"><span><strong class="command">my_print_defaults</strong></span></a> was ignoring the
        <a href="programs.html#option_general_defaults-extra-file"><code class="option">--defaults-extra-file</code></a> option or
        crashing when the option was given.
       (<a href="http://bugs.mysql.com/9851" target="_top">Bug#9851</a>, <a href="http://bugs.mysql.com/9136" target="_top">Bug#9136</a>)</p></li><li><p>
        Within a stored procedure, attempting to update a view defined
        as an inner join failed with a <code class="literal">Table
        '<em class="replaceable"><code>tbl_name</code></em>' was locked with a READ
        lock and can't be updated</code> error.
       (<a href="http://bugs.mysql.com/9841" target="_top">Bug#9841</a>)</p></li><li><p>
        The <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a>
        table was missing columns of views for which the user has
        access.
       (<a href="http://bugs.mysql.com/9838" target="_top">Bug#9838</a>)</p></li><li><p>
        Use of a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> or
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column with
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> and <code class="literal">GROUP BY ...
        WITH ROLLUP</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/9820" target="_top">Bug#9820</a>)</p></li><li><p>
        Usi <code class="literal">DISTINCT AVG()</code> with <code class="literal">GROUP BY ...
        WITH ROLLUP</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/9800" target="_top">Bug#9800</a>)</p></li><li><p>
        Using <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a> with
        <code class="literal">GROUP BY ... WITH ROLLUP</code> caused the server to
        crash.
       (<a href="http://bugs.mysql.com/9799" target="_top">Bug#9799</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY ... WITH ROLLUP</code> on an indexed
        column in an <code class="literal">InnoDB</code> table could cause the
        server to crash.
       (<a href="http://bugs.mysql.com/9798" target="_top">Bug#9798</a>)</p></li><li><p>
        Corrected some failures of prepared statements for SQL
        (<a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> plus
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>) to return all rows for
        some <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statements.
       (<a href="http://bugs.mysql.com/9777" target="_top">Bug#9777</a>, <a href="http://bugs.mysql.com/9096" target="_top">Bug#9096</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... LIKE</code> did not work correctly
        when <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was
        set on a case-sensitive file system and the source table name
        was not given in lowercase.
       (<a href="http://bugs.mysql.com/9761" target="_top">Bug#9761</a>)</p></li><li><p>
        Corrected an inability to select from a view within a stored
        procedure.
       (<a href="http://bugs.mysql.com/9758" target="_top">Bug#9758</a>)</p></li><li><p>
        <a href="server-administration.html#sysvar_net_read_timeout"><code class="literal">net_read_timeout</code></a> and
        <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> were not
        being respected on Windows.
       (<a href="http://bugs.mysql.com/9721" target="_top">Bug#9721</a>)</p></li><li><p>
        <code class="literal">libsupc++</code> was longer required for building on
        FreeBSD 5.3.
       (<a href="http://bugs.mysql.com/9714" target="_top">Bug#9714</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-stmt-attr-set" title="20.9.7.3. mysql_stmt_attr_set()"><code class="literal">mysql_stmt_attr_set()</code></a> C API
        function now returns an error for option values that are defined
        in <code class="filename">mysql.h</code> but not yet implemented, such as
        <code class="literal">CURSOR_TYPE_SCROLLABLE</code>.
       (<a href="http://bugs.mysql.com/9643" target="_top">Bug#9643</a>)</p></li><li><p>
        Memory block allocation did not function correctly for the query
        cache in the embedded server.
       (<a href="http://bugs.mysql.com/9549" target="_top">Bug#9549</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE t AS SELECT UUID()</code> created a
        <code class="literal">VARCHAR(12)</code> column, which is too small to
        hold the 36-character result from
        <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a>.
       (<a href="http://bugs.mysql.com/9535" target="_top">Bug#9535</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> with a prepared statement that used a cursor
        could cause the server to crash.
       (<a href="http://bugs.mysql.com/9520" target="_top">Bug#9520</a>)</p></li><li><p>
        <code class="literal">NULL</code> key parts in hash indexes on
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns were not handled
        correctly, resulting in incorrect query results.
       (<a href="http://bugs.mysql.com/9489" target="_top">Bug#9489</a>, <a href="http://bugs.mysql.com/10176" target="_top">Bug#10176</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-stmt-execute" title="20.9.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> and
        <a href="connectors-apis.html#mysql-stmt-reset" title="20.9.7.21. mysql_stmt_reset()"><code class="literal">mysql_stmt_reset()</code></a> C API
        functions now close any cursor that is open for the statement,
        which prevents a server crash.
       (<a href="http://bugs.mysql.com/9478" target="_top">Bug#9478</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> from
        <code class="literal">INFORMATION_SCHEMA</code> tables failed if the
        statement has a <code class="literal">GROUP BY</code> clause and an
        aggregate function in the select list.
       (<a href="http://bugs.mysql.com/9404" target="_top">Bug#9404</a>)</p></li><li><p>
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> for an <code class="literal">INT
        UNSIGNED</code> (unsigned 4-byte integer) column could return
        negative values if the column contained values larger than
        2<sup>31</sup>.
       (<a href="http://bugs.mysql.com/9298" target="_top">Bug#9298</a>)</p></li><li><p>
        Disabled binary logging within stored routines to avoid writing
        spurious extra statements to the binary log. For example, if a
        routine <code class="literal">p()</code> executes an
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement, then for
        <code class="literal">CALL p()</code>, the
        <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a> statement appears in the
        binary log, but not the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statement.
       (<a href="http://bugs.mysql.com/9100" target="_top">Bug#9100</a>)</p></li><li><p>
        <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a> now performs better
        rounding for double values (for example,
        <a href="functions.html#function_format"><code class="literal">FORMAT(4.55,1)</code></a> returns
        <code class="literal">4.6</code>, not <code class="literal">4.5</code>).
       (<a href="http://bugs.mysql.com/9060" target="_top">Bug#9060</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-view" title="12.5.5.10. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> got confused and
        could not find the view if there was a temporary table with the
        same name as the view.
       (<a href="http://bugs.mysql.com/8921" target="_top">Bug#8921</a>)</p></li><li><p>
        Selecting from a single-table view defined on multiple-table
        views caused a server crash.
       (<a href="http://bugs.mysql.com/8528" target="_top">Bug#8528</a>)</p></li><li><p>
        Remove extra slashes in <code class="option">--tmpdir</code> value (for
        example, convert <code class="filename">/var//tmp</code> to
        <code class="filename">/var/tmp</code>, because they caused various
        errors.
       (<a href="http://bugs.mysql.com/8497" target="_top">Bug#8497</a>)</p></li><li><p>
        Invoking a stored function that executed a
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statement resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/8408" target="_top">Bug#8408</a>)</p></li><li><p>
        An error in the implementation of the <code class="literal">MyISAM</code>
        compression algorithm caused <code class="literal">myisampack</code> to
        fail with very large sets of data (total size of all the records
        in a single column needed to be at least 3 GB in order to
        trigger this issue).
       (<a href="http://bugs.mysql.com/8321" target="_top">Bug#8321</a>)</p></li><li><p>
        Added <code class="literal">Create_routine_priv</code>,
        <code class="literal">Alter_routine_priv</code>, and
        <code class="literal">Execute_priv</code> privileges to the
        <code class="literal">mysql.host</code> privilege table. (They had been
        added to <code class="literal">mysql.db</code> in MySQL 5.0.3 but not to
        the <code class="literal">host</code> table.)
       (<a href="http://bugs.mysql.com/8166" target="_top">Bug#8166</a>)</p></li><li><p>
        A deadlock resulted from using
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> while an <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT
        DELAYED</code></a> statement was in progress.
       (<a href="http://bugs.mysql.com/7823" target="_top">Bug#7823</a>)</p></li><li><p>
        In strict SQL mode, some assignments to numeric columns that
        should have been rejected were not (such as the result of an
        arithmetic expression or an explicit
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> operation).
       (<a href="http://bugs.mysql.com/6961" target="_top">Bug#6961</a>)</p></li><li><p>
        For <code class="literal">MERGE</code> tables, avoid writing absolute path
        names in the <code class="filename">.MRG</code> file for the names of the
        constituent <code class="literal">MyISAM</code> tables so that if the data
        directory is moved, <code class="literal">MERGE</code> tables will not
        break. For <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, write just the
        <code class="literal">MyISAM</code> table name if it is in the same
        database as the <code class="literal">MERGE</code> table, and a path
        relative to the data directory otherwise. For the embedded
        servers, absolute path names may still be used.
       (<a href="http://bugs.mysql.com/5964" target="_top">Bug#5964</a>)</p></li><li><p>
        Multiple calls to a stored procedure that assigned the result of
        a subquery to a variable or compared it to a value with
        <code class="literal">IN</code> could cause the server to crash.
       (<a href="http://bugs.mysql.com/5963" target="_top">Bug#5963</a>)</p></li><li><p>
        If the file named by a
        <a href="programs.html#option_general_defaults-extra-file"><code class="option">--defaults-extra-file</code></a> option
        does not exist or is otherwise inaccessible, an error now
        occurs.
       (<a href="http://bugs.mysql.com/5056" target="_top">Bug#5056</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not properly recognize whether
        NPTL was available on Linux.
       (<a href="http://bugs.mysql.com/2173" target="_top">Bug#2173</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-5"></a>C.1.81. Changes in MySQL 5.0.5 (Not released)</h3></div></div></div><p>
        No public release of MySQL 5.0.5 was made. The changes described
        in this section are available in MySQL 5.0.6.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        More informative error messages are provided when a query is
        issued against an <code class="literal">NDB</code> table that
        has been modified by another <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server.
       (<a href="http://bugs.mysql.com/6762" target="_top">Bug#6762</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: When
        <a href="server-administration.html#sysvar_foreign_key_checks"><code class="literal">foreign_key_checks = 0</code></a>,
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> and
        <a href="sql-syntax.html#rename-table" title="12.1.20. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> will ignore any type
        incompatibilities between referencing and referenced columns.
        Thus, it will be possible to convert the character sets of
        columns that participate in a foreign key. Be sure to convert
        all tables before modifying any data!
       (<a href="http://bugs.mysql.com/9802" target="_top">Bug#9802</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.5.36. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> no longer displays
        the deprecated <code class="literal">log_update</code> system variable.
       (<a href="http://bugs.mysql.com/9738" target="_top">Bug#9738</a>)</p></li><li><p>
        Added support for the <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> data
        type to the <code class="literal">MEMORY</code>,
        <code class="literal">InnoDB</code>, and <code class="literal">BDB</code> storage
        engines.
      </p></li><li><p>
        The behavior controlled by the
        <a href="storage-engines.html#sysvar_innodb_fast_shutdown"><code class="option">--innodb-fast-shutdown</code></a> option now
        can be changed at runtime by setting the value of the global
        <a href="storage-engines.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> system
        variable. It now accepts values 0, 1 and 2 (except on Netware
        where 2 is disabled). If set to 2, then when the MySQL server
        shuts down, <code class="literal">InnoDB</code> will just flush its logs
        and shut down brutally (and quickly) as if a MySQL crash had
        occurred; no committed transaction will be lost, but a crash
        recovery will be done at next startup.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Starting <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with
        <a href="server-administration.html#option_mysqld_user"><code class="option">--user=<em class="replaceable"><code>non_existent_user</code></em></code></a>
        caused it to run using the privileges of the account from which
        it was invoked, including the <code class="literal">root</code> account.
       (<a href="http://bugs.mysql.com/9833" target="_top">Bug#9833</a>)</p></li><li><p>
        A memory leak occurred when selecting from a view that contained
        a subquery.
       (<a href="http://bugs.mysql.com/10107" target="_top">Bug#10107</a>)</p></li><li><p>
        Setting the <a href="server-administration.html#sysvar_storage_engine"><code class="literal">storage_engine</code></a>
        system variable to <code class="literal">MEMORY</code> succeeded, but
        retrieving the variable resulted in a value of
        <code class="literal">HEAP</code> (the old name for the
        <code class="literal">MEMORY</code> storage engine) rather than
        <code class="literal">MEMORY</code>.
       (<a href="http://bugs.mysql.com/10039" target="_top">Bug#10039</a>)</p></li><li><p>
        Queries containing <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>
        incorrectly were registered in the query cache.
       (<a href="http://bugs.mysql.com/9796" target="_top">Bug#9796</a>)</p></li><li><p>
        Invoking a stored function that returned a value having an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> or <code class="literal">SET</code>
        data type caused the server to crash.
       (<a href="http://bugs.mysql.com/9775" target="_top">Bug#9775</a>)</p></li><li><p>
        A string length comparison problem caused
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to fail when loading dump files
        containing certain escape sequences containing a backslash
        character (<code class="literal">\</code>).
       (<a href="http://bugs.mysql.com/9756" target="_top">Bug#9756</a>)</p></li><li><p>
        After an internal temporary table became too large in memory and
        had to be converted to an on-disk table, the error indicator was
        not cleared and the query failed with error 1023
        <span class="errortext">Can't find record in ''</span>.
       (<a href="http://bugs.mysql.com/9703" target="_top">Bug#9703</a>)</p></li><li><p>
        Use of a subquery that used <code class="literal">WITH ROLLUP</code> in
        the <code class="literal">FROM</code> clause of the main query sometimes
        resulted in a <code class="literal">Column cannot be null</code> error.
       (<a href="http://bugs.mysql.com/9681" target="_top">Bug#9681</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Assertion failures of types
        <code class="literal">ut_a(cursor-&gt;old_stored ==
        BTR_PCUR_OLD_STORED)</code> and
        <code class="literal">prebuilt-&gt;template_type == 0</code> could occur
        when performing multi-table updates. This bug was introduced in
        4.1.10 and 4.0.24.
       (<a href="http://bugs.mysql.com/9670" target="_top">Bug#9670</a>)</p></li><li><p>
        A problem with <code class="literal">readline</code>caused the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client to crash when the user pressed
        <code class="literal">Control-R</code>..
       (<a href="http://bugs.mysql.com/9568" target="_top">Bug#9568</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> and then
        calling a stored procedure caused an error and resulting in the
        server thinking that no stored procedures exist.
       (<a href="http://bugs.mysql.com/9566" target="_top">Bug#9566</a>)</p></li><li><p>
        The server died with signal 11 if a nonexistent location was
        specified for the location of the binary log. Now the server
        exits after printing an appropriate error message.
       (<a href="http://bugs.mysql.com/9542" target="_top">Bug#9542</a>)</p></li><li><p>
        Incorrect results were returned for queries of the form
        <code class="literal">SELECT ... LEFT JOIN ... WHERE EXISTS
        (<em class="replaceable"><code>subquery</code></em>)</code>, where the
        subquery selected rows based on an <a href="functions.html#operator_is-null"><code class="literal">IS
        NULL</code></a> condition.
       (<a href="http://bugs.mysql.com/9516" target="_top">Bug#9516</a>)</p></li><li><p>
        A segmentation fault in <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> occurred
        when the last table checked in
        <a href="programs.html#option_mysqlcheck_auto-repair"><code class="option">--auto-repair</code></a> mode returned
        an error (such as the table being a <code class="literal">MERGE</code>
        table).
       (<a href="http://bugs.mysql.com/9492" target="_top">Bug#9492</a>)</p></li><li><p>
        Within a stored procedure, attempting to execute a
        multiple-table <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> failed with
        a <code class="literal">Table '<em class="replaceable"><code>tbl_name</code></em>' was
        locked with a READ lock and can't be updated</code> error.
       (<a href="http://bugs.mysql.com/9486" target="_top">Bug#9486</a>)</p></li><li><p>
        <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a> displayed an incorrect row count
        for tables.
       (<a href="http://bugs.mysql.com/9391" target="_top">Bug#9391</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Next-key locking did not allow
        inserts which did not produce a “<span class="quote">phantom</span>”. If the
        range is of type <code class="literal">'a' &lt;= uniquecolumn</code>,
        <code class="literal">InnoDB</code> lock only the RECORD, if the record
        with the column value <code class="literal">'a'</code> exists in a
        CLUSTERED index. This allows inserts before a range.
       (<a href="http://bugs.mysql.com/9354" target="_top">Bug#9354</a>)</p></li><li><p>
        The optimizer did not compute the union of two ranges for the
        <code class="literal">OR</code> operator correctly.
       (<a href="http://bugs.mysql.com/9348" target="_top">Bug#9348</a>)</p></li><li><p>
        Corrected a failure to resolve a column reference correctly for
        a <code class="literal">LEFT JOIN</code> that compared a join column to an
        <code class="literal">IN</code> subquery.
       (<a href="http://bugs.mysql.com/9338" target="_top">Bug#9338</a>)</p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> was written twice
        to the binary log when used on <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/9149" target="_top">Bug#9149</a>)</p></li><li><p>
        Multiple-table updates could produce spurious data-truncation
        warnings if they used a join across columns that are indexed
        using a column prefix.
       (<a href="http://bugs.mysql.com/9103" target="_top">Bug#9103</a>)</p></li><li><p>
        Invocation of a stored function that returned a value having a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> data type caused the server
        to crash.
       (<a href="http://bugs.mysql.com/9102" target="_top">Bug#9102</a>)</p></li><li><p>
        For stored functions that should return a
        <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> value, corrected a failure
        of the value to be in <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a>
        format.
       (<a href="http://bugs.mysql.com/8861" target="_top">Bug#8861</a>)</p></li><li><p>
        Selecting from a view containing a subquery caused the server to
        hang.
       (<a href="http://bugs.mysql.com/8490" target="_top">Bug#8490</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> with a negative time
        first argument and positive time second argument produced
        incorrect results.
       (<a href="http://bugs.mysql.com/8068" target="_top">Bug#8068</a>)</p></li><li><p>
        Invocation of a stored function that returned a value having a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> data type caused the server
        to crash.
       (<a href="http://bugs.mysql.com/7648" target="_top">Bug#7648</a>)</p></li><li><p>
        <code class="literal">SET @var= CAST(NULL AS [INTEGER|CHAR])</code> now
        sets the result type of the variable to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INTEGER</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>.
       (<a href="http://bugs.mysql.com/6598" target="_top">Bug#6598</a>)</p></li><li><p>
        The client/server protocol allowed the server to close the
        connection before sending the final error message. The problem
        could show up as a <span class="errortext">Lost connection to MySQL
        server</span> error during a query when attempting to
        connect and access a nonexistent database.
       (<a href="http://bugs.mysql.com/6387" target="_top">Bug#6387</a>, <a href="http://bugs.mysql.com/9455" target="_top">Bug#9455</a>)</p></li><li><p>
        Column references were not properly resolved when an outer join
        involving a view contained a subquery and the column was used
        both in the subquery and the outer query.
       (<a href="http://bugs.mysql.com/6107" target="_top">Bug#6107</a>, <a href="http://bugs.mysql.com/6106" target="_top">Bug#6106</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Prevent <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> from changing the storage engine if there are
        foreign key constraints on the table.
       (<a href="http://bugs.mysql.com/5574" target="_top">Bug#5574</a>, <a href="http://bugs.mysql.com/5670" target="_top">Bug#5670</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-4"></a>C.1.82. Changes in MySQL 5.0.4 (16 April 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        The way the time zone information is stored in the binary log
        was changed, so that it is now possible to have a replication
        master and slave running with different global time zones. A
        disadvantage is that replication from 5.0.4 masters to pre-5.0.4
        slaves is impossible.
      </p></li><li><p>
        Added <code class="literal">ENGINE=MyISAM</code> table option when
        creating <code class="literal">mysql.proc</code> table in
        <span><strong class="command">mysql_create_system_tables</strong></span> script to make
        sure the table is created as a <code class="literal">MyISAM</code> table
        even if the default storage engine has been changed.
       (<a href="http://bugs.mysql.com/9496" target="_top">Bug#9496</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> for an
        <code class="literal">INFORMATION_SCHEMA</code> table no longer prints a
        <code class="literal">MAX_ROWS</code> value because the value has no
        meaning.
       (<a href="http://bugs.mysql.com/8941" target="_top">Bug#8941</a>)</p></li><li><p>
        Invalid <code class="literal">DEFAULT</code> values for
        <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> now generate errors.
       (<a href="http://bugs.mysql.com/5903" target="_top">Bug#5903</a>)</p></li><li><p>
        Added <a href="programs.html#option_mysqlshow_show-table-type"><code class="option">--show-table-type</code></a> option
        to <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a>, to display a column indicating
        the table type, as in <code class="literal">SHOW FULL TABLES</code>.
       (<a href="http://bugs.mysql.com/5036" target="_top">Bug#5036</a>)</p></li><li><p>
        New configuration directives <code class="literal">!include</code> and
        <code class="literal">!includedir</code> implemented for including option
        files and searching directories for option files. See
        <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>, for usage.
      </p></li><li><p>
        Added <a href="installing.html#option_configure_with-big-tables"><code class="option">--with-big-tables</code></a>
        compilation option to <span><strong class="command">configure</strong></span>. (Previously
        it was necessary to pass <code class="option">-DBIG_TABLES</code> to the
        compiler manually in order to enable large table support.) See
        <a href="installing.html#configure-options" title="2.16.2. Typical configure Options">Section 2.16.2, “Typical <span><strong class="command">configure</strong></span> Options”</a>, for details.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Information in <code class="literal">INFORMATION_SCHEMA</code> could be
        exposed to a user with insufficient privileges.
       (<a href="http://bugs.mysql.com/7214" target="_top">Bug#7214</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The commit count cache for <code class="literal">NDB</code> was
        not properly invalidated when deleting a record using a cursor.
       (<a href="http://bugs.mysql.com/8585" target="_top">Bug#8585</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If, on a replication master, a
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> operation was interrupted (by, for example, an
        integrity constraint violation or killed connection), the slave
        skipped the <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> entirely, thus missing changes if this command
        permanently inserted or updated table records before being
        interrupted.
       (<a href="http://bugs.mysql.com/3247" target="_top">Bug#3247</a>)</p></li><li><p>
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> no longer uses nonportable
        <span><strong class="command">alias</strong></span> command or LSB functions.
       (<a href="http://bugs.mysql.com/9852" target="_top">Bug#9852</a>)</p></li><li><p>
        A server installed as a Windows service and started with
        <a href="server-administration.html#option_mysqld_shared-memory"><code class="option">--shared-memory</code></a> could not be
        stopped.
       (<a href="http://bugs.mysql.com/9665" target="_top">Bug#9665</a>)</p></li><li><p>
        Selecting a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column failed if
        the binary client/server protocol was used.
       (<a href="http://bugs.mysql.com/9608" target="_top">Bug#9608</a>)</p></li><li><p>
        Creating a <code class="literal">PRIMARY KEY</code> on a table having a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column caused the server to
        crash.
       (<a href="http://bugs.mysql.com/9571" target="_top">Bug#9571</a>)</p></li><li><p>
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> and <code class="literal">SET</code>
        columns in <code class="literal">InnoDB</code> tables were treated
        incorrectly as character strings. This bug did not manifest
        itself with <code class="literal">latin1</code> collations, but it caused
        malfunction with <code class="literal">utf8</code>. Old tables will
        continue to work. In new tables,
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> and <code class="literal">SET</code>
        will be stored internally as unsigned integers.
       (<a href="http://bugs.mysql.com/9526" target="_top">Bug#9526</a>)</p></li><li><p>
        An error in division of floating point numbers could cause nine
        zeros (<code class="literal">000000000</code>) to be inserted in the
        middle of the quotient.
       (<a href="http://bugs.mysql.com/9501" target="_top">Bug#9501</a>)</p></li><li><p>
        Fixed option-parsing code for the embedded server to understand
        <code class="literal">K</code>, <code class="literal">M</code>, and
        <code class="literal">G</code> suffixes for the
        <a href="server-administration.html#sysvar_net_buffer_length"><code class="literal">net_buffer_length</code></a> and
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> options.
       (<a href="http://bugs.mysql.com/9472" target="_top">Bug#9472</a>)</p></li><li><p>
        Some user variables were not being handled with
        “<span class="quote">implicit</span>” coercibility.
       (<a href="http://bugs.mysql.com/9425" target="_top">Bug#9425</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE
        ... SELECT</code></a> or
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT INTO ...
        SELECT</code></a> to select from multiple-table view caused the
        server to crash.
       (<a href="http://bugs.mysql.com/9398" target="_top">Bug#9398</a>, <a href="http://bugs.mysql.com/8703" target="_top">Bug#8703</a>)</p></li><li><p>
        Multiple executions of a prepared statement involving a join of
        an <code class="literal">INFORMATION_SCHEMA</code> table with another
        table could lead to a crash of the server.
       (<a href="http://bugs.mysql.com/9383" target="_top">Bug#9383</a>)</p></li><li><p>
        An <code class="literal">InnoDB</code> test suite failure was caused by a
        locking conflict between two server instances at server shutdown
        or startup. This conflict on advisory locks appears to be the
        result of a bug in the operating system; these locks should be
        released when the files are closed, but somehow that does not
        always happen immediately in Linux.
       (<a href="http://bugs.mysql.com/9381" target="_top">Bug#9381</a>)</p></li><li><p>
        Allow extra HKSCS and cp950 characters (<code class="literal">big5</code>
        extension characters) to be accepted in <code class="literal">big5</code>
        columns.
       (<a href="http://bugs.mysql.com/9357" target="_top">Bug#9357</a>)</p></li><li><p>
        The value of the <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> and
        <code class="literal">CHARACTER_OCTET_LENGTH</code> columns of the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table
        must be <code class="literal">NULL</code> for numeric columns, but were
        not.
       (<a href="http://bugs.mysql.com/9344" target="_top">Bug#9344</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> tables had an implicit
        upper limit for the number of rows. As a result, not all data
        could be returned for some queries.
       (<a href="http://bugs.mysql.com/9317" target="_top">Bug#9317</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: True
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>:
        <code class="literal">InnoDB</code> stored the 'position' of a row wrong
        in a column prefix primary key index; this could cause MySQL to
        complain <code class="literal">ERROR 1032: Can't find record …</code> in
        an update of the primary key, and also some <code class="literal">ORDER
        BY</code> or <code class="literal">DISTINCT</code> queries.
       (<a href="http://bugs.mysql.com/9314" target="_top">Bug#9314</a>)</p></li><li><p>
        <code class="literal">ORDER BY</code> sometimes caused incorrect sorting
        of <code class="literal">UTF8</code> data.
       (<a href="http://bugs.mysql.com/9309" target="_top">Bug#9309</a>)</p></li><li><p>
        The <code class="literal">utf8_spanish2_ci</code> and
        <code class="literal">ucs2_spanish2_ci</code> collations no longer
        consider <code class="literal">r</code> equal to <code class="literal">rr</code> .
        If you upgrade to this version from an earlier version, you
        should rebuild the indexes of any affected tables.
       (<a href="http://bugs.mysql.com/9269" target="_top">Bug#9269</a>)</p></li><li><p>
        <code class="literal">CREATE OR REPLACE VIEW</code> and
        <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> now require the
        <a href="server-administration.html#priv_create-view"><code class="literal">CREATE VIEW</code></a> and
        <code class="literal">priv</code> privileges, not
        <a href="server-administration.html#priv_create-view"><code class="literal">CREATE VIEW</code></a> and
        <a href="server-administration.html#priv_delete"><code class="literal">DELETE</code></a>.
        (<a href="server-administration.html#priv_delete"><code class="literal">DELETE</code></a> is a row-level privilege,
        not a table-level privilege.)
       (<a href="http://bugs.mysql.com/9260" target="_top">Bug#9260</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on a decimal expression caused
        the server to crash.
       (<a href="http://bugs.mysql.com/9210" target="_top">Bug#9210</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> dumped core when invoked with
        <code class="option">--tmp</code> and
        <a href="programs.html#option_mysqldump_single-transaction"><code class="option">--single-transaction</code></a> options
        and a nonexistent table name.
       (<a href="http://bugs.mysql.com/9175" target="_top">Bug#9175</a>)</p></li><li><p>
        Calling <a href="connectors-apis.html#mysql-stmt-close" title="20.9.7.6. mysql_stmt_close()"><code class="literal">mysql_stmt_close()</code></a> for a
        single-row result set could cause the server to crash.
       (<a href="http://bugs.mysql.com/9159" target="_top">Bug#9159</a>)</p></li><li><p>
        Setting the <a href="server-administration.html#sysvar_max_error_count"><code class="literal">max_error_count</code></a>
        system variable to 0 resulted in a setting of 1.
       (<a href="http://bugs.mysql.com/9072" target="_top">Bug#9072</a>)</p></li><li><p>
        The use of <code class="literal">XOR</code> together with <code class="literal">NOT
        ISNULL()</code> erroneously resulted in some outer joins
        being converted to inner joins by the optimizer.
       (<a href="http://bugs.mysql.com/9017" target="_top">Bug#9017</a>)</p></li><li><p>
        Two prepared statements for single-row result sets being open
        simultaneously caused a <span class="errortext">Commands out of sync
        error</span> error.
       (<a href="http://bugs.mysql.com/8880" target="_top">Bug#8880</a>)</p></li><li><p>
        Extraneous comparisons between <code class="literal">NULL</code> values in
        indexed columns were performed by the optimzer for operators
        such as <code class="literal">=</code> that are never true for
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/8877" target="_top">Bug#8877</a>)</p></li><li><p>
        In the client/server protocol for prepared statements,
        reconnection failed when the connection was killed with
        reconnection enabled.
       (<a href="http://bugs.mysql.com/8866" target="_top">Bug#8866</a>)</p></li><li><p>
        In prepared statements, subqueries containing parameters were
        erroneously treated as <a href="optimization.html#jointype_const"><code class="literal">const</code></a>
        tables during preparation, resulting in a server crash.
       (<a href="http://bugs.mysql.com/8807" target="_top">Bug#8807</a>)</p></li><li><p>
        Do not try to space-pad <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        columns containing <code class="literal">ucs2</code> characters.
       (<a href="http://bugs.mysql.com/8771" target="_top">Bug#8771</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/7350" target="_top">Bug#7350</a>.</p></li><li><p>
        The warning message from
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> did not always
        indicate the correct number of lines.
       (<a href="http://bugs.mysql.com/8681" target="_top">Bug#8681</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: SQL statements were not rolled back
        on error.
       (<a href="http://bugs.mysql.com/8650" target="_top">Bug#8650</a>)</p></li><li><p>
        Too many rows were returned from queries that combined
        <code class="literal">ROLLUP</code> and <code class="literal">LIMIT</code> if
        <code class="literal">SQL_CALC_FOUND_ROWS</code> was given.
       (<a href="http://bugs.mysql.com/8617" target="_top">Bug#8617</a>)</p></li><li><p>
        Incorrect results were returned from queries that combined
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a>, <code class="literal">GROUP BY </code>, and
        <code class="literal">ROLLUP</code>.
       (<a href="http://bugs.mysql.com/8616" target="_top">Bug#8616</a>)</p></li><li><p>
        Queries that combined
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a>, <a href="functions.html#function_sum"><code class="literal">SUM()</code></a>, and
        <code class="literal">ROLLUP</code> could cause the MySQL server to crash.
       (<a href="http://bugs.mysql.com/8615" target="_top">Bug#8615</a>)</p></li><li><p>
        The <code class="literal">tee</code> command could sometimes cause the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client to crash.
       (<a href="http://bugs.mysql.com/8499" target="_top">Bug#8499</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> did not drop triggers
        that were defined for the table. <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP
        DATABASE</code></a> did not drop triggers in the database.
       (<a href="http://bugs.mysql.com/6559" target="_top">Bug#6559</a>, <a href="http://bugs.mysql.com/5859" target="_top">Bug#5859</a>)</p></li><li><p>
        Added linking with <code class="literal">libsupc++</code> on Fedora Core 3
        to get language support functions.
       (<a href="http://bugs.mysql.com/6554" target="_top">Bug#6554</a>)</p></li><li><p>
        Unions between binary and nonbinary columns failed due to a a
        collation coercibility problem.
       (<a href="http://bugs.mysql.com/6519" target="_top">Bug#6519</a>)</p></li><li><p>
        Using <a href="functions.html#function_convert"><code class="literal">CONVERT('0000-00-00',DATE)</code></a>
        or <a href="functions.html#function_cast"><code class="literal">CAST('0000-00-00' as DATE)</code></a>
        with the <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> SQL mode
        enabled now produces a warning.
       (<a href="http://bugs.mysql.com/6145" target="_top">Bug#6145</a>)</p></li><li><p>
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> SQL mode should
        prevent inserts where a column with no default value is omitted
        or set to a value of <code class="literal">DEFAULT</code>; however, in
        some cases, this restriction was not enforced.
       (<a href="http://bugs.mysql.com/5986" target="_top">Bug#5986</a>)</p></li><li><p>
        Inserting a zero date in a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column during
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> mode now produces
        an error.
       (<a href="http://bugs.mysql.com/5933" target="_top">Bug#5933</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> now produces warnings when
        casting incorrect <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INTEGER</code></a> and
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> values. This also applies to
        implicit <code class="literal">string</code> to <code class="literal">number</code>
        casts.
       (<a href="http://bugs.mysql.com/5912" target="_top">Bug#5912</a>)</p></li><li><p>
        An error now occurs if you try to insert an invalid value via a
        stored procedure in <code class="literal">STRICT</code> mode.
       (<a href="http://bugs.mysql.com/5907" target="_top">Bug#5907</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> now produces errors
        in strict mode (and warnings otherwise) when given an illegal
        argument.
       (<a href="http://bugs.mysql.com/5902" target="_top">Bug#5902</a>)</p></li><li><p>
        Inserting a zero date into a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column in
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> mode now produces
        an error.
      </p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> now fails in
        <code class="literal">STRICT</code> mode if the alteration generates
        warnings.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-3"></a>C.1.83. Changes in MySQL 5.0.3 (23 March 2005 Beta)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        This Beta release, as any other pre-production release, should
        not be installed on “<span class="quote">production</span>” level systems or
        systems with critical data. It is good practice to back up your
        data before installing any new version of software. Although
        MySQL worked very hard to ensure a high level of quality,
        protect your data by making a backup as you would for any
        software beta release.
      </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The C API <code class="literal">ER_WARN_DATA_TRUNCATED</code> warning
        symbol was renamed to
        <a href="error-handling.html#error_warn_data_truncated"><code class="literal">WARN_DATA_TRUNCATED</code></a>.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> data types now are
        handled with a fixed-point library that allows for precision
        math handling that results in more accurate results. See
        <a href="functions.html#precision-math" title="11.13. Precision Math">Section 11.13, “Precision Math”</a>.
      </p><p>
        A consequence of the change in handling of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> fixed-point data types is
        that the server is more strict to follow standard SQL. For
        example, a data type of <code class="literal">DECIMAL(3,1)</code> stores a
        maximum value of 99.9. Previously, the server allowed larger
        numbers to be stored. That is, it stored a value such as 100.0
        as 100.0. Now the server clips 100.0 to the maximum allowable
        value of 99.9. If you have tables that were created before MySQL
        5.0.3 and that contain floating-point data not strictly legal
        for the data type, you should alter the data types of those
        columns. For example:
      </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> MODIFY <em class="replaceable"><code>col_name</code></em> DECIMAL(4,1);
</pre><p>
        For user-defined functions, exact-value decimal arguments such
        as <code class="literal">1.3</code> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column values were passed
        as <code class="literal">REAL_RESULT</code> values prior to MySQL 5.0.3.
        As of 5.0.3, they are passed as strings with a type of
        <code class="literal">DECIMAL_RESULT</code>. If you upgrade to 5.0.3 and
        find that your UDF now receives string values, use the
        initialization function to coerce the arguments to numbers as
        described in <a href="extending-mysql.html#udf-arguments" title="21.2.2.3. UDF Argument Processing">Section 21.2.2.3, “UDF Argument Processing”</a>.
      </p><p>
        For the <a href="functions.html#function_floor"><code class="literal">FLOOR()</code></a> and
        <a href="functions.html#function_ceiling"><code class="literal">CEILING()</code></a> functions, the return
        type is no longer always <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>.
        For exact-value numeric arguments, the return value has an
        exact-value numeric type. For string or floating-point
        arguments, the return value has a floating-point type.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        Added a new global system variable
        <a href="replication.html#sysvar_slave_transaction_retries"><code class="literal">slave_transaction_retries</code></a>: If
        the replication slave SQL thread fails to execute a transaction
        because of an <code class="literal">InnoDB</code> deadlock or exceeded
        <code class="literal">InnoDB</code>'s
        <a href="storage-engines.html#sysvar_innodb_lock_wait_timeout"><code class="literal">innodb_lock_wait_timeout</code></a> or
        <code class="literal">NDBCLUSTER</code>'s
        <code class="literal">TransactionDeadlockDetectionTimeout</code> or
        <code class="literal">TransactionInactiveTimeout</code>, it automatically
        retries
        <a href="replication.html#sysvar_slave_transaction_retries"><code class="literal">slave_transaction_retries</code></a> times
        before stopping with an error. The default is 10.
       (<a href="http://bugs.mysql.com/8325" target="_top">Bug#8325</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When using this storage engine, the output of
        <a href="sql-syntax.html#show-table-status" title="12.5.5.33. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> now displays
        properly-calculated values in the
        <code class="literal">Avg_row_length</code> and
        <code class="literal">Data_length</code> columns. (Note that
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns are not yet taken
        into account.) In addition, the number of replicas is now shown
        in the <code class="literal">Comment</code> column (as
        <code class="literal">number_of_replicas</code>).
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a> statement was
        extended to support user variables in the target column list,
        and an optional <code class="literal">SET</code> clause. Now one can
        perform some transformations on data after they have been read
        and before they are inserted into the table. For example:
      </p><pre class="programlisting">LOAD DATA INFILE 'file.txt'
  INTO TABLE t1
  (column1, @var1)
  SET column2 = @var1/100;
</pre><p>
        Also, replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a>
        was changed, so you can't replicate such statements from a 5.0.3
        master to pre-5.0.3 slaves.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The way the character set information is stored into the binary
        log was changed, so that it is now possible to have a
        replication master and slave running with different global
        character sets. A disadvantage is that replication from 5.0.3
        masters to pre-5.0.3 slaves is impossible.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If the MySQL server is started without an argument to
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> and without
        <a href="replication.html#option_mysqld_log-bin-index"><code class="option">--log-bin-index</code></a>, thus not
        providing a name for the binary log index file, a warning is
        issued because MySQL falls back to using the host name for that
        name, and this is prone to replication issues if the server's
        host name gets changed later. See <a href="error-handling.html#open-bugs" title="B.1.8.1. Open Issues in MySQL">Section B.1.8.1, “Open Issues in MySQL”</a>.
      </p></li><li><p>
        Nonoptimal <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> query
        execution plans were chosen on IRIX.
       (<a href="http://bugs.mysql.com/8578" target="_top">Bug#8578</a>)</p></li><li><p>
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> will create the directory where
        the UNIX socket file is to be located if the directory does not
        exist. This applies only to the last component of the directory
        path name.
       (<a href="http://bugs.mysql.com/8513" target="_top">Bug#8513</a>)</p></li><li><p>
        <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> no longer
        is included in the <a href="server-administration.html#sqlmode_ansi"><code class="literal">ANSI</code></a>
        composite SQL mode.
       (<a href="http://bugs.mysql.com/8510" target="_top">Bug#8510</a>)</p></li><li><p>
        The server now includes a timestamp in the <code class="literal">Ready for
        connections</code> message that is written to the error log
        at startup.
       (<a href="http://bugs.mysql.com/8444" target="_top">Bug#8444</a>)</p></li><li><p>
        <a href="sql-syntax.html#checksum-table" title="12.5.2.4. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> returns a warning
        for nonexisting tables. The checksum value remains
        <code class="literal">NULL</code> as before.
       (<a href="http://bugs.mysql.com/8256" target="_top">Bug#8256</a>)</p></li><li><p>
        Setting the connection collation to a value different from the
        server collation followed by a <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> statement that included a quoted default value
        resulted in a server crash.
       (<a href="http://bugs.mysql.com/8235" target="_top">Bug#8235</a>)</p></li><li><p>
        When a client releases a user-level lock, <code class="literal">DO
        RELEASE_LOCK()</code> will not be written to the binary log
        anymore (this makes the binary log smaller); as a counterpart,
        the slave does not actually take the lock when it executes
        <a href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>. This is mainly an
        optimization and should not affect existing setups.
       (<a href="http://bugs.mysql.com/7998" target="_top">Bug#7998</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Corrected a bug in the crash recovery
        of <code class="literal">ROW_FORMAT=COMPACT</code> tables that caused
        corruption. There may still be bugs in the crash recovery,
        especially in <code class="literal">COMPACT</code> tables.
       (<a href="http://bugs.mysql.com/7973" target="_top">Bug#7973</a>)</p></li><li><p>
        Allowed the service-installation command for Windows servers to
        specify a single option other than
        <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> following the
        service name. This is for compatibility with MySQL 4.1.
       (<a href="http://bugs.mysql.com/7856" target="_top">Bug#7856</a>)</p></li><li><p>
        Changed XML format for <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> from
        <code class="literal">&lt;<em class="replaceable"><code>col_name</code></em>&gt;<em class="replaceable"><code>col_value</code></em>&lt;/<em class="replaceable"><code>col_name</code></em>&gt;</code>
        to <code class="literal">&lt;field
        name="<em class="replaceable"><code>col_name</code></em>"&gt;<em class="replaceable"><code>col_value</code></em>&lt;/field&gt;</code>
        to allow for proper encoding of column names that are not legal
        as element names.
       (<a href="http://bugs.mysql.com/7811" target="_top">Bug#7811</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> now uses
        <code class="literal">USING <em class="replaceable"><code>index_type</code></em></code>
        rather than <code class="literal">TYPE
        <em class="replaceable"><code>index_type</code></em></code> to specify an
        index type.
       (<a href="http://bugs.mysql.com/7233" target="_top">Bug#7233</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Implemented fast
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a>. The old approach (deleting rows one by one) may
        be used if the table is being referenced by foreign keys.
       (<a href="http://bugs.mysql.com/7150" target="_top">Bug#7150</a>)</p></li><li><p>
        Out-of-order packets were sent (<code class="literal">ERROR</code> after
        <code class="literal">OK</code> or <code class="literal">EOF</code>) following a
        <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL QUERY</code></a>
        statement.
       (<a href="http://bugs.mysql.com/6804" target="_top">Bug#6804</a>)</p></li><li><p>
        Added <a href="server-administration.html#sysvar_sql_notes"><code class="literal">sql_notes</code></a> session
        variable to cause <code class="literal">Note</code>-level warnings not to
        be recorded.
       (<a href="http://bugs.mysql.com/6662" target="_top">Bug#6662</a>)</p></li><li><p>
        Added <a href="connectors-apis.html#mysql-library-init" title="20.9.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> and
        <a href="connectors-apis.html#mysql-library-end" title="20.9.3.39. mysql_library_end()"><code class="literal">mysql_library_end()</code></a> as synonyms
        for the <a href="connectors-apis.html#mysql-server-init" title="20.9.9.1. mysql_server_init()"><code class="literal">mysql_server_init()</code></a> and
        <a href="connectors-apis.html#mysql-server-end" title="20.9.9.2. mysql_server_end()"><code class="literal">mysql_server_end()</code></a> C API
        functions. <a href="connectors-apis.html#mysql-library-init" title="20.9.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a>
        and <a href="connectors-apis.html#mysql-library-end" title="20.9.3.39. mysql_library_end()"><code class="literal">mysql_library_end()</code></a> are
        <code class="literal">#define</code> symbols, but the names more clearly
        indicate that they should be called when beginning and ending
        use of a MySQL C API library no matter whether the application
        uses <code class="literal">libmysqlclient</code> or
        <code class="literal">libmysqld</code>.
       (<a href="http://bugs.mysql.com/6149" target="_top">Bug#6149</a>)</p></li><li><p>
        Added <a href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a> and
        <a href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a> as standard SQL
        aliases for the <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> and
        <a href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> functions that compute
        population variance and standard deviation. Added new
        <a href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a> and
        <a href="functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a> functions to
        compute sample variance and standard deviation.
       (<a href="http://bugs.mysql.com/3190" target="_top">Bug#3190</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: A commit is now performed after every
        10,000 copied rows when executing <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a>, <a href="sql-syntax.html#create-index" title="12.1.8. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>,
        <a href="sql-syntax.html#drop-index" title="12.1.15. DROP INDEX Syntax"><code class="literal">DROP INDEX</code></a> or
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>. This makes
        recovery from an aborted operations of these types much faster
        than previous to this change.
      </p></li><li><p>
        Added support for <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>.
      </p></li><li><p>
        A new <a href="server-administration.html#priv_create-user"><code class="literal">CREATE USER</code></a> privilege was
        added.
      </p></li><li><p>
        Support for <code class="literal">RAID</code> options in
        <code class="literal">MyISAM</code> tables has been removed. If you have
        tables that use these options, you should convert them before
        upgrading. See <a href="installing.html#upgrading-from-previous-series" title="2.18.1.2. Upgrading from MySQL 4.1 to 5.0">Section 2.18.1.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: A shared record lock
        (<code class="literal">LOCK_REC_NOT_GAP</code>) is now taken for a
        matching record in the foreign key check because inserts can be
        allowed into gaps.
      </p></li><li><p>
        The MySQL server now aborts when started with the option
        <a href="replication.html#option_mysqld_log-bin-index"><code class="option">--log-bin-index</code></a> and without
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>, and when started with
        <a href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> and without
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>.
      </p></li><li><p>
        API change: the <code class="literal">reconnect</code> flag in the
        <code class="literal">MYSQL</code> structure is now set to 0 by
        <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a>. Only those
        client programs which didn't explicitly set this flag to 0 or 1
        after <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a>
        experience a change. Having automatic reconnection enabled by
        default was considered too dangerous (after reconnection, table
        locks, temporary tables, user and session variables are lost).
      </p></li><li><p>
        Bit-field values can be written using
        <code class="literal">b'<em class="replaceable"><code>value</code></em>'</code> notation.
        <em class="replaceable"><code>value</code></em> is a binary value written using
        0s and 1s.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Relaxed locking in
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a>, single table <code class="literal">UPDATE ...
        (SELECT)</code> and single table <code class="literal">DELETE ...
        (SELECT)</code> clauses when
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        is used and isolation level of the transaction is not
        <a href="sql-syntax.html#isolevel_serializable"><code class="literal">SERIALIZABLE</code></a>.
        <code class="literal">InnoDB</code> uses consistent read in these cases
        for a selected table.
      </p></li><li><p>
        <code class="literal">InnoDB</code> now supports a fast
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a>. One visible change from this is that
        auto-increment values for this table are reset on
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Introduced a compact record format
        that does not store the number of columns or the lengths of
        fixed-size columns. The old format can be requested by
        specifying <code class="literal">ROW_FORMAT=REDUNDANT</code>. The new
        format (<code class="literal">ROW_FORMAT=COMPACT</code>) is the default.
        The new format typically saves 20% of disk space and memory.
      </p><p>
        The presence of the new compact row format decreases row storage
        space by about 20% at the cost of increasing CPU use for some
        operations. If your workload is a typical one that is limited by
        cache hit rates and disk speed it is likely to be faster. If it
        is a rare case that is limited by CPU speed, it might be slower.
      </p></li><li><p>
        From the Windows distribution, predefined accounts without
        passwords for remote users ("root@%", "@%") were removed (other
        distributions never had them).
      </p></li><li><p>
        Added the <code class="literal">FEDERATED</code> storage engine. See
        <a href="storage-engines.html#federated-storage-engine" title="13.7. The FEDERATED Storage Engine">Section 13.7, “The <code class="literal">FEDERATED</code> Storage Engine”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Setting the initial
        <code class="literal">AUTO_INCREMENT</code> value for an
        <code class="literal">InnoDB</code> table using <code class="literal">CREATE TABLE ...
        AUTO_INCREMENT = <em class="replaceable"><code>n</code></em></code> now
        works, and <code class="literal">ALTER TABLE ... AUTO_INCREMENT =
        <em class="replaceable"><code>n</code></em></code> resets the current value.
      </p></li><li><p>
        User variable coercibility has been changed from
        “<span class="quote">coercible</span>” to “<span class="quote">implicit.</span>” That is,
        user variables have the same coercibility as column values.
      </p></li><li><p>
        Security improvement: User-defined functions should have at
        least one symbol defined in addition to the
        <code class="literal">xxx</code> symbol that corresponds to the main
        <code class="literal">xxx()</code> function. These auxiliary symbols
        correspond to the <code class="literal">xxx_init()</code>,
        <code class="literal">xxx_deinit()</code>, <code class="literal">xxx_reset()</code>,
        <code class="literal">xxx_clear()</code>, and <code class="literal">xxx_add()</code>
        functions. <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> by default no longer loads
        UDFs unless they have at least one auxiliary symbol defined in
        addition to the main symbol. The
        <a href="server-administration.html#option_mysqld_allow-suspicious-udfs"><code class="option">--allow-suspicious-udfs</code></a> option
        controls whether UDFs that have only an <code class="literal">xxx</code>
        symbol can be loaded. By default, the option is off.
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> also checks UDF file names when it
        reads them from the <code class="literal">mysql.func</code> table and
        rejects those that contain directory path name separator
        characters. (It already checked names as given in
        <a href="sql-syntax.html#create-function" title="12.1.7. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> statements.) See
        <a href="extending-mysql.html#udf-calling" title="21.2.2.1. UDF Calling Sequences for Simple Functions">Section 21.2.2.1, “UDF Calling Sequences for Simple Functions”</a>,
        <a href="extending-mysql.html#udf-aggr-calling" title="21.2.2.2. UDF Calling Sequences for Aggregate Functions">Section 21.2.2.2, “UDF Calling Sequences for Aggregate Functions”</a>, and
        <a href="extending-mysql.html#udf-security" title="21.2.2.6. User-Defined Function Security Precautions">Section 21.2.2.6, “User-Defined Function Security Precautions”</a>. Thanks to Stefano Di Paola
        <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        informing us about this issue.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0709" target="_top">CVE-2005-0709</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0710" target="_top">CVE-2005-0710</a>)</p></li><li><p>
        Added the <a href="server-administration.html#option_mysqld_large-pages"><code class="option">--large-pages</code></a> option
        for <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>. Large page support can be used on
        Linux systems. See <a href="optimization.html#large-page-support" title="7.5.9. Enabling Large Page Support">Section 7.5.9, “Enabling Large Page Support”</a>.
      </p></li><li><p>
        Added an <code class="literal">error</code> member to the
        <code class="literal">MYSQL_BIND</code> data structure that is used in the
        C API for prepared statements. This member is used for reporting
        data truncation errors. Truncation reporting is enabled via the
        new <code class="literal">MYSQL_REPORT_DATA_TRUNCATION</code> option for
        the <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API
        function.
      </p></li><li><p>
        Added the <code class="literal">multi_range_count</code> system variable.
      </p></li><li><p>
        The coercibility for the return value of functions such as
        <a href="functions.html#function_user"><code class="literal">USER()</code></a> or
        <a href="functions.html#function_version"><code class="literal">VERSION()</code></a> now is “<span class="quote">system
        constant</span>” rather than “<span class="quote">implicit.</span>” This makes
        these functions more coercible than column values so that
        comparisons of the two do not result in <code class="literal">Illegal mix of
        collations</code> errors.
        <a href="functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a> was modified to
        accommodate this new coercibility value. See
        <a href="functions.html#information-functions" title="11.10.3. Information Functions">Section 11.10.3, “Information Functions”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: <span class="bold"><strong>Upgrading from
        4.1:</strong></span> The sorting order for end-space in
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns for
        <code class="literal">InnoDB</code> tables has changed. Starting from
        5.0.3, <code class="literal">InnoDB</code> compares
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns as space-padded at
        the end. If you have a nonunique index on a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column, you should run
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> on it, and run
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> if the check
        reports errors. If you have a <code class="literal">UNIQUE INDEX</code> on
        a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column, you should rebuild
        the table with <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>.
      </p></li><li><p>
        Boolean full-text phrase searching now requires only that
        matches contain exactly the same words as the phrase and in the
        same order. Nonword characters no longer need match exactly.
      </p></li><li><p>
        <code class="filename">my.cnf</code> in the compile-time datadir (usually
        <code class="filename">/usr/local/mysql/data/</code> in the binary
        tarball distributions) is not being read anymore. The value of
        the environment variable <code class="literal">MYSQL_HOME</code> is used
        instead of the hard-coded path.
      </p></li><li><p>
        Additional control over transaction completion was implemented.
        The <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> and
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        statements support <code class="literal">AND [NO] CHAIN</code> and
        <code class="literal">RELEASE</code> clauses. There is a new
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">RELEASE
        SAVEPOINT</code></a> statement. The
        <a href="server-administration.html#sysvar_completion_type"><code class="literal">completion_type</code></a> system variable
        was added for setting the global and session default completion
        type.
      </p></li><li><p>
        Security improvement: The server creates
        <code class="filename">.frm</code>, <code class="filename">.MYD</code>,
        <code class="filename">.MYI</code>, <code class="filename">.MRG</code>,
        <code class="filename">.ISD</code>, and <code class="filename">.ISM</code> table
        files only if a file with the same name does not already exist.
        Thanks to Stefano Di Paola
        <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        informing us about this issue.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0711" target="_top">CVE-2005-0711</a>)</p></li><li><p>
        Added the
        <a href="server-administration.html#sysvar_engine_condition_pushdown"><code class="literal">engine_condition_pushdown</code></a>
        system variable. For NDB, setting this variable to 1 allows
        processing of some <code class="literal">WHERE</code> clause conditions to
        be processed in NDB nodes before rows are sent to the MySQL
        server, rather than having rows sent to the server for
        evaluation.
      </p></li><li><p>
        Support for the <code class="literal">ISAM</code> storage engine has been
        removed. If you have <code class="literal">ISAM</code> tables, you should
        convert them before upgrading. See
        <a href="installing.html#upgrading-from-previous-series" title="2.18.1.2. Upgrading from MySQL 4.1 to 5.0">Section 2.18.1.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        Added the <a href="server-administration.html#priv_create-routine"><code class="literal">CREATE ROUTINE</code></a> and
        <a href="server-administration.html#priv_alter-routine"><code class="literal">ALTER ROUTINE</code></a> privileges, and
        made the <a href="server-administration.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege
        operational.
      </p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> in column definitions now is
        a distinct data type; it no longer is treated as a synonym for
        <code class="literal">TINYINT(1)</code>.
      </p></li><li><p>
        Added <code class="literal">cp932</code> (SJIS for Windows Japanese) and
        <code class="literal">eucjpms</code> (UJIS for Windows Japanese) character
        sets.
      </p></li><li><p>
        <code class="literal">MEMORY</code> (<code class="literal">HEAP</code>) can have
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> fields.
      </p></li><li><p>
        <a href="sql-syntax.html#show-databases" title="12.5.5.11. SHOW DATABASES Syntax"><code class="literal">SHOW DATABASES</code></a>,
        <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a>,
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a>, and so forth,
        display information about the
        <code class="literal">INFORMATION_SCHEMA</code> database. Also, several
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements now accept a
        <code class="literal">WHERE</code> clause specifying which output rows to
        display. See <a href="information-schema.html" title="Chapter 19. INFORMATION_SCHEMA Tables">Chapter 19, <i><code class="literal">INFORMATION_SCHEMA</code> Tables</i></a>.
      </p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> now displays
        <code class="literal">NO</code> rather than blank in the
        <code class="literal">Null</code> output column if the corresponding table
        column cannot be <code class="literal">NULL</code>.
      </p></li><li><p>
        When the <code class="literal">MyISAM</code> storage engine detects
        corruption of a <code class="literal">MyISAM</code> table, a message
        describing the problem now is written to the error log.
      </p></li><li><p>
        A <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column can now contain
        up to 65535 bytes. In addition,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns now remember
        trailing spaces. For more details, see
        <a href="news.html#news-5-0-x" title="C.1. Changes in Release 5.0.x (Production)">Section C.1, “Changes in Release 5.0.x (Production)”</a>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If the table handler does not support the new
          <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> type, then it is
          converted to a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column.
          Currently this happens for <code class="literal">NDB</code>
          tables.
        </p></div></li><li><p>
        Added <a href="storage-engines.html#sysvar_innodb_checksums"><code class="option">--innodb-checksums</code></a> and
        <a href="storage-engines.html#sysvar_innodb_doublewrite"><code class="option">--innodb-doublewrite</code></a> options for
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.
      </p></li><li><p>
        Added several <code class="literal">InnoDB</code> status variables. See
        <a href="server-administration.html#server-status-variables" title="5.1.6. Server Status Variables">Section 5.1.6, “Server Status Variables”</a>.
      </p></li><li><p>
        Added account-specific <code class="literal">MAX_USER_CONNECTIONS</code>
        limit, which allows you to specify the maximum number of
        concurrent connections for the account. Also, all limited
        resources now are counted per account (instead of being counted
        per user + host pair as it was before). Use the
        <a href="server-administration.html#option_mysqld_old-style-user-limits"><code class="option">--old-style-user-limits</code></a> option to
        get the old behavior.
      </p></li><li><p>
        Implemented support for XA transactions. See
        <a href="sql-syntax.html#xa" title="12.4.7. XA Transactions">Section 12.4.7, “XA Transactions”</a>. The implementation makes the
        <code class="option">--innodb_safe_binlog</code> option obsolete, so it has
        been removed.
      </p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> now prints a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        statement at the end of its output, in case the server crashed
        while it was in the process of writing the final entry into the
        last binary log named on the command line. This causes any
        half-written transaction to be rolled back when the output is
        executed. The
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a> is
        harmless if the binary log file was written and closed normally.
      </p></li><li><p>
        <code class="literal">Seconds_Behind_Master</code> is
        <code class="literal">NULL</code> (which means “<span class="quote">unknown</span>”) if
        the slave SQL thread is not running, or if the slave I/O thread
        is not running or not connected to master. It is zero if the SQL
        thread has caught up to the I/O thread. It no longer grows
        indefinitely if the master is idle.
      </p></li><li><p>
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> is now killable while it is waiting for running
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> statements to finish.
      </p></li><li><p>
        The MySQL server aborts immediately instead of simply issuing a
        warning if it is started with the
        <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> option but cannot
        initialize the binary log at startup (that is, an error occurs
        when writing to the binary log file or binary log index file).
      </p></li><li><p>
        The binary log file and binary log index file now are handled
        the same way as <code class="literal">MyISAM</code> tables when there is a
        “<span class="quote">disk full</span>” or “<span class="quote">quota exceeded</span>” error.
        See <a href="error-handling.html#full-disk" title="B.1.4.3. How MySQL Handles a Full Disk">Section B.1.4.3, “How MySQL Handles a Full Disk”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: When MySQL/InnoDB is compiled on Mac
        OS X 10.2 or earlier, detect the operating system version at run
        time and use the <code class="function">fcntl()</code> file flush method
        on Mac OS X versions 10.3 and later. In Mac OS X,
        <code class="function">fsync()</code> does not flush the write cache in
        the disk drive, but the special <code class="function">fcntl()</code>
        does; however, the flush request is ignored by some external
        devices. Failure to flush the buffers may cause severe database
        corruption at power outages.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        If multiple semicolon-separated statements were received in a
        single packet, they were written to the binary log as a single
        event rather than as separate per-statement events. For a server
        serving as a replication master, this caused replication to fail
        when the event was sent to slave servers.
       (<a href="http://bugs.mysql.com/8436" target="_top">Bug#8436</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication master stamped a generated statement (such as a
        <code class="literal">SET</code> statement) with an error code intended
        only for another statement. This could happen, for example, when
        a statement generated a duplicate key error on the master but
        still had be to replicated to the slave.
       (<a href="http://bugs.mysql.com/8412" target="_top">Bug#8412</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If the slave was running with
        <code class="option">--replicate-*-table</code> options which excluded one
        temporary table and included another, and the two tables were
        used in a single <code class="literal">DROP TEMPORARY TABLE IF
        EXISTS</code> statement, as the ones the master automatically
        writes to its binary log upon client's disconnection when client
        has not explicitly dropped these, the slave could forget to
        delete the included replicated temporary table. Only the slave
        needs to be upgraded.
       (<a href="http://bugs.mysql.com/8055" target="_top">Bug#8055</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Multiple-table updates did not replicate properly to slave
        servers where <code class="option">--replicate-*-table</code> options had
        been specified.
       (<a href="http://bugs.mysql.com/7011" target="_top">Bug#7011</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave could crash after replicating many
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, or
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> statements from the
        master.
       (<a href="http://bugs.mysql.com/6461" target="_top">Bug#6461</a>, <a href="http://bugs.mysql.com/7658" target="_top">Bug#7658</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Changed semantics of <code class="literal">CREATE/ALTER/DROP
        DATABASE</code> statements so that replication of
        <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a> is possible when
        using <a href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a> and
        <a href="replication.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db</code></a>.
       (<a href="http://bugs.mysql.com/6391" target="_top">Bug#6391</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        DDL statements for views were not being written to the binary
        log (and thus not subject to replication).
       (<a href="http://bugs.mysql.com/4838" target="_top">Bug#4838</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> misinterpreted
        “<span class="quote"><code class="literal">_</code></span>” and
        “<span class="quote"><code class="literal">%</code></span>” characters in the names of
        tables to be dumped as wildcard characters.
       (<a href="http://bugs.mysql.com/9123" target="_top">Bug#9123</a>)</p></li><li><p>
        In strict or traditional SQL mode, too-long string values
        assigned to string columns (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>,
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a>,
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a>,
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>, or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>) were correctly truncated,
        but the server returned an SQLSTATE value of
        <code class="literal">01000</code> (should be <code class="literal">22001</code>).
       (<a href="http://bugs.mysql.com/9029" target="_top">Bug#9029</a>, <a href="http://bugs.mysql.com/6999" target="_top">Bug#6999</a>)</p></li><li><p>
        The definition of the enumeration-valued
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> column of the
        <code class="literal">mysql.proc</code> table was missing some of the
        current allowable SQL modes, so stored routines would not
        necessarily execute with the SQL mode in effect at the time of
        routine definition.
       (<a href="http://bugs.mysql.com/8902" target="_top">Bug#8902</a>)</p></li><li><p>
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> did not work within
        stored procedures. Now, within stored procedures,
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> is executed in the same
        way as <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>. This change was
        necessary because <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a>
        implicitly locks tables.
       (<a href="http://bugs.mysql.com/8850" target="_top">Bug#8850</a>)</p></li><li><p>
        A rare race condition could cause
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> to hang.
       (<a href="http://bugs.mysql.com/8682" target="_top">Bug#8682</a>)</p></li><li><p>
        <a href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT(<em class="replaceable"><code>col_name</code></em>,<em class="replaceable"><code>key</code></em>)</code></a>
        could fail to return <code class="literal">NULL</code> for invalid values
        in <em class="replaceable"><code>col_name</code></em>, if
        <em class="replaceable"><code>col_name</code></em> was declared as <code class="literal">NOT
        NULL</code>.
       (<a href="http://bugs.mysql.com/8669" target="_top">Bug#8669</a>)</p></li><li><p>
        If <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> named an index column multiple times in the
        select list, the server tried to access different key fields for
        each instance of the column, which could result in a crash.
       (<a href="http://bugs.mysql.com/8532" target="_top">Bug#8532</a>)</p></li><li><p>
        <code class="literal">MATCH ... AGAINST</code> in natural language mode
        could cause a server crash if the <code class="literal">FULLTEXT</code>
        index was not used in a join (that is,
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> did not show
        <a href="optimization.html#jointype_fulltext"><code class="literal">fulltext</code></a> join mode) and the
        search query matched no rows in the table.
       (<a href="http://bugs.mysql.com/8522" target="_top">Bug#8522</a>)</p></li><li><p>
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> did not invalidate
        query results in the query cache that were generated from the
        table.
       (<a href="http://bugs.mysql.com/8480" target="_top">Bug#8480</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-index" title="12.5.6.4. LOAD INDEX INTO
        CACHE Syntax"><code class="literal">LOAD INDEX</code></a> statement now loads
        the index into memory.
       (<a href="http://bugs.mysql.com/8452" target="_top">Bug#8452</a>)</p></li><li><p>
        For a stored function that refers to a given table, invoking the
        function while selecting from the same table resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/8405" target="_top">Bug#8405</a>)</p></li><li><p>
        Comparison of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column
        containing <code class="literal">NULL</code> to a subquery that produced
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/8397" target="_top">Bug#8397</a>)</p></li><li><p>
        <code class="literal">DELETE FROM <em class="replaceable"><code>tbl_name</code></em> ...
        WHERE ... ORDER BY
        <em class="replaceable"><code>tbl_name</code></em>.<em class="replaceable"><code>col_name</code></em>
        </code> when the <code class="literal">ORDER BY</code> column was
        qualified with the table name caused the server to crash.
       (<a href="http://bugs.mysql.com/8392" target="_top">Bug#8392</a>)</p></li><li><p>
        Stored functions that used cursors could return incorrect
        results.
       (<a href="http://bugs.mysql.com/8386" target="_top">Bug#8386</a>)</p></li><li><p>
        The Cyrillic letters <code class="literal">I</code>
        (<span class="emphasis"><em>И</em></span>) and <code class="literal">SHORT I</code>
        (<span class="emphasis"><em>Й</em></span>) were treated as being the same
        character by the <code class="literal">utf8_general_ci</code> collation.
       (<a href="http://bugs.mysql.com/8385" target="_top">Bug#8385</a>)</p></li><li><p>
        When performing boolean full-text searches on
        <code class="literal">utf8</code> columns, a double-quote character in the
        search string caused the server to crash.
       (<a href="http://bugs.mysql.com/8351" target="_top">Bug#8351</a>)</p></li><li><p>
        The <code class="option">--set-character-set</code> option for
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> was changed to
        <a href="programs.html#option_myisamchk_set-collation"><code class="option">--set-collation</code></a>. The value
        needed for specifying how to sort indexes is a collation name,
        not a character set name.
       (<a href="http://bugs.mysql.com/8349" target="_top">Bug#8349</a>)</p></li><li><p>
        Corruption of <code class="literal">MyISAM</code> table indexes could
        occur with <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> if the table had already been opened. For
        example, this was possible if the table had been opened
        implicitly by selecting from a <code class="literal">MERGE</code> table
        that mapped to the <code class="literal">MyISAM</code> table. The server
        now issues an error message for
        <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> under these conditions.
       (<a href="http://bugs.mysql.com/8306" target="_top">Bug#8306</a>)</p></li><li><p>
        For a query with both <code class="literal">GROUP BY</code> and
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> clauses and a
        <code class="literal">FROM</code> clause with a subquery,
        <code class="literal">NULL</code> was returned for any
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column selected by the
        subquery.
       (<a href="http://bugs.mysql.com/8218" target="_top">Bug#8218</a>)</p></li><li><p>
        Selecting from an <code class="literal">INFORMATION_SCHEMA</code> table
        combined with a subquery on an
        <code class="literal">INFORMATION_SCHEMA</code> table caused an error with
        the message <code class="literal">Table <em class="replaceable"><code>tbl_name</code></em>
        is corrupted</code>.
       (<a href="http://bugs.mysql.com/8164" target="_top">Bug#8164</a>)</p></li><li><p>
        Matching of table names by <a href="programs.html#mysqlhotcopy" title="4.6.9. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> now
        accommodates <code class="literal">DBD::mysql</code> versions 2.9003 and
        up, which implement identifier quoting.
       (<a href="http://bugs.mysql.com/8136" target="_top">Bug#8136</a>)</p></li><li><p>
        Re-execution of prepared statements containing subqueries caused
        the server to crash.
       (<a href="http://bugs.mysql.com/8125" target="_top">Bug#8125</a>)</p></li><li><p>
        A problem with equality propagation optimization for prepared
        statements and stored procedures caused a server crash upon
        re-execution of the prepared statement or stored procedure.
       (<a href="http://bugs.mysql.com/8115" target="_top">Bug#8115</a>, <a href="http://bugs.mysql.com/8849" target="_top">Bug#8849</a>)</p></li><li><p>
        Selecting from a view defined as a join caused a server crash if
        the query cache was enabled.
       (<a href="http://bugs.mysql.com/8054" target="_top">Bug#8054</a>)</p></li><li><p>
        Results in the query cache generated from a view were not
        properly invalidated after <a href="sql-syntax.html#alter-view" title="12.1.5. ALTER VIEW Syntax"><code class="literal">ALTER
        VIEW</code></a> or <a href="sql-syntax.html#drop-view" title="12.1.19. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> on
        that view.
       (<a href="http://bugs.mysql.com/8050" target="_top">Bug#8050</a>)</p></li><li><p>
        Creating a table using a name containing a character that is
        illegal in <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a>
        resulted in the character being stripped from the name and no
        error. The character now is considered an error.
       (<a href="http://bugs.mysql.com/8041" target="_top">Bug#8041</a>)</p></li><li><p>
        Certain correlated subqueries with forward references (referring
        to an alias defined later in the outer query) could crash the
        server.
       (<a href="http://bugs.mysql.com/8025" target="_top">Bug#8025</a>)</p></li><li><p>
        Corrected a problem with references to <code class="literal">DUAL</code>
        where statements such as <code class="literal">SELECT 1 AS a FROM
        DUAL</code> would succeed but statements such as
        <code class="literal">SELECT 1 AS a FROM DUAL LIMIT 1</code> would fail.
       (<a href="http://bugs.mysql.com/8023" target="_top">Bug#8023</a>)</p></li><li><p>
        Comparing a nested row expression (such as
        <code class="literal">ROW(1,(2,3))</code>) with a subquery caused the
        server to crash.
       (<a href="http://bugs.mysql.com/8022" target="_top">Bug#8022</a>)</p></li><li><p>
        The number of columns in a row comparison against a subquery was
        calculated incorrectly.
       (<a href="http://bugs.mysql.com/8020" target="_top">Bug#8020</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now avoids writing <code class="literal">SET
        NAMES</code> to the dump output if the server is older than
        version 4.1 and would not understand that statement.
       (<a href="http://bugs.mysql.com/7997" target="_top">Bug#7997</a>)</p></li><li><p>
        A deadlock could occur on an update followed by a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> on an
        <code class="literal">InnoDB</code> table without any explicit locks being
        taken. <code class="literal">InnoDB</code> now takes an exclusive lock
        when <code class="literal">INSERT ON DUPLICATE KEY UPDATE</code> is
        checking duplicate keys.
       (<a href="http://bugs.mysql.com/7975" target="_top">Bug#7975</a>)</p></li><li><p>
        A slave running MySQL 3.23.51 or newer hung while trying to
        connect to a master running MySQL 3.23.50 or older. (The reason
        for this was a bug in the old masters — <code class="literal">SELECT
        @@<em class="replaceable"><code>unknown_var</code></em></code> caused the
        server to hang — which was fixed in MySQL 3.23.50.)
       (<a href="http://bugs.mysql.com/7965" target="_top">Bug#7965</a>)</p></li><li><p>
        Erroneous output resulted from
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> combined with a subquery and <code class="literal">GROUP
        BY</code>.
       (<a href="http://bugs.mysql.com/7946" target="_top">Bug#7946</a>)</p></li><li><p>
        <a href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returned an
        incorrect value after a <code class="literal">SELECT SQL_CALC_FOUND_ROWS
        DISTINCT</code> statement that selected constants and
        included <code class="literal">GROUP BY</code> and
        <code class="literal">LIMIT</code> clauses.
       (<a href="http://bugs.mysql.com/7945" target="_top">Bug#7945</a>)</p></li><li><p>
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> now understands the
        <code class="option">--help</code> option. Previously, it ignored the
        option and attempted to start the server anyway.
       (<a href="http://bugs.mysql.com/7931" target="_top">Bug#7931</a>)</p></li><li><p>
        Creating a user with grants failed when specifying a password
        but worked without one.
       (<a href="http://bugs.mysql.com/7905" target="_top">Bug#7905</a>)</p></li><li><p>
        Comparing the result of a subquery to a nonexistent column
        caused the server to crash. This issue affected MySQL on Windows
        platforms only.
       (<a href="http://bugs.mysql.com/7885" target="_top">Bug#7885</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> improperly accepted
        an index on a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column
        that <a href="sql-syntax.html#create-table" title="12.1.10. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> would reject.
       (<a href="http://bugs.mysql.com/7884" target="_top">Bug#7884</a>)</p></li><li><p>
        MySQL allowed concurrent updates (including inserts and deletes)
        to a table if binary logging was enabled. Now, all updates are
        executed in a serialized fashion, because they are executed
        serialized when the binary log is replayed.
       (<a href="http://bugs.mysql.com/7879" target="_top">Bug#7879</a>)</p></li><li><p>
        Ensured that <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --single-transaction</strong></span></a>
        sets its transaction isolation level to
        <a href="sql-syntax.html#isolevel_repeatable-read"><code class="literal">REPEATABLE READ</code></a> before
        proceeding (otherwise if the MySQL server was configured to run
        with a default isolation level lower than
        <a href="sql-syntax.html#isolevel_repeatable-read"><code class="literal">REPEATABLE READ</code></a> it could give
        an inconsistent dump).
       (<a href="http://bugs.mysql.com/7850" target="_top">Bug#7850</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> forgot to add backquotes around
        the collation of user variables (causing later parsing problems
        as <code class="literal">BINARY</code> is a reserved word).
       (<a href="http://bugs.mysql.com/7793" target="_top">Bug#7793</a>)</p></li><li><p>
        A <span class="errortext">Table is full</span> error occurred when the
        table was still smaller than
        <a href="server-administration.html#sysvar_max_heap_table_size"><code class="literal">max_heap_table_size</code></a>.
       (<a href="http://bugs.mysql.com/7791" target="_top">Bug#7791</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> with
        <code class="literal">HAVING</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/7769" target="_top">Bug#7769</a>)</p></li><li><p>
        The <a href="functions.html#function_conv"><code class="literal">CONV()</code></a> function returned an
        unsigned <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> number, which
        does not fit in 32 bits.
       (<a href="http://bugs.mysql.com/7751" target="_top">Bug#7751</a>)</p></li><li><p>
        The <a href="functions.html#function_in"><code class="literal">IN()</code></a> operator did not return
        correct results if all values in the list were constants and
        some of them used substring functions such as
        <a href="functions.html#function_left"><code class="literal">LEFT()</code></a>,
        <a href="functions.html#function_right"><code class="literal">RIGHT()</code></a>, or
        <a href="functions.html#function_mid"><code class="literal">MID()</code></a>.
       (<a href="http://bugs.mysql.com/7716" target="_top">Bug#7716</a>)</p></li><li><p>
        When encountering a <span class="errortext">disk full</span> or
        <span class="errortext">quota exceeded</span> write error,
        <code class="literal">MyISAM</code> sometimes failed to sleep and retry
        the write, resulting in a corrupted table.
       (<a href="http://bugs.mysql.com/7714" target="_top">Bug#7714</a>)</p></li><li><p>
        The <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> function, when
        its second or third argument was from a
        <a href="optimization.html#jointype_const"><code class="literal">const</code></a> table, caused the
        server to crash. (See <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax">Section 12.3.2, “<code class="literal">EXPLAIN</code> Syntax”</a>.)
       (<a href="http://bugs.mysql.com/7705" target="_top">Bug#7705</a>)</p></li><li><p>
        The output of the <code class="literal">STATUS</code>
        (<code class="literal">\s</code>) command in <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> had
        the values for the server and client character sets reversed.
       (<a href="http://bugs.mysql.com/7571" target="_top">Bug#7571</a>)</p></li><li><p>
        A <code class="literal">LEFT OUTER JOIN</code> between an empty base table
        and a view on an empty base table caused a server crash.
       (<a href="http://bugs.mysql.com/7433" target="_top">Bug#7433</a>)</p></li><li><p>
        Ordering by an unsigned expression (more complex than a column
        reference) was treating the value as signed, producing
        incorrectly sorted results. <code class="literal">HAVING</code> was also
        treating unsigned columns as signed.
       (<a href="http://bugs.mysql.com/7425" target="_top">Bug#7425</a>)</p></li><li><p>
        The server crashed when an error occurred during the filling of
        a temporary table created for handling a view or derived table.
       (<a href="http://bugs.mysql.com/7413" target="_top">Bug#7413</a>)</p></li><li><p>
        Made the MySQL server accept executing <a href="sql-syntax.html#show-create-database" title="12.5.5.6. SHOW CREATE DATABASE Syntax"><code class="literal">SHOW
        CREATE DATABASE</code></a> even if the connection has an open
        transaction or locked tables. Refusing it made
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --single-transaction</strong></span></a> sometimes fail
        to print a complete <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE
        DATABASE</code></a> statement for some dumped databases.
       (<a href="http://bugs.mysql.com/7358" target="_top">Bug#7358</a>)</p></li><li><p>
        Corrected the handling of trailing spaces in the
        <code class="literal">ucs2</code> character set.
       (<a href="http://bugs.mysql.com/7350" target="_top">Bug#7350</a>)</p></li><li><p>
        <a href="server-administration.html#sysvar_expire_logs_days"><code class="option">--expire-logs-days</code></a> was not
        honored if using only transactions.
       (<a href="http://bugs.mysql.com/7236" target="_top">Bug#7236</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> columns that
        contained timestamp values were of type
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a>. These were changed to
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>.
       (<a href="http://bugs.mysql.com/7217" target="_top">Bug#7217</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> columns that
        contained catalog identifiers were of type
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a>. These were changed to
        <code class="literal">VARCHAR(<em class="replaceable"><code>N</code></em></code>, where
        <em class="replaceable"><code>N</code></em> is the appropriate maximum
        identifier length.
       (<a href="http://bugs.mysql.com/7215" target="_top">Bug#7215</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> in the
        select list when selecting from a view caused a server crash.
       (<a href="http://bugs.mysql.com/7116" target="_top">Bug#7116</a>)</p></li><li><p>
        An expression that tested a case-insensitive character column
        against string constants that differed in lettercase could fail
        because the constants were treated as having a binary collation.
        (For example, <code class="literal">WHERE city='London' AND
        city='london'</code> could fail.)
       (<a href="http://bugs.mysql.com/7098" target="_top">Bug#7098</a>, <a href="http://bugs.mysql.com/8690" target="_top">Bug#8690</a>)</p></li><li><p>
        Setting the initial <code class="literal">AUTO_INCREMENT</code> value for
        an <code class="literal">InnoDB</code> table using <code class="literal">CREATE TABLE
        ... AUTO_INCREMENT = <em class="replaceable"><code>n</code></em></code> did
        not work, and <code class="literal">ALTER TABLE ... AUTO_INCREMENT =
        <em class="replaceable"><code>n</code></em></code> did not reset the current
        value.
       (<a href="http://bugs.mysql.com/7061" target="_top">Bug#7061</a>)</p></li><li><p>
        When setting integer system variables to a negative value with
        <code class="literal">SET VARIABLES</code>, the value was treated as a
        positive value modulo 2<sup>32</sup>.
       (<a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>)</p></li><li><p>
        Use of a view in a correlated subquery that contains
        <code class="literal">HAVING</code> but no <code class="literal">GROUP BY</code>
        caused a server crash.
       (<a href="http://bugs.mysql.com/6894" target="_top">Bug#6894</a>)</p></li><li><p>
        Praparing a query using the
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> function with
        constant arguments caused the server to crash.
       (<a href="http://bugs.mysql.com/6849" target="_top">Bug#6849</a>)</p></li><li><p>
        Handling by <a href="connectors-apis.html#mysql-list-fields" title="20.9.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a>
        of references to stored functions within views was incorrect and
        could result in a server crash.
       (<a href="http://bugs.mysql.com/6814" target="_top">Bug#6814</a>)</p></li><li><p>
        A sequence of
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> (or
        <code class="literal">SET autocommit = 0</code>),
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a>, transactional update,
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>,
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> could hang the connection forever and possibly
        the MySQL server itself. This happened for example when running
        the <code class="literal">innobackup</code> script several times.
       (<a href="http://bugs.mysql.com/6732" target="_top">Bug#6732</a>)</p></li><li><p>
        Prevent adding <code class="literal">CREATE TABLE .. SELECT</code> query
        to the binary log when the insertion of new records partially
        failed.
       (<a href="http://bugs.mysql.com/6682" target="_top">Bug#6682</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> did not print <code class="literal">SET
        PSEUDO_THREAD_ID</code> statements in front of
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statements inserting into temporary tables,
        thus causing potential problems when rolling forward these
        statements after restoring a backup.
       (<a href="http://bugs.mysql.com/6671" target="_top">Bug#6671</a>)</p></li><li><p>
        If a <code class="literal">MyISAM</code> table on Windows had
        <code class="literal">INDEX DIRECTORY</code> or <code class="literal">DATA
        DIRECTORY</code> table options, <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        dumped the directory path names with single-backslash path name
        separators. This would cause syntax errors when importing the
        dump file. <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now changes
        “<span class="quote"><code class="literal">\</code></span>” to
        “<span class="quote"><code class="literal">/</code></span>” in the path names on
        Windows.
       (<a href="http://bugs.mysql.com/6660" target="_top">Bug#6660</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> now reports
        <code class="literal">ENGINE=MEMORY</code> rather than
        <code class="literal">ENGINE=HEAP</code> for a <code class="literal">MEMORY</code>
        table (unless the <a href="server-administration.html#sqlmode_mysql323"><code class="literal">MYSQL323</code></a> SQL
        mode is enabled).
       (<a href="http://bugs.mysql.com/6659" target="_top">Bug#6659</a>)</p></li><li><p>
        Incorrectly ordered results were returned from a query using a
        <code class="literal">FULLTEXT</code> index to retrieve rows and there was
        another index that was usable for <code class="literal">ORDER BY</code>.
        For such a query, <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> showed
        the <a href="optimization.html#jointype_fulltext"><code class="literal">fulltext</code></a> join type, but
        showed the other (not <code class="literal">FULLTEXT</code>) index in the
        <code class="literal">Key</code> column.
       (<a href="http://bugs.mysql.com/6635" target="_top">Bug#6635</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... LIKE</code> failed on Windows when
        the source or destination table was located in a symlinked
        database directory.
       (<a href="http://bugs.mysql.com/6607" target="_top">Bug#6607</a>)</p></li><li><p>
        Retrieving from a view defined as a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> that mixed
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION ALL</code></a> and
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION DISTINCT</code></a>
        resulted in a different result than retrieving from the original
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/6565" target="_top">Bug#6565</a>)</p></li><li><p>
        Selecting from a view that had an <code class="literal">EXISTS</code> or
        <code class="literal">NOT EXISTS</code> subquery did not always work
        properly, and selecting columns by name could cause a server
        crash. With <code class="literal">SELECT *</code>, crashes did not occur,
        but columns in the outer query were not resolved properly.
       (<a href="http://bugs.mysql.com/6394" target="_top">Bug#6394</a>)</p></li><li><p>
        Fixed a problem in
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode
        for strings that contained both the string quoting character and
        backslash.
       (<a href="http://bugs.mysql.com/6368" target="_top">Bug#6368</a>)</p></li><li><p>
        The <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> function was not
        ignoring <code class="literal">NULL</code> arguments, contrary to the
        documentation.
       (<a href="http://bugs.mysql.com/6317" target="_top">Bug#6317</a>)</p></li><li><p>
        Starting and stopping the slave thread (only) could in some
        circumstance cause the server to crash.
       (<a href="http://bugs.mysql.com/6148" target="_top">Bug#6148</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Honor the
        <a href="server-administration.html#option_mysqld_tmpdir"><code class="option">--tmpdir</code></a> startup option when
        creating temporary files. Previously, <code class="literal">InnoDB</code>
        temporary files were always created in the temporary directory
        of the operating system. On Netware, <code class="literal">InnoDB</code>
        will continue to ignore <a href="server-administration.html#option_mysqld_tmpdir"><code class="option">--tmpdir</code></a>.
       (<a href="http://bugs.mysql.com/5822" target="_top">Bug#5822</a>)</p></li><li><p>
        A <code class="literal">HAVING</code> clause that referred to
        <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> or a user-defined function
        in the <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> part of a query
        through an alias could cause MySQL to crash or to return an
        incorrect value.
       (<a href="http://bugs.mysql.com/5185" target="_top">Bug#5185</a>)</p></li><li><p>
        Platform and architecture information in version information
        produced for <code class="option">--version</code> option on Windows was
        always <code class="literal">Win95/Win98 (i32)</code>. More accurately
        determine platform as <code class="literal">Win32</code> or
        <code class="literal">Win64</code> for 32-bit or 64-bit Windows, and
        architecture as <code class="literal">ia32</code> for x86,
        <code class="literal">ia64</code> for Itanium, and <code class="literal">axp</code>
        for Alpha.
       (<a href="http://bugs.mysql.com/4445" target="_top">Bug#4445</a>)</p></li><li><p>
        When using the <a href="functions.html#function_rpad"><code class="literal">RPAD()</code></a> function
        (or any function adding spaces to the right) in a query that had
        to be resolved by using a temporary table, all resulting strings
        had rightmost spaces removed (that is,
        <a href="functions.html#function_rpad"><code class="literal">RPAD()</code></a> did not work)
       (<a href="http://bugs.mysql.com/4048" target="_top">Bug#4048</a>)</p></li><li><p>
        Host name matching didn't work if a netmask was specified for
        table-specific privileges.
       (<a href="http://bugs.mysql.com/3309" target="_top">Bug#3309</a>)</p></li><li><p>
        <code class="literal">mysql_fix_privilege_tables</code> now makes it
        possible for <code class="literal">mysql</code> privilege tables created
        in MySQL 5.0 to be used with MySQL 4.1. This makes it possible
        to downgrade from 5.0 to 4.1, or to run MySQL 4.1 and 5.0 using
        the same privilege table files for testing purposes.
      </p></li><li><p>
        Giving <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> a <code class="literal">SIGHUP</code>
        caused it to crash.
      </p></li><li><p>
        Prepared statements using
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT...)</code></a> did not perform
        correctly.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Use native
        <code class="literal">tmpfile()</code> function on Netware. All
        <code class="literal">InnoDB</code> temporary files are created under
        <code class="literal">sys:\tmp</code>. Previously,
        <code class="literal">InnoDB</code> temporary files were never deleted on
        Netware.
      </p></li><li><p>
        A symlink vulnerability in the <a href="programs.html#mysqlaccess" title="4.6.6. mysqlaccess — Client for Checking Access Privileges"><span><strong class="command">mysqlaccess</strong></span></a>
        script was reported by Javier Fernandez-Sanguino Pena and
        <a href="http://www.debian.org/security/audit" target="_top">Debian
        Security Audit Team</a>.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0004" target="_top">CVE-2005-0004</a>)</p></li><li><p>
        A number of portability issues relating to overflow in floating
        point values were corrected.
      </p></li><li><p>
        Prepared statements now gives warnings on prepare.
      </p></li><li><p>
        The combination of <code class="literal">-not</code> and
        <code class="literal">trunc*</code> operators in a full-text search did
        not work correctly. Using more than one truncated negative
        search term caused the result to be empty.
      </p></li><li><p>
        Prepared statements did not work correctly with <code class="literal">OUTER
        JOIN</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-2"></a>C.1.84. Changes in MySQL 5.0.2 (01 December 2004)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The precedence of <code class="literal">NOT</code> operator has changed so
        that expressions such as <code class="literal">NOT a BETWEEN b AND
        c</code> are parsed correctly as <code class="literal">NOT (a BETWEEN b
        AND c)</code> rather than as <code class="literal">(NOT a) BETWEEN b AND
        c</code>. The pre-5.0 higher-precedence behavior can be
        obtained by enabling the new
        <a href="server-administration.html#sqlmode_high_not_precedence"><code class="literal">HIGH_NOT_PRECEDENCE</code></a> SQL mode.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> now shows the session
        (thread-specific) status variables and
        <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
        STATUS</code></a> shows the status variables for the whole
        server.
      </p><p>
        Before MySQL 5.0.2, <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a>
        returned global status values. Because the default as of 5.0.2
        is to return session values, this is incompatible with previous
        versions. To issue a <a href="sql-syntax.html#show-status" title="12.5.5.32. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a>
        statement that will retrieve global status values for all
        versions of MySQL, write it like this:
      </p><pre class="programlisting">SHOW /*!50002 GLOBAL */ STATUS;
</pre></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump <code class="option">--single-transaction
        --master-data</code></strong></span></a> is now able to take an online
        (nonblocking) dump of <code class="literal">InnoDB</code> and report the
        corresponding binary log coordinates, which makes a backup
        suitable for point-in-time recovery, roll-forward or replication
        slave creation. See <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program">Section 4.5.4, “<span><strong class="command">mysqldump</strong></span> — A Database Backup Program”</a>.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Two new system variables were introduced.
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a> and
        <a href="replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a> can be
        set locally or globally, and are intended for use in controlling
        the behavior of <code class="literal">AUTO_INCREMENT</code> columns in
        master-to-master replication. Note that these variables are not
        intended to take the place of sequences. See
        <a href="server-administration.html#server-system-variables" title="5.1.3. Server System Variables">Section 5.1.3, “Server System Variables”</a>.
      </p></li><li><p>
        If a write to a <code class="literal">MyISAM</code> table fails because of
        a full disk or an exceeded disk quota, it now prints a message
        to the error log every 10 minutes, and waits until disk space
        becomes available.
       (<a href="http://bugs.mysql.com/3248" target="_top">Bug#3248</a>)</p></li><li><p>
        Made the MySQL server ignore <code class="literal">SIGHUP</code> and
        <code class="literal">SIGQUIT</code> on Mac OS X 10.3. This is needed
        because under this OS, the MySQL server receives lots of these
        signals.
       (<a href="http://bugs.mysql.com/2030" target="_top">Bug#2030</a>)</p></li><li><p>
        If the server finds that the <code class="literal">user</code> table has
        not been upgraded to include the view-related privilege columns,
        it treats each account as having view privileges that are the
        same as its <a href="server-administration.html#priv_create"><code class="literal">CREATE</code></a> privilege.
      </p></li><li><p>
        A connection doing a rollback now displays "Rolling back" in the
        <code class="literal">State</code> column of <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a>.
      </p></li><li><p>
        Renamed the <code class="literal">sql_updatable_view_key</code> system
        variable to
        <a href="server-administration.html#sysvar_updatable_views_with_limit"><code class="literal">updatable_views_with_limit</code></a>.
        This variable now can have only two values:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">1</code> or <code class="literal">YES</code>: Don't issue
            an error message (warning only) if a VIEW without presence
            of a key in the underlying table is used in queries with a
            <code class="literal">LIMIT</code> clause for updating. (This is the
            default value.)
          </p></li><li><p>
            <code class="literal">0</code> or <code class="literal">NO</code>: Prohibit
            update of a VIEW, which does not contain a key in the
            underlying table and the query uses a
            <code class="literal">LIMIT</code> clause (usually get from GUI
            tools).
          </p></li></ul></div></li><li><p>
        Reverted output format of <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW
        TABLES</code></a> to old pre-5.0.1 format that did not include a
        table type column. To get the additional column that lists the
        table type, use <code class="literal">SHOW FULL TABLES</code> now.
      </p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> now works for views.
      </p></li><li><p>
        Modify <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> so that it drops
        the account, including all its privileges. Formerly, it removed
        the account record only for an account that had all privileges
        revoked.
      </p></li><li><p>
        <code class="literal">0</code> or <code class="literal">NO</code>: Prohibit update
        of a VIEW, which does not contain a key in the underlying table
        and the query uses a <code class="literal">LIMIT</code> clause (usually
        get from GUI tools).
      </p></li><li><p>
        We now detect too-large floating point numbers during statement
        parsing and generate an error messages for them.
      </p></li><li><p>
        New <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a>
        and <a href="replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a>
        system variables. These enable you to set up a server to
        generate auto-increment values that don't conflict with another
        server.
      </p></li><li><p>
        Added the <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a> and
        <a href="sql-syntax.html#rename-user" title="12.5.1.4. RENAME USER Syntax"><code class="literal">RENAME USER</code></a> statements.
      </p></li><li><p>
        MySQL now by default checks dates and in strict mode allows only
        fully correct dates. If you want MySQL to behave as before, you
        should enable the new
        <a href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL mode.
      </p></li><li><p>
        Added <a href="server-administration.html#sqlmode_no_auto_create_user"><code class="literal">NO_AUTO_CREATE_USER</code></a> SQL
        mode to prevent <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> from
        automatically creating new users if it would otherwise do so,
        unless a password also is specified.
      </p></li><li><p>
        MySQL now remembers which columns were declared to have default
        values. In
        <a href="server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a>/<a href="server-administration.html#sqlmode_strict_all_tables"><code class="literal">STRICT_ALL_TABLES</code></a>
        mode, you now get an error if you do an
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> without specifying all
        columns that don't have a default value. A side effect of this
        is that when you do <code class="literal">SHOW CREATE</code> for a new
        table, you no longer see a <code class="literal">DEFAULT</code> value for
        a column for which you didn't specify a default value.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: If you specify the
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        option in <code class="filename">my.cnf</code>, for an
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> or a
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, <code class="literal">InnoDB</code>
        locks only the rows that it updates or deletes. This greatly
        reduces the probability of deadlocks.
      </p></li><li><p>
        A <code class="literal">HAVING</code> clause in a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement now can refer to
        columns in the <code class="literal">GROUP BY</code> clause, as required
        by standard SQL.
      </p></li><li><p>
        The <code class="literal">SCHEMA</code> and <code class="literal">SCHEMAS</code>
        keywords are now accepted as synonyms for
        <code class="literal">DATABASE</code> and <code class="literal">DATABASES</code>.
      </p></li><li><p>
        Added several <code class="literal">InnoDB</code> status variables. See
        <a href="server-administration.html#server-status-variables" title="5.1.6. Server Status Variables">Section 5.1.6, “Server Status Variables”</a>.
      </p></li><li><p>
        Added <a href="server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a>,
        <a href="server-administration.html#sqlmode_strict_all_tables"><code class="literal">STRICT_ALL_TABLES</code></a>,
        <a href="server-administration.html#sqlmode_no_zero_in_date"><code class="literal">NO_ZERO_IN_DATE</code></a>,
        <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a>,
        <a href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a>,
        and <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> SQL modes. The
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> mode is shorthand
        for all the preceding modes. When using mode
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>, MySQL generates
        an error if you try to insert a wrong value in a column. It does
        not adjust the value to the closest possible legal value.
      </p></li><li><p>
        The <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables"><span><strong class="command">mysql_fix_privilege_tables</strong></span></a> script now
        initializes the global <a href="server-administration.html#priv_create-view"><code class="literal">CREATE
        VIEW</code></a> and <a href="server-administration.html#priv_show-view"><code class="literal">SHOW VIEW</code></a>
        privileges in the <code class="literal">user</code> table to the value of
        the <a href="server-administration.html#priv_create"><code class="literal">CREATE</code></a> privilege in that
        table.
      </p></li><li><p>
        <code class="literal">1</code> or <code class="literal">YES</code>: Don't issue an
        error message (warning only) if a VIEW without presence of a key
        in the underlying table is used in queries with a
        <code class="literal">LIMIT</code> clause for updating. (This is the
        default value.)
      </p></li><li><p>
        The compilation flag <code class="literal">DONT_USE_DEFAULT_FIELDS</code>
        was removed because you can get the same behavior by setting the
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> system variable to
        <a href="server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a>.
      </p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> now prints an informative
        commented line (thread id, timestamp, server id, and so forth)
        before each <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a>, like it does for other queries; unless
        <a href="programs.html#option_mysqlbinlog_short-form"><code class="option">--short-form</code></a> is used.
      </p></li><li><p>
        Added <code class="literal">IS [NOT] <em class="replaceable"><code>boolean_value</code></em>
        </code> syntax, where
        <em class="replaceable"><code>boolean_value</code></em> is
        <code class="literal">TRUE</code>, <code class="literal">FALSE</code>, or
        <code class="literal">UNKNOWN</code>.
      </p></li><li><p>
        Added <a href="programs.html#option_mysqlbinlog_start-datetime"><code class="option">--start-datetime</code></a>,
        <a href="programs.html#option_mysqlbinlog_stop-datetime"><code class="option">--stop-datetime</code></a>,
        <a href="programs.html#option_mysqlbinlog_start-position"><code class="option">--start-position</code></a>, and
        <a href="programs.html#option_mysqlbinlog_stop-position"><code class="option">--stop-position</code></a> options to
        <code class="literal">mysqlbinlog</code>. These make point-in-time
        recovery easier.
      </p></li><li><p>
        Added initial support for rudimentary triggers (the
        <a href="sql-syntax.html#create-trigger" title="12.1.11. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a> and
        <a href="sql-syntax.html#drop-trigger" title="12.1.18. DROP TRIGGER Syntax"><code class="literal">DROP TRIGGER</code></a> statements).
      </p></li><li><p>
        Added basic support for read-only server side cursors.
      </p></li><li><p>
        Implemented the <code class="literal">WITH CHECK OPTION</code> clause for
        <a href="sql-syntax.html#create-view" title="12.1.12. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a>.
      </p></li><li><p>
        Added support for the <code class="literal">INFORMATION_SCHEMA</code>
        “<span class="quote">information database</span>” that provides database
        metadata. See <a href="information-schema.html" title="Chapter 19. INFORMATION_SCHEMA Tables">Chapter 19, <i><code class="literal">INFORMATION_SCHEMA</code> Tables</i></a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        A problem introduced in MySQL 4.0.21 caused replication slaves
        to stop (error 1223) where a connection started a transaction,
        performed updates, then issued a
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> followed by a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>. This issue occurred when
        using the <code class="literal">InnoDB</code>
        <span><strong class="command">innobackup</strong></span> script.
       (<a href="http://bugs.mysql.com/5949" target="_top">Bug#5949</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">SET COLLATION_SERVER...</code> statements replicated
        by the slave SQL thread no longer advance its position. This is
        so that, if the thread is interrupted before the update is
        completed, it later performs the <code class="literal">SET</code> again.
       (<a href="http://bugs.mysql.com/5705" target="_top">Bug#5705</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>,
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>, and
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a> are now replicated
        without any error code in the binary log.
       (<a href="http://bugs.mysql.com/5551" target="_top">Bug#5551</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <code class="literal">CREATE TABLE ... TYPE=HEAP ... AS SELECT...</code>
        statement caused the replication slave to stop.
       (<a href="http://bugs.mysql.com/4971" target="_top">Bug#4971</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> was unable to read from
        <code class="literal">stdin</code>, for example, when piping the output
        from <span><strong class="command">zcat</strong></span> to <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>.
       (<a href="http://bugs.mysql.com/7853" target="_top">Bug#7853</a>)</p></li><li><p>
        If a connection was interrupted by a network error and did a
        rollback, the network error code got stored into the
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> and
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        binary log events; that caused superfluous slave stops.
       (<a href="http://bugs.mysql.com/6522" target="_top">Bug#6522</a>)</p></li><li><p>
        If a connection had an open transaction but had done no updates
        to transactional tables (for example if had just done a
        <code class="literal">SELECT FOR UPDATE</code> then executed a
        nontransactional update, that update automatically committed the
        transaction (thus releasing <code class="literal">InnoDB</code>'s
        row-level locks etc).
       (<a href="http://bugs.mysql.com/5714" target="_top">Bug#5714</a>)</p></li><li><p>
        If the slave SQL thread finds a syntax error in a query (which
        should be rare, as the master parsed it successfully), it now
        stops immediately.
       (<a href="http://bugs.mysql.com/5711" target="_top">Bug#5711</a>)</p></li><li><p>
        <code class="literal">disable-local-infile</code> option had no effect if
        the client read it from a configuration file using
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options(...,MYSQL_READ_DEFAULT,...)</code></a>.
       (<a href="http://bugs.mysql.com/5073" target="_top">Bug#5073</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL SYNC_BINLOG</code> did not work on some
        platforms (Mac OS X).
       (<a href="http://bugs.mysql.com/5064" target="_top">Bug#5064</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> failed the
        <code class="literal">rpl_trunc_binlog</code> test when running the test
        from the installation directory.
       (<a href="http://bugs.mysql.com/5050" target="_top">Bug#5050</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-options" title="20.9.3.49. mysql_options()"><code class="literal">mysql_options(...,MYSQL_OPT_LOCAL_INFILE,...)</code></a>
        failed to disable
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a>.
       (<a href="http://bugs.mysql.com/5038" target="_top">Bug#5038</a>)</p></li><li><p>
        The counter for an <code class="literal">AUTO_INCREMENT</code> column was
        not reset by <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> if the table was a temporary one.
       (<a href="http://bugs.mysql.com/5033" target="_top">Bug#5033</a>)</p></li><li><p>
        <a href="sql-syntax.html#flush" title="12.5.6.2. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> now blocks <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a>
        statements if the server is running with binary logging enabled;
        this ensures that the binary log position is trustable when
        doing a full backup of tables and the binary log.
       (<a href="http://bugs.mysql.com/4953" target="_top">Bug#4953</a>)</p></li><li><p>
        <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL</code></a>ing a connection while it was
        performing <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> caused the
        server to crash.
       (<a href="http://bugs.mysql.com/4827" target="_top">Bug#4827</a>)</p></li><li><p>
        A deadlock could happen under certain rare circumstances when
        using <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL</code></a>.
       (<a href="http://bugs.mysql.com/4810" target="_top">Bug#4810</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> failed the
        <code class="literal">grant_cache</code> test when run as Unix root user.
       (<a href="http://bugs.mysql.com/4678" target="_top">Bug#4678</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog --read-from-remote-server</strong></span></a>
        sometimes could not accept 2 binary logs in a single invocation.
       (<a href="http://bugs.mysql.com/4507" target="_top">Bug#4507</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog --position
        --read-from-remote-server</strong></span></a> had incorrect output for
        <code class="literal"># at <em class="replaceable"><code>log_pos</code></em></code>.
       (<a href="http://bugs.mysql.com/4506" target="_top">Bug#4506</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-1"></a>C.1.85. Changes in MySQL 5.0.1 (27 July 2004)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        This build passes our test suite and fixes a lot of reported
        bugs found in the previous 5.0.0 release. However, please be
        aware that this is not a “<span class="quote">standard MySQL build</span>” in
        the sense that there are still some open critical bugs in our
        bugs database at <a href="http://bugs.mysql.com/" target="_top">http://bugs.mysql.com/</a> that
        affect this release as well. We are actively fixing these and
        will make a new release where these are fixed as soon as
        possible. However, this binary should be a good candidate for
        testing new MySQL 5.0 features for future products.
      </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        C API change: <a href="connectors-apis.html#mysql-shutdown" title="20.9.3.65. mysql_shutdown()"><code class="literal">mysql_shutdown()</code></a>
        now requires a second argument. This is a source-level
        incompatibility that affects how you compile client programs; it
        does not affect the ability of compiled clients to communicate
        with older servers. See <a href="connectors-apis.html#mysql-shutdown" title="20.9.3.65. mysql_shutdown()">Section 20.9.3.65, “<code class="literal">mysql_shutdown()</code>”</a>.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For replication of <code class="literal">MEMORY</code>
        (<code class="literal">HEAP</code>) tables: Made the master automatically
        write a <code class="literal">DELETE FROM</code> statement to its binary
        log when a <code class="literal">MEMORY</code> table is opened for the
        first time since the master's startup. This is for the case
        where the slave has replicated a nonempty
        <code class="literal">MEMORY</code> table, and then the master is shut
        down and restarted: the table is now empty on the master; the
        <code class="literal">DELETE FROM</code> empties it on the slave as well.
      </p><p>
        Even with this fix, between the master's restart and the first
        use of the table on master, the slave still has out-of-date data
        in the table. However, if you use the
        <a href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> option to populate
        the <code class="literal">MEMORY</code> table on the master at startup, it
        ensures that the failing time interval is zero.
       (<a href="http://bugs.mysql.com/2477" target="_top">Bug#2477</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Added the
        <a href="replication.html#option_mysqld_replicate-same-server-id"><code class="option">--replicate-same-server-id</code></a> server
        option.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">DROP DATABASE IF EXISTS</code>, <code class="literal">DROP TABLE
        IF EXISTS</code>, single-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, and single-table
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> now are written to the
        binary log even if they changed nothing on the master (for
        example, even if a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> matched
        no rows). The old behavior sometimes caused bad surprises in
        replication setups.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication and <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> now have better
        support for the case that the session character set and
        collation variables are changed within a given session. See
        <a href="replication.html#replication-features" title="16.3.1. Replication Features and Issues">Section 16.3.1, “Replication Features and Issues”</a>.
      </p></li><li><p>
        The <code class="literal">Type</code> column name and values in the output
        from <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> are now shown
        according to standard. The column name has changed from
        <code class="literal">Type</code> to
        <a href="server-administration.html#sysvar_table_type"><code class="literal">table_type</code></a>; permitted values
        are <code class="literal">BASE TABLE</code>, <code class="literal">VIEW</code>, and
        <code class="literal">ERROR</code>.
       (<a href="http://bugs.mysql.com/4603" target="_top">Bug#4603</a>)</p></li><li><p>
        Added <a href="server-administration.html#statvar_Last_query_cost"><code class="literal">Last_query_cost</code></a> status
        variable that reports optimizer cost for last compiled query.
      </p></li><li><p>
        Changed that when the MySQL server has binary logging disabled
        (that is, no <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a> option was
        used), then no transaction binary log cache is allocated for
        connections. This should save
        <a href="server-administration.html#sysvar_binlog_cache_size"><code class="literal">binlog_cache_size</code></a> bytes of
        memory (32KB by default) for every connection.
      </p></li><li><p>
        Implemented a new “<span class="quote">greedy search</span>” optimizer that
        can significantly reduce the time spent on query optimization
        for some many-table joins. (You are affected if not only some
        particular <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> is slow, but
        even using <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> for it takes a
        noticeable amount of time.) Two new system variables,
        <a href="server-administration.html#sysvar_optimizer_search_depth"><code class="literal">optimizer_search_depth</code></a> and
        <a href="server-administration.html#sysvar_optimizer_prune_level"><code class="literal">optimizer_prune_level</code></a>, can be
        used to fine-tune optimizer behavior.
      </p></li><li><p>
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> for
        <code class="literal">InnoDB</code> tables is now mapped to
        <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> instead of
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>. This rebuilds the
        table, which updates index statistics and frees space in the
        clustered index.
      </p></li><li><p>
        When a session having open temporary tables terminates, the
        statement automatically written to the binary log is now
        <code class="literal">DROP TEMPORARY TABLE IF EXISTS</code> instead of
        <code class="literal">DROP TEMPORARY TABLE</code>, for more robustness.
      </p></li><li><p>
        Added support for read-only and updatable views based on a
        single table or other updatable views. View use requires that
        you upgrade your grant tables to add the view-related
        privileges. See <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
      </p></li><li><p>
        Added the <code class="literal">sql_updatable_view_key</code> system
        variable.
      </p></li><li><p>
        The MySQL server now returns an error if <code class="literal">SET
        sql_log_bin</code> is issued by a user without the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege (in previous
        versions it just silently ignored the statement in this case).
      </p></li><li><p>
        When a database is dropped, all routines belonging to that
        database are also dropped.
      </p></li><li><p>
        Added the <code class="option">--to-last-log</code> option to
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>, for use in conjunction with
        <code class="option">--read-from-remote-server</code>.
      </p></li><li><p>
        <a href="server-administration.html#sysvar_sync_frm"><code class="literal">sync_frm</code></a> is now a settable
        global variable (not only a startup option).
      </p></li><li><p>
        Added <a href="server-administration.html#option_mysqld_innodb_safe_binlog"><code class="option">--innodb_safe_binlog</code></a> server
        option, which adds consistency guarantees between the content of
        <code class="literal">InnoDB</code> tables and the binary log. See
        <a href="server-administration.html#binary-log" title="5.2.3. The Binary Log">Section 5.2.3, “The Binary Log”</a>.
      </p></li><li><p>
        Explicit <code class="literal">USE <em class="replaceable"><code>db_name</code></em>
        </code> statements no longer are allowed in a stored
        procedure.
      </p></li><li><p>
        Added the <code class="literal">sync_binlog=N</code> global variable and
        startup option, which makes the MySQL server synchronize its
        binary log to disk (<code class="literal">fdatasync()</code>) after every
        Nth write to the binary log.
      </p></li><li><p>
        Killing a <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> statement
        does not result in the table being marked as
        “<span class="quote">corrupted</span>” any more; the table remains as if
        <a href="sql-syntax.html#check-table" title="12.5.2.3. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> had not even started.
        See <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax">Section 12.5.6.3, “<code class="literal">KILL</code> Syntax”</a>.
      </p></li><li><p>
        Changed the slave SQL thread to print less useless error
        messages (no more message duplication; no more messages when an
        error is skipped because of
        <code class="literal">slave-skip-errors</code>).
      </p></li><li><p>
        When executed from another database, an implicit <code class="literal">USE
        <em class="replaceable"><code>db_name</code></em></code> is in effect.
      </p></li><li><p>
        When installing a MySQL server as a Windows service, the
        installation command can include a
        <code class="option">--local-service</code> option following the service
        name to cause the server to run using the
        <code class="literal">LocalService</code> Windows account that has limited
        privileges. This is in addition to the
        <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option that also
        can be given following the service name.
      </p></li><li><p>
        Procedure names may be qualified, for example,
        <code class="literal">db.p()</code>
      </p></li><li><p>
        A stored procedure is no longer “<span class="quote">global.</span>” That is,
        it now belongs to a specific database:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            When a database is dropped, all routines belonging to that
            database are also dropped.
          </p></li><li><p>
            Procedure names may be qualified, for example,
            <code class="literal">db.p()</code>
          </p></li><li><p>
            When executed from another database, an implicit
            <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> is
            in effect.
          </p></li><li><p>
            Explicit <code class="literal">USE <em class="replaceable"><code>db_name</code></em>
            </code> statements no longer are allowed in a stored
            procedure.
          </p></li></ul></div><p>
        See <a href="stored-programs-views.html#stored-routines" title="18.2. Using Stored Routines (Procedures and Functions)">Section 18.2, “Using Stored Routines (Procedures and Functions)”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        When a multiple-table <a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>
        failed to drop a table on the master server, the error was not
        written to the binary log.
       (<a href="http://bugs.mysql.com/4553" target="_top">Bug#4553</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When the slave SQL thread was replicating a
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statement, it didn't show the statement in the
        output of <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>.
       (<a href="http://bugs.mysql.com/4326" target="_top">Bug#4326</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Complex expressions using <code class="literal">AND</code>,
        <code class="literal">OR</code>, or both could result in a crash if the
        query containing the expression query was ignored, either by a
        replication server due to <code class="option">--replicate-*-table</code>
        rules, or by any MySQL server due to a syntax error.
       (<a href="http://bugs.mysql.com/3969" target="_top">Bug#3969</a>, <a href="http://bugs.mysql.com/4494" target="_top">Bug#4494</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The slave SQL thread refused to replicate
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> if it examined more than 4 billion rows.
       (<a href="http://bugs.mysql.com/3871" target="_top">Bug#3871</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If <code class="literal">server-id</code> was not set using startup
        options but with <a href="sql-syntax.html#set-option" title="12.5.4. SET Syntax"><code class="literal">SET
        GLOBAL</code></a>, the replication slave still complained that it
        was not set.
       (<a href="http://bugs.mysql.com/3829" target="_top">Bug#3829</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A MySQL slave server built using
        <a href="installing.html#option_configure_with-debug"><code class="option">--with-debug</code></a>, and replicating
        itself, crashed.
       (<a href="http://bugs.mysql.com/3568" target="_top">Bug#3568</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements
        were always replicated by the slave if there were some
        <code class="option">--replicate-*-ignore-table</code> options and no
        <code class="option">--replicate-*-do-table</code> options.
       (<a href="http://bugs.mysql.com/3461" target="_top">Bug#3461</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Memory could be corrupted by replicating a
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> from a MySQL 3.23 master. Some less critical
        issues remain; see <a href="replication.html#replication-features" title="16.3.1. Replication Features and Issues">Section 16.3.1, “Replication Features and Issues”</a>.
       (<a href="http://bugs.mysql.com/3422" target="_top">Bug#3422</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        In some replication error messages, a very long query caused the
        rest of the message to be invisible (truncated), by putting the
        query last in the message.
       (<a href="http://bugs.mysql.com/3357" target="_top">Bug#3357</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Changed that when a thread handling <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT
        DELAYED</code></a> (also known as a
        <code class="literal">delayed_insert</code> thread) is killed, its
        statements are recorded with an error code of value zero
        (killing such a thread does not endanger replication, so we thus
        avoid a superfluous error on the slave).
       (<a href="http://bugs.mysql.com/3081" target="_top">Bug#3081</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Corrected the master's binary log position that
        <code class="literal">InnoDB</code> reports when it is doing a crash
        recovery on a slave server.
       (<a href="http://bugs.mysql.com/3015" target="_top">Bug#3015</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="option">--replicate-wild-*-table</code> rules now apply to
        <a href="sql-syntax.html#alter-database" title="12.1.1. ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE</code></a> when the table
        pattern is <code class="literal">%</code>, as is the case for
        <a href="sql-syntax.html#create-database" title="12.1.6. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a> and
        <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a>.
       (<a href="http://bugs.mysql.com/3000" target="_top">Bug#3000</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Statements did not raise errors on the slave, if the slave was
        excluded given the <code class="option">--replicate-*</code> options in use
        at the time. The effect of this problem was: when a statement
        was killed on the master, the slave stopped.
       (<a href="http://bugs.mysql.com/2983" target="_top">Bug#2983</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements
        were never replicated by the slave if there were any
        <code class="option">--replicate-*-table</code> options.
       (<a href="http://bugs.mysql.com/2527" target="_top">Bug#2527</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication: If a client connects to a slave server and issues
        an administrative statement for a table (for example,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> or
        <a href="sql-syntax.html#repair-table" title="12.5.2.6. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>), this could
        sometimes stop the slave SQL thread. This does not lead to any
        corruption, but you must use <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START
        SLAVE</code></a> to get replication going again.
       (<a href="http://bugs.mysql.com/1858" target="_top">Bug#1858</a>)</p></li><li><p>
        If <code class="literal">CREATE TEMPORARY TABLE t SELECT</code> failed
        while loading the data, the temporary table was not dropped.
       (<a href="http://bugs.mysql.com/4551" target="_top">Bug#4551</a>)</p></li><li><p>
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables"><span><strong class="command">mysql_fix_privilege_tables</strong></span></a> did not handle the
        <code class="option">--password=<em class="replaceable"><code>password_val</code></em></code>
        option correctly.
       (<a href="http://bugs.mysql.com/4240" target="_top">Bug#4240</a>, <a href="http://bugs.mysql.com/4543" target="_top">Bug#4543</a>)</p></li><li><p>
        Made <a href="sql-syntax.html#drop-database" title="12.1.13. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> honor the
        value of
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>.
       (<a href="http://bugs.mysql.com/4066" target="_top">Bug#4066</a>)</p></li><li><p>
        During the installation process of the server RPM on Linux, if
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was run as the <code class="literal">root</code>
        system user and with <a href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>
        pointing to a directory outside of
        <code class="filename">/var/lib/mysql</code>, it created binary log files
        owned by <code class="literal">root</code> in this directory, which
        remained owned by <code class="literal">root</code> after the
        installation. Now <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is started as the
        <code class="literal">mysql</code> system user instead.
       (<a href="http://bugs.mysql.com/4038" target="_top">Bug#4038</a>)</p></li><li><p>
        A potential memory overrun could occur in
        <a href="connectors-apis.html#mysql-real-connect" title="20.9.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> (which
        required a compromised DNS server and certain operating
        systems).
       (<a href="http://bugs.mysql.com/4017" target="_top">Bug#4017</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> didn't escape the string content
        of user variables, and did not deal well when these variables
        were in non-ASCII character sets; this is now fixed by always
        printing the string content of user variables in hexadecimal.
        The character set and collation of the string is now also
        printed.
       (<a href="http://bugs.mysql.com/3875" target="_top">Bug#3875</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> failed to print a
        <a href="sql-syntax.html#use" title="12.3.4. USE Syntax"><code class="literal">USE</code></a> statement under those rare
        circumstances where the binary log contained a
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statement.
       (<a href="http://bugs.mysql.com/3415" target="_top">Bug#3415</a>)</p></li><li><p>
        A rare error condition caused the slave SQL thread spuriously to
        print the message <span class="errortext">Binlog has bad magic
        number</span> and stop when it was not necessary to do so.
       (<a href="http://bugs.mysql.com/3401" target="_top">Bug#3401</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog --read-from-remote-server</strong></span></a> now
        print the exact positions of events in lines beginning with
        <code class="literal">at #</code> in the log.
       (<a href="http://bugs.mysql.com/3214" target="_top">Bug#3214</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog --read-from-remote-server</strong></span></a> read
        all binary logs following the one that was requested. It now
        stops at the end of the requested file, the same as it does when
        reading a local binary log. There is an option
        <code class="option">--to-last-log</code> to get the old behavior.
       (<a href="http://bugs.mysql.com/3204" target="_top">Bug#3204</a>)</p></li><li><p>
        Strange results with index (x, y) ... <code class="literal">WHERE
        x=<em class="replaceable"><code>val_1</code></em> AND
        y&gt;=<em class="replaceable"><code>val_2</code></em> ORDER BY
        <em class="replaceable"><code>pk</code></em>;</code>
       (<a href="http://bugs.mysql.com/3155" target="_top">Bug#3155</a>)</p></li><li><p>
        Adding <code class="literal">ORDER BY</code> to a query that uses a
        subquery can cause incorrect results.
       (<a href="http://bugs.mysql.com/3118" target="_top">Bug#3118</a>)</p></li><li><p>
        Changed that when a <code class="literal">DROP TEMPORARY TABLE</code>
        statement is automatically written to the binary log when a
        session ends, the statement is recorded with an error code of
        value zero (this ensures that killing a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> on the master does not
        result in a superfluous error on the slave).
       (<a href="http://bugs.mysql.com/3063" target="_top">Bug#3063</a>)</p></li><li><p>
        When a <code class="literal">Rotate</code> event was found by the slave
        SQL thread in the middle of a transaction, the value of
        <code class="literal">Relay_Log_Pos</code> in <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW
        SLAVE STATUS</code></a> was incorrectly altered.
       (<a href="http://bugs.mysql.com/3017" target="_top">Bug#3017</a>)</p></li><li><p>
        Running <code class="literal">LOAD DATA FROM MASTER</code> after
        <a href="sql-syntax.html#reset-slave" title="12.6.2.5. RESET SLAVE Syntax"><code class="literal">RESET SLAVE</code></a> caused a segmentation
        fault.
       (<a href="http://bugs.mysql.com/2922" target="_top">Bug#2922</a>)</p></li><li><p>
        A deadlock ocurred when two <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START
        SLAVE</code></a> commands were run at the same time.
       (<a href="http://bugs.mysql.com/2921" target="_top">Bug#2921</a>)</p></li><li><p>
        Changed the column <code class="literal">Seconds_Behind_Master</code> in
        <a href="sql-syntax.html#show-slave-status" title="12.5.5.31. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> to never show a
        value of -1.
       (<a href="http://bugs.mysql.com/2826" target="_top">Bug#2826</a>)</p></li><li><p>
        Made clearer the error message that one gets when an update is
        refused because of the
        <a href="server-administration.html#sysvar_read_only"><code class="option">--read-only</code></a> option.
       (<a href="http://bugs.mysql.com/2757" target="_top">Bug#2757</a>)</p></li><li><p>
        The MySQL server did not report any error if a statement
        (submitted through
        <a href="connectors-apis.html#mysql-real-query" title="20.9.3.54. mysql_real_query()"><code class="literal">mysql_real_query()</code></a> or
        <a href="connectors-apis.html#mysql-stmt-prepare" title="20.9.7.20. mysql_stmt_prepare()"><code class="literal">mysql_stmt_prepare()</code></a>) was
        terminated by garbage characters. This can happen if you pass a
        wrong <code class="literal">length</code> parameter to these functions.
        The result was that the garbage characters were written into the
        binary log.
       (<a href="http://bugs.mysql.com/2703" target="_top">Bug#2703</a>)</p></li><li><p>
        <code class="literal">SLAVE START</code> (which is a deprecated syntax,
        <a href="sql-syntax.html#start-slave" title="12.6.2.7. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> should be used
        instead) could crash the slave.
       (<a href="http://bugs.mysql.com/2516" target="_top">Bug#2516</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-database" title="12.1.1. ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE</code></a> caused the client
        to hang if the database did not exist.
       (<a href="http://bugs.mysql.com/2333" target="_top">Bug#2333</a>)</p></li><li><p>
        The <code class="option">--local-load</code> option of
        <a href="programs.html#mysqlbinlog" title="4.6.7. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> now requires an argument.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-0"></a>C.1.86. Changes in MySQL 5.0.0 (22 December 2003 Alpha)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        If you upgrade to MySQL 4.1.1 or higher, it is difficult to
        downgrade back to 4.0 or 4.1.0. That is because, for earlier
        versions, <code class="literal">InnoDB</code> is not aware of multiple
        tablespaces.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Easier replication upgrade (5.0.0 masters can read older binary
        logs and 5.0.0 slaves can read older relay logs). See
        <a href="replication.html#replication-compatibility" title="16.3.2. Replication Compatibility Between MySQL Versions">Section 16.3.2, “Replication Compatibility Between MySQL Versions”</a>, for more details).
        The format of the binary log and relay log is changed compared
        to that of MySQL 4.1 and older.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        New binary log format that enables replication of these session
        variables: <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>,
        <a href="server-administration.html#sysvar_sql_auto_is_null"><code class="literal">sql_auto_is_null</code></a>,
        <a href="server-administration.html#sysvar_foreign_key_checks"><code class="literal">foreign_key_checks</code></a> (which was
        replicated since 4.0.14, but here it is done more efficiently
        and takes less space in the binary logs),
        <a href="server-administration.html#sysvar_unique_checks"><code class="literal">unique_checks</code></a>. Other variables
        (like character sets,
        <a href="server-administration.html#sysvar_sql_select_limit"><code class="literal">sql_select_limit</code></a>, ...) will be
        replicated in upcoming 5.0.x releases.
      </p></li><li><p>
        Added <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> and
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> functions.
      </p></li><li><p>
        The <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL</code></a> statement now takes
        <code class="literal">CONNECTION</code> and <code class="literal">QUERY</code>
        modifiers. The first is the same as
        <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL</code></a> with no modifier (it kills a
        given connection thread). The second kills only the statement
        currently being executed by the connection.
      </p></li><li><p>
        Added support for <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a>,
        <a href="functions.html#function_min"><code class="literal">MIN(DISTINCT)</code></a>, and
        <a href="functions.html#function_max"><code class="literal">MAX(DISTINCT)</code></a>.
      </p></li><li><p>
        Basic support for stored procedures and functions (SQL:2003
        style). See <a href="stored-programs-views.html#stored-routines" title="18.2. Using Stored Routines (Procedures and Functions)">Section 18.2, “Using Stored Routines (Procedures and Functions)”</a>.
      </p></li><li><p>
        The output of the <a href="sql-syntax.html#show-binlog-events" title="12.5.5.2. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG
        EVENTS</code></a> statement has been modified. The
        <code class="literal">Orig_log_pos</code> column has been renamed to
        <code class="literal">End_log_pos</code> and now represents the offset of
        the last byte of the event, plus one.
      </p></li><li><p>
        Implemented Index Merge optimization for <code class="literal">OR</code>
        clauses. See <a href="optimization.html#index-merge-optimization" title="7.2.6. Index Merge Optimization">Section 7.2.6, “Index Merge Optimization”</a>.
      </p></li><li><p>
        For user-defined functions (UDFs), the
        <code class="literal">UDF_ARGS</code> structure now has
        <code class="literal">attributes</code> and
        <code class="literal">attribute_lengths</code> members that provide
        information about the argument names.
        <a href="extending-mysql.html#udf-arguments" title="21.2.2.3. UDF Argument Processing">Section 21.2.2.3, “UDF Argument Processing”</a>.
      </p></li><li><p>
        Added <code class="literal">WEEK</code> and <code class="literal">QUARTER</code>
        values as <code class="literal">INTERVAL</code> arguments for the
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> and
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a> functions.
      </p></li><li><p>
        The precedence of the <code class="literal">XOR</code> operator now lies
        between <code class="literal">OR</code> and <code class="literal">AND</code>.
        Previously, <code class="literal">XOR</code> had the same precedence as
        <code class="literal">OR</code>.
      </p></li><li><p>
        Added <code class="literal">SELECT INTO
        <em class="replaceable"><code>list_of_vars</code></em></code>, which can be
        of mixed (that is, global and local) types. See
        <a href="sql-syntax.html#select-into-statement" title="12.8.3.3. SELECT ... INTO Statement">Section 12.8.3.3, “<code class="literal">SELECT ... INTO</code> Statement”</a>.
      </p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> causes an implicit commit.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          The behavior of
          <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
          INFILE</code></a> in this regard was changed again in MySQL
          5.0.26. See <a href="news.html#news-5-0-26" title="C.1.58. Changes in MySQL 5.0.26 (03 October 2006)">Section C.1.58, “Changes in MySQL 5.0.26 (03 October 2006)”</a>.
        </p></div></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-change-history"></a>C.2. Changes in MySQL Cluster</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-7">C.2.1. Changes in MySQL Cluster-5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-6">C.2.2. Changes in MySQL Cluster-5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-5">C.2.3. Changes in MySQL Cluster-5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-4">C.2.4. Changes in MySQL Cluster-5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-3">C.2.5. Changes in MySQL Cluster-5.0.3 (23 March 2005: Beta)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-1">C.2.6. Changes in MySQL Cluster-5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-13">C.2.7. Changes in MySQL Cluster-4.1.13 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-12">C.2.8. Changes in MySQL Cluster-4.1.12 (13 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-11">C.2.9. Changes in MySQL Cluster-4.1.11 (01 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-10">C.2.10. Changes in MySQL Cluster-4.1.10 (12 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-9">C.2.11. Changes in MySQL Cluster-4.1.9 (13 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-8">C.2.12. Changes in MySQL Cluster-4.1.8 (14 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-7">C.2.13. Changes in MySQL Cluster-4.1.7 (23 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-6">C.2.14. Changes in MySQL Cluster-4.1.6 (10 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-5">C.2.15. Changes in MySQL Cluster-4.1.5 (16 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-4">C.2.16. Changes in MySQL Cluster-4.1.4 (31 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-3">C.2.17. Changes in MySQL Cluster-4.1.3 (28 June 2004)</a></span></dt></dl></div><a class="indexterm" name="id2713160"></a><p>
    <span class="bold"><strong>Starting from 4.1.13 and 5.0.7, all Cluster
    changes are included in the MySQL Change History, and this manual
    section is no longer separately maintained.</strong></span>
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-7"></a>C.2.1. Changes in MySQL Cluster-5.0.7 (10 June 2005)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        Starting with version 5.0.8, changes for MySQL Cluster can be
        found in the combined MySQL Change History.
      </p></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/11019" target="_top">Bug#11019</a>) mgmapi start backup in some cases returns wrong
          backupid
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10190" target="_top">Bug#10190</a>) Backup from cluster wih NoOfReplica=1 is corrupt
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9246" target="_top">Bug#9246</a>) Condition pushdown and left join, wrong result
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10956" target="_top">Bug#10956</a>) More than 7 node restarts with
          <code class="option">--initial</code> caused cluster to fail.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9945" target="_top">Bug#9945</a>) <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> caused
          server crash. (Linux/390)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9826" target="_top">Bug#9826</a>) (<a href="http://bugs.mysql.com/10948" target="_top">Bug#10948</a>) Schema change
          (<a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>,
          <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>) crashed HPUX and
          PPC32.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10711" target="_top">Bug#10711</a>) (<a href="http://bugs.mysql.com/9363" target="_top">Bug#9363</a>) (<a href="http://bugs.mysql.com/8918" target="_top">Bug#8918</a>) (<a href="http://bugs.mysql.com/10058" target="_top">Bug#10058</a>) (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>)
          Cluster would time out and crash after first query; setting
          DataMemory to more than 2GB prevented cluster from starting;
          calling <code class="function">ndb_select_count()</code> crashed the
          cluster. (64-bit Unix OSes)
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-6"></a>C.2.2. Changes in MySQL Cluster-5.0.6 (26 May 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Limit on number of metadata objects (number of tables, indexes
          and BLOBs) now increased to 20,320
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The server would hang on successive calls to an
          <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
          ... ON DUPLICATE KEY UPDATE</code></a> query. (<a href="http://bugs.mysql.com/9725" target="_top">Bug#9725</a>)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10193" target="_top">Bug#10193</a>) Invalid DataDir in config causes ndbd segmentation
          fault
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10813" target="_top">Bug#10813</a>) Build with SCI Transporter fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10831" target="_top">Bug#10831</a>) ndb mgmd LogDestination maxfiles does not rotate
          logs properly
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-5"></a>C.2.3. Changes in MySQL Cluster-5.0.5 (Not released)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Decreased IndexMemory Usage
        </p></li><li><p>
          Parallel key lookup (read-multi-range) for queries like
          <code class="literal">SELECT * FROM t1 WHERE primary_key IN
          (1,2,3,4,5,6,7,8,9,10);</code>
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><p>
        Patches merged from versions 4.1.11 and 4.1.12
      </p><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/8315" target="_top">Bug#8315</a>) NdbScanFilter cmp method only works for strings of
          exact word boundary length
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8103" target="_top">Bug#8103</a>) Configuration handling error
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8035" target="_top">Bug#8035</a>) mysqld signal 10 when ndbd is shutdown
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7631" target="_top">Bug#7631</a>) NDB$EVENT contains unreadable event and table names
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7628" target="_top">Bug#7628</a>) Filtered event types are ignored
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7627" target="_top">Bug#7627</a>) Drop Event operation fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7424" target="_top">Bug#7424</a>) create index on datetime fails
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-4"></a>C.2.4. Changes in MySQL Cluster-5.0.4 (16 April 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Condition pushdown to storage engine now works for update and
          delete as well
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/9675" target="_top">Bug#9675</a>) Auto-increment not working with INSERT..SELECT and
          NDB storage
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9517" target="_top">Bug#9517</a>) Condition pushdown to storage engine does not work
          for update/delete
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9282" target="_top">Bug#9282</a>) API Node Crashes/Reloads on 'DELETE FROM'
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9280" target="_top">Bug#9280</a>) Memory leak in cluster when dependent sub-queries
          are used
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8585" target="_top">Bug#8585</a>) ndb_cache2 fails on aix52
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-3"></a>C.2.5. Changes in MySQL Cluster-5.0.3 (23 March 2005: Beta)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Condition pushdown to storage engine
        </p></li><li><p>
          Query cache enabled for cluster
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Patches merged from version 4.1.10
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-1"></a>C.2.6. Changes in MySQL Cluster-5.0.1 (27 July 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          This was the first MySQL Cluster release in the 5.0 series. As
          nearly all attention was still focused on getting 4.1 stable,
          it is not recommended to use MySQL 5.0.1 for MySQL Cluster.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          N/A
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-13"></a>C.2.7. Changes in MySQL Cluster-4.1.13 (15 July 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/11132" target="_top">Bug#11132</a>) Connections between data nodes and management
          nodes were not being closed following shutdown of
          <code class="literal">ndb_mgmd</code>.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11050" target="_top">Bug#11050</a>) <code class="literal">ndb_mgm&gt; show</code> printed
          incorrectly after master data node failure.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10956" target="_top">Bug#10956</a>) More than 7 node restarts with
          <code class="option">--initial</code> caused cluster to fail.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9826" target="_top">Bug#9826</a>) (<a href="http://bugs.mysql.com/10948" target="_top">Bug#10948</a>) Schema change
          (<a href="sql-syntax.html#drop-table" title="12.1.17. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>,
          <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>) crashed HPUX and
          PPC32.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>) Data nodes failed to restart on 64-bit Solaris.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11166" target="_top">Bug#11166</a>) Insert records were incorrectly applied by
          <code class="literal">ndb_restore</code>, thus making restoration from
          backup inconsistent if the binlog contained inserts.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8918" target="_top">Bug#8918</a>) (<a href="http://bugs.mysql.com/9363" target="_top">Bug#9363</a>) (<a href="http://bugs.mysql.com/10711" target="_top">Bug#10711</a>) (<a href="http://bugs.mysql.com/10058" target="_top">Bug#10058</a>) (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>)
          Cluster would time out and crash after first query; setting
          DataMemory to more than 2GB prevented cluster from starting;
          calling <code class="function">ndb_select_count()</code> crashed the
          cluster. (64-bit Unix OSes)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10190" target="_top">Bug#10190</a>) When making a backup of a cluster where
          <code class="literal">NumberOfReplicas</code> was equal to 1, the
          backup's metadata was corrupted. (Linux)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9945" target="_top">Bug#9945</a>) <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> caused
          server crash. (Linux/390)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11133" target="_top">Bug#11133</a>) A delete operation performed as part of a
          transaction caused an erroneous result.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10294" target="_top">Bug#10294</a>) Not allowing sufficient parallelism in cluster
          configuration (for example,
          <code class="literal">NoOfTransactions</code> too small) caused
          <code class="literal">ndb_restore</code> to fail without generating any
          error messages.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11290" target="_top">Bug#11290</a>) Setting TransactionInactiveTimeout= 0 did not
          result in an infinite timeout.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-12"></a>C.2.8. Changes in MySQL Cluster-4.1.12 (13 May 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/10471" target="_top">Bug#10471</a>) Backup can become inconsistent with certain
          combinations of multiple-row updates
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10287" target="_top">Bug#10287</a>) ndb_select_all "delimiter" option non functional
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10142" target="_top">Bug#10142</a>) Unhandled resource shortage in UNIQUE index code
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10029" target="_top">Bug#10029</a>) crash in ordered index scan after db full
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10001" target="_top">Bug#10001</a>) 2 NDB nodes get signal 6 (abort) in DBTC
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9969" target="_top">Bug#9969</a>) 4012 - has misleading error message
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9960" target="_top">Bug#9960</a>) START BACKUP reports failure albeit succeeding
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9924" target="_top">Bug#9924</a>) ABORT BACKUP 1 crashes 4 node cluster
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9892" target="_top">Bug#9892</a>) Index activation file during node recovery
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9891" target="_top">Bug#9891</a>) Crash in DBACC (line 7004) during commit
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9865" target="_top">Bug#9865</a>) SELECT does not function properly
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9839" target="_top">Bug#9839</a>) Column with AUTOINC contains -1 Value on node stop
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9757" target="_top">Bug#9757</a>) Uncompleted node failure after gracefully stopping
          node
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9749" target="_top">Bug#9749</a>) Transactions causes deadlock in ACC
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9724" target="_top">Bug#9724</a>) Node fails to start: Message: File has already been
          opened
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9691" target="_top">Bug#9691</a>) UPDATE fails on attempt to update primary key
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9675" target="_top">Bug#9675</a>) Auto-increment not working with INSERT..SELECT and
          NDB storage
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9318" target="_top">Bug#9318</a>) drop database does not drop ndb tables
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9280" target="_top">Bug#9280</a>) Memory leak in cluster when dependent sub-queries
          are used
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8928" target="_top">Bug#8928</a>) create table with keys will shutdown the cluster
        </p></li><li><p>
          Creating a table did not work for a cluster with 6 nodes. (<a href="http://bugs.mysql.com/8928" target="_top">Bug#8928</a>) Databases with 1, 2, 4, 8, ...
          (2<sup><em class="replaceable"><code>n</code></em></sup>
          nodes) did not have the problem. After a rolling upgrade,
          restart each node manually by restarting it with the
          <code class="option">--initial</code> option. Otherwise, use dump and
          restore after an upgrade.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-11"></a>C.2.9. Changes in MySQL Cluster-4.1.11 (01 April 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/9916" target="_top">Bug#9916</a>) DbaccMain.cpp / DBACC (Line: 4876) / Pointer too
          large
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9435" target="_top">Bug#9435</a>) TIMESTAMP columns do not update
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9052" target="_top">Bug#9052</a>) Uninitialized data during unique index build,
          potential cluster crash
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8876" target="_top">Bug#8876</a>) Timeout when committing aborted transaction after
          node failure
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8786" target="_top">Bug#8786</a>) ndb_autodiscover, drop index can fail, wait 2
          minutes timeout
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8853" target="_top">Bug#8853</a>) Transaction aborted after long time during node
          failure (4012)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8753" target="_top">Bug#8753</a>) Invalid schema object version after dropping index
          (crash fixed, currently retry required)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8645" target="_top">Bug#8645</a>) Assertion failure with multiple management servers
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8557" target="_top">Bug#8557</a>) ndbd does not get same nodeid on restart
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8556" target="_top">Bug#8556</a>) corrupt ndb_mgm show printout for certain
          configurations
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8167" target="_top">Bug#8167</a>) cluster shared memory and mysqld signal usage clash
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-10"></a>C.2.10. Changes in MySQL Cluster-4.1.10 (12 February 2005)</h3></div></div></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/8284" target="_top">Bug#8284</a>) Out of fragment memory in DBACC
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8262" target="_top">Bug#8262</a>) Node crash due to bug in DBLQH
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8208" target="_top">Bug#8208</a>) node restart fails on Aix 5.2
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8167" target="_top">Bug#8167</a>) cluster shared memory and mysqld signal usage clash
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8101" target="_top">Bug#8101</a>) unique index and error 4209 while selecting
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8070" target="_top">Bug#8070</a>) (<a href="http://bugs.mysql.com/7937" target="_top">Bug#7937</a>) (<a href="http://bugs.mysql.com/6716" target="_top">Bug#6716</a>) various ndb_restore core
          dumps on HP-UX
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8010" target="_top">Bug#8010</a>) 4006 forces MySQL Node Restart
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7928" target="_top">Bug#7928</a>) out of connection objects
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7898" target="_top">Bug#7898</a>) mysqld crash with ndb (solaris)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7864" target="_top">Bug#7864</a>) Not possible to have more than 4.5G data memory
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-9"></a>C.2.11. Changes in MySQL Cluster-4.1.9 (13 January 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          New implementation of shared memory transporter.
        </p></li><li><p>
          Cluster automatically configures shared memory transporter if
          possible.
        </p></li><li><p>
          Cluster prioritizes usage of transporters with shared memory
          and localhost TCP
        </p></li><li><p>
          Added switches to control the above functions,
          <code class="literal">ndb-shm</code> and
          <code class="literal">ndb-optimized-node-selection</code>.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/7805" target="_top">Bug#7805</a>) config.ini parsing error
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7798" target="_top">Bug#7798</a>) Running range scan after alter table in different
          thread causes node failure
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7761" target="_top">Bug#7761</a>) Alter table does not autocommit
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7725" target="_top">Bug#7725</a>) Indexed DATETIME Columns Return Random Results
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7660" target="_top">Bug#7660</a>) START BACKUP does not increment BACKUP-ID (Big
          Endian machines)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7593" target="_top">Bug#7593</a>) Cannot Create A Large NDB Data Warehouse
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7480" target="_top">Bug#7480</a>) Mysqld crash in ha_ndbcluster using Query Browser
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7470" target="_top">Bug#7470</a>) shared memory transporter does not connect
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7396" target="_top">Bug#7396</a>) Primary Key not working in NDB Mysql Clustered
          table (solaris)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7379" target="_top">Bug#7379</a>) ndb restore fails to handle blobs and multiple
          databases
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7346" target="_top">Bug#7346</a>) ndb_restore enters infinite loop
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7340" target="_top">Bug#7340</a>) Problem for inserting data into the Text field on
          utf8
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7124" target="_top">Bug#7124</a>) ndb_mgmd is aborted on startup when using SHM
          connection
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-8"></a>C.2.12. Changes in MySQL Cluster-4.1.8 (14 December 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Default port for <span><strong class="command">ndb_mgmd</strong></span> was changed to
          1186 (from 2200) as this port number was officially assigned
          to MySQL Cluster by IANA.
        </p></li><li><p>
          New command in <span><strong class="command">ndb_mgm</strong></span>, PURGE STALE
          SESSIONS, as a workaround for cases where nodes fail to
          allocate a node id even if it is free to use.
        </p></li><li><p>
          New command in <span><strong class="command">ndb_mgm</strong></span>, CONNECT.
        </p></li><li><p>
          The ndb executables have been changed to make use of the
          regular MySQL command-line option parsing features. See
          <a href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.6.21. Options Common to MySQL Cluster Programs">Section 17.6.21, “Options Common to MySQL Cluster Programs”</a>, for
          notes on changes.
        </p></li><li><p>
          As bonus of the above you can now specify all command line
          options in <code class="filename">my.cnf</code> using the executable
          names as sections, that is, <code class="literal">[ndbd]</code>,
          <code class="literal">[ndb_mgmd]</code>, <code class="literal">[ndb_mgm]</code>,
          <code class="literal">[ndb_restore]</code>, and so forth.
        </p><pre class="programlisting">      [ndbd]
      ndb-connectstring=myhost.domain.com:1234
      [ndb_mgm]
      ndb-connectstring=myhost.domain.com:1234
</pre></li><li><p>
          Added use of section <code class="literal">[mysql_cluster]</code> in
          <code class="filename">my.cnf</code>. All cluster executables,
          including mysqld, parse this section. For example, this is a
          convenient place to put <code class="literal">ndb-connectstring</code>
          so that it need be specified only once.
        </p></li><li><p>
          Added cluster log info events on allocation and deallocation
          of nodeid's.
        </p></li><li><p>
          Added cluster log info events on connection refuse as a result
          of version mismatch.
        </p></li><li><p>
          Extended connectstring syntax to allow for leaving the port
          number out. For example,
          <code class="literal">ndb-connectstring|connect-string=myhost1,myhost2,myhost3</code>
          is a valid connectstring and connect occurs on default port
          1186.
        </p></li><li><p>
          Clear text ndb error messages provided also for error codes
          that are mapped to corresponding mysql error codes, by
          executing <a href="sql-syntax.html#show-warnings" title="12.5.5.37. SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a> after
          an error has occurred which relates to the ndb storage engine.
        </p></li><li><p>
          Significant performance improvements done for read
          performance, especially for blobs.
        </p></li><li><p>
          Added some variables for performance tuning,
          <a href="mysql-cluster.html#sysvar_ndb_force_send"><code class="literal">ndb_force_send</code></a> and
          <a href="mysql-cluster.html#sysvar_ndb_use_exact_count"><code class="literal">ndb_use_exact_count</code></a>. Do
          <code class="literal">show variables like 'ndb%';</code> in mysql client
          for listing. Use <code class="literal">set</code> command to alter
          variables.
        </p></li><li><p>
          Added variables to set some options,
          <a href="mysql-cluster.html#sysvar_ndb_use_transactions"><code class="literal">ndb_use_transactions</code></a> and
          <a href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/7303" target="_top">Bug#7303</a>) ndb_mgm: Trying to set CLUSTERLOG for a specific
          node id core dumps
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7193" target="_top">Bug#7193</a>) start backup gives false error printout
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7153" target="_top">Bug#7153</a>) Cluster nodes do not report error on endianness
          mismatch
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7152" target="_top">Bug#7152</a>) ndb_mgmd segmentation fault on incorrect HostName
          in configuration
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7104" target="_top">Bug#7104</a>) clusterlog filtering and level setting broken
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6995" target="_top">Bug#6995</a>) ndb_recover on varchar fields results in changing
          case of data
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6919" target="_top">Bug#6919</a>) all status only shows 2 nodes on a 8-node cluster
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6871" target="_top">Bug#6871</a>) DBD execute failed: Got error 897 'Unknown error
          code' from ndbcluster
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6794" target="_top">Bug#6794</a>) Wrong outcome of update operation of ndb table
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6791" target="_top">Bug#6791</a>) Segmentation fault when config.ini is not correctly
          set
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6775" target="_top">Bug#6775</a>) failure in acc when running many mysql clients
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6696" target="_top">Bug#6696</a>) ndb_mgm command-line options inconsistent with
          behavior
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6684" target="_top">Bug#6684</a>) ndb_restore doesn't give error messages if improper
          command given
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6677" target="_top">Bug#6677</a>) ndb_mgm can crash on "ALL CLUSTERLOG"
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6538" target="_top">Bug#6538</a>) Error code returned when select max() on empty
          table with index
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6451" target="_top">Bug#6451</a>) failing create table givers "ghost" tables which
          are impossible to remove
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6435" target="_top">Bug#6435</a>) strange behavior of left join
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6426" target="_top">Bug#6426</a>) update with long pk fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6398" target="_top">Bug#6398</a>) update of primary key fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6354" target="_top">Bug#6354</a>) mysql does not complain about --ndbcluster option
          when NDB is not compiled in
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6331" target="_top">Bug#6331</a>) INSERT IGNORE .. SELECT breaks subsequent inserts
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6288" target="_top">Bug#6288</a>) cluster nodes crash on data import
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6031" target="_top">Bug#6031</a>) To drop database you have to execute DROP DATABASE
          command twice
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6020" target="_top">Bug#6020</a>) LOCK TABLE + delete returns error 208
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6018" target="_top">Bug#6018</a>) REPLACE does not work for BLOBs + NDB
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6016" target="_top">Bug#6016</a>) Strange crash with blobs + different DATABASES
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5973" target="_top">Bug#5973</a>) ndb table belonging to different database shows up
          in show tables
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5872" target="_top">Bug#5872</a>) ALTER TABLE with blob from ndb table to myisam
          fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5844" target="_top">Bug#5844</a>) Failing mysql-test-run leaves stray NDB processes
          behind
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5824" target="_top">Bug#5824</a>) HELP text messed up in ndb_mgm
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5786" target="_top">Bug#5786</a>) Duplicate key error after restore
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5785" target="_top">Bug#5785</a>) lock timeout during concurrent update
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5782" target="_top">Bug#5782</a>) Unknown error when using LIMIT with ndb table
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5756" target="_top">Bug#5756</a>) RESTART node from ndb_mgm fails
        </p></li><li><p>
          A few more not reported bugs fixed
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-7"></a>C.2.13. Changes in MySQL Cluster-4.1.7 (23 October 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Optimization 1: Improved performance on index scans. Measured
          30% performance increase on query which do large amounts of
          index scans.
        </p></li><li><p>
          Optimization 2: Improved performance on primary key lookups.
          Around double performance for autocommitted primary key
          lookups.
        </p></li><li><p>
          Optimization 3: Improved performance when using blobs by
          avoiding usage of exclusive locks for blobs.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          A few bugs fixed.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-6"></a>C.2.14. Changes in MySQL Cluster-4.1.6 (10 October 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Limited character set support for storage engine NDBCLUSTER:
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td>Char set</td><td>Collation</td></tr><tr><td>big5</td><td>big5_chinese_ci</td></tr><tr><td> </td><td>big5_bin</td></tr><tr><td>binary</td><td>binary</td></tr><tr><td>euckr</td><td>euckr_korean_ci</td></tr><tr><td> </td><td>euckr_bin</td></tr><tr><td>gb2312</td><td>gb2312_chinese_ci</td></tr><tr><td> </td><td>gb2312_bin</td></tr><tr><td>gbk</td><td>gbk_chinese_ci</td></tr><tr><td> </td><td>gbk_bin</td></tr><tr><td>latin1</td><td>latin1_swedish_ci</td></tr><tr><td> </td><td>latin1_bin</td></tr><tr><td>sjis</td><td>sjis_japanese_ci</td></tr><tr><td> </td><td>sjis_bin</td></tr><tr><td>tis620</td><td>tis620_bin</td></tr><tr><td>ucs2</td><td>ucs2_general_ci</td></tr><tr><td> </td><td>ucs2_bin</td></tr><tr><td>ujis</td><td>ujis_japanese_ci</td></tr><tr><td> </td><td>ujis_bin</td></tr><tr><td>utf8</td><td>utf8_general_ci</td></tr><tr><td> </td><td>utf8_bin</td></tr></tbody></table></div></li><li><p>
          The SCI Transporter has been brought up-to-date with all
          changes and now works and has been documented as well.
        </p></li><li><p>
          Optimizations when several clients to a MySQL Server access
          ndb tables.
        </p></li><li><p>
          Added more checks and warnings for erroneous and inappropriate
          cluster configurations.
        </p></li><li><p>
          <a href="sql-syntax.html#show-tables" title="12.5.5.34. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> now directly shows
          ndb tables created on a different MySQL server, that is,
          without a prior table access.
        </p></li><li><p>
          Enhanced support for starting MySQL Server independently of
          ndbd and ndb_mgmd.
        </p></li><li><p>
          Clear text ndb error messages provided by executing
          <a href="sql-syntax.html#show-warnings" title="12.5.5.37. SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a> after an error
          has occurred which relates to the ndb storage engine.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Quite a few bugs fixed.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-5"></a>C.2.15. Changes in MySQL Cluster-4.1.5 (16 September 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Many queries in MySQL Cluster are executed as range scans or
          full table scans. All queries that do not use a unique hash
          index or the primary hash index use this access method. In a
          distributed system it is crucial that batching is properly
          performed.
        </p><p>
          In previous versions, the batch size was fixed to 16 per data
          node. In this version it is configurable per MySQL Server. So
          for queries using lots of large scans it is appropriate to set
          this parameter rather large and for queries using many small
          scans only fetching a small amount of records it is
          appropriate to set it low.
        </p><p>
          The performance of queries can easily change as much as 40%
          based on how this variable is set.
        </p><p>
          In future versions more logic will be implemented for
          assessing the batch size on a per-query basis. Thus, the
          semantics of the new configuration variable
          <code class="literal">ScanBatchSize</code> are likely to change.
        </p></li><li><p>
          The fixed size overhead of the ndbd process has been greatly
          decreased. This is also true for the overhead per operation
          record as well as overhead per table and index.
        </p><p>
          A number of new configuration variables have been introduced
          to enable configuration of system buffers. Configuration
          variables for specifying the numbers of tables, unique hash
          indexes, and ordered indexes have also been introduced.
        </p><p>
          New configuration variables:
          <code class="literal">MaxNoOfOrderedIndexes</code>,
          <code class="literal">MaxNoOfUniqueHashIndexes</code>
        </p><p>
          Configuration variables no longer used:
          <code class="literal">MaxNoOfIndexes</code> (split into the two above).
        </p></li><li><p>
          In previous versions <a href="sql-syntax.html#alter-table" title="12.1.4. ALTER TABLE Syntax"><code class="literal">ALTER
          TABLE</code></a>,
          <a href="sql-syntax.html#truncate" title="12.2.10. TRUNCATE Syntax"><code class="literal">TRUNCATE
          TABLE</code></a>, and <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA</code></a>
          were performed as one big transaction. In this version, all of
          these statements are automatically separated into several
          distinct transactions.
        </p><p>
          This removes the limitation that one could not change very
          large tables due to the
          <code class="literal">MaxNoOfConcurrentOperations</code> parameter.
        </p></li><li><p>
          MySQL CLuster's online backup feature now backs up indexes so
          that both data and indexes are restored.
        </p></li><li><p>
          In previous versions it was not possible to use
          <code class="literal">NULL</code> in indexes. This is now possible for
          all supported index types.
        </p></li><li><p>
          Much work has been put onto making
          <code class="literal">AUTO_INCREMENT</code> features work as for other
          table handlers. Autoincrements as a partial key is still only
          supported by <code class="literal">MyISAM</code>.
        </p></li><li><p>
          In earlier versions, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash if
          the cluster wasn't started with the
          <a href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option. Now
          <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> handles cluster crashes and starts
          without crashing.
        </p></li><li><p>
          The <code class="literal">-i</code> option for initial startup of
          <span><strong class="command">ndbd</strong></span> has been removed. Initial startup
          still can be specified by using the <code class="option">--initial</code>
          option. The reason for this is to ensure that it is clear what
          takes place when using <code class="option">--initial</code>: this option
          completely removes all data from the disk and should only be
          used at initial start, in certain software upgrade cases, and
          in some cases as a workaround when nodes cannot be restarted
          successfully.
        </p></li><li><p>
          The management client (<span><strong class="command">ndb_mgm</strong></span>) now has
          additional commands and more information is printed for some
          commands such as <code class="literal">show</code>.
        </p></li><li><p>
          In previous versions, the files were called
          <code class="filename">ndb_0..</code> when it wasn't possible to
          allocate a node ID when starting the node. To ensure that
          files are not so easily overwritten, these files are now named
          <code class="filename">ndb_pid..</code>, where pid is the process ID
          assigned by the OS.
        </p></li><li><p>
          The default parameters have changed for
          <span><strong class="command">ndb_mgmd</strong></span> and <span><strong class="command">ndbd</strong></span>. In
          particular, they are now started as daemons by default. The
          <code class="literal">-n</code> option has been removed since it could
          cause confusion as to its meaning (nostart or nodaemon).
        </p></li><li><p>
          In the configuration file, you can now use
          <code class="literal">[NDBD]</code> as an alias for
          <code class="literal">[DB]</code>, <code class="literal">[MYSQLD]</code> as an
          alias for <code class="literal">[API]</code>, and
          <code class="literal">[NDB_MGMD]</code> as an alias for
          <code class="literal">[MGM]</code>.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
            In fact, <code class="literal">[NDBD]</code>,
            <code class="literal">[MYSQLD]</code>, and
            <code class="literal">[NDB_MGMD]</code> are now the preferred
            designations, although the older ones will continue to be
            supported for some time to come in order to maintain
            backward compatibility.
          </p></div></li><li><p>
          Many more checks for consistency in configuration have been
          introduced to in order to provide quicker feedback on
          configuration errors.
        </p></li><li><p>
          In the connect string, it is now possible to use both
          “<span class="quote"><code class="literal">;</code></span>” and
          “<span class="quote"><code class="literal">,</code></span>” as the separator between
          entries. Thus, "nodeid=2,host=localhost:2200" is equivalent to
          "nodeid=2;host=localhost:2200".
        </p><p>
          In the configuration file, it is also possible to use
          “<span class="quote"><code class="literal">:</code></span>” or
          “<span class="quote"><code class="literal">=</code></span>” for assignment values. For
          example, <code class="literal">MaxNoOfOrderedIndexes : 128</code> and
          <code class="literal">MaxNoOfOrderedIndexes = 128</code> are equivalent
          expressions.
        </p></li><li><p>
          The configuration variable names are now case insensitive, so
          <code class="literal">MaxNoOfOrderedIndexes: 128</code> is equivalent to
          <code class="literal">MAXNOOFORDEREDINDEXES = 128</code>.
        </p></li><li><p>
          It is possible now to set the backup directory separately from
          the <code class="literal">FileSystemPath</code> by using the
          <code class="literal">BackupDir</code> configuration variable.
        </p><p>
          Log files and trace files can now be placed in any directory
          by setting the <code class="literal">DataDir</code> configuration
          variable.
        </p><p>
          <code class="literal">FileSystemPath</code> is no longer mandatory and
          defaults to <code class="literal">DataDir</code>.
        </p></li><li><p>
          Queries involving tables from different databases are now
          supported.
        </p></li><li><p>
          It is now possible to update the primary key.
        </p></li><li><p>
          The performance of ordered indexes has been greatly improved,
          particularly the maintenance of indexes on updates, inserts
          and deletes.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Quite a few bugs fixed.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-4"></a>C.2.16. Changes in MySQL Cluster-4.1.4 (31 August 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The names of the log files and trace files created by the
          <span><strong class="command">ndbd</strong></span> and <span><strong class="command">ndb_mgmd</strong></span>
          processes have changed.
        </p></li><li><p>
          Support for the many <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> data
          types was introduced in this version.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Quite a few bugs were fixed in the 4.1.4 release.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-3"></a>C.2.17. Changes in MySQL Cluster-4.1.3 (28 June 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          This was the first MySQL Cluster release so all functionality
          was new.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Various bugs fixed in the development process leading up to
          4.1.3.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mem-news"></a>C.3. MySQL Enterprise Monitor Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mem-news-2-0-6">C.3.1. Changes in MySQL Enterprise Monitor 2.0.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-5">C.3.2. Changes in MySQL Enterprise Monitor 2.0.5 (18th March 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-4">C.3.3. Changes in MySQL Enterprise Monitor 2.0.4 (5th February 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-3">C.3.4. Changes in MySQL Enterprise Monitor 2.0.3 (23rd January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-2">C.3.5. Changes in MySQL Enterprise Monitor 2.0.2 (14th January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-1">C.3.6. Changes in MySQL Enterprise Monitor 2.0.1 (15th December 2008)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-0">C.3.7. Changes in MySQL Enterprise Monitor 2.0.0 (11th December 2008)</a></span></dt></dl></div><p>
    This appendix lists the changes to the MySQL Enterprise Monitor, beginning with the
    most recent release. Each release section covers added or changed
    functionality, bug fixes, and known issues, if applicable. All bug
    fixes are referenced by bug number and include a link to the bug
    database. Bugs are listed in order of resolution. To find a bug
    quickly, search by bug number.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-6"></a>C.3.1. Changes in MySQL Enterprise Monitor 2.0.6 (Not yet released)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.5.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Rule “<span class="quote">InnoDB Buffer Cache Hit Rate Not Optimal</span>”
        in the “<span class="quote">Memory Usage</span>” Advisor did not contain an
        uptime check. This resulted in premature firing of an info
        event.
       (<a href="http://bugs.mysql.com/44770" target="_top">Bug#44770</a>)</p></li><li><p>
        In the Advisor “<span class="quote">Administration</span>” the Rule
        “<span class="quote">InnoDB Redo Logs Not Sized Correctly</span>” did not fire
        correctly. The rule contained the expression:
      </p><pre class="programlisting">(%have_innodb% == "YES") &amp;&amp; ((%innodb_log_file_size% * %innodb_log_files_in_group%) &lt;
LEAST(1073741824, (%innodb_buffer_pool_size% / 2))) 
</pre><p>
        This was incorrect and needed to be changed to:
      </p><pre class="programlisting">(%have_innodb% == "YES") &amp;&amp; ((%innodb_log_file_size% * %innodb_log_files_in_group%) &lt;=
LEAST(1073741824, (%innodb_buffer_pool_size% / 2)))
</pre><p>(<a href="http://bugs.mysql.com/44734" target="_top">Bug#44734</a>)</p></li><li><p>
        When running the shutdown script for Enterprise Dashboard, it
        took an unacceptably long time for Tomcat to terminate
        completely, the <code class="literal">java</code> process eventually had
        to be killed manually.
       (<a href="http://bugs.mysql.com/44327" target="_top">Bug#44327</a>)</p></li><li><p>
        When updating an Agent from 2.0 to 2.1 the
        <code class="filename">mysql-monitor-agent.ini</code> was incorrectly
        updated.
      </p><p>
        This happened if the Agent was configured to use SSL to connect
        to the Enterprise Dashboard, on a port other than 18443. The
        update installer caused any value specified for the port to be
        changed to 18443. This did not happen if the Agent was not using
        SSL.
       (<a href="http://bugs.mysql.com/43900" target="_top">Bug#43900</a>)</p></li><li><p>
        An error was generated when an attempt was made to rename a
        Replication Group to one that had previously been deleted.
       (<a href="http://bugs.mysql.com/43846" target="_top">Bug#43846</a>)</p></li><li><p>
        A new topology was not discovered after the previous replication
        group was renamed.
       (<a href="http://bugs.mysql.com/43815" target="_top">Bug#43815</a>)</p></li><li><p>
        On Unix systems, executing the command:
      </p><pre class="programlisting">./mysqlmonitorctl.sh stop</pre><p>
        did not make sure that <code class="literal">mysqld</code> was shutdown
        before finishing.
      </p><p>
        This resulted in a situation such as the following:
      </p><pre class="programlisting"># /opt/mysql/enterprise/monitor-2.0.0.7092/mysqlmonitorctl.sh stop
Using CATALINA_BASE:   /opt/mysql/enterprise/monitor/apache-tomcat
Using CATALINA_HOME:   /opt/mysql/enterprise/monitor/apache-tomcat
Using CATALINA_TMPDIR: /opt/mysql/enterprise/monitor/apache-tomcat/temp
Using JRE_HOME:       /opt/mysql/enterprise/monitor-2.0.0.7092/java
Stopping tomcat service ... [ OK ]
/opt/mysql/enterprise/monitor-2.0.0.7092/mysqlmonitorctl.sh : mysql stopped
</pre><p>
        However, running the following command a few minutes later
        showed that the MySQL server was still running:
      </p><pre class="programlisting"># /opt/mysql/enterprise/monitor-2.0.0.7092/mysqlmonitorctl.sh status
MySQL Network MySQL is running
MySQL Network Tomcat is not running
</pre><p>(<a href="http://bugs.mysql.com/43803" target="_top">Bug#43803</a>)</p></li><li><p>
        The MySQL Enterprise Monitor upgrade installer incorrectly
        replaced the <code class="filename">AdvisorScript.jar</code> in
        <code class="filename">&lt;instDir&gt;/apache-tomcat/webapps/ROOT/WEB-INF/lib/</code>
        with the default Advisor JAR.
       (<a href="http://bugs.mysql.com/43773" target="_top">Bug#43773</a>)</p></li><li><p>
        The agent created the <code class="literal">mysql.inventory</code> table
        with an engine type of InnoDB, instead of MyISAM, when InnoDB
        was specified as the default engine type in
        <code class="filename">my.cnf</code>. This happened because the agent did
        not explicitly specify the table engine type to be of MyISAM.
       (<a href="http://bugs.mysql.com/43551" target="_top">Bug#43551</a>)</p></li><li><p>
        After removing enough servers to bring the host count back down
        to the number covered in the subscription, the Subscription
        Warnings reflected the new number. However, the warning message
        displayed:
      </p><pre class="programlisting">You are currently monitoring 1 host, however your subscription covers only 1. Your
subscription needs to be updated to cover at least 0 additional hosts.
</pre><p>
        Instead of displaying:
      </p><pre class="programlisting">Your subscription is up-to-date
You have no warnings at this time.
</pre><p>
        The former message resulted in confusion.
       (<a href="http://bugs.mysql.com/43163" target="_top">Bug#43163</a>)</p></li><li><p>
        If a host was not a slave during the initial discovery phase,
        then it would not be displayed in the Replication tab if it
        subsequently became a slave.
      </p><p>
        This was because after the initial discovery phase, if a host
        did not have <code class="literal"> slavestatus</code> present, no
        subsequent checks were made to check for the host being a slave.
        It was therefore missed for the purposes of replication
        discovery and never showed in the Replication tab.
       (<a href="http://bugs.mysql.com/42997" target="_top">Bug#42997</a>)</p></li><li><p>
        The graphs for Thread Cache, Connections and Temporary Tables
        contained incorrect Japanese translations on their Y axis. The
        Japanese displayed “<span class="quote">total connection time (min)</span>”
        when it should have displayed something else. For example, the
        Thread Cache graph should have displayed
        “<span class="quote">total/min</span>”.
       (<a href="http://bugs.mysql.com/40413" target="_top">Bug#40413</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-5"></a>C.3.2. Changes in MySQL Enterprise Monitor 2.0.5 (18th March 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.4.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The FreeBSD 7 Agent was inadvertently a Linux binary.
      </p><pre class="programlisting">shell&gt; file mysqlmonitoragent-2.0.5.7153-freebsd7-x86-32bit-installer.bin
mysqlmonitoragent-2.0.5.7153-freebsd7-x86-32bit-installer.bin: ELF 32-bit LSB executable,
Intel 80386, version 1 (SYSV), for GNU/Linux 2.2.5, dynamically linked (uses shared libs),
stripped</pre><p>(<a href="http://bugs.mysql.com/44263" target="_top">Bug#44263</a>)</p></li><li><p>
        Calling the Agent with the option
        <code class="option">--agent-run-os-tests</code> resulted in a crash. This
        happened on Linux x86-64 systems. The resultant stack trace was:
      </p><pre class="programlisting">(qa-merlin)
2009-03-04 16:39:42: (critical) chassis.c:1097: could not raise RLIMIT_NOFILE to 8192,
Invalid argument (22). Current limit still 1024.
sigar-test-all.c.124 (test_sigar_pid_get):
  pid = 5188
sigar-test-all.c.106 (test_sigar_mem_get):
...cut...
sigar-test-all.c.427 (test_sigar_file_system_list_get): (items = 13)
[0]
  fs.dirname = /
  fs.devname = /dev/mapper/vg00-root
  fs.typename = local
  fs.sys-type-name = ext3
  fs.type = 2
  fsusage.total = 15481840
  fsusage.free = 14116140
  fsusage.used = 1365700
  fsusage.avail = 13329708
  fsusage.files = 1966080
  fsusage.use_percent = 0.100000
[0]
  diskusage.reads = 315302
  diskusage.writes = 6318240
  diskusage.write_bytes = 25879511040
  diskusage.read_bytes = 6561092608
  diskusage.queue = 47457530080206
Segmentation fault
</pre><p>
        On some systems no output was shown, other than the message
        “<span class="quote">Segmentation fault</span>”.
       (<a href="http://bugs.mysql.com/43381" target="_top">Bug#43381</a>)</p></li><li><p>
        Following a change in the replication configuration, MySQL
        Enterprise Monitor did not display the new topology correctly.
       (<a href="http://bugs.mysql.com/43240" target="_top">Bug#43240</a>)</p></li><li><p>
        When a data collection became invalid, the agent sent NULLs for
        those collection values. However, the timestamps that it sent
        with the values were the timestamps from the last valid value
        that was collected.
      </p><p>
        Due to key constraints on the Service Manager side, MySQL
        Enterprise Monitor disregarded anything sent with duplicate
        timestamps, thus the NULLs received from the agent were never
        processed. Some mechanisms, such as replication discovery,
        depend on the NULLs to identify a situation where data has
        become invalid.
       (<a href="http://bugs.mysql.com/43239" target="_top">Bug#43239</a>)</p></li><li><p>
        MySQL Enterprise Monitor did not add a log entry each time data
        was purged. The log entry should have noted how many rows of
        each type of data were purged (historical data, logs, quan
        data).
       (<a href="http://bugs.mysql.com/43159" target="_top">Bug#43159</a>)</p></li><li><p>
        MySQL Enterprise Monitor generated a stack overflow. This was as
        a result of a bug in Hibernate, which caused Hibernate to enter
        infinite recursion while trying to load a relationship.
       (<a href="http://bugs.mysql.com/43107" target="_top">Bug#43107</a>)</p></li><li><p>
        The “<span class="quote">Table Cache Set Too Low For Startup</span>” and
        “<span class="quote">Table Cache Not Optimal</span>” rules were not supported
        on MySQL 5.1 because the <code class="literal">table_cache</code> system
        variable was deprecated and replaced with
        <code class="literal">table_open_cache</code>.
       (<a href="http://bugs.mysql.com/42663" target="_top">Bug#42663</a>)</p></li><li><p>
        Migrated server was not completely deleted.
      </p><p>
        In a Monitor that had been updated from 1.3.2 to 2.0.4, with 2
        database servers queued for migration, if a server being
        migrated was deleted, or a migrated server was deleted, this
        would not be reflected in the user interface or in the license
        count, until Tomcat was restarted.
       (<a href="http://bugs.mysql.com/42604" target="_top">Bug#42604</a>)</p></li><li><p>
        The installer used to upgrade from version 1.3 corrupted
        passwords containing the “<span class="quote">?</span>” character.
       (<a href="http://bugs.mysql.com/42452" target="_top">Bug#42452</a>)</p></li><li><p>
        The replication status of a server was displayed as
        “<span class="quote">unknown</span>”. However, the agent logged no errors and
        the server showed no other event problems. The server status was
        displayed as “<span class="quote">up</span>” and the database connection was
        also displayed as “<span class="quote">up</span>”.
       (<a href="http://bugs.mysql.com/42407" target="_top">Bug#42407</a>)</p></li><li><p>
        Sun multi-core processors caused all cores to be reported on the
        meta information page.
      </p><p>
        The larger T-series SPARC processors have 32+ cores. This caused
        the meta information page in the Dashboard to scroll as it
        reported each one.
       (<a href="http://bugs.mysql.com/42355" target="_top">Bug#42355</a>)</p></li><li><p>
        If an attempt was made to disable a rule using the link next to
        the rule, the following error message was generated:
      </p><pre class="programlisting">U0002 You must log in to access the requested resource. Go to login page.</pre><p>
        However, clicking on the link did not prompt the user to login
        again.
       (<a href="http://bugs.mysql.com/42313" target="_top">Bug#42313</a>)</p></li><li><p>
        Changing <code class="literal">ssh-agent</code> from OpenSSH or specifying
        a malevolent value of <code class="literal">agent-host-id</code>, could
        inject data into the monitored MySQL Server.
      </p><p>
        For example, setting <code class="literal">agent-host-id</code> to the
        value “<span class="quote">I'm a test</span>” would result in the
        following message in the error log:
      </p><pre class="programlisting">2009-01-23 15:45:11: ((error)) agent_mysqld.c:281: mysql_real_query('INSERT INTO
mysql.inventory  (name, value) VALUES ( 'hostid', 'I'm a test' )') on 'mysql' failed: You
have an error in your SQL syntax; check the manual that corresponds to your MySQL server
version for the right syntax to use near 'm a test' )' at line 1 (mysql-errno = 1064)
</pre><p>(<a href="http://bugs.mysql.com/42306" target="_top">Bug#42306</a>)</p></li><li><p>
        When <code class="literal">SHOW GLOBAL STATUS</code> returned a value
        greater than 214748364, it was sent to the Service Manager as
        214748364.
       (<a href="http://bugs.mysql.com/42245" target="_top">Bug#42245</a>)</p></li><li><p>
        The Agent failed to identify local sockets as local on Mac OS X
        10.4.
      </p><p>
        If the Agent was configured to use a Unix domain socket on Mac
        OS X 10.4, it did not treat the connection as local and failed
        to provide CPU and memory information to MySQL Enterprise
        Monitor. This is shown in the log file:
      </p><pre class="programlisting">2009-01-20 18:15:02: (message) network-socket.c:752: is-local family 0 != 1
2009-01-20 18:15:02: (message) agent_mysqld.c:322: [mysql] mysqld is not local or not
directly connected</pre><p>
        However, this problem did not happen on Mac OS X 10.5.
       (<a href="http://bugs.mysql.com/42220" target="_top">Bug#42220</a>)</p></li><li><p>
        Some graphs on the <span class="guilabel">Graph</span> tab were not
        updated after the page was refreshed, or
        <span class="guibutton">Update</span> was clicked.
      </p><p>
        The only way to get an updated graph was to change the graph
        size (in pixels) and then click <span class="guibutton">Update</span>.
       (<a href="http://bugs.mysql.com/42162" target="_top">Bug#42162</a>)</p></li><li><p>
        The <code class="filename">my.cnf</code> file for the Enterprise Monitor
        internal database had the following configuration item:
      </p><pre class="programlisting">innodb_autoextend_increment = 50M
</pre><p>
        This generated the error:
      </p><pre class="programlisting">16:36:23 [Warning] option 'innodb_autoextend_increment': unsigned value 52428800
adjusted to 1000
</pre><p>
        This variable is interpreted as being specified in MB, so 50M
        would be 50 TB. Such a high value results in the variable being
        adjusted to 1000 MB.
      </p><p>
        The value in the configuration file should be:
      </p><pre class="programlisting">innodb_autoextend_increment = 50
</pre><p>(<a href="http://bugs.mysql.com/42096" target="_top">Bug#42096</a>)</p></li><li><p>
        A number of Advisor rules had advice text that had not been
        translated into Japanese. The Advisors that contained
        untranslated rules included Performance, Schema and Security.
       (<a href="http://bugs.mysql.com/42067" target="_top">Bug#42067</a>)</p></li><li><p>
        The Service Manager did not handle the case where the agent
        failed to supply a valid <code class="literal">master_ip</code>. The
        Service Manager would then not restart. The logs contained the
        following:
      </p><pre class="programlisting">2009-01-09 14:39:50,472 ERROR [main:org.springframework.web.context.ContextLoader] Context
initialization failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with
name 'serverConnectionMonitor' defined in ServletContext resource
[/WEB-INF/applicationContext.xml]: Unsatisfied dependency expressed through constructor
argument with index 2 of type [com.mysql.etools.monitor.bo.Manager]: Error creating bean
with name 'manager' defined in ServletContext resource [/WEB-INF/applicationContext.xml]:
Invocation of init method failed; nested exception is
com.mysql.etools.monitor.pom.UnsupportedAttributeException:
101c6b5b-15eb-49aa-916c-843c51b28d38: mysql.slavestatus.Master_ip</pre><p>(<a href="http://bugs.mysql.com/42005" target="_top">Bug#42005</a>)</p></li><li><p>
        Having too many users with strong privileges generated Service
        Manager errors and events failed to be triggered.
      </p><p>
        If there were approximately 1000 users with full privileges and
        the value of <code class="literal">group_concat_max_len</code> was set to
        100001, the size of the data that the agent sent to the Service
        Manager was too large and caused Service Manager errors. Also,
        the Security event “<span class="quote">Account has Strong MySQL
        privileges</span>” did not trigger.
       (<a href="http://bugs.mysql.com/41987" target="_top">Bug#41987</a>)</p></li><li><p>
        Query Analyzer's Query Type filter for <code class="literal">SELECT</code>
        ignored statements starting with parenthesis.
      </p><p>
        If you sent a statement through Query Analyzer starting with
        parenthesis, such as:
      </p><pre class="programlisting">(SELECT 1 FROM dual);</pre><p>
        and then attempted to filter for <code class="literal">SELECT</code>
        queries only, queries starting with parenthesis were not
        displayed.
       (<a href="http://bugs.mysql.com/41968" target="_top">Bug#41968</a>)</p></li><li><p>
        The agent angel process was spawning too soon, which caused a
        duplicate UUID error.
      </p><p>
        <code class="literal">g_error()</code> logged a fatal error, and called
        <code class="literal">abort()</code>. This terminated the program. Then
        the angel respawned with the same UUID, but with a -1 session
        resync request, which the MEM server denied because the old
        session was still active. This resulted in a permissions denied
        error (1142) on the <code class="literal">mysql.inventory table</code>.
      </p><pre class="programlisting">2008-12-17 18:58:58: (message) agent_mysqld.c:313: [mysql] mysqld is local and directly connected
2008-12-17 18:58:58: ((error)) agent_mysqld.c:444: [mysql] mysql_real_query("SELECT value
FROM mysql.inventory WHERE name = 'uuid'") failed: SELECT command denied to user
'ent_agent'@'127.0.0.1' for table 'inventory' (errno=1142)
2008-12-17 18:58:58: (debug) chassis.c:282: 15134 returned: 15134
2008-12-17 18:58:58: (message) chassis.c:304: [angel] PID=15134 died on signal=6 (it used
0 kBytes max) ... waiting 3min before restart
2008-12-17 18:59:00: (debug) chassis.c:244: we are the child: 15149
2008-12-17 18:59:00: (message) chassis.c:259: [angel] we try to keep PID=15149 alive
2008-12-17 18:59:00: (debug) chassis.c:277: waiting for 15149
2008-12-17 18:59:00: (message) mysql-proxy 0.7.0 started
2008-12-17 18:59:00: (message) MySQL Monitor Agent 2.0.0.7111 started.
</pre><p>(<a href="http://bugs.mysql.com/41600" target="_top">Bug#41600</a>)</p></li><li><p>
        <code class="literal">master_uuid</code> discovery did not work with MySQL
        Server versions prior to 5.1. <code class="literal">master_uuid</code> did
        not show in any Agent to Monitor communications, and no log or
        error messages were generated.
      </p><p>
        However, now the bug has been fixed, an Agent monitoring a 5.0
        MySQL Server would register the following in its logs:
      </p><pre class="programlisting">...
 &lt;classname&gt;slavestatus&lt;/classname&gt;
 &lt;instance&gt;12515cdc-8c00-4223-9d2a-2666a403512c&lt;/instance&gt;
 &lt;attribute&gt;Master_uuid&lt;/attribute&gt;
&lt;/target&gt;
&lt;utc&gt;2009-03-03T19:58:05.700Z&lt;/utc&gt;
&lt;value&gt;b2fd9f86-6e42-49f2-b930-e8fb3e728179&lt;/value&gt;
</pre><p>
        Note the presence of <code class="literal">master_uuid</code>.
       (<a href="http://bugs.mysql.com/41525" target="_top">Bug#41525</a>)</p></li><li><p>
        The <code class="literal">master_uuid</code> was not used for replication
        topology discovery.
      </p><p>
        The agent collected <code class="literal">master_uuid</code> by reading
        the <code class="filename">master.info</code> file, and then running a
        <code class="literal">SELECT</code> directly against its master. This was
        to try and read the <code class="literal">mysql.inventory</code> table on
        the master to obtain the instance
        <code class="literal">master_uuid</code>.
      </p><p>
        However, this was not being used correctly by the replication
        topology discovery within the server.
       (<a href="http://bugs.mysql.com/41519" target="_top">Bug#41519</a>)</p></li><li><p>
        Queries such as <code class="literal">SELECT</code> against the master
        <code class="literal">mysql.inventory</code> was not logged on slave-based
        agents. This made diagnosing topology discovery issues
        difficult.
       (<a href="http://bugs.mysql.com/41518" target="_top">Bug#41518</a>)</p></li><li><p>
        After an error was generated due to an incorrect password while
        trying to create a new user, the following error was obtained
        when subsequently attempting to create a valid new user:
      </p><pre class="programlisting">U0002 You must log in to access the requested resource</pre><p>(<a href="http://bugs.mysql.com/41384" target="_top">Bug#41384</a>)</p></li><li><p>
        Agent startup failed on Solaris 10. The error generated was:
      </p><pre class="programlisting"># ./mysql-monitor-agent start
Bad string
ERROR! /opt/mysql/enterprise/agent/etc/mysql-monitor-agent.ini has to have a
[mysql-proxy].pid-file setting
</pre><p>
        This was caused by unexpected behavior of the
        <span><strong class="command">tr</strong></span> command.
       (<a href="http://bugs.mysql.com/41260" target="_top">Bug#41260</a>)</p></li><li><p>
        On the Query Analysis page, if a query was clicked the minimum
        displayed was greater than the average.
       (<a href="http://bugs.mysql.com/41259" target="_top">Bug#41259</a>)</p></li><li><p>
        In some circumstances the agent/proxy ran out of file
        descriptors, causing secondary failures. It could not recover
        from that state. The relevant part of the log file is shown
        here:
      </p><pre class="programlisting">2008-11-27 11:11:00: (critical) last message repeated 2 times
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:30: (critical) network-socket.c.292: socket(127.0.0.1:3306) failed: Too many open files (24)
2008-11-27 11:11:30: (critical) proxy-plugin.c.1532: Cannot connect, all backends are down.
2008-11-27 11:20:22: (critical) last message repeated 4 times
2008-11-27 11:20:22: (critical) network-io.c:215:
curl_easy_perform('https://user:password@merlin-dashboard:443/heartbeat') failed:
SSL connection timeout (curl-error = 'Timeout was reached' (28), os-error = 'Connection refused' (111))
</pre><p>(<a href="http://bugs.mysql.com/41068" target="_top">Bug#41068</a>)</p></li><li><p>
        If an installation of Service Manager 2.0.0.7102 included a
        <code class="filename">backup</code> directory, due to a previous
        upgrade, and was upgraded using at least Service Manager
        2.0.0.7103, then the installer displayed an error message and
        exited.
      </p><p>
        The error message displayed was:
      </p><pre class="programlisting">There has been an error.
Error renaming /Applications/mysql/enterprise/monitor/apache-tomcat to
/Applications/mysql/enterprise/monitor/backup/apache-tomcat
The application will exit now
</pre><p>(<a href="http://bugs.mysql.com/40996" target="_top">Bug#40996</a>)</p></li><li><p>
        The Agent started without problems and connected to the master.
        But it was unable to perform a <code class="literal">SELECT</code> from
        the table <code class="literal">mysql.inventory</code> in order to obtain
        server information.
       (<a href="http://bugs.mysql.com/40933" target="_top">Bug#40933</a>)</p></li><li><p>
        Canonical Query Text for <code class="literal">Select -1</code> was
        displayed as <code class="literal">SELECT -?</code> instead of
        <code class="literal">SELECT ?</code> on the Query Analyzer tab.
       (<a href="http://bugs.mysql.com/40435" target="_top">Bug#40435</a>)</p></li><li><p>
        The agent installer for Solaris 8 x86 32-bit was missing.
       (<a href="http://bugs.mysql.com/40248" target="_top">Bug#40248</a>)</p></li><li><p>
        The MySQL Enterprise Monitor Dashboard did not display the subscribed
        notification group(s) on the Advisor <span class="guilabel">Current
        Scheduled</span> and <span class="guilabel">Add to Schedule</span>
        pages.
       (<a href="http://bugs.mysql.com/36007" target="_top">Bug#36007</a>)</p></li><li><p>
        The startup scripts supplied with MySQL Network Monitoring and
        Advisory tool did not supply all of the LSB
        <code class="filename">init.d</code> script options required. A list of
        the required options can be found at the following website
        <a href="http://refspecs.freestandards.org/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html" target="_top">http://refspecs.freestandards.org/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html</a>
      </p><p>
        The required options missing include <code class="literal">status</code>
        and <code class="literal">force-reload</code>. The option
        <code class="literal">status</code> is used by monitoring tools and
        cluster software such as Red Hat Cluster, to ensure that the
        service is still running. The <code class="literal">force-reload</code>
        option is an alias for restart.
       (<a href="http://bugs.mysql.com/29848" target="_top">Bug#29848</a>)</p></li><li><p>
        Multiple errors showed in the agent log after issuing a
        <code class="literal">SHOW INNODB STATUS</code> statement. The
        <code class="literal">InnoDB Buffer Pool</code>graph also went blank.
       (<a href="http://bugs.mysql.com/27372" target="_top">Bug#27372</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-4"></a>C.3.3. Changes in MySQL Enterprise Monitor 2.0.4 (5th February 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.3.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Monitor Agent did not log connections to, and disconnects
        from, the monitored database.
      </p><p>
        This meant it was not possible to check if the Agent was
        connected to the database by simply looking at the log file.
       (<a href="http://bugs.mysql.com/42403" target="_top">Bug#42403</a>)</p></li><li><p>
        The Monitor Agent failed to create the
        <code class="literal">mysql.inventory</code> table. The logs displayed the
        following error message:
      </p><pre class="programlisting">(critical) (share/mysql-proxy/quan.lua:711) [proxy] please add SELECT permissions for
this user on mysql.inventory to enable the QUAN feature, got Table 'mysql.inventory'
doesn't exist</pre><p>
        This happened even though the Monitor Agent used the
        <code class="literal">root</code> account.
       (<a href="http://bugs.mysql.com/42389" target="_top">Bug#42389</a>)</p></li><li><p>
        After installing Monitor Agent 2.0.4.7138 and then starting it
        with <code class="option">--version</code>, the incorrect version was
        displayed. Although 2.0.4.7138 was installed, the Monitor Agent
        displayed the version number as 2.0.2.7138.
       (<a href="http://bugs.mysql.com/42263" target="_top">Bug#42263</a>)</p></li><li><p>
        An invalid path was shown in the error message if the upgrade
        installer failed to find the previous install location.
      </p><p>
        The error message is shown below, note that the error message
        displays a different path to that provided by the user:
      </p><pre class="programlisting">Please specify the directory that contains the previous installation of the MySQL
Enterprise Monitor Agent

Installation directory [/home/mysql/mysql/enterprise/agent]: /var/lib/mysql/agent

Warning: The directory /home/mysql/mysql/enterprise/agent does not contain a a
previous installation. Please select the right installation directory.
Press [Enter] to continue :
----------------------------------------------------------------------------
Please specify the directory that contains the previous installation of the MySQL
Enterprise Monitor Agent</pre><p>(<a href="http://bugs.mysql.com/42200" target="_top">Bug#42200</a>)</p></li><li><p>
        The agent password error in the Service Manager did not log the
        originating host, making it impossible to determine the agent
        that failed to log in:
      </p><pre class="programlisting">ErrorJan 5, 2009 4:56:08 PM&lt;?xml version='1.0'?&gt;&lt;exceptions&gt;&lt;error&gt;&lt;![CDATA[E1702:
IncorrectPasswordException: [agent]]]&gt;&lt;/error&gt;&lt;/exceptions&gt;</pre><p>(<a href="http://bugs.mysql.com/42139" target="_top">Bug#42139</a>)</p></li><li><p>
        The Service Manager's JDBC connections did not have
        <code class="literal">sql_mode</code> set to include
        <code class="literal">NO_ENGINE_SUBSTITUTION</code>. This resulted in the
        failure of Data Definition Language (DDL) if the Service Manager
        was inadvertently pointed to an incorrect
        <code class="literal">mysqld</code> instance.
       (<a href="http://bugs.mysql.com/42137" target="_top">Bug#42137</a>)</p></li><li><p>
        A number of Advisor rules had advice text that had not been
        translated into Japanese. The Advisors that contained
        untranslated rules included Performance, Schema and Security.
       (<a href="http://bugs.mysql.com/42067" target="_top">Bug#42067</a>)</p></li><li><p>
        Monitor Agent configuration files had global read privileges on
        the filesystem.
       (<a href="http://bugs.mysql.com/41794" target="_top">Bug#41794</a>)</p></li><li><p>
        When the log files rotated to the maximum allowed by the
        <code class="literal">log4j</code> configuration, the metadata contained
        in the <code class="literal">FileAppender</code> became out of
        synchronization due to a logic bug. This caused an assertion
        error on any subsequent request for the logs tab or data.
       (<a href="http://bugs.mysql.com/41593" target="_top">Bug#41593</a>)</p></li><li><p>
        SNMP trap messages were sending 127.0.0.1 as the IP address, and
        there was no feature to allow the user to configure the IP
        address contained in the SNMP message, which would have been
        useful for troubleshooting.
       (<a href="http://bugs.mysql.com/41361" target="_top">Bug#41361</a>)</p></li><li><p>
        On all available test systems, including SUSE Linux Enterprise
        Server (SLES) 9 and 10 x86-32, x86-64, IA64, and Ubuntu 6.10
        x86-64, the agent memory grew incrementally within ~3 hours to
        ~25M.
      </p><p>
        The agents then switched to the 'red' condition on the dashboard
        and no more data was reported. The agent processes were still
        alive.
      </p><p>
        This was also present in MySQL Enterprise Monitor version
        2.0.0.7111 on Suse 7.3, with the glibc2.2 x86 agent.
      </p><p>
        There was no load on the monitored servers, and the problem also
        occurred when the “<span class="quote">self-quan</span>” was not configured.
       (<a href="http://bugs.mysql.com/41244" target="_top">Bug#41244</a>)</p></li><li><p>
        Although the <span class="guilabel">Monitor</span> tab loaded initially,
        after a 64-bit MySQL server running a 32-bit MySQL Monitor Agent
        was clicked, a Null Pointer Exception was generated.
       (<a href="http://bugs.mysql.com/41164" target="_top">Bug#41164</a>)</p></li><li><p>
        The Monitor Agent startup configuration did not seem to work and
        did not generate a log file.
       (<a href="http://bugs.mysql.com/40583" target="_top">Bug#40583</a>)</p></li><li><p>
        An error generated by a rule failed to clear.
      </p><p>
        When a rule was created with the
        <code class="literal">os:disk:fs_used</code> data item, if the instance
        was not a valid mount point then the Monitor Agent reported the
        error:
      </p><pre class="programlisting">2008-08-11 17:57:00: (critical) disk-get failed for all: 2</pre><p>
        Note the above instance was for “<span class="quote">all</span>”, and similar
        results occurred for instance “<span class="quote">disk</span>”.
      </p><p>
        The issue was that upon editing the rule, or even deleting the
        rule, the agent still showed the above error type. Restarting
        the agent and the monitoring service failed to remove the error.
       (<a href="http://bugs.mysql.com/38709" target="_top">Bug#38709</a>)</p></li><li><p>
        If the “<span class="quote">On Save send test trap</span>” checkbox was
        checked when the <span class="guibutton">Save</span> button was clicked
        and the locale was set to Japanese, an error occurred. The
        orange error banner was displayed at the top of the page with
        the error message in Japanese.
       (<a href="http://bugs.mysql.com/32069" target="_top">Bug#32069</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-3"></a>C.3.4. Changes in MySQL Enterprise Monitor 2.0.3 (23rd January 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.2.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Monitor Agent failed to connect to the server, and no error
        message was displayed in the log file.
      </p><p>
        However, when the log verbosity level was set to
        <code class="literal">message</code>, the following message was recorded:
      </p><pre class="programlisting">2009-01-12 13:34:43: (warning) agent_mysqld.c:600: agent connecting to mysql-server
failed: mysql_real_connect(host = '127.0.0.1', port = 3306, socket = ''): Lost connection
to MySQL server at 'reading initial communication packet', system error: 0 (mysql-errno =
2013)</pre><p>(<a href="http://bugs.mysql.com/42044" target="_top">Bug#42044</a>)</p></li><li><p>
        There was a mismatch between the contents of an SNMP Trap from
        MySQL Enterprise Monitor and the definition given in the file
        <code class="filename">MONITOR.MIB</code>.
       (<a href="http://bugs.mysql.com/41912" target="_top">Bug#41912</a>)</p></li><li><p>
        If a copy was made of a standard rule, the resulting Wiki markup
        was incorrect, resulting in the display of user-interface text
        containing HTML markup.
       (<a href="http://bugs.mysql.com/41375" target="_top">Bug#41375</a>)</p></li><li><p>
        Allowing the heat chart rules to be set to unscheduled caused
        the user interface to appear broken.
       (<a href="http://bugs.mysql.com/41312" target="_top">Bug#41312</a>)</p></li><li><p>
        When a custom rule requiring disk information was created, for
        example:
      </p><pre class="programlisting">[Expression]
%disk_reads% &gt; THRESHOLD

[Thresholds]
Critical Alert: 9000
Warning Alert: 3000
Info Alert: 1000

[Variable Assignment]
variables: %disk_reads%
Data Item: os:disk:disk_reads
Instance: /</pre><p>
        The following error was written to the file
        <code class="filename">mysql-service-agent.log</code>:
      </p><pre class="programlisting">2007-09-05 17:11:00: (critical) disk-get failed for c0d0p1: 2</pre><p>
        It therefore appeared that the Monitor Agent was not able to
        obtain the required information.
       (<a href="http://bugs.mysql.com/30820" target="_top">Bug#30820</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-2"></a>C.3.5. Changes in MySQL Enterprise Monitor 2.0.2 (14th January 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.1.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <span class="guibutton">Complete Setup</span> button was missing
        from the <span class="guilabel">Setup</span> page you were taken to after
        the current subscription expired.
       (<a href="http://bugs.mysql.com/41685" target="_top">Bug#41685</a>)</p></li><li><p>
        If the <code class="literal">host-id</code> of the monitored instance and
        the <code class="literal">host-id</code> of the current agent did not
        match, the agent generated the following error message:
      </p><pre class="programlisting">Please TRUNCATE TABLE mysql.inventory on this mysql-instance and restart the agent.</pre><p>
        However, it did not suggest using <code class="literal">sql_log_bin =
        0</code>. This is used for all other actions against this
        table so that they are not replicated to slaves, each of which
        has their own copy of this table.
       (<a href="http://bugs.mysql.com/41673" target="_top">Bug#41673</a>)</p></li><li><p>
        The Agent did not start up when the monitored server had many
        databases and tables, and was under heavy load. This was because
        the <code class="literal">trigger_schema</code> query was taking too long
        on agent start up.
       (<a href="http://bugs.mysql.com/41555" target="_top">Bug#41555</a>)</p></li><li><p>
        The Monitor Agent failed to install on Solaris 10 x86. The
        following error was generated:
      </p><pre class="programlisting">Installing
0% ______________ 50% ______________ 100%
########################################
Warning: Problem running post-install step.
Installation may not complete correctly
Error running /usr/local/mysqlagent/bin/mysql-monitor-agent
--defaults-file=/usr/local/mysqlagent/etc/mysql-monitor-agent.ini
--plugins=agent --agent-generate-uuid=true : 2008-12-12 13:06:02: (critical)
Conversion from character set '646' to 'UTF-8' is not supported
2008-12-12 13:06:02: (message) shutting down normally</pre><p>(<a href="http://bugs.mysql.com/41445" target="_top">Bug#41445</a>)</p></li><li><p>
        The console/stdout appender remained in the log4j configuration,
        which meant that all the MySQL Enterprise Monitor server logs
        were duplicated to Catalina's stdout, and thus
        <code class="filename">catalina.out</code>, which was wasteful,
        especially as that file was not rotated or managed.
       (<a href="http://bugs.mysql.com/41439" target="_top">Bug#41439</a>)</p></li><li><p>
        When creating new multiple user accounts, the first attempt
        worked fine. However, following attempts to create new users did
        not show the <span class="guilabel">Query Analyzer Options</span> in the
        <span class="guilabel">Create User</span> popup until the role field was
        changed.
       (<a href="http://bugs.mysql.com/41430" target="_top">Bug#41430</a>)</p></li><li><p>
        When login privileges were required the Service Manager did not
        redirect the user to the login page. This resulted in error
        messages being displayed rather than simply redirecting the user
        to the login page. This problem typically occurred if it was
        necessary to restart Tomcat.
       (<a href="http://bugs.mysql.com/41320" target="_top">Bug#41320</a>)</p></li><li><p>
        The monitor 2.0.0.7105 and 2.0.0.7122 Solaris Intel update
        installer quits unexpectedly. The installer exits from the GUI
        in the <span class="guilabel">Backup of Previous Installation</span>
        screen, when OpenSolaris is running on top of Sun xVM.
      </p><p>
        The console output for both installer versions is given below:
      </p><pre class="programlisting">shell&gt; ./mysqlmonitor-2.0.0.7105-solaris-intel-update-installer.bin
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  73 (X_GetImage)
  Serial number of failed request:  21161
  Current serial number in output stream:  21161</pre><pre class="programlisting">shell&gt; ./mysqlmonitor-2.0.0.7122-solaris-intel-update-installer.bin
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  73 (X_GetImage)
  Serial number of failed request:  21148
  Current serial number in output stream:  21148</pre><p>(<a href="http://bugs.mysql.com/41315" target="_top">Bug#41315</a>)</p></li><li><p>
        The <span class="guilabel">Rename Group</span> function failed if the new
        group name was different to the current one only in the case
        used; for example, if “<span class="quote">Merlin</span>” was changed to
        “<span class="quote">MERLIN</span>”.
      </p><p>
        The error generated was:
      </p><pre class="programlisting">U0105 This group name is already in use. Enter a different name.</pre><p>(<a href="http://bugs.mysql.com/41266" target="_top">Bug#41266</a>)</p></li><li><p>
        The Agent returned an inventory list of all databases and
        tables. This information was not used by MySQL Enterprise
        Monitor, other than to populate the
        <code class="literal">inv_databases</code> and
        <code class="literal">inv_tables</code> tables. For large-scale
        deployments, where there were many databases and tables, this
        resulted in redundant XML messages being sent from the Agent to
        the Service Manager.
       (<a href="http://bugs.mysql.com/33150" target="_top">Bug#33150</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-1"></a>C.3.6. Changes in MySQL Enterprise Monitor 2.0.1 (15th December 2008)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.0.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Having an installation with over 420 master binlogs resulted in
        the <code class="literal">mysql::status</code> graph not being plotted.
       (<a href="http://bugs.mysql.com/41314" target="_top">Bug#41314</a>)</p></li><li><p>
        The MySQL Enterprise Monitor installer generated a segfault on
        RedHat Fedora 10:
      </p><pre class="programlisting">shell&gt; ./mysqlmonitor-2.0.0.7105-linux-x86-installer.bin
Segmentation fault</pre><p>(<a href="http://bugs.mysql.com/41196" target="_top">Bug#41196</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-0"></a>C.3.7. Changes in MySQL Enterprise Monitor 2.0.0 (11th December 2008)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 1.3.3.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The <code class="literal">server-name</code> configuration parameter is
        deprecated. For compatibility, during an upgrade, the
        information will be migrated to a <code class="literal">displayname</code>
        configuration parameter within the individual instance
        configuration files. This configuration parameter is provided
        only for compatibility, as display name information is now
        stored within the main repository. Support for
        <code class="literal">displayname</code> is also deprecated and will be
        removed in a future release.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        The rules “<span class="quote">32-Bit Binary Running on 64-Bit AMD Or Intel
        System</span>” and “<span class="quote">Key Buffer Size Greater Than 4
        GB</span>” occasionally do not evaluate correctly due to timing
        issues. This causes them to be displayed with the
        <span class="guilabel">Severity</span> level of “<span class="quote">Unknown</span>”.
        This is a known issue and will be resolved in future versions of
        MySQL Enterprise Monitor.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        When you start the Merlin 2.0 agent from the command line on
        Windows, you get the following error dialog:
      </p><pre class="programlisting">"mysql-proxy.exe - Entry Point Not Found"
"The procedure entry point libiconv_set_relocation_prefix could not be located in the
dynamic link library iconv.dll"</pre><p>
        If you click <span class="guibutton">OK</span> the agent works fine
        after that.
      </p><p>
        This only occurs when starting the agent from the command line,
        and only when there is another version of one of the DLLs that
        the agent uses somewhere on the current path. This error can be
        avoided by opening a command prompt, typing <code class="literal">SET
        PATH=</code> to clear the path, and then starting the agent.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        If you are monitoring one instance of MySQL server (mysqld) and
        then upgrade that MySQL server, the correct version of the MySQL
        server is not displayed in the Dashboard. This is a known issue
        that will be fixed in future versions of MySQL Enterprise
        Monitor.
      </p></li><li><p>
        The following has been added to the Tomcat
        <code class="filename">config.properties</code> properties file:
      </p><pre class="programlisting">     # max connections in the pool for the repository
     default.maxActive=70
</pre><p>(<a href="http://bugs.mysql.com/40652" target="_top">Bug#40652</a>)</p></li><li><p>
        The dashboard could be used to change the agent password to one
        containing the <code class="literal">@</code> character, or other special
        characters, which subsequently caused errors. To fix this
        problem, special characters in passwords are now prevented by
        the dashboard. The list of disallowed special characters can be
        found at the following location:
        <a href="http://en.wikipedia.org/wiki/Percent-encoding#Types_of_URI_characters" target="_top">http://en.wikipedia.org/wiki/Percent-encoding#Types_of_URI_characters</a>
       (<a href="http://bugs.mysql.com/37172" target="_top">Bug#37172</a>)</p></li><li><p>
        The <span class="guilabel">Query Analysis</span> page was missing the
        <span class="guilabel">Refresh</span> dropdown control that the
        <span class="guilabel">Monitor</span>, <span class="guilabel">Events</span>, and
        <span class="guilabel">Graphs</span> pages had at the top.
       (<a href="http://bugs.mysql.com/36831" target="_top">Bug#36831</a>)</p></li><li><p>
        The User Interface only returned error strings, without any
        associated error codes. This meant that if the error string was
        in a language that the user did not understand, it would be very
        difficult to determine which error actually occurred.
      </p><p>
        The User Interface now supports error codes, as well as error
        strings. This change allows easier testing of multiple locales.
       (<a href="http://bugs.mysql.com/32131" target="_top">Bug#32131</a>)</p></li><li><p>
        The wording was changed on the fading popup subscription alert.
        The text “<span class="quote">account</span>” was changed to
        “<span class="quote">subscription</span>”.
       (<a href="http://bugs.mysql.com/31492" target="_top">Bug#31492</a>)</p></li><li><p>
        The alert thresholds for the Query Cache Advisor were changed:
      </p><p>
        </p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th> </th><th>Information

                </th><th>Warning

                </th><th>Critical

                </th></tr></thead><tbody><tr><td>From</td><td>
                  95
                </td><td>
                  85
                </td><td>
                  75
                </td></tr><tr><td>To</td><td>
                  60
                </td><td>
                  50
                </td><td>
                  40
                </td></tr></tbody></table></div><p>
       (<a href="http://bugs.mysql.com/30969" target="_top">Bug#30969</a>)</p></li><li><p>
        The agent log file name has changed from
        <code class="filename">mysql-service-agent.log</code> to
        <code class="filename">mysql-monitor-agent.log</code>. The old log file
        will be retained during a upgrade install.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Starting a new agent against an instance that contained many
        databases broke up the initial discovery packet, causing
        collections such as CPU usage and their graphs to fail. See also
        <a href="http://bugs.mysql.com/33150" target="_top">Bug#33150</a> and <a href="http://bugs.mysql.com/41314" target="_top">Bug#41314</a>.
       (<a href="http://bugs.mysql.com/41933" target="_top">Bug#41933</a>)</p></li><li><p>
        When altering an existing rule you had to add an empty string,
        <code class="literal">""</code>, to any threshold level that was empty.
        Otherwise, the rule failed to run and the resulting exceptions
        caused the <span class="guilabel">Events</span> page to be unusable due
        to duplicate key exceptions.
       (<a href="http://bugs.mysql.com/41310" target="_top">Bug#41310</a>)</p></li><li><p>
        After installing the 2.0.0.7119 Dashboard the following error
        was generated in the logs:
      </p><pre class="programlisting">com.opensymphony.xwork2.util.OgnlValueStack  Warning  Dec 5, 2008 10:41:26 AM  Caught
an Ognl exception while getting property titleAddition</pre><p>(<a href="http://bugs.mysql.com/41252" target="_top">Bug#41252</a>)</p></li><li><p>
        The <code class="literal">dc_ng_long_now</code> table became very large
        partly due to an unused column <code class="literal">begin_time</code>.
       (<a href="http://bugs.mysql.com/41093" target="_top">Bug#41093</a>)</p></li><li><p>
        Although there was a unique constraint on the user name, it was
        not enforced during first-time setup. This resulted in a stack
        trace being produced, rather than a more user-friendly error
        message, if the same name was used for the
        <code class="literal">admin</code> and <code class="literal">agent</code> accounts.
       (<a href="http://bugs.mysql.com/40870" target="_top">Bug#40870</a>)</p></li><li><p>
        MySQL Enterprise Monitor server had stopped sending up/down SNMP
        traps.
       (<a href="http://bugs.mysql.com/40861" target="_top">Bug#40861</a>)</p></li><li><p>
        The Query Analyzer's <span class="guilabel">Explain Query</span> tab did
        not have pop up text or a link to the documentation regarding
        <code class="literal">SELECT</code> queries.
       (<a href="http://bugs.mysql.com/40841" target="_top">Bug#40841</a>)</p></li><li><p>
        When you tried to import a Trial-level advisor JAR using a Trial
        user account, one of the following error messages was generated:
      </p><pre class="programlisting">U0009 The uploaded Advisor jar was invalid</pre><pre class="programlisting">U0161 Please import a Platinum level Advisor .jar to use with this Platinum level product key</pre><p>(<a href="http://bugs.mysql.com/40834" target="_top">Bug#40834</a>)</p></li><li><p>
        Meta Info on the Dashboard did not display information for the
        meta data <code class="literal">os_description</code>.
       (<a href="http://bugs.mysql.com/40830" target="_top">Bug#40830</a>)</p></li><li><p>
        Attempting to create an alias of statements such as
        <code class="literal">COMMIT</code>, <code class="literal">ROLLBACK</code>,
        <code class="literal">BEGIN</code>, resulted in the error:
      </p><pre class="programlisting">Can't find template commitTnx.st; group hierarchy is [HTMLFormatting]
org.antlr.stringtemplate.StringTemplateGroup.lookupTemplate(StringTemplateGroup.java:507)
</pre><p>(<a href="http://bugs.mysql.com/40736" target="_top">Bug#40736</a>)</p></li><li><p>
        Trying to upgrade from 2.0.0.7088 to 2.0.0.7092 failed as there
        was a missing file. When the update program
        <code class="filename">mysqlmonitor-2.0.0.7092-solaris-intel-update-installer.bin</code>
        was run, the file
        <code class="filename">/tmp/com/mysql/merlin/server/version.props</code>
        could not be found.
       (<a href="http://bugs.mysql.com/40692" target="_top">Bug#40692</a>)</p></li><li><p>
        On OS X with Java 1.5, Tomcat crashed on launch with the error:
      </p><pre class="programlisting">Invalid memory access of location 00000007 eip=013df179
</pre><p>(<a href="http://bugs.mysql.com/40689" target="_top">Bug#40689</a>)</p></li><li><p>
        When the agent was installed using the command line installer
        and <code class="option">--enableproxy 0</code> was specified, the
        installer should have removed <code class="filename">quan.lua</code> from
        the <code class="option">agent-item-files</code> option in the INI file.
       (<a href="http://bugs.mysql.com/40551" target="_top">Bug#40551</a>)</p></li><li><p>
        The Agent could not connect to a database with the
        <code class="literal">hostname</code> set to <code class="literal">localhost</code>.
        Doing so resulted in the error:
      </p><pre class="programlisting">(critical) the MySQL server could not be reached at socket '(null)', we will check in 10 seconds
</pre><p>(<a href="http://bugs.mysql.com/40530" target="_top">Bug#40530</a>)</p></li><li><p>
        The update installer for the 2.0 Monitor did not have an
        <span class="guilabel">Is SSL support required?</span> checkbox.
        Therefore, the appropriate SSL connector definition was
        commented out in the <code class="filename">conf/server.xml</code> file.
       (<a href="http://bugs.mysql.com/40414" target="_top">Bug#40414</a>)</p></li><li><p>
        The Service Manager installer did not uninstall or wipe out the
        previous installation if you answered “<span class="quote">Yes</span>” to the
        question:
      </p><p>
        “<span class="quote">The directory you selected already contains a MySQL
        installation. If you continue installation all data will be
        lost. Do you wish to continue?</span>”
       (<a href="http://bugs.mysql.com/40410" target="_top">Bug#40410</a>)</p></li><li><p>
        If you unchecked the <span class="guilabel">Enable Proxy</span> checkbox
        on the <span class="guilabel">Query Analysis Configuration</span> screen,
        the agent's INI file still contained proxy configuration data
        and was not commented out.
       (<a href="http://bugs.mysql.com/40272" target="_top">Bug#40272</a>)</p></li><li><p>
        As different queries were sent through the agent it used
        increasing amounts of memory.
       (<a href="http://bugs.mysql.com/40260" target="_top">Bug#40260</a>)</p></li><li><p>
        The Service Manager installer set the Java Virtual Machine
        option <code class="literal">HeapDumpPath</code> to
        <code class="filename">&lt;install_root&gt;\temp</code> on Windows and
        <code class="filename">/tmp</code> on other platforms. For consistency
        the <code class="literal">HeapDumpPath</code> directory should have been
        set to <code class="filename">&lt;install_root&gt;\tmp</code> on Windows.
       (<a href="http://bugs.mysql.com/40215" target="_top">Bug#40215</a>)</p></li><li><p>
        When using the command line agent setup program, a socket file
        was not accepted for the monitored instance.
       (<a href="http://bugs.mysql.com/40085" target="_top">Bug#40085</a>)</p></li><li><p>
        The language option when installing the MySQL Enterprise Monitor in Japanese
        using the command-line instllaer has been changed from
        <code class="literal">jp</code> to <code class="literal">ja</code>.
       (<a href="http://bugs.mysql.com/40082" target="_top">Bug#40082</a>)</p></li><li><p>
        When monitoring MySQL 5.1.24 and above, the user used by the
        agent to connect to the MySQL server for monitoring must have
        the <code class="literal">PROCESS</code> privilege.
       (<a href="http://bugs.mysql.com/40050" target="_top">Bug#40050</a>)</p></li><li><p>
        The check box option string “<span class="quote">Is SSL support
        required?</span>”, on the Tomcat Server Option dialog of the
        Monitor installation, was not correctly translated into
        Japanese.
       (<a href="http://bugs.mysql.com/39814" target="_top">Bug#39814</a>)</p></li><li><p>
        The base application directory for the MySQL Enterprise Dashboard has been
        updated from <code class="literal">http://localhost:18080/merlin</code> to
        <code class="literal">http://localhost:18080/</code>.
       (<a href="http://bugs.mysql.com/39403" target="_top">Bug#39403</a>)</p></li><li><p>
        If the Service Manager or the MySQL Server running the
        Repository crashed, they did not restart automatically.
       (<a href="http://bugs.mysql.com/39377" target="_top">Bug#39377</a>)</p></li><li><p>
        If the agent crashed, there was no watchdog, angel or keep-alive
        mechanism to restart the agent and keep it running.
       (<a href="http://bugs.mysql.com/39374" target="_top">Bug#39374</a>)</p></li><li><p>
        If the MySQL client libraries were located in a nonstandard
        location, the agent 2.0.0.7042 installer failed with a
        “<span class="quote">library not found</span>” error.
       (<a href="http://bugs.mysql.com/39317" target="_top">Bug#39317</a>)</p></li><li><p>
        For the rule “<span class="quote">Server-Enforced Data Integrity Checking Not
        Strict</span>”, the Recommended Action did not display
        correctly. It displayed as <code class="literal">SET
        sql_mode=modes</code>, rather than <code class="literal">SET
        [GLOBAL|SESSION] sql_mode=modes</code>.
       (<a href="http://bugs.mysql.com/39261" target="_top">Bug#39261</a>)</p></li><li><p>
        A query that was issued through the proxy, and that had an
        auto-explain performed on that query, did not give the correct
        response to a subsequent query of <code class="literal">SELECT
        FOUND_ROWS()</code>.
       (<a href="http://bugs.mysql.com/39223" target="_top">Bug#39223</a>)</p></li><li><p>
        It was not possible to establish a connection with the Dashboard
        using the SSL protocol (https://).
       (<a href="http://bugs.mysql.com/39198" target="_top">Bug#39198</a>)</p></li><li><p>
        When a 1.3 MySQL Enterprise Monitor installation with many rules
        scheduled was upgraded to 2.0, the upgraded installation was
        then found to have only the heat chart rules scheduled.
       (<a href="http://bugs.mysql.com/39043" target="_top">Bug#39043</a>)</p></li><li><p>
        The agent installer did not allow a second agent to be installed
        on Windows.
       (<a href="http://bugs.mysql.com/38976" target="_top">Bug#38976</a>)</p></li><li><p>
        The Dashboard incorrectly diplayed that insufficient licenses
        were available, even though sufficient licenses had been
        purchased.
       (<a href="http://bugs.mysql.com/38514" target="_top">Bug#38514</a>)</p></li><li><p>
        After running the MySQL Service Agent uninstall program, the
        file <code class="filename">/etc/init.d/mysql-service-agent</code>
        remained present on the server.
       (<a href="http://bugs.mysql.com/38490" target="_top">Bug#38490</a>)</p></li><li><p>
        The notice fader continued to display English text after you
        changed the locale to Japanese.
       (<a href="http://bugs.mysql.com/38460" target="_top">Bug#38460</a>)</p></li><li><p>
        The <span class="guilabel">Subscription Expired</span> pop-up window
        referred to the “<span class="quote">Global Preferences</span>” page, instead
        of the “<span class="quote">Global Settings</span>” page.
       (<a href="http://bugs.mysql.com/38358" target="_top">Bug#38358</a>)</p></li><li><p>
        An inappropriate time zone was used to parse user-entered date
        and time strings.
       (<a href="http://bugs.mysql.com/38323" target="_top">Bug#38323</a>)</p></li><li><p>
        A sigar network stats error was generated on the Solaris
        platform:
      </p><pre class="programlisting"># /opt/mysql/enterprise/agent/bin/mysql-service-agent --version
MySQL Service Agent - 1.2.0.7879, (glib lib=2.8.5, headers=2.8.5)

SunOS mysqlprd01 5.10 Generic_127127-11 sun4v sparc SUNW,T5240

2008-07-21 10:07:24: (critical) sigar_net_interface_config_primary_get() failed: 6
2008-07-21 10:08:00: (critical) sigar_net_interface_config_primary_get() failed: 6

# /opt/mysql/enterprise/agent/bin/sigar-test-all &gt;/tmp/test.txt
sigar_net_interface_stat_get(e1000g0:2) failed#</pre><p>(<a href="http://bugs.mysql.com/38302" target="_top">Bug#38302</a>)</p></li><li><p>
        After deleting a server from the <span class="guilabel">Settings</span>,
        <span class="guilabel">Manage Servers</span> tab, at the very bottom of
        the page the <span class="guilabel">Monitoring x instances on x
        host</span> values did not reflect the deletion.
       (<a href="http://bugs.mysql.com/38225" target="_top">Bug#38225</a>)</p></li><li><p>
        The MySQL Enterprise Monitor alert “<span class="quote">INFO Alert - Users Can
        View All Databases On MySQL Server (v 1.5 *)</span>” from the
        Security advisor was incorrect. This is because the default
        server behavior allows users to see databases for which they
        have privileges, not “<span class="quote">all databases on server</span>” as
        suggested by the alert.
       (<a href="http://bugs.mysql.com/38052" target="_top">Bug#38052</a>)</p></li><li><p>
        The “<span class="quote">Maximum Connection Limit Nearing Or Reached</span>”
        advisor did not generate a new Critical Alert event when there
        was an open info success event.
       (<a href="http://bugs.mysql.com/37816" target="_top">Bug#37816</a>)</p></li><li><p>
        The Linux IA64 installer appeared to crash. The installer
        appeared to crash on RH4_IA64 if called with option "--version":
      </p><pre class="programlisting">-------------------------------------------------------------------------------
&lt;INSTALLER&gt; --version
mysqlmonitorage(30704): unaligned access to 0x6000000000a8413c, ip=0x2000000003ddd5f0
mysqlmonitorage(30704): unaligned access to 0x6000000000a84144, ip=0x2000000003ddd5f1
mysqlmonitorage(30704): unaligned access to 0x6000000000a8414c, ip=0x2000000003ddd600
mysqlmonitorage(30704): unaligned access to 0x6000000000a84154, ip=0x2000000003ddd601
MySQL Enterprise Monitor Agent 0.7.0.1737 --- Built on 2008-06-25 19:31:53

-------------------------------------------------------------------------------</pre><p>
        However, this warning is harmless and will not impact the
        operation of the agent.
       (<a href="http://bugs.mysql.com/37496" target="_top">Bug#37496</a>)</p></li><li><p>
        If the log-level option in the agent configuration file was set
        to an unknown level by mistake, the <code class="literal">init.d</code>
        script appeared to enter an infinite loop.
       (<a href="http://bugs.mysql.com/37108" target="_top">Bug#37108</a>)</p></li><li><p>
        Malformatted server meta information appeared on the Dashboard;
        <span class="guilabel">RAM</span> and <span class="guilabel">Disk Space</span>
        appeared under the <span class="guilabel">CPU</span> category.
       (<a href="http://bugs.mysql.com/36740" target="_top">Bug#36740</a>)</p></li><li><p>
        A “<span class="quote">rename</span>” link incorrectly appeared next to the
        <span class="guilabel">Upgrade</span> category on the <span class="guilabel">Manage
        Rules</span> page.
       (<a href="http://bugs.mysql.com/36584" target="_top">Bug#36584</a>)</p></li><li><p>
        In the case where exceptions were passed through to the User
        Interface, the substituted arguments in the message contained
        developer-only information.
       (<a href="http://bugs.mysql.com/36580" target="_top">Bug#36580</a>)</p></li><li><p>
        <span class="guilabel">Agent Version</span>, <span class="guilabel">Last MySQL
        Contact</span>, <span class="guilabel">OS Info</span>, <span class="guilabel">CPU
        Info</span>, and <span class="guilabel">IP Addresses</span> were all
        blank on the dashboard when the agent for the selected server
        was not functioning.
       (<a href="http://bugs.mysql.com/36301" target="_top">Bug#36301</a>)</p></li><li><p>
        <span><strong class="command">mysql-monitor-agent</strong></span> became confused by the
        <code class="filename">.DS_Store</code> files that are created on Mac OS
        X.
       (<a href="http://bugs.mysql.com/36216" target="_top">Bug#36216</a>)</p></li><li><p>
        The rule “<span class="quote">Key Buffer Size Greater Than 4 GB</span>”
        incorrectly triggered the following alert:
      </p><p>
        <span class="errortext">CRITICAL Alert - Key Buffer Size Greater Than 4
        GB</span>
      </p><p>
        However, on non-Windows systems, a key buffer size greater than
        4 GB is supported.
       (<a href="http://bugs.mysql.com/36143" target="_top">Bug#36143</a>)</p></li><li><p>
        Since the repository database for MySQL Enterprise Monitor uses
        InnoDB there was no way to reduce the size of the data files
        after an old log/event data purge operation. Further, the purge
        data operation executed once per day, and had no option to
        trigger the purge operation manually.
       (<a href="http://bugs.mysql.com/35971" target="_top">Bug#35971</a>)</p></li><li><p>
        On the Graphs page, if all graphs were expanded, then the Time
        Display interval updated, the page was refreshed with the
        <span class="guibutton">Expand All</span> button displayed, even though
        all the graphs were already expanded.
       (<a href="http://bugs.mysql.com/35917" target="_top">Bug#35917</a>, <a href="http://bugs.mysql.com/35133" target="_top">Bug#35133</a>)</p></li><li><p>
        The Meta Info area of the Monitor page incorrectly reported the
        operating system version number for the MySQL version.
       (<a href="http://bugs.mysql.com/35836" target="_top">Bug#35836</a>)</p></li><li><p>
        The rule “<span class="quote">XA Distributed Transaction Support Enabled For
        InnoDB</span>” incorrectly sent a warning when the binary log
        was on.
       (<a href="http://bugs.mysql.com/35786" target="_top">Bug#35786</a>)</p></li><li><p>
        On the Monitor page, the time displayed for <code class="literal">Last MySQL
        Contact</code> lagged behind that for <code class="literal">Last Agent
        Contact</code> by a large amount.
       (<a href="http://bugs.mysql.com/35774" target="_top">Bug#35774</a>)</p></li><li><p>
        MySQL Enterprise Monitor did not update replication settings
        correctly. After a slave became the master, the Adviser still
        referred to it as a slave.
       (<a href="http://bugs.mysql.com/35771" target="_top">Bug#35771</a>)</p></li><li><p>
        The Adviser email suggested using the
        <code class="literal">--log-queries-not-using-indexes</code> option.
        However, this option is not available in MySQL Server versions
        prior to 4.1.
       (<a href="http://bugs.mysql.com/35770" target="_top">Bug#35770</a>)</p></li><li><p>
        Thumbnail graphs did not update properly after a time zone
        change.
       (<a href="http://bugs.mysql.com/35756" target="_top">Bug#35756</a>)</p></li><li><p>
        If a system had a global <code class="literal">wait_timeout</code> lower
        than the general activity of the agent, the agent was
        disconnected. The monitored server then logged an error and
        incremented <code class="literal">Aborted_clients</code>.
       (<a href="http://bugs.mysql.com/35648" target="_top">Bug#35648</a>)</p></li><li><p>
        Alerts fired after a blackout period based on data collections
        that happened during the blackout.
       (<a href="http://bugs.mysql.com/35617" target="_top">Bug#35617</a>)</p></li><li><p>
        The translation of the <span class="guibutton">Add Row</span> button on
        the Rule Definition window was incorrect.
       (<a href="http://bugs.mysql.com/35495" target="_top">Bug#35495</a>)</p></li><li><p>
        An uninstallation message asked about removing Apache files,
        even though Apache is no longer used.
       (<a href="http://bugs.mysql.com/35154" target="_top">Bug#35154</a>)</p></li><li><p>
        After updating from a previous version to the latest 1.3
        version, the <span class="guilabel">Query Cache Has Sub-Optimal Hit
        Rate</span> was still displayed in English after setting the
        locale to Japanese. Note, the rule was translated correctly if
        the full installer was used.
       (<a href="http://bugs.mysql.com/35134" target="_top">Bug#35134</a>)</p></li><li><p>
        The MySQL Enterprise Monitor uninstall dialog box had missing
        text when using the Japanese locale.
       (<a href="http://bugs.mysql.com/34982" target="_top">Bug#34982</a>)</p></li><li><p>
        Running the installer with the <code class="option">--help</code> option
        caused an incorrect message to be displayed.
       (<a href="http://bugs.mysql.com/34200" target="_top">Bug#34200</a>)</p></li><li><p>
        When using the unattended <code class="filename">unInstall</code> script
        on Linux together with the option <code class="option">--env
        deleteUserData=yes</code> the correct warning text was
        displayed. However, this text should not be displayed in
        unattended mode. Further, the option <code class="option">--env
        deleteUserData=yes</code> was not displayed by the
        <code class="option">--help</code> output.
       (<a href="http://bugs.mysql.com/34071" target="_top">Bug#34071</a>)</p></li><li><p>
        Platinum Unlimited customers sometimes received a warning
        stating incorrectly that their subscription supported zero
        hosts.
       (<a href="http://bugs.mysql.com/34010" target="_top">Bug#34010</a>)</p></li><li><p>
        Clicking on the resolution notes link for a closed event on the
        events tab showed incorrect behaviour. The popup initially
        showed the resolution notes, but when the resolution tab was
        clicked the notes disappeared and were replaced by an edit box.
       (<a href="http://bugs.mysql.com/33935" target="_top">Bug#33935</a>)</p></li><li><p>
        The status on the product information page was not translated
        when the user locale was set to Japanese.
       (<a href="http://bugs.mysql.com/32785" target="_top">Bug#32785</a>)</p></li><li><p>
        When the locale was set to Japanese, the date picker still had
        English month titles.
       (<a href="http://bugs.mysql.com/32741" target="_top">Bug#32741</a>)</p></li><li><p>
        Flashing display of a pop-up used while saving outgoing email
        settings was caused by problematic initial placement
        calculations.
       (<a href="http://bugs.mysql.com/32579" target="_top">Bug#32579</a>)</p></li><li><p>
        AIX 5.2 Agent did not work on AIX 5.3.
       (<a href="http://bugs.mysql.com/32414" target="_top">Bug#32414</a>)</p></li><li><p>
        When the First Time Setup program was run it did not prompt the
        user to allow importing an Advisor bundle.
       (<a href="http://bugs.mysql.com/32199" target="_top">Bug#32199</a>)</p></li><li><p>
        Agent on MacOSX did not read IP addresses for network interfaces
        correctly, so the monitor displayed empty host IP addresses.
       (<a href="http://bugs.mysql.com/32188" target="_top">Bug#32188</a>)</p></li><li><p>
        HTML code in queries was not escaped when reporting replication
        errors, causing the code to be rendered into the page.
       (<a href="http://bugs.mysql.com/32186" target="_top">Bug#32186</a>)</p></li><li><p>
        The First Run pop-up defaulted to English rather than to the
        locale set in the browser.
       (<a href="http://bugs.mysql.com/32129" target="_top">Bug#32129</a>)</p></li><li><p>
        The error dialog box flashed in the upper left corner before
        being positioned in the center of the screen. This error dialog
        box now opens in the center of the screen.
       (<a href="http://bugs.mysql.com/32068" target="_top">Bug#32068</a>)</p></li><li><p>
        The Events list did not take into account Daylight Time and
        Standard Time when listing events that happened during
        1:00am-1:59am. An event that occurred at 1:10am Standard Time
        was listed before an event that occurred 50 minutes before it at
        1:20am Daylight Time.
       (<a href="http://bugs.mysql.com/32016" target="_top">Bug#32016</a>)</p></li><li><p>
        The pop-up for editing log levels failed to load due to bad
        instantiation data.
       (<a href="http://bugs.mysql.com/32013" target="_top">Bug#32013</a>)</p></li><li><p>
        During the repeated hour of Daylight Savings Time (when 2am
        turns back into 1am), the graphs were not drawing data. Instead,
        there was a straight line from the point at 1:00 to the second
        1:00, which is what happens if there is no data. The repository
        did, however, have data for this hour.
       (<a href="http://bugs.mysql.com/31997" target="_top">Bug#31997</a>)</p></li><li><p>
        Only US English was supported for a locale setting. Other
        English variants are now available for the
        <code class="literal">locale</code> setting on the <code class="literal">General
        Settings</code> or the <code class="literal">User Preferences</code>
        pages.
       (<a href="http://bugs.mysql.com/31801" target="_top">Bug#31801</a>)</p></li><li><p>
        If the user locale was changed the graph cache would continue to
        display the graph in the last locale until it timed out.
       (<a href="http://bugs.mysql.com/31680" target="_top">Bug#31680</a>)</p></li><li><p>
        No init script was installed for the MySQL Network Monitoring
        Service Manager, and so it did not restart automatically on
        reboot.
       (<a href="http://bugs.mysql.com/31676" target="_top">Bug#31676</a>)</p></li><li><p>
        The graph's displayed time was not the local time of the
        Dashboard corresponding to the requested time on the monitored
        server.
       (<a href="http://bugs.mysql.com/31656" target="_top">Bug#31656</a>)</p></li><li><p>
        Saving a rule with a name that already existed resulted in a
        stack trace in the window, instead of a more user-friendly error
        message.
       (<a href="http://bugs.mysql.com/30925" target="_top">Bug#30925</a>)</p></li><li><p>
        The <code class="literal">network.mysql.com</code> error messages were
        remapped thereby causing confusion. For example, the following
        error message:
      </p><p>
        <span class="errortext">E9000: MySQL Enterprise Customer Center is having
        difficulties fetching your contract information. Please contact
        enterprise-feedback@mysql.com for assistance. </span>
      </p><p>
        Was remapped to:
      </p><p>
        <span class="errortext">Unable to connect to verify credentials</span>
       (<a href="http://bugs.mysql.com/30873" target="_top">Bug#30873</a>)</p></li><li><p>
        A newly added server showed as “<span class="quote">down</span>” in the user
        interface, and could potentially have sent a false alarm
        notification.
       (<a href="http://bugs.mysql.com/30735" target="_top">Bug#30735</a>)</p></li><li><p>
        The information on the <span class="guimenu">Advisors</span>,
        <span class="guimenu">Check For Updates</span> page did not accurately
        reflect how many rules and graphs were actually in the database
        and available to the user.
       (<a href="http://bugs.mysql.com/29623" target="_top">Bug#29623</a>)</p></li><li><p>
        The agent did not process <code class="literal">SIGHUP</code>.
       (<a href="http://bugs.mysql.com/29380" target="_top">Bug#29380</a>)</p></li><li><p>
        Monitor did not have a facility to stop or downgrade an agent
        collection frequency.
       (<a href="http://bugs.mysql.com/28589" target="_top">Bug#28589</a>)</p></li><li><p>
        After an agent installation was updated from 1.0.1.4391 to
        1.1.0.4899, the version in the <span class="guimenu">Add/Remove
        Programs</span> menu was incorrectly displayed as 1.0.1.4391,
        even though the update was successful and the file version of
        <code class="filename">agent.exe</code> was correctly displayed as
        1.1.0.4899.
       (<a href="http://bugs.mysql.com/27447" target="_top">Bug#27447</a>)</p></li><li><p>
        When viewing the <span class="guilabel">Results</span> of an
        <span class="guilabel">Event</span> in the <span class="guilabel">Events</span>
        tab of the <span class="guilabel">Dashboard</span>, the
        <span class="guilabel">Notifications</span> section did not reflect the
        <span class="guilabel">Notifications</span> settings at the time the
        <span class="guilabel">Event</span> was triggered, but rather the
        <span class="guilabel">Notifications</span> settings at the time the
        <span class="guilabel">Event Results</span> were viewed.
       (<a href="http://bugs.mysql.com/26349" target="_top">Bug#26349</a>)</p></li><li><p>
        When the Monitor Agent was remotely monitoring a MySQL server it
        incorrectly reported that it could collect operating system
        information.
       (<a href="http://bugs.mysql.com/22497" target="_top">Bug#22497</a>)</p></li><li><p>
        The Account Without Password advisor did not report all users
        who were without a password, it only reported one.
       (<a href="http://bugs.mysql.com/15165" target="_top">Bug#15165</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="connector-odbc-news"></a>C.4. MySQL Connector/ODBC (MyODBC) Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-6">C.4.1. Changes in MySQL Connector/ODBC 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-5">C.4.2. Changes in MySQL Connector/ODBC 5.1.5 (18 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-4">C.4.3. Changes in MySQL Connector/ODBC 5.1.4 (15 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-3">C.4.4. Changes in MySQL Connector/ODBC 5.1.3 (26 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-2">C.4.5. Changes in MySQL Connector/ODBC 5.1.2 (13 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-1">C.4.6. Changes in MySQL Connector/ODBC 5.1.1 (13 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-0">C.4.7. Changes in MySQL Connector/ODBC 5.1.0 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-12">C.4.8. Changes in MySQL Connector/ODBC 5.0.12 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-11">C.4.9. Changes in MySQL Connector/ODBC 5.0.11 (31 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-10">C.4.10. Changes in MySQL Connector/ODBC 5.0.10 (14 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-9">C.4.11. Changes in MySQL Connector/ODBC 5.0.9 (22 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-8">C.4.12. Changes in MySQL Connector/ODBC 5.0.8 (17 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-7">C.4.13. Changes in MySQL Connector/ODBC 5.0.7 (08 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-6">C.4.14. Changes in MySQL Connector/ODBC 5.0.6 (03 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-5">C.4.15. Changes in MySQL Connector/ODBC 5.0.5 (17 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-3">C.4.16. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-2">C.4.17. Changes in Connector/ODBC 5.0.2 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-1">C.4.18. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-27">C.4.19. Changes in MySQL Connector/ODBC 3.51.27 (20 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-26">C.4.20. Changes in MySQL Connector/ODBC 3.51.26 (07 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-25">C.4.21. Changes in MySQL Connector/ODBC 3.51.25 (11 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-24">C.4.22. Changes in MySQL Connector/ODBC 3.51.24 (14 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-23">C.4.23. Changes in MySQL Connector/ODBC 3.51.23 (09 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-22">C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-21">C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-20">C.4.26. Changes in MySQL Connector/ODBC 3.51.20 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-19">C.4.27. Changes in MySQL Connector/ODBC 3.51.19 (10 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-18">C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-17">C.4.29. Changes in MySQL Connector/ODBC 3.51.17 (14 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-16">C.4.30. Changes in MySQL Connector/ODBC 3.51.16 (14 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-15">C.4.31. Changes in MySQL Connector/ODBC 3.51.15 (07 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-14">C.4.32. Changes in MySQL Connector/ODBC 3.51.14 (08 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-13">C.4.33. Changes in MySQL Connector/ODBC 3.51.13 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-12">C.4.34. Changes in MySQL Connector/ODBC 3.51.12 (11 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-11">C.4.35. Changes in MySQL Connector/ODBC 3.51.11 (28 January 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-6"></a>C.4.1. Changes in MySQL Connector/ODBC 5.1.6 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/ODBC failed to build with MySQL 5.1.30 due to incorrect use
        of the data type <code class="literal">bool</code>.
       (<a href="http://bugs.mysql.com/42120" target="_top">Bug#42120</a>)</p></li><li><p>
        Calling <code class="literal">SQLDescribeCol()</code> with a NULL buffer
        and nonzero buffer length caused a crash.
       (<a href="http://bugs.mysql.com/41942" target="_top">Bug#41942</a>)</p></li><li><p>
        MySQL Connector/ODBC updated some fields with random values, rather than with
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/41256" target="_top">Bug#41256</a>)</p></li><li><p>
        When a column of type <code class="literal">DECIMAL</code> containing
        <code class="literal">NULL</code> was accessed, MySQL Connector/ODBC returned a 0
        rather than a <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/41081" target="_top">Bug#41081</a>)</p></li><li><p>
        Calling <code class="literal">SQLDriverConnect()</code> with a
        <code class="literal">NULL</code> pointer for the output buffer caused a
        crash if <code class="literal">SQL_DRIVER_NOPROMPT</code> was also
        specified:
      </p><pre class="programlisting">SQLDriverConnect(dbc, NULL, "DSN=myodbc5", SQL_NTS, NULL, 0, NULL, SQL_DRIVER_NOPROMPT)
</pre><p>(<a href="http://bugs.mysql.com/40316" target="_top">Bug#40316</a>)</p></li><li><p>
        Setting the ADO <code class="literal">Recordset</code> decimal field value
        to 44.56 resulted in an incorrect value of 445600.0000 being
        stored when the record set was updated with the
        <code class="literal">Update</code> method.
       (<a href="http://bugs.mysql.com/39961" target="_top">Bug#39961</a>)</p></li><li><p>
        The <code class="literal">SQLTablesW</code> API gave incorrect results.
        For example, table name and table type were returned as
        <code class="literal">NULL</code> rather than as the correct values.
       (<a href="http://bugs.mysql.com/39957" target="_top">Bug#39957</a>)</p></li><li><p>
        MyODBC would crash when a character set was being used on the
        server that was not supported in the client, for example cp1251:
      </p><pre class="programlisting">[MySQL][ODBC 5.1 Driver][mysqld-5.0.27-community-nt]Restricted data type attribute violation
</pre><p>
        The fix causes MyODBC to return an error message instead of
        crashing.
       (<a href="http://bugs.mysql.com/39831" target="_top">Bug#39831</a>)</p></li><li><p>
        When the <code class="methodname">SQLTables</code> method was called
        with <code class="literal">NULL</code> passed as the
        <code class="literal">tablename</code> parameter, only one row in the
        <code class="literal">resultset</code>, with table name of
        <code class="literal">NULL</code> was returned, instead of all tables for
        the given database.
       (<a href="http://bugs.mysql.com/39561" target="_top">Bug#39561</a>)</p></li><li><p>
        The <code class="literal">SQLGetInfo()</code> function returned 0 for
        <code class="literal">SQL_CATALOG_USAGE</code> information.
       (<a href="http://bugs.mysql.com/39560" target="_top">Bug#39560</a>)</p></li><li><p>
        MyODBC Driver 5.1.5 was not able to connect if the connection
        string parameters contained spaces or tab symbols. For example,
        if the <code class="literal">SERVER</code> parameter was specified as
        “<span class="quote">SERVER= localhost</span>” instead of
        “<span class="quote">SERVER=localhost</span>” the following error message will
        be displayed:
      </p><pre class="programlisting">[MySQL][ODBC 5.1 Driver] Unknown MySQL server host ' localhost' (11001).
</pre><p>(<a href="http://bugs.mysql.com/39085" target="_top">Bug#39085</a>)</p></li><li><p>
        The pointer passed to the
        <code class="methodname">SQLDriverConnect</code> method to retrieve the
        output connection string length was one greater than it should
        have been due to the inclusion of the NULL terminator.
       (<a href="http://bugs.mysql.com/38949" target="_top">Bug#38949</a>)</p></li><li><p>
        Data-at-execution parameters were not supported during
        positioned update. This meant updating a long text field with a
        cursor update would erroneously set the value to null. This
        would lead to the error <code class="literal">Column 'column_name' cannot be
        null</code> while updating the database, even when
        <code class="literal">column_name</code> had been assigned a valid nonnull
        string.
       (<a href="http://bugs.mysql.com/37649" target="_top">Bug#37649</a>)</p></li><li><p>
        The <code class="methodname">SQLDriverConnect</code> method truncated
        the <code class="literal">OutputConnectionString</code> parameter to 52
        characters.
       (<a href="http://bugs.mysql.com/37278" target="_top">Bug#37278</a>)</p></li><li><p>
        The connection string option <code class="literal">Enable
        Auto-reconnect</code> did not work. When the connection
        failed, it could not be restored, and the errors generated were
        the same as if the option had not been selected.
       (<a href="http://bugs.mysql.com/37179" target="_top">Bug#37179</a>)</p></li><li><p>
        Insertion of data into a <code class="literal">LONGTEXT</code> table field
        did not work. If such an attempt was made the corresponding
        field would be found to be empty on examination, or contain
        random characters.
       (<a href="http://bugs.mysql.com/36071" target="_top">Bug#36071</a>)</p></li><li><p>
        No result record was returned for
        <code class="literal">SQLGetTypeInfo</code> for the
        <code class="literal">TIMESTAMP</code> data type. An application would
        receive the result <code class="literal">return code 100
        (SQL_NO_DATA_FOUND)</code>.
       (<a href="http://bugs.mysql.com/30626" target="_top">Bug#30626</a>)</p></li><li><p>
        It was not possible to use MySQL Connector/ODBC to connect to a server using
        SSL. The following error was generated:
      </p><pre class="programlisting">Runtime error '-2147467259 (80004005)':

[MySQL][ODBC 3.51 Driver]SSL connection error.
</pre><p>(<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>)</p></li><li><p>
        When the <code class="literal">recordSet.Update</code> function was called
        to update an <code class="literal">adLongVarChar</code> field, the field
        was updated but the recordset was immediately lost. This
        happened with driver cursors, whether the cursor was opened in
        optimistic or pessimistic mode.
      </p><p>
        When the next update was called the test code would exit with
        the following error:
      </p><pre class="programlisting">-2147467259 : Query-based update failed because the row to update could not be found.
</pre><p>(<a href="http://bugs.mysql.com/26950" target="_top">Bug#26950</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-5"></a>C.4.2. Changes in MySQL Connector/ODBC 5.1.5 (18 August 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        ODBC <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> string format is
        not handled properly by the MyODBC driver. When passing a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> to MyODBC, in the ODBC
        format: {d &lt;date&gt;} or {ts &lt;timestamp&gt;}, the string
        that represents this is copied once into the SQL statement, and
        then added again, as an escaped string.
       (<a href="http://bugs.mysql.com/37342" target="_top">Bug#37342</a>)</p></li><li><p>
        The connector failed to prompt for additional information
        required to create a DSN-less connection from an application
        such as Microsoft Excel.
       (<a href="http://bugs.mysql.com/37254" target="_top">Bug#37254</a>)</p></li><li><p>
        <code class="literal">SQLDriverConnect</code> does not return
        <code class="literal">SQL_NO_DATA</code> on cancel. The ODBC documentation
        specifies that this method should return
        <code class="literal">SQL_NO_DATA</code> when the user cancels the dialog
        to connect. The connector, however, returns
        <code class="literal">SQL_ERROR</code>.
       (<a href="http://bugs.mysql.com/36293" target="_top">Bug#36293</a>)</p></li><li><p>
        Assigning a string longer than 67 characters to the
        <code class="literal">TableType</code> parameter resulted in a buffer
        overrun when the <code class="function">SQLTables()</code> function was
        called.
       (<a href="http://bugs.mysql.com/36275" target="_top">Bug#36275</a>)</p></li><li><p>
        The ODBC connector randomly uses logon information stored in
        <code class="literal">odbc-profile</code>, or prompts the user for
        connection information and ignores any settings stored in
        <code class="literal">odbc-profile</code>.
       (<a href="http://bugs.mysql.com/36203" target="_top">Bug#36203</a>)</p></li><li><p>
        After having successfully established a connection, a crash
        occurs when calling <code class="function">SQLProcedures()</code>
        followed by <code class="function">SQLFreeStmt()</code>, using the ODBC C
        API.
       (<a href="http://bugs.mysql.com/36069" target="_top">Bug#36069</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-4"></a>C.4.3. Changes in MySQL Connector/ODBC 5.1.4 (15 April 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Wrong result obtained when using <code class="function">sum()</code> on a
        <code class="literal">decimal(8,2)</code> field type.
       (<a href="http://bugs.mysql.com/35920" target="_top">Bug#35920</a>)</p></li><li><p>
        The driver installer could not create a new DSN if many other
        drivers were already installed.
       (<a href="http://bugs.mysql.com/35776" target="_top">Bug#35776</a>)</p></li><li><p>
        The <code class="function">SQLColAttribute()</code> function returned
        <code class="literal">SQL_TRUE</code> when querying the
        <code class="literal">SQL_DESC_FIXED_PREC_SCALE (SQL_COLUMN_MONEY)</code>
        attribute of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column.
        Previously, the correct value of <code class="literal">SQL_FALSE</code>
        was returned; this is now again the case.
       (<a href="http://bugs.mysql.com/35581" target="_top">Bug#35581</a>)</p></li><li><p>
        On Linux, <code class="function">SQLGetDiagRec()</code> returned
        <code class="literal">SQL_SUCCESS</code> in cases when it should have
        returned <code class="literal">SQL_NO_DATA</code>.
       (<a href="http://bugs.mysql.com/33910" target="_top">Bug#33910</a>)</p></li><li><p>
        The driver crashes ODBC Administrator on attempting to add a new
        DSN.
       (<a href="http://bugs.mysql.com/32057" target="_top">Bug#32057</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-3"></a>C.4.4. Changes in MySQL Connector/ODBC 5.1.3 (26 March 2008)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        You must uninstall previous 5.1.x editions of MySQL Connector/ODBC before
        installing the new version.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        In previous versions, the SSL certificate would automatically be
        verified when used as part of the MySQL Connector/ODBC connection. The
        default mode is now to ignore the verificate of certificates. To
        enforce verification of the SSL certificate during connection,
        use the <code class="option">SSLVERIFY</code> DSN parameter, setting the
        value to 1.
       (<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>, <a href="http://bugs.mysql.com/34648" target="_top">Bug#34648</a>)</p></li><li><p>
        Inserting characters to a UTF8 table using surrogate pairs would
        fail and insert invalid data.
       (<a href="http://bugs.mysql.com/34672" target="_top">Bug#34672</a>)</p></li><li><p>
        Installation of MySQL Connector/ODBC would fail because it was unable to
        uninstall a previous installed version. The file being requested
        would match an older release version than any installed version
        of the connector.
       (<a href="http://bugs.mysql.com/34522" target="_top">Bug#34522</a>)</p></li><li><p>
        Using <code class="literal">SqlGetData</code> in combination with
        <code class="literal">SQL_C_WCHAR</code> would return overlapping data.
       (<a href="http://bugs.mysql.com/34429" target="_top">Bug#34429</a>)</p></li><li><p>
        Descriptor records were not cleared correctly when calling
        <code class="literal">SQLFreeStmt(SQL_UNBIND)</code>.
       (<a href="http://bugs.mysql.com/34271" target="_top">Bug#34271</a>)</p></li><li><p>
        The dropdown selection for databases on a server when creating a
        DSN was too small. The list size now automatically adjusts up to
        a maximum size of 20 potential databases.
       (<a href="http://bugs.mysql.com/33918" target="_top">Bug#33918</a>)</p></li><li><p>
        Microsoft Access would be unable to use
        <code class="literal">DBEngine.RegisterDatabase</code> to create a DSN
        using the MySQL Connector/ODBC driver.
       (<a href="http://bugs.mysql.com/33825" target="_top">Bug#33825</a>)</p></li><li><p>
        MySQL Connector/ODBC erroneously reported that it supported the
        <code class="literal">CAST()</code> and <code class="literal">CONVERT()</code> ODBC
        functions for parsing values in SQL statements, which could lead
        to bad SQL generation during a query.
       (<a href="http://bugs.mysql.com/33808" target="_top">Bug#33808</a>)</p></li><li><p>
        Using a linked table in Access 2003 where the table has a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column as the first column
        in the table, and is configured as the primary key, shows
        <code class="literal">#DELETED</code> for all rows of the table.
       (<a href="http://bugs.mysql.com/24535" target="_top">Bug#24535</a>)</p></li><li><p>
        Updating a <code class="literal">RecordSet</code> when the query involves
        a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> field would fail.
       (<a href="http://bugs.mysql.com/19065" target="_top">Bug#19065</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-2"></a>C.4.5. Changes in MySQL Connector/ODBC 5.1.2 (13 February 2008)</h3></div></div></div><p>
        MySQL Connector/ODBC 5.1.2-beta, a new version of the ODBC
        driver for the MySQL database management system, has been
        released. This release is the second beta (feature-complete)
        release of the new 5.1 series and is suitable for use with any
        MySQL server version since MySQL 4.1, including MySQL 5.0, 5.1,
        and 6.0. (It will not work with 4.0 or earlier releases.)
      </p><p>
        Keep in mind that this is a beta release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of MySQL Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a>.</p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Explicit descriptors are implemented.
       (<a href="http://bugs.mysql.com/32064" target="_top">Bug#32064</a>)</p></li><li><p>
        A full implementation of SQLForeignKeys based on the information
        available from INFORMATION_SCHEMA in 5.0 and later versions of
        the server has been implemented.
      </p></li><li><p>
        Changed <code class="literal">SQL_ATTR_PARAMSET_SIZE</code> to return an
        error until support for it is implemented.
      </p></li><li><p>
        Disabled <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code>
        when using an SSL connection.
      </p></li><li><p>
        <code class="literal">SQLForeignKeys</code> uses
        <code class="literal">INFORMATION_SCHEMA</code> when it is available on
        the server, which allows more complete information to be
        returned.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="option">SSLCIPHER</code> option would be incorrectly
        recorded within the SSL configuration on Windows.
       (<a href="http://bugs.mysql.com/33897" target="_top">Bug#33897</a>)</p></li><li><p>
        Within the GUI interface, when connecting to a MySQL server on a
        nonstandard port, the connection test within the GUI would fail.
        The issue was related to incorrect parsing of numeric values
        within the DSN when the option was not configured as the last
        parameter within the DSN.
       (<a href="http://bugs.mysql.com/33822" target="_top">Bug#33822</a>)</p></li><li><p>
        Specifying a nonexistent database name within the GUI dialog
        would result in an empty list, not an error.
       (<a href="http://bugs.mysql.com/33615" target="_top">Bug#33615</a>)</p></li><li><p>
        When deleting rows from a static cursor, the cursor position
        would be incorrectly reported.
       (<a href="http://bugs.mysql.com/33388" target="_top">Bug#33388</a>)</p></li><li><p>
        <code class="function">SQLGetInfo()</code> reported characters for
        <code class="literal">SQL_SPECIAL_CHARACTERS</code> that were not encoded
        correctly.
       (<a href="http://bugs.mysql.com/33130" target="_top">Bug#33130</a>)</p></li><li><p>
        Retrieving data from a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        column would fail within <code class="literal">SQLGetData</code>when the
        target data type was <code class="literal">SQL_C_WCHAR</code> due to
        incorrect handling of the character buffer.
       (<a href="http://bugs.mysql.com/32684" target="_top">Bug#32684</a>)</p></li><li><p>
        Renaming an existing DSN entry would create a new entry with the
        new name without deleting the old entry.
       (<a href="http://bugs.mysql.com/31165" target="_top">Bug#31165</a>)</p></li><li><p>
        Reading a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column that had
        been used to store UTF8 data would result in the wrong
        information being returned during a query.
       (<a href="http://bugs.mysql.com/28617" target="_top">Bug#28617</a>)</p></li><li><p>
        <code class="literal">SQLForeignKeys</code> would return an empty string
        for the schema columns instead of <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/19923" target="_top">Bug#19923</a>)</p></li><li><p>
        When accessing column data,
        <code class="literal">FLAG_COLUMN_SIZE_S32</code> did not limit the octet
        length or display size reported for fields, causing problems
        with Microsoft Visual FoxPro.
      </p><p>
        The list of ODBC functions that could have caused failures in
        Microsoft software when retrieving the length of
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> columns includes:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColAttributes</code>
            </p></li><li><p>
              <code class="literal">SQLDescribeCol</code>
            </p></li><li><p>
              <code class="literal">SQLSpecialColumns</code> (theoretically can
              have the same problem)
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/12805" target="_top">Bug#12805</a>, <a href="http://bugs.mysql.com/30890" target="_top">Bug#30890</a>)</p></li><li><p>
        Dynamic cursors on statements with parameters were not
        supported.
       (<a href="http://bugs.mysql.com/11846" target="_top">Bug#11846</a>)</p></li><li><p>
        Evaluating a simple numeric expression when using the OLEDB for
        ODBC provider and ADO would return an error, instead of the
        result.
       (<a href="http://bugs.mysql.com/10128" target="_top">Bug#10128</a>)</p></li><li><p>
        Adding or updating a row using <code class="function">SQLSetPos()</code>
        on a result set with aliased columns would fail.
       (<a href="http://bugs.mysql.com/6157" target="_top">Bug#6157</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-1"></a>C.4.6. Changes in MySQL Connector/ODBC 5.1.1 (13 December 2007)</h3></div></div></div><p>
        MySQL Connector/ODBC 5.1.1-beta, a new version of the ODBC
        driver for the MySQL database management system, has been
        released. This release is the first beta (feature-complete)
        release of the new 5.1 series and is suitable for use with any
        MySQL server version since MySQL 4.1, including MySQL 5.0, 5.1,
        and 6.0. (It will not work with 4.0 or earlier releases.)
      </p><p>
        Keep in mind that this is a beta release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data.
      </p><p>
        Includes changes from
        <a href="news.html#connector-odbc-news-3-51-21" title="C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)">Connector/ODBC
        3.51.21</a> and
        <a href="news.html#connector-odbc-news-3-51-22" title="C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)">3.51.22</a>.
      </p><p>
        Built using MySQL 5.0.52.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of MySQL Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a>.</p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Replaced myodbc3i (now myodbc-installer) with MySQL Connector/ODBC 5.0
        version.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Removed monitor (myodbc3m) and dsn-editor (myodbc3c).
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Disallow <code class="literal">SET NAMES</code> in initial statement and
        in executed statements.
      </p></li><li><p>
        A wrapper for the
        <code class="function">SQLGetPrivateProfileStringW()</code> function,
        which is required for Unicode support, has been created. This
        function is missing from the unixODBC driver manager.
       (<a href="http://bugs.mysql.com/32685" target="_top">Bug#32685</a>)</p></li><li><p>
        Added MSI installer for Windows 64-bit.
       (<a href="http://bugs.mysql.com/31510" target="_top">Bug#31510</a>)</p></li><li><p>
        Implemented support for <code class="function">SQLCancel()</code>.
       (<a href="http://bugs.mysql.com/15601" target="_top">Bug#15601</a>)</p></li><li><p>
        Added support for <code class="literal">SQL_NUMERIC_STRUCT</code>.
       (<a href="http://bugs.mysql.com/3028" target="_top">Bug#3028</a>, <a href="http://bugs.mysql.com/24920" target="_top">Bug#24920</a>)</p></li><li><p>
        Removed nonthreadsafe configuration of the driver. The driver is
        now always built against the threadsafe version of libmysql.
      </p></li><li><p>
        Implemented native Windows setup library
      </p></li><li><p>
        Replaced the internal library which handles creation and loading
        of DSN information. The new library, which was originally a part
        of MySQL Connector/ODBC 5.0, supports Unicode option values.
      </p></li><li><p>
        The Windows installer now places files in a subdirectory of the
        <code class="filename">Program Files</code> directory instead of the
        Windows system directory.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">SET NAMES</code> statement has been disabled
        because it causes problems in the ODBC driver when determining
        the current client character set.
       (<a href="http://bugs.mysql.com/32596" target="_top">Bug#32596</a>)</p></li><li><p>
        <code class="literal">SQLDescribeColW</code> returned UTF-8 column as
        <code class="literal">SQL_VARCHAR</code> instead of
        <code class="literal">SQL_WVARCHAR</code>.
       (<a href="http://bugs.mysql.com/32161" target="_top">Bug#32161</a>)</p></li><li><p>
        ADO was unable to open record set using dynamic cursor.
       (<a href="http://bugs.mysql.com/32014" target="_top">Bug#32014</a>)</p></li><li><p>
        ADO applications would not open a <code class="literal">RecordSet</code>
        that contained a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> field.
       (<a href="http://bugs.mysql.com/31720" target="_top">Bug#31720</a>)</p></li><li><p>
        Memory usage would increase considerably.
       (<a href="http://bugs.mysql.com/31115" target="_top">Bug#31115</a>)</p></li><li><p>
        SQL statements are limited to 64KB.
       (<a href="http://bugs.mysql.com/30983" target="_top">Bug#30983</a>, <a href="http://bugs.mysql.com/30984" target="_top">Bug#30984</a>)</p></li><li><p>
        <code class="literal">SQLSetPos</code> with <code class="literal">SQL_DELETE</code>
        advances dynamic cursor incorrectly.
       (<a href="http://bugs.mysql.com/29765" target="_top">Bug#29765</a>)</p></li><li><p>
        Using an ODBC prepared statement with bound columns would
        produce an empty result set when called immediately after
        inserting a row into a table.
       (<a href="http://bugs.mysql.com/29239" target="_top">Bug#29239</a>)</p></li><li><p>
        ADO Not possible to update a client side cursor.
       (<a href="http://bugs.mysql.com/27961" target="_top">Bug#27961</a>)</p></li><li><p>
        Recordset <code class="function">Update()</code> fails when using
        <code class="literal">adUseClient</code> cursor.
       (<a href="http://bugs.mysql.com/26985" target="_top">Bug#26985</a>)</p></li><li><p>
        MySQL Connector/ODBC would fail to connect to the server if the password
        contained certain characters, including the semicolon and other
        punctuation marks.
       (<a href="http://bugs.mysql.com/16178" target="_top">Bug#16178</a>)</p></li><li><p>
        Fixed <code class="literal">SQL_ATTR_PARAM_BIND_OFFSET</code>, and fixed
        row offsets to work with updatable cursors.
      </p></li><li><p>
        <code class="function">SQLSetConnectAttr()</code> did not clear previous
        errors, possibly confusing <code class="function">SQLError()</code>.
      </p></li><li><p>
        <code class="function">SQLError()</code> incorrectly cleared the error
        information, making it unavailable from subsequent calls to
        <code class="function">SQLGetDiagRec()</code>.
      </p></li><li><p>
        NULL pointers passed to <code class="function">SQLGetInfo()</code> could
        result in a crash.
      </p></li><li><p>
        <code class="literal">SQL_ODBC_SQL_CONFORMANCE</code> was not handled by
        <code class="function">SQLGetInfo()</code>.
      </p></li><li><p>
        <code class="function">SQLCopyDesc()</code> did not correctly copy all
        records.
      </p></li><li><p>
        Diagnostics were not correctly cleared on connection and
        environment handles.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-0"></a>C.4.7. Changes in MySQL Connector/ODBC 5.1.0 (10 September 2007)</h3></div></div></div><p>
        This release is the first of the new 5.1 series and is suitable
        for use with any MySQL server version since MySQL 4.1, including
        MySQL 5.0, 5.1, and 6.0. (It will not work with 4.0 or earlier
        releases.)
      </p><p>
        Keep in mind that this is a alpha release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data. Not
        all of the features planned for the final Connector/ODBC 5.1
        release are implemented.
      </p><p>
        Functionality is based on Connector/ODBC 3.51.20.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        There are no installer packages for Microsoft Windows x64
        Edition.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of MySQL Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a>.</p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for Unicode functions
        (<code class="literal">SQLConnectW</code>, etc).
      </p></li><li><p>
        Added descriptor support (<code class="literal">SQLGetDescField</code>,
        <code class="literal">SQLGetDescRec</code>, etc).
      </p></li><li><p>
        Added support for <code class="literal">SQL_C_WCHAR</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-12"></a>C.4.8. Changes in MySQL Connector/ODBC 5.0.12 (Never released)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Development on Connector/ODBC 5.0.x has ceased. New features
          and functionality will be incorporated into Connector/ODBC
          5.1. See <a href="connectors-apis.html#connector-odbc-roadmap" title="20.1.2.1. Connector/ODBC Roadmap">Section 20.1.2.1, “Connector/ODBC Roadmap”</a>.
        </p></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Inserting <code class="literal">NULL</code> values into a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column from Access
        reports an error.
       (<a href="http://bugs.mysql.com/27896" target="_top">Bug#27896</a>)</p></li><li><p>
        Tables with <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns would be
        incorrectly identified, returning an <code class="literal">Unknown SQL type -
        65535</code> error.
       (<a href="http://bugs.mysql.com/20127" target="_top">Bug#20127</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-11"></a>C.4.9. Changes in MySQL Connector/ODBC 5.0.11 (31 January 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for ODBC v2 statement options using attributes.
      </p></li><li><p>
        Driver now builds and is partially tested under Linux with the
        iODBC driver manager.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connection string parsing for DSN-less connections could fail to
        identify some parameters.
       (<a href="http://bugs.mysql.com/25316" target="_top">Bug#25316</a>)</p></li><li><p>
        Updates of <code class="literal">MEMO</code> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns from within
        Microsoft Access would fail.
       (<a href="http://bugs.mysql.com/25263" target="_top">Bug#25263</a>)</p></li><li><p>
        Transaction support has been added and tested.
       (<a href="http://bugs.mysql.com/25045" target="_top">Bug#25045</a>)</p></li><li><p>
        Internal function, <code class="literal">my_setpos_delete_ignore()</code>
        could cause a crash.
       (<a href="http://bugs.mysql.com/22796" target="_top">Bug#22796</a>)</p></li><li><p>
        Fixed occasional mis-handling of the
        <code class="literal">SQL_NUMERIC_C</code> type.
      </p></li><li><p>
        Fixed the binding of certain integer types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-10"></a>C.4.10. Changes in MySQL Connector/ODBC 5.0.10 (14 December 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.10 is the sixth BETA release.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Significant performance improvement when retrieving large text
        fields in pieces using <code class="literal">SQLGetData()</code> with a
        buffer smaller than the whole data. Mainly used in Access when
        fetching very large text fields.
       (<a href="http://bugs.mysql.com/24876" target="_top">Bug#24876</a>)</p></li><li><p>
        Added initial unicode support in data and metadata.
       (<a href="http://bugs.mysql.com/24837" target="_top">Bug#24837</a>)</p></li><li><p>
        Added initial support for removing braces when calling stored
        procedures and retrieving result sets from procedure calls.
       (<a href="http://bugs.mysql.com/24485" target="_top">Bug#24485</a>)</p></li><li><p>
        Added loose handling of retrieving some diagnostic data.
       (<a href="http://bugs.mysql.com/15782" target="_top">Bug#15782</a>)</p></li><li><p>
        Added wide-string type info for
        <code class="literal">SQLGetTypeInfo()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Editing DSN no longer crashes ODBC data source administrator.
       (<a href="http://bugs.mysql.com/24675" target="_top">Bug#24675</a>)</p></li><li><p>
        String query parameters are new escaped correctly.
       (<a href="http://bugs.mysql.com/19078" target="_top">Bug#19078</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-9"></a>C.4.11. Changes in MySQL Connector/ODBC 5.0.9 (22 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.9 is the fifth BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for column binding as SQL_NUMBERIC_STRUCT.
      </p></li><li><p>
        Added recognition of <code class="literal">SQL_C_SHORT</code> and
        <code class="literal">SQL_C_TINYINT</code> as C types.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed wildcard handling of and listing of catalogs and tables in
        <code class="literal">SQLTables</code>.
      </p></li><li><p>
        Added limit of display size when requested via
        <code class="literal">SQLColAttribute</code>/<code class="literal">SQL_DESC_DISPLAY_SIZE</code>.
      </p></li><li><p>
        Fixed buffer length return for SQLDriverConnect.
      </p></li><li><p>
        ODBC v2 behaviour in driver now supports ODBC v3 date/time types
        (since DriverManager maps them).
      </p></li><li><p>
        Catch use of <code class="literal">SQL_ATTR_PARAMSET_SIZE</code> and
        report error until we fully support.
      </p></li><li><p>
        Fixed statistics to fail if it couldn't be completed.
      </p></li><li><p>
        Corrected retrieval multiple field types bit and blob/text.
      </p></li><li><p>
        Fixed SQLGetData to clear the NULL indicator correctly during
        multiple calls.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-8"></a>C.4.12. Changes in MySQL Connector/ODBC 5.0.8 (17 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.8 is the fourth BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Also made <code class="literal">SQL_DESC_NAME</code> only fill in the name
        if there was a data pointer given, otherwise just the length.
      </p></li><li><p>
        Fixed display size to be length if max length isn’t available.
      </p></li><li><p>
        Made distinction between
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>/<a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a>
        (and VAR versions).
      </p></li><li><p>
        Wildcards now support escaped chars and underscore matching
        (needed to link tables with underscores in access).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed binding using <code class="literal">SQL_C_LONG</code>.
      </p></li><li><p>
        Fixed using wrong pointer for
        <code class="literal">SQL_MAX_DRIVER_CONNECTIONS</code> in
        <code class="literal">SQLGetInfo</code>.
      </p></li><li><p>
        Set default return to <code class="literal">SQL_SUCCESS</code> if nothing
        is done for <code class="literal">SQLSpecialColumns</code>.
      </p></li><li><p>
        Fixed MDiagnostic to use correct v2/v3 error codes.
      </p></li><li><p>
        Allow SQLDescribeCol to be called to retrieve the length of the
        column name, but not the name itself.
      </p></li><li><p>
        Length now used when handling bind parameter (needed in
        particular for <code class="literal">SQL_WCHAR</code>) - this enables
        updating char data in MS Access.
      </p></li><li><p>
        Updated retrieval of descriptor fields to use the right pointer
        types.
      </p></li><li><p>
        Fixed hanlding of numeric pointers in SQLColAttribute.
      </p></li><li><p>
        Fixed type returned for <code class="literal">MYSQL_TYPE_LONG</code> to
        <code class="literal">SQL_INTEGER</code> instead of
        <code class="literal">SQL_TINYINT</code>.
      </p></li><li><p>
        Fix size return from <code class="literal">SQLDescribeCol</code>.
      </p></li><li><p>
        Fixed string length to chars, not bytes, returned by
        SQLGetDiagRec.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-7"></a>C.4.13. Changes in MySQL Connector/ODBC 5.0.7 (08 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.7 is the third BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for <code class="literal">SQLStatistics</code> to
        <code class="literal">MYODBCShell</code>.
      </p></li><li><p>
        Improved trace/log.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        SQLBindParameter now handles <code class="literal">SQL_C_DEFAULT</code>.
      </p></li><li><p>
        Corrected incorrect column index within
        <code class="literal">SQLStatistics</code>. Many more tables can now be
        linked into MS Access.
      </p></li><li><p>
        Fixed <code class="literal">SQLDescribeCol</code> returning column name
        length in bytes rather than chars.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-6"></a>C.4.14. Changes in MySQL Connector/ODBC 5.0.6 (03 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.6 is the second BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Features, limitations and notes on this release</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/ODBC supports both <code class="literal">User</code> and
        <code class="literal">System</code> DSNs.
      </p></li><li><p>
        Installation is provided in the form of a standard Microsoft
        System Installer (MSI).
      </p></li><li><p>
        You no longer have to have MySQL Connector/ODBC 3.51 installed before
        installing this version.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        You no longer have to have MySQL Connector/ODBC 3.51 installed before
        installing this version.
      </p></li><li><p>
        MySQL Connector/ODBC supports both <code class="literal">User</code> and
        <code class="literal">System</code> DSNs.
      </p></li><li><p>
        Installation is provided in the form of a standard Microsoft
        System Installer (MSI).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-5"></a>C.4.15. Changes in MySQL Connector/ODBC 5.0.5 (17 October 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.5 is the first BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        You no longer have to have MySQL Connector/ODBC 3.51 installed before
        installing this version.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-3"></a>C.4.16. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</h3></div></div></div><p>
      This is an implementation and testing release, and is not designed
      for use within a production environment.
    </p><p>
      Features, limitations and notes on this release:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The following ODBC API functions have been added in this
          release:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLBindParameter</code>
            </p></li><li><p>
              <code class="literal">SQLBindCol</code>
            </p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-2"></a>C.4.17. Changes in Connector/ODBC 5.0.2 (Never released)</h3></div></div></div><p>
      Connector/ODBC 5.0.2 was an internal implementation and testing
      release.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-1"></a>C.4.18. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</h3></div></div></div><p>
      Features, limitations and notes on this release:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Connector/ODBC 5.0 is Unicode aware.
        </p></li><li><p>
          Connector/ODBC is currently limited to basic applications. ADO
          applications and Microsoft Office are not supported.
        </p></li><li><p>
          Connector/ODBC must be used with a Driver Manager.
        </p></li><li><p>
          The following ODBC API functions are implemented:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLAllocHandle</code>
            </p></li><li><p>
              <code class="literal">SQLCloseCursor</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLConnect</code>
            </p></li><li><p>
              <code class="literal">SQLCopyDesc</code>
            </p></li><li><p>
              <code class="literal">SQLDisconnect</code>
            </p></li><li><p>
              <code class="literal">SQLExecDirect</code>
            </p></li><li><p>
              <code class="literal">SQLExecute</code>
            </p></li><li><p>
              <code class="literal">SQLFetch</code>
            </p></li><li><p>
              <code class="literal">SQLFreeHandle</code>
            </p></li><li><p>
              <code class="literal">SQLFreeStmt</code>
            </p></li><li><p>
              <code class="literal">SQLGetConnectAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetData</code>
            </p></li><li><p>
              <code class="literal">SQLGetDescField</code>
            </p></li><li><p>
              <code class="literal">SQLGetDescRec</code>
            </p></li><li><p>
              <code class="literal">SQLGetDiagField</code>
            </p></li><li><p>
              <code class="literal">SQLGetDiagRec</code>
            </p></li><li><p>
              <code class="literal">SQLGetEnvAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetFunctions</code>
            </p></li><li><p>
              <code class="literal">SQLGetStmtAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetTypeInfo</code>
            </p></li><li><p>
              <code class="literal">SQLNumResultCols</code>
            </p></li><li><p>
              <code class="literal">SQLPrepare</code>
            </p></li><li><p>
              <code class="literal">SQLRowcount</code>
            </p></li><li><p>
              <code class="literal">SQLTables</code>
            </p></li></ul></div><p>
          The following ODBC API function are implemented, but not yet
          support all the available attributes/options:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLSetConnectAttr</code>
            </p></li><li><p>
              <code class="literal">SQLSetDescField</code>
            </p></li><li><p>
              <code class="literal">SQLSetDescRec</code>
            </p></li><li><p>
              <code class="literal">SQLSetEnvAttr</code>
            </p></li><li><p>
              <code class="literal">SQLSetStmtAttr</code>
            </p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-27"></a>C.4.19. Changes in MySQL Connector/ODBC 3.51.27 (20 November 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The client program hung when the network connection to the
        server was interrupted.
       (<a href="http://bugs.mysql.com/40407" target="_top">Bug#40407</a>)</p></li><li><p>
        The connection string option <code class="literal">Enable
        Auto-reconnect</code> did not work. When the connection
        failed, it could not be restored, and the errors generated were
        the same as if the option had not been selected.
       (<a href="http://bugs.mysql.com/37179" target="_top">Bug#37179</a>)</p></li><li><p>
        It was not possible to use MySQL Connector/ODBC to connect to a server using
        SSL. The following error was generated:
      </p><pre class="programlisting">Runtime error '-2147467259 (80004005)':

[MySQL][ODBC 3.51 Driver]SSL connection error.
</pre><p>(<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-26"></a>C.4.20. Changes in MySQL Connector/ODBC 3.51.26 (07 July 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        There is a new connection option,
        <code class="literal">FLAG_NO_BINARY_RESULT</code>. When set this option
        disables charset 63 for columns with an empty
        <code class="literal">org_table</code>.
       (<a href="http://bugs.mysql.com/29402" target="_top">Bug#29402</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When an <code class="classname">ADOConnection</code> is created and
        attempts to open a schema with
        <code class="methodname">ADOConnection.OpenSchema</code> an access
        violation occurs in <code class="literal">myodbc3.dll</code>.
       (<a href="http://bugs.mysql.com/30770" target="_top">Bug#30770</a>)</p></li><li><p>
        When <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> was
        invoked and then the field values read, the result was truncated
        and unusable if the table had many rows and indexes.
       (<a href="http://bugs.mysql.com/24131" target="_top">Bug#24131</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-25"></a>C.4.21. Changes in MySQL Connector/ODBC 3.51.25 (11 April 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="function">SQLColAttribute()</code> function returned
        <code class="literal">SQL_TRUE</code> when querying the
        <code class="literal">SQL_DESC_FIXED_PREC_SCALE (SQL_COLUMN_MONEY)</code>
        attribute of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column.
        Previously, the correct value of <code class="literal">SQL_FALSE</code>
        was returned; this is now again the case.
       (<a href="http://bugs.mysql.com/35581" target="_top">Bug#35581</a>)</p></li><li><p>
        The driver crashes ODBC Administrator on attempting to add a new
        DSN.
       (<a href="http://bugs.mysql.com/32057" target="_top">Bug#32057</a>)</p></li><li><p>
        When accessing column data,
        <code class="literal">FLAG_COLUMN_SIZE_S32</code> did not limit the octet
        length or display size reported for fields, causing problems
        with Microsoft Visual FoxPro.
      </p><p>
        The list of ODBC functions that could have caused failures in
        Microsoft software when retrieving the length of
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> columns includes:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColAttributes</code>
            </p></li><li><p>
              <code class="literal">SQLDescribeCol</code>
            </p></li><li><p>
              <code class="literal">SQLSpecialColumns</code> (theoretically can
              have the same problem)
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/12805" target="_top">Bug#12805</a>, <a href="http://bugs.mysql.com/30890" target="_top">Bug#30890</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-24"></a>C.4.22. Changes in MySQL Connector/ODBC 3.51.24 (14 March 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Accessing a parameer with the type of
        <code class="literal">SQL_C_CHAR</code>, but with a numeric type and a
        length of zero, the parameter marker would get stropped from the
        query. In addition, an SQL injection was possible if the
        parameter value had a nonzero length and was not numeric, the
        text would be inserted verbatim.
       (<a href="http://bugs.mysql.com/34575" target="_top">Bug#34575</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        In previous versions, the SSL certificate would automatically be
        verified when used as part of the MySQL Connector/ODBC connection. The
        default mode is now to ignore the verificate of certificates. To
        enforce verification of the SSL certificate during connection,
        use the <code class="option">SSLVERIFY</code> DSN parameter, setting the
        value to 1.
       (<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>, <a href="http://bugs.mysql.com/34648" target="_top">Bug#34648</a>)</p></li><li><p>
        When using ADO, the count of parameters in a query would always
        return zero.
       (<a href="http://bugs.mysql.com/33298" target="_top">Bug#33298</a>)</p></li><li><p>
        Using tables with a single quote or other nonstandard characters
        in the table or column names through ODBC would fail.
       (<a href="http://bugs.mysql.com/32989" target="_top">Bug#32989</a>)</p></li><li><p>
        When using Crystal Reports, table and column names would be
        truncated to 21 characters, and truncated columns in tables
        where the truncated name was the duplicated would lead to only a
        single column being displayed.
       (<a href="http://bugs.mysql.com/32864" target="_top">Bug#32864</a>)</p></li><li><p>
        <code class="function">SQLExtendedFetch()</code> and
        <code class="function">SQLFetchScroll()</code> ignored the rowset size if
        the <code class="literal">Don't cache result</code> DSN option was set.
       (<a href="http://bugs.mysql.com/32420" target="_top">Bug#32420</a>)</p></li><li><p>
        When using the ODBC <code class="literal">SQL_TXN_READ_COMMITTED</code>
        option, 'dirty' records would be read from tables as if the
        option had not been applied.
       (<a href="http://bugs.mysql.com/31959" target="_top">Bug#31959</a>)</p></li><li><p>
        When creating a System DSN using the ODBC Administrator on Mac
        OS X, a User DSN would be created instead. The root cause is a
        problem with the iODBC driver manager used on Mac OS X. The fix
        works around this issue.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          ODBC Administrator may still be unable to register a System
          DSN unless the <code class="filename">/Library/ODBC/odbc.ini</code>
          file has the correct permissions. You should ensure that the
          file is writable by the <code class="literal">admin</code> group.
        </p></div><p>(<a href="http://bugs.mysql.com/31495" target="_top">Bug#31495</a>)</p></li><li><p>
        Calling <code class="literal">SQLFetch</code> or
        <code class="literal">SQLFetchScroll</code> would return negative data
        lengths when using <code class="literal">SQL_C_WCHAR</code>.
       (<a href="http://bugs.mysql.com/31220" target="_top">Bug#31220</a>)</p></li><li><p>
        <code class="literal">SQLSetParam()</code> caused memory allocation errors
        due to driver manager's mapping of deprecated functions (buffer
        length -1).
       (<a href="http://bugs.mysql.com/29871" target="_top">Bug#29871</a>)</p></li><li><p>
        Static cursor was unable to be used through ADO when dynamic
        cursors were enabled.
       (<a href="http://bugs.mysql.com/27351" target="_top">Bug#27351</a>)</p></li><li><p>
        Using <code class="literal">connection.Execute</code> to create a record
        set based on a table without declaring the cmd option as
        <code class="literal">adCmdTable</code> will fail when communicating with
        versions of MySQL 5.0.37 and higher. The issue is related to the
        way that <code class="literal">SQLSTATE</code> is returned when ADO tries
        to confirm the existence of the target object.
       (<a href="http://bugs.mysql.com/27158" target="_top">Bug#27158</a>)</p></li><li><p>
        Updating a <code class="literal">RecordSet</code> when the query involves
        a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> field would fail.
       (<a href="http://bugs.mysql.com/19065" target="_top">Bug#19065</a>)</p></li><li><p>
        With some connections to MySQL databases using MySQL Connector/ODBC, the
        connection would mistakenly report 'user cancelled' for accesses
        to the database information.
       (<a href="http://bugs.mysql.com/16653" target="_top">Bug#16653</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-23"></a>C.4.23. Changes in MySQL Connector/ODBC 3.51.23 (09 January 2008)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        There are no installer packages for Microsoft Windows x64
        Edition.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/ODBC would incorrectly return <code class="literal">SQL_SUCCESS</code>
        when checking for distributed transaction support.
       (<a href="http://bugs.mysql.com/32727" target="_top">Bug#32727</a>)</p></li><li><p>
        When using unixODBC or directly linked applications where the
        thread level is set to less than 3 (within
        <code class="filename">odbcinst.ini</code>), a thread synchronization
        issue would lead to an application crash. This was because
        <code class="function">SQLAllocStmt()</code> and
        <code class="function">SQLFreeStmt()</code> did not synchronize access to
        the list of statements associated with a connection.
       (<a href="http://bugs.mysql.com/32587" target="_top">Bug#32587</a>)</p></li><li><p>
        Cleaning up environment handles in multithread environments
        could result in a five (or more) second delay.
       (<a href="http://bugs.mysql.com/32366" target="_top">Bug#32366</a>)</p></li><li><p>
        Renaming an existing DSN entry would create a new entry with the
        new name without deleting the old entry.
       (<a href="http://bugs.mysql.com/31165" target="_top">Bug#31165</a>)</p></li><li><p>
        Setting the default database using the
        <code class="option">DefaultDatabase</code> property of an ADO
        <code class="literal">Connection</code> object would fail with the error
        <code class="literal">Provider does not support this property</code>. The
        <code class="function">SQLGetInfo()</code> returned the wrong value for
        <code class="literal">SQL_DATABASE_NAME</code> when no database was
        selected.
       (<a href="http://bugs.mysql.com/3780" target="_top">Bug#3780</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-22"></a>C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The workaround for this bug was removed due to the fixes in
        MySQL Server 5.0.48 and 5.1.21.
      </p><p>This regression was introduced by <a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a>.</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">English</code> locale would be used when
        formatting floating point values. The <code class="literal">C</code>
        locale is now used for these values.
       (<a href="http://bugs.mysql.com/32294" target="_top">Bug#32294</a>)</p></li><li><p>
        When accessing information about supported operations, the
        driver would return incorrect information about the support for
        <a href="sql-syntax.html#union" title="12.2.8.3. UNION Syntax"><code class="literal">UNION</code></a>.
       (<a href="http://bugs.mysql.com/32253" target="_top">Bug#32253</a>)</p></li><li><p>
        Unsigned integer values greater than the maximum value of a
        signed integer would be handled incorrectly.
       (<a href="http://bugs.mysql.com/32171" target="_top">Bug#32171</a>)</p></li><li><p>
        The wrong result was returned by <code class="literal">SQLGetData()</code>
        when the data was an empty string and a zero-sized buffer was
        specified.
       (<a href="http://bugs.mysql.com/30958" target="_top">Bug#30958</a>)</p></li><li><p>
        Added the <code class="literal">FLAG_COLUMN_SIZE_S32</code> option to
        limit the reported column size to a signed 32-bit integer. This
        option is automatically enabled for ADO applications to provide
        a work around for a bug in ADO.
       (<a href="http://bugs.mysql.com/13776" target="_top">Bug#13776</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-21"></a>C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using a rowset/cursor and add a new row with a number of
        fields, subsequent rows with fewer fields will include the
        original fields from the previous row in the final
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement.
       (<a href="http://bugs.mysql.com/31246" target="_top">Bug#31246</a>)</p></li><li><p>
        Uninitiated memory could be used when C/ODBC internally calls
        <code class="literal">SQLGetFunctions()</code>.
       (<a href="http://bugs.mysql.com/31055" target="_top">Bug#31055</a>)</p></li><li><p>
        The wrong <code class="literal">SQL_DESC_LITERAL_PREFIX</code> would be
        returned for date/time types.
       (<a href="http://bugs.mysql.com/31009" target="_top">Bug#31009</a>)</p></li><li><p>
        The wrong <code class="literal">COLUMN_SIZE</code> would be returned by
        <code class="literal">SQLGetTypeInfo</code> for the TIME columns
        (<code class="literal">SQL_TYPE_TIME</code>).
       (<a href="http://bugs.mysql.com/30939" target="_top">Bug#30939</a>)</p></li><li><p>
        Clicking outside the character set selection box when
        configuring a new DSN could cause the wrong character set to be
        selected.
       (<a href="http://bugs.mysql.com/30568" target="_top">Bug#30568</a>)</p></li><li><p>
        Not specifying a user in the DSN dialog would raise a warning
        even though the parameter is optional.
       (<a href="http://bugs.mysql.com/30499" target="_top">Bug#30499</a>)</p></li><li><p>
        <code class="literal">SQLSetParam()</code> caused memory allocation errors
        due to driver manager's mapping of deprecated functions (buffer
        length -1).
       (<a href="http://bugs.mysql.com/29871" target="_top">Bug#29871</a>)</p></li><li><p>
        When using ADO, a column marked as
        <code class="literal">AUTO_INCREMENT</code> could incorrectly report that
        the column allowed <code class="literal">NULL</code> values. This was dur
        to an issue with <code class="literal">NULLABLE</code> and
        <code class="literal">IS_NULLABLE</code> return values from the call to
        <code class="literal">SQLColumns()</code>.
       (<a href="http://bugs.mysql.com/26108" target="_top">Bug#26108</a>)</p></li><li><p>
        MySQL Connector/ODBC would return the wrong the error code when the server
        disconnects the active connection because the configured
        <a href="server-administration.html#sysvar_wait_timeout"><code class="literal">wait_timeout</code></a> has expired.
        Previously it would return <code class="literal">HY000</code>. MySQL Connector/ODBC now
        correctly returns an <code class="literal">SQLSTATE</code> of
        <code class="literal">08S01</code>.
       (<a href="http://bugs.mysql.com/3456" target="_top">Bug#3456</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-20"></a>C.4.26. Changes in MySQL Connector/ODBC 3.51.20 (10 September 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using <code class="literal">FLAG_NO_PROMPT</code> doesn't suppress the
        dialogs normally handled by <code class="literal">SQLDriverConnect</code>.
       (<a href="http://bugs.mysql.com/30840" target="_top">Bug#30840</a>)</p></li><li><p>
        The specified length of the user name and authentication
        parameters to <code class="literal">SQLConnect()</code> were not being
        honored.
       (<a href="http://bugs.mysql.com/30774" target="_top">Bug#30774</a>)</p></li><li><p>
        The wrong column size was returned for binary data.
       (<a href="http://bugs.mysql.com/30547" target="_top">Bug#30547</a>)</p></li><li><p>
        <code class="literal">SQLGetData()</code> will now always return
        <code class="literal">SQL_NO_DATA_FOUND</code> on second call when no data
        left, even if requested size is 0.
       (<a href="http://bugs.mysql.com/30520" target="_top">Bug#30520</a>)</p></li><li><p>
        <code class="literal">SQLGetConnectAttr()</code> did not reflect the
        connection state correctly.
       (<a href="http://bugs.mysql.com/14639" target="_top">Bug#14639</a>)</p></li><li><p>
        Removed checkbox in setup dialog for
        <code class="literal">FLAG_FIELD_LENGTH</code> (identified as
        <code class="literal">Don't Optimize Column Width</code> within the GUI
        dialog), which was removed from the driver in 3.51.18.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-19"></a>C.4.27. Changes in MySQL Connector/ODBC 3.51.19 (10 August 2007)</h3></div></div></div><p>
        Connector/ODBC 3.51.19 fixes a specific issue with the 3.51.18
        release. For a list of changes in the 3.51.18 release, see
        <a href="news.html#connector-odbc-news-3-51-18" title="C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)">Section C.4.28, “Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)”</a>.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Because of <a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a> in the server, character string results
        were sometimes incorrectly identified as
        <code class="literal">SQL_VARBINARY</code>. Until this server bug is
        corrected, the driver will identify all variable-length strings
        as <code class="literal">SQL_VARCHAR</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-18"></a>C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="option">FLAG_DEBUG</code> option was removed.
      </p></li><li><p>
        When connecting to a specific database when using a DSN, the
        system tables from the <code class="literal">mysql</code> database are no
        longer also available. Previously, tables from the mysql
        database (catalog) were listed as <code class="literal">SYSTEM
        TABLES</code> by <code class="literal">SQLTables()</code> even when a
        different catalog was being queried.
       (<a href="http://bugs.mysql.com/28662" target="_top">Bug#28662</a>)</p></li><li><p>
        Installed for Mac OS X has been re-instated. The installer
        registers the driver at a system (not user) level and makes it
        possible to create both user and system DSNs using the MySQL Connector/ODBC
        driver. The installer also fixes the situation where the
        necessary drivers would bge installed local to the user, not
        globally.
       (<a href="http://bugs.mysql.com/15326" target="_top">Bug#15326</a>, <a href="http://bugs.mysql.com/10444" target="_top">Bug#10444</a>)</p></li><li><p>
        MySQL Connector/ODBC now supports batched statements. In order to enable
        cached statement support you must switch enable the batched
        statement option (<code class="literal">FLAG_MULTI_STATEMENTS</code>,
        67108864, or <span class="guilabel">Allow multiple statements</span>
        within a GUI configuration). Be aware that batched statements
        create an increased chance of SQL injection attacks and you must
        ensure that your application protects against this scenario.
       (<a href="http://bugs.mysql.com/7445" target="_top">Bug#7445</a>)</p></li><li><p>
        The <code class="literal">SQL_ATTR_ROW_BIND_OFFSET_PTR</code> is now
        supported for row bind offsets.
       (<a href="http://bugs.mysql.com/6741" target="_top">Bug#6741</a>)</p></li><li><p>
        The <code class="literal">TRACE</code> and <code class="literal">TRACEFILE</code>
        DSN options have been removed. Use the ODBC driver manager trace
        options instead.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using a table with multiple
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns, the final
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column within the table
        definition would not be updateable. Note that there is still a
        limitation in MySQL server regarding multiple
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns . (<a href="http://bugs.mysql.com/9927" target="_top">Bug#9927</a>)
       (<a href="http://bugs.mysql.com/30081" target="_top">Bug#30081</a>)</p></li><li><p>
        Fixed an issue where the <span><strong class="command">myodbc3i</strong></span> would
        update the user ODBC configuration file
        (<code class="filename">~/Library/ODBC/odbcinst.ini</code>) instead of
        the system <code class="filename">/Library/ODBC/odbcinst.ini</code>. This
        was caused because <span><strong class="command">myodbc3i</strong></span> was not honoring
        the <code class="literal">s</code> and <code class="literal">u</code> modifiers for
        the <code class="option">-d</code> command-line option.
       (<a href="http://bugs.mysql.com/29964" target="_top">Bug#29964</a>)</p></li><li><p>
        Getting table metadata (through the
        <code class="literal">SQLColumns()</code> would fail, returning a bad
        table definition to calling applications.
       (<a href="http://bugs.mysql.com/29888" target="_top">Bug#29888</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column types would
        return <code class="literal">FALSE</code> in place of
        <code class="literal">SQL_SUCCESS</code> when requesting the column type
        information.
       (<a href="http://bugs.mysql.com/28657" target="_top">Bug#28657</a>)</p></li><li><p>
        The <code class="literal">SQL_COLUMN_TYPE</code>,
        <code class="literal">SQL_COLUMN_DISPLAY</code> and
        <code class="literal">SQL_COLUMN_PRECISION</code> values would be returned
        incorrectly by <code class="literal">SQLColumns()</code>,
        <code class="literal">SQLDescribeCol()</code> and
        <code class="literal">SQLColAttribute()</code> when accessing character
        columns, especially those generated through
        <code class="function">concat()</code>. The lengths returned should now
        conform to the ODBC specification. The
        <code class="literal">FLAG_FIELD_LENGTH</code> option no longer has any
        affect on the results returned.
       (<a href="http://bugs.mysql.com/27862" target="_top">Bug#27862</a>)</p></li><li><p>
        Obtaining the length of a column when using a character set for
        the connection of <code class="literal">utf8</code> would result in the
        length being returned incorrectly.
       (<a href="http://bugs.mysql.com/19345" target="_top">Bug#19345</a>)</p></li><li><p>
        The <code class="literal">SQLColumns()</code> function could return
        incorrect information about
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns, indicating
        that the field was not nullable.
       (<a href="http://bugs.mysql.com/14414" target="_top">Bug#14414</a>)</p></li><li><p>
        The <code class="literal">SQLColumns()</code> function could return
        incorrect information about <code class="literal">AUTO_INCREMENT</code>
        columns, indicating that the field was not nullable.
       (<a href="http://bugs.mysql.com/14407" target="_top">Bug#14407</a>)</p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        <code class="literal">BIT(n)</code> columns are now treated as
        <code class="literal">SQL_BIT</code> data where <code class="literal">n = 1</code>
        and binary data where <code class="literal">n &gt; 1</code>.
      </p></li><li><p>
        The wrong value from <code class="literal">SQL_DESC_LITERAL_SUFFIX</code>
        was returned for binary fields.
      </p></li><li><p>
        The <code class="literal">SQL_DATETIME_SUB</code> column in SQLColumns()
        was not correctly set for date and time types.
      </p></li><li><p>
        The value for <code class="literal">SQL_DESC_FIXED_PREC_SCALE</code> was
        not returned correctly for values in MySQL 5.0 and later.
      </p></li><li><p>
        The wrong value for <code class="literal">SQL_DESC_TYPE</code> was
        returned for date and time types.
      </p></li><li><p>
        <code class="literal">SQLConnect()</code> and
        <code class="literal">SQLDriverConnect()</code> were rewritten to
        eliminate duplicate code and ensure all options were supported
        using both connection methods.
        <code class="literal">SQLDriverConnect()</code> now only requires the
        setup library to be present when the call requires it.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        The wrong value for <code class="literal">DECIMAL_DIGITS</code> in
        <code class="literal">SQLColumns()</code> was reported for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> fields, as well as the
        wrong value for the scale parameter to
        <code class="literal">SQLDescribeCol()</code>, and the
        <code class="literal">SQL_DESC_SCALE</code> attribute from
        <code class="literal">SQLColAttribute()</code>.
      </p></li><li><p>
        The <code class="literal">SQL_DATA_TYPE</code> column in
        <code class="literal">SQLColumns()</code> results did not report the
        correct value for date and time types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-17"></a>C.4.29. Changes in MySQL Connector/ODBC 3.51.17 (14 July 2007)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        It is now possible to specify a different character set as part
        of the DSN or connection string. This must be used instead of
        the <code class="literal">SET NAMES</code> statement. You can also
        configure the character set value from the GUI configuration.
       (<a href="http://bugs.mysql.com/9498" target="_top">Bug#9498</a>, <a href="http://bugs.mysql.com/6667" target="_top">Bug#6667</a>)</p></li><li><p>
        Fixed calling convention ptr and wrong free in
        <span><strong class="command">myodbc3i</strong></span>, and fixed the null terminating (was
        only one, not two) when writing DSN to string.
      </p></li><li><p>
        Dis-allow NULL ptr for null indicator when calling SQLGetData()
        if value is null. Now returns SQL_ERROR w/state 22002.
      </p></li><li><p>
        The setup library has been split into its own RPM package, to
        allow installing the driver itself with no GUI dependencies.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">myodbc3i</code> did not correctly format driver
        info, which could cause the installation to fail.
       (<a href="http://bugs.mysql.com/29709" target="_top">Bug#29709</a>)</p></li><li><p>
        MySQL Connector/ODBC crashed with Crystal Reports due to a rproblem with
        <code class="literal">SQLProcedures()</code>.
       (<a href="http://bugs.mysql.com/28316" target="_top">Bug#28316</a>)</p></li><li><p>
        Fixed a problem where the GUI would crash when configuring or
        removing a System or User DSN.
       (<a href="http://bugs.mysql.com/27315" target="_top">Bug#27315</a>)</p></li><li><p>
        Fixed error handling of out-of-memory and bad connections in
        catalog functions. This might raise errors in code paths that
        had ignored them in the past.
       (<a href="http://bugs.mysql.com/26934" target="_top">Bug#26934</a>)</p></li><li><p>
        For a stored procedure that returns multiple result sets,
        MySQL Connector/ODBC returned only the first result set.
       (<a href="http://bugs.mysql.com/16817" target="_top">Bug#16817</a>)</p></li><li><p>
        Calling <code class="literal">SQLGetDiagField</code> with
        <code class="literal">RecNumber 0, DiagIdentifier NOT 0</code> returned
        <code class="literal">SQL_ERROR</code>, preventing access to diagnostic
        header fields.
       (<a href="http://bugs.mysql.com/16224" target="_top">Bug#16224</a>)</p></li><li><p>
        Added a new DSN option
        (<code class="literal">FLAG_ZERO_DATE_TO_MIN</code>) to retrieve
        <code class="literal">XXXX-00-00</code> dates as the minimum allowed ODBC
        date (<code class="literal">XXXX-01-01</code>). Added another option
        (<code class="literal">FLAG_MIN_DATE_TO_ZERO</code>) to mirror this but
        for bound parameters. <code class="literal">FLAG_MIN_DATE_TO_ZERO</code>
        only changes <code class="literal">0000-01-01</code> to
        <code class="literal">0000-00-00</code>.
       (<a href="http://bugs.mysql.com/13766" target="_top">Bug#13766</a>)</p></li><li><p>
        If there was more than one unique key on a table, the correct
        fields were not used in handling <code class="literal">SQLSetPos()</code>.
       (<a href="http://bugs.mysql.com/10563" target="_top">Bug#10563</a>)</p></li><li><p>
        When inserting a large <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        field, MySQL Connector/ODBC would crash due to a memory allocation error.
       (<a href="http://bugs.mysql.com/10562" target="_top">Bug#10562</a>)</p></li><li><p>
        The driver was using
        <code class="function">mysql_odbc_escape_string()</code>, which does not
        handle the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode.
        Now it uses
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.9.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>,
        which does.
       (<a href="http://bugs.mysql.com/9498" target="_top">Bug#9498</a>)</p></li><li><p>
        <code class="literal">SQLColumns()</code> did not handle many of its
        parameters correctly, which could lead to incorrect results. The
        table name argument was not handled as a pattern value, and most
        arguments were not escaped correctly when they contained
        nonalphanumeric characters.
       (<a href="http://bugs.mysql.com/8860" target="_top">Bug#8860</a>)</p></li><li><p>
        There are no binary packages for Microsoft Windows x64 Edition.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Correctly return error if <code class="literal">SQLBindCol</code> is
        called with an invalid column.
      </p></li><li><p>
        Fixed possible crash if <code class="literal">SQLBindCol()</code> was not
        called before <code class="literal">SQLSetPos()</code>.
      </p></li><li><p>
        The Mac OS X binary packages are only provided as tarballs,
        there is no installer.
      </p></li><li><p>
        The binary packages for Sun Solaris are only provided as
        tarballs, not the PKG format.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-16"></a>C.4.30. Changes in MySQL Connector/ODBC 3.51.16 (14 June 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/ODBC now supports using SSL for communication. This is not
        yet exposed in the setup GUI, but must be enabled through
        configuration files or the DSN.
       (<a href="http://bugs.mysql.com/12918" target="_top">Bug#12918</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calls to SQLNativeSql() could cause stack corruption due to an
        incorrect pointer cast.
       (<a href="http://bugs.mysql.com/28758" target="_top">Bug#28758</a>)</p></li><li><p>
        Using curors on results sets with multi-column keys could select
        the wrong value.
       (<a href="http://bugs.mysql.com/28255" target="_top">Bug#28255</a>)</p></li><li><p>
        <code class="literal">SQLForeignKeys</code> does not escape
        <code class="literal">_</code> and <code class="literal">%</code> in the table name
        arguments.
       (<a href="http://bugs.mysql.com/27723" target="_top">Bug#27723</a>)</p></li><li><p>
        When using stored procedures, making a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> or second stored procedure
        call after an initial stored procedure call, the second
        statement will fail.
       (<a href="http://bugs.mysql.com/27544" target="_top">Bug#27544</a>)</p></li><li><p>
        SQLTables() did not distinguish tables from views.
       (<a href="http://bugs.mysql.com/23031" target="_top">Bug#23031</a>)</p></li><li><p>
        Data in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns would fail
        to be read correctly.
       (<a href="http://bugs.mysql.com/16917" target="_top">Bug#16917</a>)</p></li><li><p>
        Specifying strings as parameters using the
        <code class="literal">adBSTR</code> or <code class="literal">adVarWChar</code>
        types, (<code class="literal">SQL_WVARCHAR</code> and
        <code class="literal">SQL_WLONGVARCHAR</code>) would be incorrectly
        quoted.
       (<a href="http://bugs.mysql.com/16235" target="_top">Bug#16235</a>)</p></li><li><p>
        SQL_WVARCHAR and SQL_WLONGVARCHAR parameters were not properly
        quoted and escaped.
       (<a href="http://bugs.mysql.com/16235" target="_top">Bug#16235</a>)</p></li><li><p>
        Using <code class="literal">BETWEEN</code> with date values, the wrong
        results could be returned.
       (<a href="http://bugs.mysql.com/15773" target="_top">Bug#15773</a>)</p></li><li><p>
        When using the <code class="literal">Don't Cache Results</code> (option
        value <code class="literal">1048576</code>) with Microsoft Access, the
        connection will fail using DAO/VisualBasic.
       (<a href="http://bugs.mysql.com/4657" target="_top">Bug#4657</a>)</p></li><li><p>
        Return values from <code class="literal">SQLTables()</code> may be
        truncated. (Bugs #22797)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-15"></a>C.4.31. Changes in MySQL Connector/ODBC 3.51.15 (07 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/ODBC would incorrectly claim to support
        <code class="literal">SQLProcedureColumns</code> (by returning true when
        queried about <code class="literal">SQLPROCEDURECOLUMNS</code> with
        <code class="literal">SQLGetFunctions</code>), but this functionality is
        not supported.
       (<a href="http://bugs.mysql.com/27591" target="_top">Bug#27591</a>)</p></li><li><p>
        An incorrect transaction isolation level may not be returned
        when accessing the connection attributes.
       (<a href="http://bugs.mysql.com/27589" target="_top">Bug#27589</a>)</p></li><li><p>
        Adding a new DSN with the <code class="literal">myodbc3i</code> utility
        under AIX would fail.
       (<a href="http://bugs.mysql.com/27220" target="_top">Bug#27220</a>)</p></li><li><p>
        When inserting data using bulk statements (through
        <code class="literal">SQLBulkOperations</code>), the indicators for all
        rows within the insert would not updated correctly.
       (<a href="http://bugs.mysql.com/24306" target="_top">Bug#24306</a>)</p></li><li><p>
        Using <code class="literal">SQLProcedures</code> does not return the
        database name within the returned resultset.
       (<a href="http://bugs.mysql.com/23033" target="_top">Bug#23033</a>)</p></li><li><p>
        The <code class="literal">SQLTransact()</code> function did not support an
        empty connection handle.
       (<a href="http://bugs.mysql.com/21588" target="_top">Bug#21588</a>)</p></li><li><p>
        Using <code class="literal">SQLDriverConnect</code> instead of
        <code class="literal">SQLConnect</code> could cause later operations to
        fail.
       (<a href="http://bugs.mysql.com/7912" target="_top">Bug#7912</a>)</p></li><li><p>
        When using blobs and parameter replacement in a statement with
        <code class="literal">WHERE CURSOR OF</code>, the SQL is truncated.
       (<a href="http://bugs.mysql.com/5853" target="_top">Bug#5853</a>)</p></li><li><p>
        MySQL Connector/ODBC would return too many foreign key results when accessing
        tables with similar names.
       (<a href="http://bugs.mysql.com/4518" target="_top">Bug#4518</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-14"></a>C.4.32. Changes in MySQL Connector/ODBC 3.51.14 (08 March 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use of <code class="literal">SQL_ATTR_CONNECTION_TIMEOUT</code> on the
        server has now been disabled. If you attempt to set this
        attribute on your connection the
        <code class="literal">SQL_SUCCESS_WITH_INFO</code> will be returned, with
        an error number/string of <code class="literal">HYC00: Optional feature not
        supported</code>.
       (<a href="http://bugs.mysql.com/19823" target="_top">Bug#19823</a>)</p></li><li><p>
        Added auto is null option to MySQL Connector/ODBC option parameters.
       (<a href="http://bugs.mysql.com/10910" target="_top">Bug#10910</a>)</p></li><li><p>
        Added auto-reconnect option to MySQL Connector/ODBC option parameters.
      </p></li><li><p>
        Added support for the <code class="literal">HENV</code> handlers in
        <code class="literal">SQLEndTran()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        On 64-bit systems, some types would be incorrectly returned.
       (<a href="http://bugs.mysql.com/26024" target="_top">Bug#26024</a>)</p></li><li><p>
        When retrieving <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> columns,
        C/ODBC would incorrectly interpret the type of the string and
        could interpret it as a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> type
        instead.
       (<a href="http://bugs.mysql.com/25846" target="_top">Bug#25846</a>)</p></li><li><p>
        MySQL Connector/ODBC may insert the wrong parameter values when using
        prepared statements under 64-bit Linux.
       (<a href="http://bugs.mysql.com/22446" target="_top">Bug#22446</a>)</p></li><li><p>
        Using MySQL Connector/ODBC, with <code class="literal">SQLBindCol</code> and binding
        the length to the return value from
        <code class="literal">SQL_LEN_DATA_AT_EXEC</code> fails with a memory
        allocation error.
       (<a href="http://bugs.mysql.com/20547" target="_top">Bug#20547</a>)</p></li><li><p>
        Using <code class="literal">DataAdapter</code>, MySQL Connector/ODBC may continually
        consume memory when reading the same records within a loop
        (Windows Server 2003 SP1/SP2 only).
       (<a href="http://bugs.mysql.com/20459" target="_top">Bug#20459</a>)</p></li><li><p>
        When retrieving data from columns that have been compressed
        using <code class="literal">COMPRESS()</code>, the retrieved data would be
        truncated to 8KB.
       (<a href="http://bugs.mysql.com/20208" target="_top">Bug#20208</a>)</p></li><li><p>
        The ODBC driver name and version number were incorrectly
        reported by the driver.
       (<a href="http://bugs.mysql.com/19740" target="_top">Bug#19740</a>)</p></li><li><p>
        A string format exception would be raised when using iODBC,
        MySQL Connector/ODBC and the embedded MySQL server.
       (<a href="http://bugs.mysql.com/16535" target="_top">Bug#16535</a>)</p></li><li><p>
        The <code class="literal">SQLDriverConnect()</code> ODBC method did not
        work with recent MySQL Connector/ODBC releases.
       (<a href="http://bugs.mysql.com/12393" target="_top">Bug#12393</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-13"></a>C.4.33. Changes in MySQL Connector/ODBC 3.51.13 (Never released)</h3></div></div></div><p>
        Connector/ODBC 3.51.13 was an internal implementation and
        testing release.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-12"></a>C.4.34. Changes in MySQL Connector/ODBC 3.51.12 (11 February 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        N/A
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using stored procedures with ADO, where the
        <code class="literal">CommandType</code> has been set correctly to
        <code class="literal">adCmdStoredProc</code>, calls to stored procedures
        would fail.
       (<a href="http://bugs.mysql.com/15635" target="_top">Bug#15635</a>)</p></li><li><p>
        File DSNs could not be saved.
       (<a href="http://bugs.mysql.com/12019" target="_top">Bug#12019</a>)</p></li><li><p>
        <code class="literal">SQLColumns()</code> returned no information for
        tables that had a column named using a reserved word.
       (<a href="http://bugs.mysql.com/9539" target="_top">Bug#9539</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-11"></a>C.4.35. Changes in MySQL Connector/ODBC 3.51.11 (28 January 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">mysql_list_dbcolumns()</code> and
        <code class="literal">insert_fields()</code> were retrieving all rows from
        a table. Fixed the queries generated by these functions to
        return no rows.
       (<a href="http://bugs.mysql.com/8198" target="_top">Bug#8198</a>)</p></li><li><p>
        <code class="literal">SQLGetTypoInfo()</code> returned
        <code class="literal">tinyblob</code> for <code class="literal">SQL_VARBINARY</code>
        and nothing for <code class="literal">SQL_BINARY</code>. Fixed to return
        <code class="literal">varbinary</code> for
        <code class="literal">SQL_VARBINARY</code>, <code class="literal">binary</code> for
        <code class="literal">SQL_BINARY</code>, and <code class="literal">longblob</code>
        for <code class="literal">SQL_LONGVARBINARY</code>.
       (<a href="http://bugs.mysql.com/8138" target="_top">Bug#8138</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="connector-net-news"></a>C.5. MySQL Connector/NET Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#changes-6.1.x">C.5.1. Changes in MySQL Connector/NET Version 6.1.x</a></span></dt><dt><span class="section"><a href="news.html#changes-6.0.x">C.5.2. Changes in MySQL Connector/NET Version 6.0.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.3.x">C.5.3. Changes in MySQL Connector/NET Version 5.3.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.2.x">C.5.4. Changes in MySQL Connector/NET Version 5.2.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.1.x">C.5.5. Changes in MySQL Connector/NET Version 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#changes-5.0.x">C.5.6. Changes in MySQL Connector/NET Version 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#changes-1.0.x">C.5.7. Changes in MySQL Connector/NET Version 1.0.x</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-9-0">C.5.8. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-76">C.5.9. Changes in MySQL Connector/NET Version 0.76</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-75">C.5.10. Changes in MySQL Connector/NET Version 0.75</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-74">C.5.11. Changes in MySQL Connector/NET Version 0.74</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-71">C.5.12. Changes in MySQL Connector/NET Version 0.71</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-70">C.5.13. Changes in MySQL Connector/NET Version 0.70</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-68">C.5.14. Changes in MySQL Connector/NET Version 0.68</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-65">C.5.15. Changes in MySQL Connector/NET Version 0.65</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-60">C.5.16. Changes in MySQL Connector/NET Version 0.60</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-50">C.5.17. Changes in MySQL Connector/NET Version 0.50</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-6.1.x"></a>C.5.1. Changes in MySQL Connector/NET Version 6.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-6-1-1">C.5.1.1. Changes in MySQL Connector/NET 6.1.1 (20 August 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-1-0">C.5.1.2. Changes in MySQL Connector/NET 6.1.0 (15 July 2009 alpha)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-1-1"></a>C.5.1.1. Changes in MySQL Connector/NET 6.1.1 (20 August 2009 beta)</h4></div></div></div><p class="release-level">
        This is the first Beta release of 6.1.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        In the <code class="literal">MySqlDataReader</code> class the
        <code class="literal">GetSByte</code> function returned a
        <code class="literal">byte</code> value instead of an
        <code class="literal">sbyte</code> value.
       (<a href="http://bugs.mysql.com/46620" target="_top">Bug#46620</a>)</p></li><li><p>
        When trying to create stored procedures from a SQL script, a
        <code class="literal">MySqlException</code> was thrown when attempting to
        redefine the <code class="literal">DELIMITER</code>:
      </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlException was unhandled
  Message="You have an error in your SQL syntax; check the manual that corresponds to your
MySQL server version for the right syntax to use near 'DELIMITER' at line 1"
  Source="MySql.Data"
  ErrorCode=-2147467259
  Number=1064
  StackTrace:
       à MySql.Data.MySqlClient.MySqlStream.ReadPacket()
       à MySql.Data.MySqlClient.NativeDriver.ReadResult(UInt64&amp; affectedRows, Int64&amp;
lastInsertId)
       à MySql.Data.MySqlClient.MySqlDataReader.GetResultSet()
       à MySql.Data.MySqlClient.MySqlDataReader.NextResult()
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteReader()
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
       à MySql.Data.MySqlClient.MySqlScript.Execute()</pre><p>
        Note: The <code class="literal">MySqlScript</code> class has been fixed to
        support the delimiter statement as it is found in SQL scripts.
       (<a href="http://bugs.mysql.com/46429" target="_top">Bug#46429</a>)</p></li><li><p>
        The MySQL Connector/NET Profile Provider,
        <code class="literal">MySql.Web.Profile.MySQLProfileProvider</code>,
        generated an error when running on Mono. When an attempt was
        made to save a string in <code class="literal">Profile.Name</code> the
        string was not saved to the
        <code class="literal">my_aspnet_Profiles</code> table. If an attempt was
        made to force the save with <code class="literal">Profile.Save()</code>
        the following error was generated:
      </p><pre class="programlisting">Server Error in '/mono' Application

--------------------------------------------------------------------------------

The requested feature is not implemented.
Description: HTTP 500. Error processing request.

Stack Trace: 

System.NotImplementedException: The requested feature is not implemented.
  at MySql.Data.MySqlClient.MySqlConnection.EnlistTransaction
(System.Transactions.Transaction transaction) [0x00000] 
  at MySql.Data.MySqlClient.MySqlConnection.Open () [0x00000] 
  at MySql.Web.Profile.MySQLProfileProvider.SetPropertyValues
(System.Configuration.SettingsContext context,
System.Configuration.SettingsPropertyValueCollection collection) [0x00000] 
 

--------------------------------------------------------------------------------
Version information: Mono Version: 2.0.50727.1433; ASP.NET Version: 2.0.50727.1433
</pre><p>(<a href="http://bugs.mysql.com/46375" target="_top">Bug#46375</a>)</p></li><li><p>
        An exception was generated when using
        <code class="literal">TIMESTAMP</code> columns with the Entity Framework.
       (<a href="http://bugs.mysql.com/46311" target="_top">Bug#46311</a>)</p></li><li><p>
        MySQL Connector/NET sometimes hung, without generating an exception. This
        happened if a read from a stream failed returning a 0, causing
        the code in <code class="literal">LoadPacket()</code> to enter an infinite
        loop.
       (<a href="http://bugs.mysql.com/46308" target="_top">Bug#46308</a>)</p></li><li><p>
        When using MySQL Connector/NET 6.0.4 and a MySQL Server 4.1 an exception was
        generated when trying to execute:
      </p><pre class="programlisting">connection.GetSchema("Columns", ...);
</pre><p>
        The exception generated was:
      </p><pre class="programlisting">'connection.GetSchema("Columns")' threw an exception of type
'System.ArgumentException'System.Data.DataTable {System.ArgumentException}
base{"Input string was not in a correct format.Couldn't store &lt;'Select'&gt; in
NUMERIC_PRECISION Column.  Expected type is UInt64."}System.Exception
{System.ArgumentException}
</pre><p>(<a href="http://bugs.mysql.com/46270" target="_top">Bug#46270</a>)</p></li><li><p>
        The MySQL Connector/NET method
        <code class="literal">StoredProcedure.GetParameters(string)</code> ignored
        the programmer's setting of the
        <code class="literal">UseProcedureBodies</code> option. This broke any
        application for which the application's parameter names did not
        match the parameter names in the Stored Procedure, resulting in
        an <code class="literal">ArgumentException</code> with the message
        “<span class="quote">Parameter 'foo' not found in the collection.</span>” and
        the following stack trace:
      </p><pre class="programlisting">MySql.Data.dll!MySql.Data.MySqlClient.MySqlParameterCollection.GetParameterFlexible(stri
ng parameterName = "pStart", bool throwOnNotFound = true) Line 459C#
MySql.Data.dll!MySql.Data.MySqlClient.StoredProcedure.Resolve() Line 157 + 0x25
bytesC#
MySql.Data.dll!MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(System.Data.CommandBeha
vior behavior = SequentialAccess) Line 405 + 0xb bytesC#
MySql.Data.dll!MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(System.Data.Comma
ndBehavior behavior = SequentialAccess) Line 884 + 0xb bytesC#
System.Data.dll!System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(System
.Data.CommandBehavior behavior) + 0xb bytes
System.Data.dll!System.Data.Common.DbDataAdapter.FillInternal(System.Data.DataSet
dataset = {System.Data.DataSet}, System.Data.DataTable[] datatables = null, int
startRecord = 0, int maxRecords = 0, string srcTable = "Table", System.Data.IDbCommand
command = {MySql.Data.MySqlClient.MySqlCommand}, System.Data.CommandBehavior behavior) +
0x83 bytes
System.Data.dll!System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet dataSet, int
startRecord, int maxRecords, string srcTable, System.Data.IDbCommand command,
System.Data.CommandBehavior behavior) + 0x120 bytes
System.Data.dll!System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet dataSet) +
0x5f bytes
</pre><p>(<a href="http://bugs.mysql.com/46213" target="_top">Bug#46213</a>)</p></li><li><p>
        Conversion of MySQL <code class="literal">TINYINT(1)</code> to
        <code class="literal">boolean</code> failed.
       (<a href="http://bugs.mysql.com/46205" target="_top">Bug#46205</a>, <a href="http://bugs.mysql.com/46359" target="_top">Bug#46359</a>, <a href="http://bugs.mysql.com/41953" target="_top">Bug#41953</a>)</p></li><li><p>
        When populating a MySQL database table in Visual Studio using
        the Table Editor, if a <code class="literal">VARCHAR(10)</code> column was
        changed to a <code class="literal">VARCHAR(20)</code> column an exception
        was generated:
      </p><pre class="programlisting">SystemArgumentException: DataGridViewComboBoxCell value is not valid.
To replace this default dialog please handle the DataError Event.</pre><p>(<a href="http://bugs.mysql.com/46100" target="_top">Bug#46100</a>)</p></li><li><p>
        The Entity Framework provider was not calling
        <code class="literal">DBSortExpression</code> correctly when the
        <code class="literal">Skip</code> and <code class="literal">Take</code> methods were
        used, such as in the following statement:
      </p><pre class="programlisting">TestModel.tblquarantine.OrderByDescending(q =&gt; q.MsgDate).Skip(100).Take(100).ToList();
</pre><p>
        This resulted in the data being unsorted.
       (<a href="http://bugs.mysql.com/45723" target="_top">Bug#45723</a>)</p></li><li><p>
        The MySQL Connector/NET 6.0.4 installer failed with an error. The error
        message generated was:
      </p><pre class="programlisting">There is a problem with this Windows Installer package. A DLL required for this
install to complete could not be run. Contact your support personnel or package vendor.
</pre><p>
        When <span class="guibutton">OK</span> was clicked to acknowledge the
        error the installer exited.
       (<a href="http://bugs.mysql.com/45474" target="_top">Bug#45474</a>)</p></li><li><p>
        Calling the Entity Framework <code class="literal">SaveChanges()</code>
        method of any MySQL ORM Entity with a column type
        <code class="literal">TIME</code>, generated an error message:
      </p><pre class="programlisting">Unknown PrimitiveKind Time</pre><p>(<a href="http://bugs.mysql.com/45457" target="_top">Bug#45457</a>)</p></li><li><p>
        Insert into two tables failed when using the Entity Framework.
        The exception generated was:
      </p><pre class="programlisting">The value given is not an instance of type 'Edm.Int32'
</pre><p>(<a href="http://bugs.mysql.com/45077" target="_top">Bug#45077</a>)</p></li><li><p>
        Errors occurred when using the Entity Framework with cultures
        that used a comma as the decimal separator. This was because the
        formatting for <code class="literal">SINGLE</code>,
        <code class="literal">DOUBLE</code> and <code class="literal">DECIMAL</code> values
        was not handled correctly.
       (<a href="http://bugs.mysql.com/44455" target="_top">Bug#44455</a>)</p></li><li><p>
        When attempting to connect to MySQL using the Compact Framework
        version of MySQL Connector/NET, an
        <code class="literal">IndexOutOfRangeException</code> exception was
        generated on trying to open the connection.
       (<a href="http://bugs.mysql.com/43736" target="_top">Bug#43736</a>)</p></li><li><p>
        When reading data, such as with a
        <code class="literal">MySqlDataAdapter</code> on a
        <code class="literal">MySqlConnection</code>, MySQL Connector/NET could potentially
        enter an infinite loop in
        <code class="literal">CompressedStream.ReadNextpacket()</code> if
        compression was enabled.
       (<a href="http://bugs.mysql.com/43678" target="_top">Bug#43678</a>)</p></li><li><p>
        An error occurred when building MySQL Connector/NET from source code checked
        out from the public SVN repository. This happened on Linux using
        Mono and Nant. The Mono JIT compiler version was 1.2.6.0. The
        Nant version was 0.85.
      </p><p>
        When an attempt was made to build (for example) the MySQL Connector/NET 5.2
        branch using the command:
      </p><pre class="programlisting">$ nant -buildfile:Client.build
</pre><p>
        The following error occurred:
      </p><pre class="programlisting">BUILD FAILED

Error loading buildfile.
Encoding name 'Windows-1252' not supported.
Parameter name: name
</pre><p>(<a href="http://bugs.mysql.com/42411" target="_top">Bug#42411</a>)</p></li><li><p>
        MySQL Connector/NET CHM documentation stated that MySQL Server 3.23 was
        supported.
       (<a href="http://bugs.mysql.com/42110" target="_top">Bug#42110</a>)</p></li><li><p>
        In the case of long network inactivity, especially when
        connection pooling was used, connections were sometimes dropped,
        for example, by firewalls.
      </p><p>
        Note: The bugfix introduced a new <code class="literal">keepalive</code>
        parameter, which prevents disconnects by sending an empty TCP
        packet after a specified timeout.
       (<a href="http://bugs.mysql.com/40684" target="_top">Bug#40684</a>)</p></li><li><p>
        Calling a Stored Procedure with an output parameter through
        MySQL Connector/NET resulted in a memory leak. Calling the same Stored
        Procedure without an output parameter did not result in a memory
        leak.
       (<a href="http://bugs.mysql.com/36027" target="_top">Bug#36027</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-1-0"></a>C.5.1.2. Changes in MySQL Connector/NET 6.1.0 (15 July 2009 alpha)</h4></div></div></div><p class="release-level">
        This is the first Alpha release of 6.1.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Changed GUID type - The backend representation of a guid type
        has been changed to be CHAR(36). This is so you can use the
        server UUID() function to populate a GUID table. UUID generates
        a 36 character string. Developers of older applications can add
        <code class="literal">old guids=true</code> to the connection string and
        the old BINARY(16) type will be used instead.
      </p></li><li><p>
        Support for native output parameters - This is supported when
        connected to a server that supports native output parameters.
        This includes 5.4 servers and 6.0.8 and later servers.
      </p></li><li><p>
        Session State Provider - This allows you to store the state of
        your website in a MySQL server.
      </p></li><li><p>
        Website Configuration Dialog - This is a new wizard that is
        activated by clicking a button on the toolbar at the top of the
        Visual Studio Solution Explorer. It works in conjunction with
        the ASP.Net administration pages, making it easier to activate
        and set advanced options for the different MySQL web providers
        included.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-6.0.x"></a>C.5.2. Changes in MySQL Connector/NET Version 6.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-6-0-5">C.5.2.1. Changes in MySQL Connector/NET 6.0.5 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-4">C.5.2.2. Changes in MySQL Connector/NET 6.0.4 (16 June 2009)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-3">C.5.2.3. Changes in MySQL Connector/NET 6.0.3 (28 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-2">C.5.2.4. Changes in MySQL Connector/NET 6.0.2 (07 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-1">C.5.2.5. Changes in MySQL Connector/NET 6.0.1 (02 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-0">C.5.2.6. Changes in MySQL Connector/NET 6.0.0 (02 March 2009 alpha)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-0-5"></a>C.5.2.1. Changes in MySQL Connector/NET 6.0.5 (Not yet released)</h4></div></div></div><p class="release-level">
        This is a new release, fixing recently discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        In the <code class="literal">MySqlDataReader</code> class the
        <code class="literal">GetSByte</code> function returned a
        <code class="literal">byte</code> value instead of an
        <code class="literal">sbyte</code> value.
       (<a href="http://bugs.mysql.com/46620" target="_top">Bug#46620</a>)</p></li><li><p>
        When trying to create stored procedures from a SQL script, a
        <code class="literal">MySqlException</code> was thrown when attempting to
        redefine the <code class="literal">DELIMITER</code>:
      </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlException was unhandled
  Message="You have an error in your SQL syntax; check the manual that corresponds to your
MySQL server version for the right syntax to use near 'DELIMITER' at line 1"
  Source="MySql.Data"
  ErrorCode=-2147467259
  Number=1064
  StackTrace:
       à MySql.Data.MySqlClient.MySqlStream.ReadPacket()
       à MySql.Data.MySqlClient.NativeDriver.ReadResult(UInt64&amp; affectedRows, Int64&amp;
lastInsertId)
       à MySql.Data.MySqlClient.MySqlDataReader.GetResultSet()
       à MySql.Data.MySqlClient.MySqlDataReader.NextResult()
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteReader()
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
       à MySql.Data.MySqlClient.MySqlScript.Execute()</pre><p>
        Note: The <code class="literal">MySqlScript</code> class has been fixed to
        support the delimiter statement as it is found in SQL scripts.
       (<a href="http://bugs.mysql.com/46429" target="_top">Bug#46429</a>)</p></li><li><p>
        The MySQL Connector/NET Profile Provider,
        <code class="literal">MySql.Web.Profile.MySQLProfileProvider</code>,
        generated an error when running on Mono. When an attempt was
        made to save a string in <code class="literal">Profile.Name</code> the
        string was not saved to the
        <code class="literal">my_aspnet_Profiles</code> table. If an attempt was
        made to force the save with <code class="literal">Profile.Save()</code>
        the following error was generated:
      </p><pre class="programlisting">Server Error in '/mono' Application

--------------------------------------------------------------------------------

The requested feature is not implemented.
Description: HTTP 500. Error processing request.

Stack Trace: 

System.NotImplementedException: The requested feature is not implemented.
  at MySql.Data.MySqlClient.MySqlConnection.EnlistTransaction
(System.Transactions.Transaction transaction) [0x00000] 
  at MySql.Data.MySqlClient.MySqlConnection.Open () [0x00000] 
  at MySql.Web.Profile.MySQLProfileProvider.SetPropertyValues
(System.Configuration.SettingsContext context,
System.Configuration.SettingsPropertyValueCollection collection) [0x00000] 
 

--------------------------------------------------------------------------------
Version information: Mono Version: 2.0.50727.1433; ASP.NET Version: 2.0.50727.1433
</pre><p>(<a href="http://bugs.mysql.com/46375" target="_top">Bug#46375</a>)</p></li><li><p>
        An exception was generated when using
        <code class="literal">TIMESTAMP</code> columns with the Entity Framework.
       (<a href="http://bugs.mysql.com/46311" target="_top">Bug#46311</a>)</p></li><li><p>
        MySQL Connector/NET sometimes hung, without generating an exception. This
        happened if a read from a stream failed returning a 0, causing
        the code in <code class="literal">LoadPacket()</code> to enter an infinite
        loop.
       (<a href="http://bugs.mysql.com/46308" target="_top">Bug#46308</a>)</p></li><li><p>
        When using MySQL Connector/NET 6.0.4 and a MySQL Server 4.1 an exception was
        generated when trying to execute:
      </p><pre class="programlisting">connection.GetSchema("Columns", ...);
</pre><p>
        The exception generated was:
      </p><pre class="programlisting">'connection.GetSchema("Columns")' threw an exception of type
'System.ArgumentException'System.Data.DataTable {System.ArgumentException}
base{"Input string was not in a correct format.Couldn't store &lt;'Select'&gt; in
NUMERIC_PRECISION Column.  Expected type is UInt64."}System.Exception
{System.ArgumentException}
</pre><p>(<a href="http://bugs.mysql.com/46270" target="_top">Bug#46270</a>)</p></li><li><p>
        The MySQL Connector/NET method
        <code class="literal">StoredProcedure.GetParameters(string)</code> ignored
        the programmer's setting of the
        <code class="literal">UseProcedureBodies</code> option. This broke any
        application for which the application's parameter names did not
        match the parameter names in the Stored Procedure, resulting in
        an <code class="literal">ArgumentException</code> with the message
        “<span class="quote">Parameter 'foo' not found in the collection.</span>” and
        the following stack trace:
      </p><pre class="programlisting">MySql.Data.dll!MySql.Data.MySqlClient.MySqlParameterCollection.GetParameterFlexible(stri
ng parameterName = "pStart", bool throwOnNotFound = true) Line 459C#
MySql.Data.dll!MySql.Data.MySqlClient.StoredProcedure.Resolve() Line 157 + 0x25
bytesC#
MySql.Data.dll!MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(System.Data.CommandBeha
vior behavior = SequentialAccess) Line 405 + 0xb bytesC#
MySql.Data.dll!MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(System.Data.Comma
ndBehavior behavior = SequentialAccess) Line 884 + 0xb bytesC#
System.Data.dll!System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(System
.Data.CommandBehavior behavior) + 0xb bytes
System.Data.dll!System.Data.Common.DbDataAdapter.FillInternal(System.Data.DataSet
dataset = {System.Data.DataSet}, System.Data.DataTable[] datatables = null, int
startRecord = 0, int maxRecords = 0, string srcTable = "Table", System.Data.IDbCommand
command = {MySql.Data.MySqlClient.MySqlCommand}, System.Data.CommandBehavior behavior) +
0x83 bytes
System.Data.dll!System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet dataSet, int
startRecord, int maxRecords, string srcTable, System.Data.IDbCommand command,
System.Data.CommandBehavior behavior) + 0x120 bytes
System.Data.dll!System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet dataSet) +
0x5f bytes
</pre><p>(<a href="http://bugs.mysql.com/46213" target="_top">Bug#46213</a>)</p></li><li><p>
        Conversion of MySQL <code class="literal">TINYINT(1)</code> to
        <code class="literal">boolean</code> failed.
       (<a href="http://bugs.mysql.com/46205" target="_top">Bug#46205</a>, <a href="http://bugs.mysql.com/46359" target="_top">Bug#46359</a>, <a href="http://bugs.mysql.com/41953" target="_top">Bug#41953</a>)</p></li><li><p>
        When populating a MySQL database table in Visual Studio using
        the Table Editor, if a <code class="literal">VARCHAR(10)</code> column was
        changed to a <code class="literal">VARCHAR(20)</code> column an exception
        was generated:
      </p><pre class="programlisting">SystemArgumentException: DataGridViewComboBoxCell value is not valid.
To replace this default dialog please handle the DataError Event.</pre><p>(<a href="http://bugs.mysql.com/46100" target="_top">Bug#46100</a>)</p></li><li><p>
        In MySQL Connector/NET 6.0.4 using <code class="literal">GetProcData</code> generated
        an error because the <code class="literal">parameters</code> data table
        was only created if MySQL Server was at least version 6.0.6, or
        if the <code class="literal">UseProcedureBodies</code> connection string
        option was set to true.
      </p><p>
        Also the <code class="literal">DeriveParameters</code> command generated a
        null reference exception. This was because the
        <code class="literal">parameters</code> data table, which was null, was
        used in a <code class="literal">for each</code> loop.
       (<a href="http://bugs.mysql.com/45952" target="_top">Bug#45952</a>)</p></li><li><p>
        The Entity Framework provider was not calling
        <code class="literal">DBSortExpression</code> correctly when the
        <code class="literal">Skip</code> and <code class="literal">Take</code> methods were
        used, such as in the following statement:
      </p><pre class="programlisting">TestModel.tblquarantine.OrderByDescending(q =&gt; q.MsgDate).Skip(100).Take(100).ToList();
</pre><p>
        This resulted in the data being unsorted.
       (<a href="http://bugs.mysql.com/45723" target="_top">Bug#45723</a>)</p></li><li><p>
        The <code class="literal">EscapeString</code> code carried out escaping by
        calling <code class="literal">string.Replace</code> multiple times. This
        resulted in a performance bottleneck, as for every line a new
        string was allocated and another was disposed of by the garbage
        collector.
       (<a href="http://bugs.mysql.com/45699" target="_top">Bug#45699</a>)</p></li><li><p>
        Adding the <code class="literal">Allow Batch=False</code> option to the
        connection string caused MySQL Connector/NET to generate the error:
      </p><pre class="programlisting">You have an error in your SQL syntax; check the manual that corresponds to your MySQL
server version for the right syntax to use near 'SET character_set_results=NULL' at line 1</pre><p>(<a href="http://bugs.mysql.com/45502" target="_top">Bug#45502</a>)</p></li><li><p>
        The MySQL Connector/NET 6.0.4 installer failed with an error. The error
        message generated was:
      </p><pre class="programlisting">There is a problem with this Windows Installer package. A DLL required for this
install to complete could not be run. Contact your support personnel or package vendor.
</pre><p>
        When <span class="guibutton">OK</span> was clicked to acknowledge the
        error the installer exited.
       (<a href="http://bugs.mysql.com/45474" target="_top">Bug#45474</a>)</p></li><li><p>
        A MySQL Connector/NET test program that connected to MySQL Server using the
        connection string option <code class="literal">compress=true</code>
        crashed, but only when running on Mono. The program worked as
        expected when running on Microsoft Windows.
      </p><p>
        This was due to a bug in Mono. MySQL Connector/NET was modified to avoid
        using <code class="literal">WeakReferences</code> in the
        <code class="literal">Compressed</code> stream class, which was causing
        the crash.
       (<a href="http://bugs.mysql.com/45463" target="_top">Bug#45463</a>)</p></li><li><p>
        Calling the Entity Framework <code class="literal">SaveChanges()</code>
        method of any MySQL ORM Entity with a column type
        <code class="literal">TIME</code>, generated an error message:
      </p><pre class="programlisting">Unknown PrimitiveKind Time</pre><p>(<a href="http://bugs.mysql.com/45457" target="_top">Bug#45457</a>)</p></li><li><p>
        Insert into two tables failed when using the Entity Framework.
        The exception generated was:
      </p><pre class="programlisting">The value given is not an instance of type 'Edm.Int32'
</pre><p>(<a href="http://bugs.mysql.com/45077" target="_top">Bug#45077</a>)</p></li><li><p>
        Errors occurred when using the Entity Framework with cultures
        that used a comma as the decimal separator. This was because the
        formatting for <code class="literal">SINGLE</code>,
        <code class="literal">DOUBLE</code> and <code class="literal">DECIMAL</code> values
        was not handled correctly.
       (<a href="http://bugs.mysql.com/44455" target="_top">Bug#44455</a>)</p></li><li><p>
        When attempting to connect to MySQL using the Compact Framework
        version of MySQL Connector/NET, an
        <code class="literal">IndexOutOfRangeException</code> exception was
        generated on trying to open the connection.
       (<a href="http://bugs.mysql.com/43736" target="_top">Bug#43736</a>)</p></li><li><p>
        When reading data, such as with a
        <code class="literal">MySqlDataAdapter</code> on a
        <code class="literal">MySqlConnection</code>, MySQL Connector/NET could potentially
        enter an infinite loop in
        <code class="literal">CompressedStream.ReadNextpacket()</code> if
        compression was enabled.
       (<a href="http://bugs.mysql.com/43678" target="_top">Bug#43678</a>)</p></li><li><p>
        An error occurred when building MySQL Connector/NET from source code checked
        out from the public SVN repository. This happened on Linux using
        Mono and Nant. The Mono JIT compiler version was 1.2.6.0. The
        Nant version was 0.85.
      </p><p>
        When an attempt was made to build (for example) the MySQL Connector/NET 5.2
        branch using the command:
      </p><pre class="programlisting">$ nant -buildfile:Client.build
</pre><p>
        The following error occurred:
      </p><pre class="programlisting">BUILD FAILED

Error loading buildfile.
Encoding name 'Windows-1252' not supported.
Parameter name: name
</pre><p>(<a href="http://bugs.mysql.com/42411" target="_top">Bug#42411</a>)</p></li><li><p>
        After a Reference to "C:\Program Files\MySQL\MySQL Connector Net
        5.2.4\Compact Framework\MySql.Data.CF.dll" was added to a
        Windows Mobile 5.0 project, the project then failed to build,
        generating a Microsoft Visual C# compiler error.
      </p><p>
        The error generated was:
      </p><pre class="programlisting">Error 2 The type 'System.Runtime.CompilerServices.CompilerGeneratedAttribute' 
has no constructors defined MysqlTest
Error 3 Internal Compiler Error (0xc0000005 at address 5A7E3714): 
likely culprit is 'COMPILE'.</pre><p>(<a href="http://bugs.mysql.com/42261" target="_top">Bug#42261</a>)</p></li><li><p>
        MySQL Connector/NET CHM documentation stated that MySQL Server 3.23 was
        supported.
       (<a href="http://bugs.mysql.com/42110" target="_top">Bug#42110</a>)</p></li><li><p>
        In the case of long network inactivity, especially when
        connection pooling was used, connections were sometimes dropped,
        for example, by firewalls.
      </p><p>
        Note: The bugfix introduced a new <code class="literal">keepalive</code>
        parameter, which prevents disconnects by sending an empty TCP
        packet after a specified timeout.
       (<a href="http://bugs.mysql.com/40684" target="_top">Bug#40684</a>)</p></li><li><p>
        MySQL Connector/NET generated the following exception:
      </p><pre class="programlisting">System.NullReferenceException: Object reference not set to an instance of an object.
   bei MySql.Data.MySqlClient.MySqlCommand.TimeoutExpired(Object commandObject)
   bei System.Threading._TimerCallback.TimerCallback_Context(Object state)
   bei System.Threading.ExecutionContext.runTryCode(Object userData)
   bei
System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode
code, CleanupCode backoutCode, Object userData)
   bei System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext,
ContextCallback callback, Object state)
   bei System.Threading.ExecutionContext.Run(ExecutionContext executionContext,
ContextCallback callback, Object state)
   bei System.Threading._TimerCallback.PerformTimerCallback(Object state)</pre><p>(<a href="http://bugs.mysql.com/40005" target="_top">Bug#40005</a>)</p></li><li><p>
        Calling a Stored Procedure with an output parameter through
        MySQL Connector/NET resulted in a memory leak. Calling the same Stored
        Procedure without an output parameter did not result in a memory
        leak.
       (<a href="http://bugs.mysql.com/36027" target="_top">Bug#36027</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-0-4"></a>C.5.2.2. Changes in MySQL Connector/NET 6.0.4 (16 June 2009)</h4></div></div></div><p class="release-level">
        This is the first post-GA release, fixing recently discovered
        bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        If a certain socket exception occurred when trying to establish
        a MySQL database connection, MySQL Connector/NET displayed an exception
        message that appeared to be unrelated to the underlying problem.
        This masked the problem and made diagnosing problems more
        difficult.
      </p><p>
        For example, if, when establishing a database connection via
        TCP/IP, Windows on the local machine allocated an ephemeral port
        that conflicted with a socket address still in use, then
        Windows/.NET would throw a socket exception with the following
        error text:
      </p><pre class="programlisting">Only one usage of each socket address (protocol/network address/port) is normally
permitted <em class="replaceable"><code>IP ADDRESS/PORT</code></em>.</pre><p>
        However, MySQL Connector/NET masked this socket exception and displayed an
        exception with the following text:
      </p><pre class="programlisting">Unable to connect to any of the specified MySQL hosts.</pre><p>(<a href="http://bugs.mysql.com/45021" target="_top">Bug#45021</a>)</p></li><li><p>
        A SQL query string containing an escaped backslash caused an
        exception to be generated:
      </p><pre class="programlisting">Index and length must refer to a location within the string.
Parameter name: length
at System.String.InternalSubStringWithChecks(Int32 startIndex, Int32 length, Boolean
fAlwaysCopy)
at MySql.Data.MySqlClient.MySqlTokenizer.NextParameter()
at MySql.Data.MySqlClient.Statement.InternalBindParameters(String sql,
MySqlParameterCollection parameters, MySqlPacket packet)
at MySql.Data.MySqlClient.Statement.BindParameters()
at MySql.Data.MySqlClient.PreparableStatement.Execute()
at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior be‎havior)
at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()</pre><p>(<a href="http://bugs.mysql.com/44960" target="_top">Bug#44960</a>)</p></li><li><p>
        The Microsoft Visual Studio solution file
        <code class="filename">MySQL-VS2005.sln</code> was invalid. Several
        projects could not be loaded and thus it was not possible to
        build MySQL Connector/NET from source.
       (<a href="http://bugs.mysql.com/44822" target="_top">Bug#44822</a>)</p></li><li><p>
        The Data Set editor generated an error when attempts were made
        to modify insert, update or delete commands:
      </p><pre class="programlisting">Error in WHERE clause near '@'.
Unable to parse query text.</pre><p>(<a href="http://bugs.mysql.com/44512" target="_top">Bug#44512</a>)</p></li><li><p>
        The DataReader in MySQL Connector/NET 6.0.3 considered a BINARY(16) field as
        a GUID with a length of 16.
       (<a href="http://bugs.mysql.com/44507" target="_top">Bug#44507</a>)</p></li><li><p>
        When creating a new DataSet the following error was generated:
      </p><pre class="programlisting">Failed to open a connection to database.
Cannot load type with name 'MySQL.Data.VisualStudio.StoredProcedureColumnEnumerator'</pre><p>(<a href="http://bugs.mysql.com/44460" target="_top">Bug#44460</a>)</p></li><li><p>
        The MySQL Connector/NET MySQLRoleProvider reported that there were no roles,
        even when roles existed.
       (<a href="http://bugs.mysql.com/44414" target="_top">Bug#44414</a>)</p></li><li><p>
        MySQL Connector/NET was missing the capability to validate the server's
        certificate when using encryption. This made it possible to
        conduct a man-in-the-middle attack against the connection, which
        defeated the security provided by SSL.
       (<a href="http://bugs.mysql.com/38700" target="_top">Bug#38700</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-0-3"></a>C.5.2.3. Changes in MySQL Connector/NET 6.0.3 (28 April 2009)</h4></div></div></div><p class="release-level">
        First GA release.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">MySqlTokenizer</code> failed to split fieldnames
        from values if they were not separated by a space. This also
        happened if the string contained certain characters. As a result
        <code class="literal">MySqlCommand.ExecuteNonQuery</code> raised an index
        out of range exception.
      </p><p>
        The resulting errors are illustrated by the following examples.
        Note, the example statements do not have delimiting spaces
        around the <code class="literal">=</code> operator.
      </p><pre class="programlisting">INSERT INTO anytable SET Text='test--test';</pre><p>
        The tokenizer incorrectly interpreted the value as containing a
        comment.
      </p><pre class="programlisting">UPDATE anytable SET Project='123-456',Text='Can you explain this ?',Duration=15 WHERE
ID=4711;'</pre><p>
        A <code class="literal">MySqlException</code> was generated, as the
        <code class="literal">?</code> in the value was interpreted by the
        tokenizer as a parameter sign. The error message generated was:
      </p><pre class="programlisting">Fatal error encountered during command execution.
EXCEPTION: MySqlException - Parameter '?'' must be defined.</pre><p>(<a href="http://bugs.mysql.com/44318" target="_top">Bug#44318</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySQL.Data</code> was not displayed as a Reference
        inside Microsoft Visual Studio 2008 Professional.
      </p><p>
        When a new C# project was created in Microsoft Visual Studio
        2008 Professional, <code class="literal">MySQL.Data</code> was not
        displayed when <span class="guimenu">References</span>, <span class="guimenu">Add
        Reference</span> was selected.
       (<a href="http://bugs.mysql.com/44141" target="_top">Bug#44141</a>)</p></li><li><p>
        Column types for <code class="literal">SchemaProvider</code> and
        <code class="literal">ISSchemaProvider</code> did not match.
      </p><p>
        When the source code in <code class="filename">SchemaProvider.cs</code>
        and <code class="filename">ISSchemaProvider.cs</code> were compared it
        was apparent that they were not using the same column types. The
        base provider used SQL such as <code class="literal">SHOW CREATE
        TABLE</code>, while <code class="literal">ISSchemaProvider</code> used
        the schema information tables. Column types used by the base
        class were <code class="literal">INT64</code> and the column types used by
        <code class="literal">ISSchemaProvider</code> were
        <code class="literal">UNSIGNED</code>.
       (<a href="http://bugs.mysql.com/44123" target="_top">Bug#44123</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-0-2"></a>C.5.2.4. Changes in MySQL Connector/NET 6.0.2 (07 April 2009 beta)</h4></div></div></div><p class="release-level">
        This is a new development release, fixing recently discovered
        bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/NET 6.0.1 did not load in Microsoft Visual Studio 2008 and
        Visual Studio 2005 Pro.
      </p><p>
        The following error message was generated:
      </p><pre class="programlisting">.NET Framework Data Provider for MySQL: The data provider object factory service was not
found.</pre><p>(<a href="http://bugs.mysql.com/44064" target="_top">Bug#44064</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-0-1"></a>C.5.2.5. Changes in MySQL Connector/NET 6.0.1 (02 April 2009 beta)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An insert and update error was generated by the decimal data
        type in the Entity Framework, when a German collation was used.
       (<a href="http://bugs.mysql.com/43574" target="_top">Bug#43574</a>)</p></li><li><p>
        Generating an Entity Data Model (EDM) schema with a table
        containing columns with data types <code class="literal">MEDIUMTEXT</code>
        and <code class="literal">LONGTEXT</code> generated a runtime error
        message “<span class="quote">Max value too long or too short for
        Int32</span>”.
       (<a href="http://bugs.mysql.com/43480" target="_top">Bug#43480</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-6-0-0"></a>C.5.2.6. Changes in MySQL Connector/NET 6.0.0 (02 March 2009 alpha)</h4></div></div></div><p class="release-level">
        This is a new Alpha development release.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A null reference exception was generated when
        <code class="literal">MySqlConnection.ClearPool(connection)</code> was
        called.
       (<a href="http://bugs.mysql.com/42801" target="_top">Bug#42801</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-5.3.x"></a>C.5.3. Changes in MySQL Connector/NET Version 5.3.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-5-3-0">C.5.3.1. Changes in MySQL Connector/NET 5.3.0 (Not yet released)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-3-0"></a>C.5.3.1. Changes in MySQL Connector/NET 5.3.0 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Web Provider did not work at all on a remote host, and did
        not create a database when using
        <code class="literal">autogenerateschema="true"</code>.
       (<a href="http://bugs.mysql.com/39072" target="_top">Bug#39072</a>)</p></li><li><p>
        The MySQL Connector/NET installer program ended prematurely without reporting
        the specific error.
       (<a href="http://bugs.mysql.com/39019" target="_top">Bug#39019</a>)</p></li><li><p>
        When called with an incorrect password the
        <code class="methodname">MembershipProvider.GetPassword()</code> method
        threw a
        <code class="exceptionname">MySQLException</code>
        instead of a
        <code class="exceptionname">MembershipPasswordException</code>
        .
       (<a href="http://bugs.mysql.com/38939" target="_top">Bug#38939</a>)</p></li><li><p>
        Possible overflow in
        <code class="methodname">MySqlPacket.ReadLong()</code>.
       (<a href="http://bugs.mysql.com/36997" target="_top">Bug#36997</a>)</p></li><li><p>
        The <code class="methodname">TokenizeSql</code> method was adding query
        overhead and causing high CPU utilization for larger queries.
       (<a href="http://bugs.mysql.com/36836" target="_top">Bug#36836</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-5.2.x"></a>C.5.4. Changes in MySQL Connector/NET Version 5.2.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-5-2-8">C.5.4.1. Changes in MySQL Connector/NET 5.2.8 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-7">C.5.4.2. Changes in MySQL Connector/NET 5.2.7 (15 July 2009)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-6">C.5.4.3. Changes in MySQL Connector/NET 5.2.6 (28 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-5">C.5.4.4. Changes in MySQL Connector/NET 5.2.5 (19 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-4">C.5.4.5. Changes in MySQL Connector/NET 5.2.4 (13 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-3">C.5.4.6. Changes in MySQL Connector/NET 5.2.3 (19 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-2">C.5.4.7. Changes in MySQL Connector/NET 5.2.2 (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-1">C.5.4.8. Changes in MySQL Connector/NET 5.2.1 (27 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-0">C.5.4.9. Changes in MySQL Connector/NET 5.2.0 (11 February 2008)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-8"></a>C.5.4.1. Changes in MySQL Connector/NET 5.2.8 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        In the <code class="literal">MySqlDataReader</code> class the
        <code class="literal">GetSByte</code> function returned a
        <code class="literal">byte</code> value instead of an
        <code class="literal">sbyte</code> value.
       (<a href="http://bugs.mysql.com/46620" target="_top">Bug#46620</a>)</p></li><li><p>
        When trying to create stored procedures from a SQL script, a
        <code class="literal">MySqlException</code> was thrown when attempting to
        redefine the <code class="literal">DELIMITER</code>:
      </p><pre class="programlisting">MySql.Data.MySqlClient.MySqlException was unhandled
  Message="You have an error in your SQL syntax; check the manual that corresponds to your
MySQL server version for the right syntax to use near 'DELIMITER' at line 1"
  Source="MySql.Data"
  ErrorCode=-2147467259
  Number=1064
  StackTrace:
       à MySql.Data.MySqlClient.MySqlStream.ReadPacket()
       à MySql.Data.MySqlClient.NativeDriver.ReadResult(UInt64&amp; affectedRows, Int64&amp;
lastInsertId)
       à MySql.Data.MySqlClient.MySqlDataReader.GetResultSet()
       à MySql.Data.MySqlClient.MySqlDataReader.NextResult()
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteReader()
       à MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
       à MySql.Data.MySqlClient.MySqlScript.Execute()</pre><p>
        Note: The <code class="literal">MySqlScript</code> class has been fixed to
        support the delimiter statement as it is found in SQL scripts.
       (<a href="http://bugs.mysql.com/46429" target="_top">Bug#46429</a>)</p></li><li><p>
        The MySQL Connector/NET Profile Provider,
        <code class="literal">MySql.Web.Profile.MySQLProfileProvider</code>,
        generated an error when running on Mono. When an attempt was
        made to save a string in <code class="literal">Profile.Name</code> the
        string was not saved to the
        <code class="literal">my_aspnet_Profiles</code> table. If an attempt was
        made to force the save with <code class="literal">Profile.Save()</code>
        the following error was generated:
      </p><pre class="programlisting">Server Error in '/mono' Application

--------------------------------------------------------------------------------

The requested feature is not implemented.
Description: HTTP 500. Error processing request.

Stack Trace: 

System.NotImplementedException: The requested feature is not implemented.
  at MySql.Data.MySqlClient.MySqlConnection.EnlistTransaction
(System.Transactions.Transaction transaction) [0x00000] 
  at MySql.Data.MySqlClient.MySqlConnection.Open () [0x00000] 
  at MySql.Web.Profile.MySQLProfileProvider.SetPropertyValues
(System.Configuration.SettingsContext context,
System.Configuration.SettingsPropertyValueCollection collection) [0x00000] 
 

--------------------------------------------------------------------------------
Version information: Mono Version: 2.0.50727.1433; ASP.NET Version: 2.0.50727.1433
</pre><p>(<a href="http://bugs.mysql.com/46375" target="_top">Bug#46375</a>)</p></li><li><p>
        When using MySQL Connector/NET 6.0.4 and a MySQL Server 4.1 an exception was
        generated when trying to execute:
      </p><pre class="programlisting">connection.GetSchema("Columns", ...);
</pre><p>
        The exception generated was:
      </p><pre class="programlisting">'connection.GetSchema("Columns")' threw an exception of type
'System.ArgumentException'System.Data.DataTable {System.ArgumentException}
base{"Input string was not in a correct format.Couldn't store &lt;'Select'&gt; in
NUMERIC_PRECISION Column.  Expected type is UInt64."}System.Exception
{System.ArgumentException}
</pre><p>(<a href="http://bugs.mysql.com/46270" target="_top">Bug#46270</a>)</p></li><li><p>
        The MySQL Connector/NET method
        <code class="literal">StoredProcedure.GetParameters(string)</code> ignored
        the programmer's setting of the
        <code class="literal">UseProcedureBodies</code> option. This broke any
        application for which the application's parameter names did not
        match the parameter names in the Stored Procedure, resulting in
        an <code class="literal">ArgumentException</code> with the message
        “<span class="quote">Parameter 'foo' not found in the collection.</span>” and
        the following stack trace:
      </p><pre class="programlisting">MySql.Data.dll!MySql.Data.MySqlClient.MySqlParameterCollection.GetParameterFlexible(stri
ng parameterName = "pStart", bool throwOnNotFound = true) Line 459C#
MySql.Data.dll!MySql.Data.MySqlClient.StoredProcedure.Resolve() Line 157 + 0x25
bytesC#
MySql.Data.dll!MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(System.Data.CommandBeha
vior behavior = SequentialAccess) Line 405 + 0xb bytesC#
MySql.Data.dll!MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(System.Data.Comma
ndBehavior behavior = SequentialAccess) Line 884 + 0xb bytesC#
System.Data.dll!System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(System
.Data.CommandBehavior behavior) + 0xb bytes
System.Data.dll!System.Data.Common.DbDataAdapter.FillInternal(System.Data.DataSet
dataset = {System.Data.DataSet}, System.Data.DataTable[] datatables = null, int
startRecord = 0, int maxRecords = 0, string srcTable = "Table", System.Data.IDbCommand
command = {MySql.Data.MySqlClient.MySqlCommand}, System.Data.CommandBehavior behavior) +
0x83 bytes
System.Data.dll!System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet dataSet, int
startRecord, int maxRecords, string srcTable, System.Data.IDbCommand command,
System.Data.CommandBehavior behavior) + 0x120 bytes
System.Data.dll!System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet dataSet) +
0x5f bytes
</pre><p>(<a href="http://bugs.mysql.com/46213" target="_top">Bug#46213</a>)</p></li><li><p>
        Conversion of MySQL <code class="literal">TINYINT(1)</code> to
        <code class="literal">boolean</code> failed.
       (<a href="http://bugs.mysql.com/46205" target="_top">Bug#46205</a>, <a href="http://bugs.mysql.com/46359" target="_top">Bug#46359</a>, <a href="http://bugs.mysql.com/41953" target="_top">Bug#41953</a>)</p></li><li><p>
        When reading data, such as with a
        <code class="literal">MySqlDataAdapter</code> on a
        <code class="literal">MySqlConnection</code>, MySQL Connector/NET could potentially
        enter an infinite loop in
        <code class="literal">CompressedStream.ReadNextpacket()</code> if
        compression was enabled.
       (<a href="http://bugs.mysql.com/43678" target="_top">Bug#43678</a>)</p></li><li><p>
        An error occurred when building MySQL Connector/NET from source code checked
        out from the public SVN repository. This happened on Linux using
        Mono and Nant. The Mono JIT compiler version was 1.2.6.0. The
        Nant version was 0.85.
      </p><p>
        When an attempt was made to build (for example) the MySQL Connector/NET 5.2
        branch using the command:
      </p><pre class="programlisting">$ nant -buildfile:Client.build
</pre><p>
        The following error occurred:
      </p><pre class="programlisting">BUILD FAILED

Error loading buildfile.
Encoding name 'Windows-1252' not supported.
Parameter name: name
</pre><p>(<a href="http://bugs.mysql.com/42411" target="_top">Bug#42411</a>)</p></li><li><p>
        MySQL Connector/NET CHM documentation stated that MySQL Server 3.23 was
        supported.
       (<a href="http://bugs.mysql.com/42110" target="_top">Bug#42110</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-7"></a>C.5.4.2. Changes in MySQL Connector/NET 5.2.7 (15 July 2009)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">EscapeString</code> code carried out escaping by
        calling <code class="literal">string.Replace</code> multiple times. This
        resulted in a performance bottleneck, as for every line a new
        string was allocated and another was disposed of by the garbage
        collector.
       (<a href="http://bugs.mysql.com/45699" target="_top">Bug#45699</a>)</p></li><li><p>
        A MySQL Connector/NET test program that connected to MySQL Server using the
        connection string option <code class="literal">compress=true</code>
        crashed, but only when running on Mono. The program worked as
        expected when running on Microsoft Windows.
      </p><p>
        This was due to a bug in Mono. MySQL Connector/NET was modified to avoid
        using <code class="literal">WeakReferences</code> in the
        <code class="literal">Compressed</code> stream class, which was causing
        the crash.
       (<a href="http://bugs.mysql.com/45463" target="_top">Bug#45463</a>)</p></li><li><p>
        If a certain socket exception occurred when trying to establish
        a MySQL database connection, MySQL Connector/NET displayed an exception
        message that appeared to be unrelated to the underlying problem.
        This masked the problem and made diagnosing problems more
        difficult.
      </p><p>
        For example, if, when establishing a database connection via
        TCP/IP, Windows on the local machine allocated an ephemeral port
        that conflicted with a socket address still in use, then
        Windows/.NET would throw a socket exception with the following
        error text:
      </p><pre class="programlisting">Only one usage of each socket address (protocol/network address/port) is normally
permitted <em class="replaceable"><code>IP ADDRESS/PORT</code></em>.</pre><p>
        However, MySQL Connector/NET masked this socket exception and displayed an
        exception with the following text:
      </p><pre class="programlisting">Unable to connect to any of the specified MySQL hosts.</pre><p>(<a href="http://bugs.mysql.com/45021" target="_top">Bug#45021</a>)</p></li><li><p>
        The Microsoft Visual Studio solution file
        <code class="filename">MySQL-VS2005.sln</code> was invalid. Several
        projects could not be loaded and thus it was not possible to
        build MySQL Connector/NET from source.
       (<a href="http://bugs.mysql.com/44822" target="_top">Bug#44822</a>)</p></li><li><p>
        The MySQL Connector/NET MySQLRoleProvider reported that there were no roles,
        even when roles existed.
       (<a href="http://bugs.mysql.com/44414" target="_top">Bug#44414</a>)</p></li><li><p>
        After a Reference to "C:\Program Files\MySQL\MySQL Connector Net
        5.2.4\Compact Framework\MySql.Data.CF.dll" was added to a
        Windows Mobile 5.0 project, the project then failed to build,
        generating a Microsoft Visual C# compiler error.
      </p><p>
        The error generated was:
      </p><pre class="programlisting">Error 2 The type 'System.Runtime.CompilerServices.CompilerGeneratedAttribute' 
has no constructors defined MysqlTest
Error 3 Internal Compiler Error (0xc0000005 at address 5A7E3714): 
likely culprit is 'COMPILE'.</pre><p>(<a href="http://bugs.mysql.com/42261" target="_top">Bug#42261</a>)</p></li><li><p>
        MySQL Connector/NET generated the following exception:
      </p><pre class="programlisting">System.NullReferenceException: Object reference not set to an instance of an object.
   bei MySql.Data.MySqlClient.MySqlCommand.TimeoutExpired(Object commandObject)
   bei System.Threading._TimerCallback.TimerCallback_Context(Object state)
   bei System.Threading.ExecutionContext.runTryCode(Object userData)
   bei
System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode
code, CleanupCode backoutCode, Object userData)
   bei System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext,
ContextCallback callback, Object state)
   bei System.Threading.ExecutionContext.Run(ExecutionContext executionContext,
ContextCallback callback, Object state)
   bei System.Threading._TimerCallback.PerformTimerCallback(Object state)</pre><p>(<a href="http://bugs.mysql.com/40005" target="_top">Bug#40005</a>)</p></li><li><p>
        When a TableAdapter was created on a DataSet, it was not
        possible to use a stored procedure with variables. The following
        error was generated:
      </p><pre class="programlisting">The method or operation is not implemented</pre><p>(<a href="http://bugs.mysql.com/39409" target="_top">Bug#39409</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-6"></a>C.5.4.3. Changes in MySQL Connector/NET 5.2.6 (28 April 2009)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A new connection string option has been added: <code class="literal">use
        affected rows</code>. When <code class="literal">true</code> the
        connection will report changed rows instead of found rows.
       (<a href="http://bugs.mysql.com/44194" target="_top">Bug#44194</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calling <code class="literal">GetSchema()</code> on
        <code class="literal">Indexes</code> or <code class="literal">IndexColumns</code>
        failed where index or column names were restricted.
      </p><p>
        In <code class="filename">SchemaProvider.cs</code>, methods
        <code class="literal">GetIndexes()</code> and
        <code class="literal">GetIndexColumns()</code> passed their restrictions
        directly to <code class="literal">GetTables()</code>. This only worked if
        the restrictions were no more specific than
        <code class="literal">schemaName</code> and <code class="literal">tableName</code>.
        If <code class="literal">IndexName</code> was given, this was passed to
        <code class="literal">GetTables()</code> where it was treated as
        <code class="literal">TableType</code>. As a result no tables were
        returned, unless the index name happened to be <code class="literal">BASE
        TABLE</code> or <code class="literal">VIEW</code>. This meant that both
        methods failed to return any rows.
       (<a href="http://bugs.mysql.com/43991" target="_top">Bug#43991</a>)</p></li><li><p>
        <code class="literal">GetSchema("MetaDataCollections")</code> should have
        returned a table with a column named
        “<span class="quote">NumberOfRestrictions</span>” not
        “<span class="quote">NumberOfRestriction</span>”.
      </p><p>
        This can be confirmed by referencing the
        <a href="http://msdn.microsoft.com/en-us/library/system.data.common.dbmetadatacolumnnames.numberofrestrictions.aspx" target="_top">Microsoft
        Documentation</a>.
       (<a href="http://bugs.mysql.com/43990" target="_top">Bug#43990</a>)</p></li><li><p>
        Requests sent to the MySQL Connector/NET role provider to remove a user from
        a role failed. The query log showed the query was correctly
        executed within a transaction which was immediately rolled back.
        The rollback was caused by a missing call to the
        <code class="literal">Complete</code> method of the transaction.
       (<a href="http://bugs.mysql.com/43553" target="_top">Bug#43553</a>)</p></li><li><p>
        When using <code class="literal">MySqlBulkLoader.Load()</code>, the text
        file is opened by
        <code class="literal">NativeDriver.SendFileToServer</code>. If it
        encountered a problem opening the file as a stream, an exception
        was generated and caught. An attempt to clean up resources was
        then made in the <code class="literal">finally{}</code> clause by calling
        <code class="literal">fs.Close()</code>, but since the stream was never
        successfully opened, this was an attempt to execute a method of
        a null reference.
       (<a href="http://bugs.mysql.com/43332" target="_top">Bug#43332</a>)</p></li><li><p>
        A null reference exception was generated when
        <code class="literal">MySqlConnection.ClearPool(connection)</code> was
        called.
       (<a href="http://bugs.mysql.com/42801" target="_top">Bug#42801</a>)</p></li><li><p>
        <code class="literal">MySQLMembershipProvider.ValidateUser</code> only
        used the <code class="literal">userId</code> to validate. However, it
        should also use the <code class="literal">applicationId</code> to perform
        the validation correctly.
      </p><p>
        The generated query was, for example:
      </p><pre class="programlisting">SELECT Password, PasswordKey, PasswordFormat, IsApproved, Islockedout
FROM my_aspnet_Membership WHERE userId=13</pre><p>
        Note that <code class="literal">applicationId</code> is not used.
       (<a href="http://bugs.mysql.com/42574" target="_top">Bug#42574</a>)</p></li><li><p>
        There was an error in the <code class="literal">ProfileProvider</code>
        class in the <code class="literal">private ProfileInfoCollection
        GetProfiles()</code> function. The column of the final table
        was named “<span class="quote">lastUpdatdDate</span>” ('e' is
        missing) instead of the correct “<span class="quote">lastUpdatedDate</span>”.
       (<a href="http://bugs.mysql.com/41654" target="_top">Bug#41654</a>)</p></li><li><p>
        The <code class="methodname">GetGuid()</code> method of
        <code class="classname">MySqlDataReader</code> did not treat
        <code class="literal">BINARY(16)</code> column data as a GUID. When
        operating on such a column a <code class="literal">FormatException</code>
        exception was generated.
       (<a href="http://bugs.mysql.com/41452" target="_top">Bug#41452</a>)</p></li><li><p>
        When ASP.NET membership was configured to not require password
        question and answer using
        <code class="literal">requiresQuestionAndAnswer="false"</code>, a
        <code class="literal">SqlNullValueException</code> was generated when
        using <code class="literal">MembershipUser.ResetPassword()</code> to reset
        the user password.
       (<a href="http://bugs.mysql.com/41408" target="_top">Bug#41408</a>)</p></li><li><p>
        If a <code class="literal">Stored Procedure</code> contained spaces in its
        parameter list, and was then called from MySQL Connector/NET, an exception
        was generated. However, the same <code class="literal">Stored
        Procedure</code> called from the MySQL Query Analyzer or the
        MySQL Client worked correctly.
      </p><p>
        The exception generated was:
      </p><pre class="programlisting">Parameter '0' not found in the collection.
</pre><p>(<a href="http://bugs.mysql.com/41034" target="_top">Bug#41034</a>)</p></li><li><p>
        The <code class="literal">DATETIME</code> format contained an erroneous
        space.
       (<a href="http://bugs.mysql.com/41021" target="_top">Bug#41021</a>)</p></li><li><p>
        When <code class="literal">MySql.Web.Profile.MySQLProfileProvider</code>
        was configured, it was not possible to assign a name other than
        the default name <code class="literal">MySQLProfileProvider</code>.
      </p><p>
        If the name <code class="literal">SCC_MySQLProfileProvider</code> was
        assigned, an exception was generated when attempting to use
        <code class="literal">Page.Context.Profile['custom prop']</code>.
      </p><p>
        The exception generated was:
      </p><pre class="programlisting">The profile default provider was not found.</pre><p>
        Note that the exception stated: 'the profile
        <span class="bold"><strong>default provider</strong></span>...', even
        though a different name was explicitly requested.
       (<a href="http://bugs.mysql.com/40871" target="_top">Bug#40871</a>)</p></li><li><p>
        When <code class="literal">ExecuteNonQuery</code> was called with a
        command type of <code class="literal">Stored Procedure</code> it worked
        for one user but resulted in a hang for another user with the
        same database permissions.
      </p><p>
        However, if <code class="literal">CALL</code> was used in the command text
        and <code class="literal">ExecuteNonQuery</code> was used with a command
        type of <code class="literal">Text</code>, the call worked for both users.
       (<a href="http://bugs.mysql.com/40139" target="_top">Bug#40139</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-5"></a>C.5.4.4. Changes in MySQL Connector/NET 5.2.5 (19 November 2008)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Visual Studio 2008 displayed the following error three times on
        start-up:
      </p><pre class="programlisting">"Package Load Failure

Package 'MySql.Data.VisualStudio.MySqlDataProviderPackage, MySql.VisualStudio,
Version=5.2.4, Culture=neutral, PublicKeyTopen=null' has failed to load properly (GUID =
{79A115C9-B133-4891-9E7B-242509DAD272}).  Please contact the package vendor for
assistance.  Application restart is recommended, due to possible environment corruption.
Would you like to disable loading the package in the future?  You may use
'devenve/resetskippkgs' to re-enable package loading."
</pre><p>(<a href="http://bugs.mysql.com/40726" target="_top">Bug#40726</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-4"></a>C.5.4.5. Changes in MySQL Connector/NET 5.2.4 (13 November 2008)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlDataReader</code> did not feature a
        <code class="literal">GetSByte</code> method.
       (<a href="http://bugs.mysql.com/40571" target="_top">Bug#40571</a>)</p></li><li><p>
        When working with stored procedures MySQL Connector/NET generated an
        exception <code class="literal">Unknown "table parameters" in
        information_schema</code>.
       (<a href="http://bugs.mysql.com/40382" target="_top">Bug#40382</a>)</p></li><li><p>
        <code class="literal">GetDefaultCollation</code> and
        <code class="literal">GetMaxLength</code> were not thread safe. These
        functions called the database to get a set of parameters and
        cached them in two static dictionaries in the function
        <code class="literal">InitCollections</code>. However, if many threads
        called them they would try to insert the same keys in the
        collections resulting in duplicate key exceptions.
       (<a href="http://bugs.mysql.com/40231" target="_top">Bug#40231</a>)</p></li><li><p>
        If connection pooling was not set explicitly in the connection
        string, MySQL Connector/NET added “<span class="quote">;Pooling=False</span>” to the end of
        the connection string when
        <code class="literal">MySqlCommand.ExecuteReader()</code> was called.
      </p><p>
        If connection pooling was explicitly set in the connection
        string, when <code class="literal">MySqlConnection.Open()</code> was
        called it converted “<span class="quote">Pooling=True</span>” to
        “<span class="quote">pooling=True</span>”.
      </p><p>
        If <code class="literal">MySqlCommand.ExecuteReader()</code> was
        subsequently called, it concatenated
        “<span class="quote">;Pooling=False</span>” to the end of the connection
        string. The resulting connection string was thus terminated with
        “<span class="quote">pooling=True;Pooling=False</span>”. This disabled
        connection pooling completely.
       (<a href="http://bugs.mysql.com/40091" target="_top">Bug#40091</a>)</p></li><li><p>
        The connection string option <code class="literal">Functions Return
        String</code> did not set the correct encoding for the result
        string. Even though the connection string option
        <code class="literal">Functions Return String=true;</code> is set, the
        result of <code class="literal">SELECT DES_DECRYPT()</code> contained
        “<span class="quote">??</span>” instead of the correct national character
        symbols.
       (<a href="http://bugs.mysql.com/40076" target="_top">Bug#40076</a>)</p></li><li><p>
        If, when using the <code class="classname">MySqlTransaction</code>
        transaction object, an exception was thrown, the transaction
        object was not disposed of and the transaction was not rolled
        back.
       (<a href="http://bugs.mysql.com/39817" target="_top">Bug#39817</a>)</p></li><li><p>
        After the <code class="literal">ConnectionString</code> property was
        initialized via the public setter of
        <code class="classname">DbConnectionStringBuilder</code>, the
        <code class="methodname">GetConnectionString</code> method of
        <code class="classname">MySqlConnectionStringBuilder</code> incorrectly
        returned <code class="literal">null</code> when <code class="literal">true</code>
        was assigned to the <code class="literal">includePass</code> parameter.
       (<a href="http://bugs.mysql.com/39728" target="_top">Bug#39728</a>)</p></li><li><p>
        When using <code class="classname">ProfileProvider</code>, attempting to
        update a previously saved property failed.
       (<a href="http://bugs.mysql.com/39330" target="_top">Bug#39330</a>)</p></li><li><p>
        Reading a negative time value greater than -01:00:00 returned
        the absolute value of the original time value.
       (<a href="http://bugs.mysql.com/39294" target="_top">Bug#39294</a>)</p></li><li><p>
        Inserting a negative time value (negative
        <code class="literal">TimeSpan</code>) into a <code class="literal">Time</code>
        column through the use of <code class="classname">MySqlParameter</code>
        caused
        <code class="exceptionname">MySqlException</code>
        to be thrown.
       (<a href="http://bugs.mysql.com/39275" target="_top">Bug#39275</a>)</p></li><li><p>
        When a data connection was created in the server explorer of
        Visual Studio 2008 Team, an error was generated when trying to
        expand stored procedures that had parameters.
      </p><p>
        Also, if <span class="guilabel">TableAdapter</span> was right-clicked and
        then <span class="guimenu">Add</span>, <span class="guimenu">Query</span>,
        <span class="guimenu">Use Existing Stored Procedures</span> selected, if
        you then attempted to select a stored procedure, the window
        would close and no error message would be displayed.
       (<a href="http://bugs.mysql.com/39252" target="_top">Bug#39252</a>)</p></li><li><p>
        The Web Provider did not work at all on a remote host, and did
        not create a database when using
        <code class="literal">autogenerateschema="true"</code>.
       (<a href="http://bugs.mysql.com/39072" target="_top">Bug#39072</a>)</p></li><li><p>
        MySQL Connector/NET called hashed password methods not supported in Mono 2.0
        Preview 2.
       (<a href="http://bugs.mysql.com/38895" target="_top">Bug#38895</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-3"></a>C.5.4.6. Changes in MySQL Connector/NET 5.2.3 (19 August 2008)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Error string was returned after a 28000 second
        <a href="server-administration.html#sysvar_wait_timeout"><code class="literal">wait_timeout</code></a>. This has been
        changed to generate a <code class="literal">ConnectionState.Closed</code>
        event.
       (<a href="http://bugs.mysql.com/38119" target="_top">Bug#38119</a>)</p></li><li><p>
        Changed how the procedure schema collection is retrieved. If the
        connection string contains “<span class="quote"><code class="literal">use procedure
        bodies=true</code></span>” then a
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> is performed on the
        <code class="literal">mysql.proc</code> table directly, as this is up to
        50 times faster than the current Information Schema
        implementation. If the connection string contains
        “<span class="quote"><code class="literal">use procedure bodies=false</code></span>”,
        then the Information Schema collection is queried.
       (<a href="http://bugs.mysql.com/36694" target="_top">Bug#36694</a>)</p></li><li><p>
        Changed how the procedure schema collection is retrieved. If
        <code class="literal">use procedure bodies=true</code> then the
        <code class="literal">mysql.proc</code> table is selected directly as this
        is up to 50 times faster than the current
        <code class="literal">information_schema</code> implementation. If
        <code class="literal">use procedure bodies=false</code>, then the
        <code class="literal">information_schema</code> collection is queried.
       (<a href="http://bugs.mysql.com/36694" target="_top">Bug#36694</a>)</p></li><li><p>
        String escaping functionality has been moved from the
        <code class="classname">MySqlString</code> class to the
        <code class="classname">MySqlHelper</code> class, where it can be
        accessed by the <code class="methodname">EscapeString</code> method.
       (<a href="http://bugs.mysql.com/36205" target="_top">Bug#36205</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="methodname">GetOrdinal()</code> method failed to
        return the ordinal if the column name string contained an
        accent.
       (<a href="http://bugs.mysql.com/38721" target="_top">Bug#38721</a>)</p></li><li><p>
        MySQL Connector/NET uninstaller did not clean up all installed files.
       (<a href="http://bugs.mysql.com/38534" target="_top">Bug#38534</a>)</p></li><li><p>
        There was a short circuit evaluation error in the
        <code class="methodname">MySqlCommand.CheckState()</code> method. When
        the statement <code class="literal">connection == null</code> was true a
        <code class="classname">NullReferenceException</code> was thrown and not
        the expected <code class="classname">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/38276" target="_top">Bug#38276</a>)</p></li><li><p>
        The provider did not silently create the user if the user did
        not exist.
       (<a href="http://bugs.mysql.com/38243" target="_top">Bug#38243</a>)</p></li><li><p>
        Executing a command that resulted in a fatal exception did not
        close the connection.
       (<a href="http://bugs.mysql.com/37991" target="_top">Bug#37991</a>)</p></li><li><p>
        When a prepared insert query is run that contains an
        <code class="literal">UNSIGNED TINYINT</code> in the parameter list, the
        complete query and data that should be inserted is corrupted and
        no error is thrown.
       (<a href="http://bugs.mysql.com/37968" target="_top">Bug#37968</a>)</p></li><li><p>
        In a .NET application MySQL Connector/NET modifies the connection string so
        that it contains several occurrences of the same option with
        different values. This is illustrated by the example that
        follows.
      </p><p>
        The original connection string:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25; auto enlist=false;pooling=false;</pre><p>
        The connection string after after closing
        <code class="classname">MySqlDataReader</code>:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25;auto enlist=false;pooling=false;
  Allow User Variables=True;Allow User Variables=False;
  Allow User Variables=True;Allow User Variables=False;</pre><p>(<a href="http://bugs.mysql.com/37955" target="_top">Bug#37955</a>)</p></li><li><p>
        Unnecessary network traffic was generated for the normal case
        where the web provider schema was up to date.
       (<a href="http://bugs.mysql.com/37469" target="_top">Bug#37469</a>)</p></li><li><p>
        <code class="methodname">MySqlReader.GetOrdinal()</code> performance
        enhancements break existing functionality.
       (<a href="http://bugs.mysql.com/37239" target="_top">Bug#37239</a>)</p></li><li><p>
        The <code class="literal">autogenerateschema</code> option produced tables
        with incorrect collations.
       (<a href="http://bugs.mysql.com/36444" target="_top">Bug#36444</a>)</p></li><li><p>
        <code class="methodname">GetSchema</code> did not work correctly when
        querying for a collection, if using a non-English locale.
       (<a href="http://bugs.mysql.com/35459" target="_top">Bug#35459</a>)</p></li><li><p>
        When reading back a stored double or single value using the .NET
        provider, the value had less precision than the one stored.
       (<a href="http://bugs.mysql.com/33322" target="_top">Bug#33322</a>)</p></li><li><p>
        Using the MySQL Visual Studio plugin and a MySQL 4.1 server,
        certain field types (<a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>) would
        not be identified correctly. Also, when looking for tables, the
        plugin would list all tables matching a wildcard pattern of the
        database name supplied in the connection string, instead of only
        tables within the specified database.
       (<a href="http://bugs.mysql.com/30603" target="_top">Bug#30603</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-2"></a>C.5.4.7. Changes in MySQL Connector/NET 5.2.2 (12 May 2008)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Product documentation incorrectly stated '?' is the preferred
        parameter marker.
       (<a href="http://bugs.mysql.com/37349" target="_top">Bug#37349</a>)</p></li><li><p>
        An incorrect value for a bit field would returned in a multi-row
        query if a preceding value for the field returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36313" target="_top">Bug#36313</a>)</p></li><li><p>
        Tables with <code class="literal">GEOMETRY</code> field types would return
        an unknown datatype exception.
       (<a href="http://bugs.mysql.com/36081" target="_top">Bug#36081</a>)</p></li><li><p>
        When using the <code class="literal">MySQLProfileProvider</code>, setting
        profile details and then reading back saved data would result in
        the default values being returned instead of the updated values.
       (<a href="http://bugs.mysql.com/36000" target="_top">Bug#36000</a>)</p></li><li><p>
        When creating a connection, setting the
        <code class="literal">ConnectionString</code> property of
        <code class="literal">MySqlConnection</code> to <code class="literal">NULL</code>
        would throw an exception.
       (<a href="http://bugs.mysql.com/35619" target="_top">Bug#35619</a>)</p></li><li><p>
        The <code class="methodname">DbCommandBuilder.QuoteIdentifer</code>
        method was not implemented.
       (<a href="http://bugs.mysql.com/35492" target="_top">Bug#35492</a>)</p></li><li><p>
        When using encrypted passwords, the
        <code class="literal">GetPassword()</code> function would return the wrong
        string.
       (<a href="http://bugs.mysql.com/35336" target="_top">Bug#35336</a>)</p></li><li><p>
        An error would be raised when calling
        <code class="literal">GetPassword()</code> with a <code class="literal">NULL</code>
        value.
       (<a href="http://bugs.mysql.com/35332" target="_top">Bug#35332</a>)</p></li><li><p>
        When retreiving data where a field has been identified as
        containing a GUID value, the incorrect value would be returned
        when a previous row contained a <code class="literal">NULL</code> value
        for that field.
       (<a href="http://bugs.mysql.com/35041" target="_top">Bug#35041</a>)</p></li><li><p>
        Using the <code class="literal">TableAdapter Wizard</code> would fail when
        generating commands that used stored procedures due to the
        change in supported parameter characters.
       (<a href="http://bugs.mysql.com/34941" target="_top">Bug#34941</a>)</p></li><li><p>
        When creating a new stored procedured, the new parameter code
        which allows the use of the <code class="literal">@</code> symbol would
        interfere with the specification of a
        <code class="literal">DEFINER</code>.
       (<a href="http://bugs.mysql.com/34940" target="_top">Bug#34940</a>)</p></li><li><p>
        When using <code class="literal">SqlDataSource</code> to open a
        connection, the connection would not automatically be closed
        when access had completed.
       (<a href="http://bugs.mysql.com/34460" target="_top">Bug#34460</a>)</p></li><li><p>
        There was a high level of contention in the connection pooling
        code that could lead to delays when opening connections and
        submitting queries. The connection pooling code has been
        modified to try and limit the effects of the contention issue.
       (<a href="http://bugs.mysql.com/34001" target="_top">Bug#34001</a>)</p></li><li><p>
        Using the <code class="literal">TableAdaptor</code> wizard in combination
        with a suitable <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement,
        only the associated <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statement would also be created, rather than the required
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/31338" target="_top">Bug#31338</a>)</p></li><li><p>
        Fixed problem in datagrid code related to creating a new table.
        This problem may have been introduced with .NET 2.0 SP1.
      </p></li><li><p>
        Fixed profile provider that would throw an exception if you were
        updating a profile that already existed.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-1"></a>C.5.4.8. Changes in MySQL Connector/NET 5.2.1 (27 February 2008)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using the provider to generate or update users and
        passwords, the password checking algorithm would not validate
        the password strength or requirements correctly.
       (<a href="http://bugs.mysql.com/34792" target="_top">Bug#34792</a>)</p></li><li><p>
        When executing statements that used stored procedures and
        functions, the new parameter code could fail to identify the
        correct parameter format.
       (<a href="http://bugs.mysql.com/34699" target="_top">Bug#34699</a>)</p></li><li><p>
        The installer would fail to the DDEX provider binary if the
        Visual Studio 2005 component was not selected. The result would
        lead to MySQL Connector/NET not loading properly when using the interface to
        a MySQL server within Visual Studio.
       (<a href="http://bugs.mysql.com/34674" target="_top">Bug#34674</a>)</p></li><li><p>
        A number issues were identified in the case, connection and
        scema areas of the code for
        <code class="literal">MembershipProvider</code>,
        <code class="literal">RoleProvider</code>,
        <code class="literal">ProfileProvider</code>.
       (<a href="http://bugs.mysql.com/34495" target="_top">Bug#34495</a>)</p></li><li><p>
        When using web providers, the MySQL Connector/NET would check the schema and
        cache the application id, even when the connection string had
        been set. The effect would be to break the memvership provider
        list.
       (<a href="http://bugs.mysql.com/34451" target="_top">Bug#34451</a>)</p></li><li><p>
        Attempting to use an isolation level other than the default with
        a transaction scope would use the default isolation level.
       (<a href="http://bugs.mysql.com/34448" target="_top">Bug#34448</a>)</p></li><li><p>
        When altering a stored procedure within Visual Studio, the
        parameters to the procedure could be lost.
       (<a href="http://bugs.mysql.com/34359" target="_top">Bug#34359</a>)</p></li><li><p>
        A race condition could occur within the procedure cache
        resulting the cache contents overflowing beyond the configured
        cache size.
       (<a href="http://bugs.mysql.com/34338" target="_top">Bug#34338</a>)</p></li><li><p>
        Fixed problem with Visual Studio 2008 integration that caused
        pop-up menus on server explorer nodes to not function
      </p></li><li><p>
        The provider code has been updated to fix a number of
        outstanding issues.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-2-0"></a>C.5.4.9. Changes in MySQL Connector/NET 5.2.0 (11 February 2008)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Performing <code class="function">GetValue()</code> on a field
        <code class="literal">TINYINT(1)</code> returned a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a>. While not a bug, this
        caused problems in software that expected an
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> to be returned. A new
        connection string option <code class="literal">Treat Tiny As
        Boolean</code> has been added with a default value of
        <code class="literal">true</code>. If set to <code class="literal">false</code> the
        provider will treat <code class="literal">TINYINT(1)</code> as
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>.
       (<a href="http://bugs.mysql.com/34052" target="_top">Bug#34052</a>)</p></li><li><p>
        Added support for <code class="literal">DbDataAdapter</code>
        <code class="literal">UpdateBatchSize</code>. Batching is fully supported
        including collapsing inserts down into the multi-value form if
        possible.
      </p></li><li><p>
        DDEX provider now works under Visual Studio 2008 beta 2.
      </p></li><li><p>
        Added ClearPool and ClearAllPools features.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Some speed improvements have been implemented in the
        <code class="literal">TokenizeSql</code> process used to identify elements
        of SQL statements.
       (<a href="http://bugs.mysql.com/34220" target="_top">Bug#34220</a>)</p></li><li><p>
        When accessing tables from different databases within the same
        <code class="literal">TransactionScope</code>, the same user/password
        combination would be used for each database connection. MySQL Connector/NET
        does not handle multiple connections within the same transaction
        scope. An error is now returned if you attempt this process,
        instead of using the incorrect authorization information.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The status of connections reported through the state change
        handler was not being updated correctly.
       (<a href="http://bugs.mysql.com/34082" target="_top">Bug#34082</a>)</p></li><li><p>
        Incorporated some connection string cache optimizations sent to
        us by Maxim Mass.
       (<a href="http://bugs.mysql.com/34000" target="_top">Bug#34000</a>)</p></li><li><p>
        In an open connection where the server had disconnected
        unexpectedly, the status information of the connection would not
        be updated properly.
       (<a href="http://bugs.mysql.com/33909" target="_top">Bug#33909</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        Using compression in the MySQL connection with MySQL Connector/NET would be
        slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li><li><p>
        The <code class="literal">MySqlDbType.Datetime</code> has been replaced
        with <code class="literal">MySqlDbType.DateTime</code>. The old format has
        been obsoleted.
       (<a href="http://bugs.mysql.com/26344" target="_top">Bug#26344</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-5.1.x"></a>C.5.5. Changes in MySQL Connector/NET Version 5.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-5-1-8">C.5.5.1. Changes in MySQL Connector/NET 5.1.8 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-7">C.5.5.2. Changes in MySQL Connector/NET 5.1.7 (21 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-6">C.5.5.3. Changes in MySQL Connector/NET 5.1.6 (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-5">C.5.5.4. Changes in MySQL Connector/NET 5.1.5 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-4">C.5.5.5. Changes in MySQL Connector/NET 5.1.4 (20 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-3">C.5.5.6. Changes in MySQL Connector/NET 5.1.3 (21 September 2007 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-2">C.5.5.7. Changes in MySQL Connector/NET 5.1.2 (18 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-1">C.5.5.8. Changes in MySQL Connector/NET 5.1.1 (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-0">C.5.5.9. Changes in MySQL Connector/NET 5.1.0 (01 May 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-8"></a>C.5.5.1. Changes in MySQL Connector/NET 5.1.8 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calling <code class="literal">GetSchema()</code> on
        <code class="literal">Indexes</code> or <code class="literal">IndexColumns</code>
        failed where index or column names were restricted.
      </p><p>
        In <code class="filename">SchemaProvider.cs</code>, methods
        <code class="literal">GetIndexes()</code> and
        <code class="literal">GetIndexColumns()</code> passed their restrictions
        directly to <code class="literal">GetTables()</code>. This only worked if
        the restrictions were no more specific than
        <code class="literal">schemaName</code> and <code class="literal">tableName</code>.
        If <code class="literal">IndexName</code> was given, this was passed to
        <code class="literal">GetTables()</code> where it was treated as
        <code class="literal">TableType</code>. As a result no tables were
        returned, unless the index name happened to be <code class="literal">BASE
        TABLE</code> or <code class="literal">VIEW</code>. This meant that both
        methods failed to return any rows.
       (<a href="http://bugs.mysql.com/43991" target="_top">Bug#43991</a>)</p></li><li><p>
        The <code class="literal">DATETIME</code> format contained an erroneous
        space.
       (<a href="http://bugs.mysql.com/41021" target="_top">Bug#41021</a>)</p></li><li><p>
        If connection pooling was not set explicitly in the connection
        string, MySQL Connector/NET added “<span class="quote">;Pooling=False</span>” to the end of
        the connection string when
        <code class="literal">MySqlCommand.ExecuteReader()</code> was called.
      </p><p>
        If connection pooling was explicitly set in the connection
        string, when <code class="literal">MySqlConnection.Open()</code> was
        called it converted “<span class="quote">Pooling=True</span>” to
        “<span class="quote">pooling=True</span>”.
      </p><p>
        If <code class="literal">MySqlCommand.ExecuteReader()</code> was
        subsequently called, it concatenated
        “<span class="quote">;Pooling=False</span>” to the end of the connection
        string. The resulting connection string was thus terminated with
        “<span class="quote">pooling=True;Pooling=False</span>”. This disabled
        connection pooling completely.
       (<a href="http://bugs.mysql.com/40091" target="_top">Bug#40091</a>)</p></li><li><p>
        MySQL Connector/NET generated the following exception:
      </p><pre class="programlisting">System.NullReferenceException: Object reference not set to an instance of an object.
   bei MySql.Data.MySqlClient.MySqlCommand.TimeoutExpired(Object commandObject)
   bei System.Threading._TimerCallback.TimerCallback_Context(Object state)
   bei System.Threading.ExecutionContext.runTryCode(Object userData)
   bei
System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode
code, CleanupCode backoutCode, Object userData)
   bei System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext,
ContextCallback callback, Object state)
   bei System.Threading.ExecutionContext.Run(ExecutionContext executionContext,
ContextCallback callback, Object state)
   bei System.Threading._TimerCallback.PerformTimerCallback(Object state)</pre><p>(<a href="http://bugs.mysql.com/40005" target="_top">Bug#40005</a>)</p></li><li><p>
        If, when using the <code class="classname">MySqlTransaction</code>
        transaction object, an exception was thrown, the transaction
        object was not disposed of and the transaction was not rolled
        back.
       (<a href="http://bugs.mysql.com/39817" target="_top">Bug#39817</a>)</p></li><li><p>
        When a prepared insert query is run that contains an
        <code class="literal">UNSIGNED TINYINT</code> in the parameter list, the
        complete query and data that should be inserted is corrupted and
        no error is thrown.
       (<a href="http://bugs.mysql.com/37968" target="_top">Bug#37968</a>)</p></li><li><p>
        Calling <code class="literal">MySqlDataAdapter.FillSchema</code> on a
        <code class="literal">SELECT</code> statement that referred to a table
        that did not exist left the connection in a bad state. After
        this call, all <code class="literal">SELECT</code> statements returned an
        empty result set. If the <code class="literal">SELECT</code> statement
        referred to a table that did exist then everything worked as
        expected.
       (<a href="http://bugs.mysql.com/30518" target="_top">Bug#30518</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-7"></a>C.5.5.2. Changes in MySQL Connector/NET 5.1.7 (21 August 2008)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        There was a short circuit evaluation error in the
        <code class="methodname">MySqlCommand.CheckState()</code> method. When
        the statement <code class="literal">connection == null</code> was true a
        <code class="classname">NullReferenceException</code> was thrown and not
        the expected <code class="classname">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/38276" target="_top">Bug#38276</a>)</p></li><li><p>
        Executing a command that resulted in a fatal exception did not
        close the connection.
       (<a href="http://bugs.mysql.com/37991" target="_top">Bug#37991</a>)</p></li><li><p>
        In a .NET application MySQL Connector/NET modifies the connection string so
        that it contains several occurrences of the same option with
        different values. This is illustrated by the example that
        follows.
      </p><p>
        The original connection string:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25; auto enlist=false;pooling=false;</pre><p>
        The connection string after after closing
        <code class="classname">MySqlDataReader</code>:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25;auto enlist=false;pooling=false;
  Allow User Variables=True;Allow User Variables=False;
  Allow User Variables=True;Allow User Variables=False;</pre><p>(<a href="http://bugs.mysql.com/37955" target="_top">Bug#37955</a>)</p></li><li><p>
        As <code class="classname">MySqlDbType.DateTime</code> is not available
        in <code class="literal">VB.Net</code> the warning <span class="errortext">The datetime
        enum value is obsolete</span> was always shown during
        compilation.
       (<a href="http://bugs.mysql.com/37406" target="_top">Bug#37406</a>)</p></li><li><p>
        An unknown <code class="literal">MySqlErrorCode</code> was encountered
        when opening a connection with an incorrect password.
       (<a href="http://bugs.mysql.com/37398" target="_top">Bug#37398</a>)</p></li><li><p>
        Documentation incorrectly stated that “<span class="quote">the DataColumn
        class in .NET 1.0 and 1.1 does not allow columns with type of
        UInt16, UInt32, or UInt64 to be autoincrement columns</span>”.
       (<a href="http://bugs.mysql.com/37350" target="_top">Bug#37350</a>)</p></li><li><p>
        <code class="classname">SemaphoreFullException</code> is generated when
        application is closed.
       (<a href="http://bugs.mysql.com/36688" target="_top">Bug#36688</a>)</p></li><li><p>
        <code class="methodname">GetSchema</code> did not work correctly when
        querying for a collection, if using a non-English locale.
       (<a href="http://bugs.mysql.com/35459" target="_top">Bug#35459</a>)</p></li><li><p>
        When reading back a stored double or single value using the .NET
        provider, the value had less precision than the one stored.
       (<a href="http://bugs.mysql.com/33322" target="_top">Bug#33322</a>)</p></li><li><p>
        Using the MySQL Visual Studio plugin and a MySQL 4.1 server,
        certain field types (<a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>) would
        not be identified correctly. Also, when looking for tables, the
        plugin would list all tables matching a wildcard pattern of the
        database name supplied in the connection string, instead of only
        tables within the specified database.
       (<a href="http://bugs.mysql.com/30603" target="_top">Bug#30603</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-6"></a>C.5.5.3. Changes in MySQL Connector/NET 5.1.6 (12 May 2008)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When creating a connection pool, specifying an invalid IP
        address will cause the entire application to crash, instead of
        providing an exception.
       (<a href="http://bugs.mysql.com/36432" target="_top">Bug#36432</a>)</p></li><li><p>
        An incorrect value for a bit field would returned in a multi-row
        query if a preceding value for the field returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36313" target="_top">Bug#36313</a>)</p></li><li><p>
        The <code class="literal">MembershipProvider</code> will raise an
        exception when the connection string is configured with
        <code class="literal">enablePasswordRetrival = true</code> and
        <code class="literal">RequireQuestionAndAnswer = false</code>.
       (<a href="http://bugs.mysql.com/36159" target="_top">Bug#36159</a>)</p></li><li><p>
        When calling <code class="literal">GetNumberOfUsersOnline</code> an
        exception is raised on the submitted query due to a missing
        parameter.
       (<a href="http://bugs.mysql.com/36157" target="_top">Bug#36157</a>)</p></li><li><p>
        Tables with <code class="literal">GEOMETRY</code> field types would return
        an unknown datatype exception.
       (<a href="http://bugs.mysql.com/36081" target="_top">Bug#36081</a>)</p></li><li><p>
        When creating a connection, setting the
        <code class="literal">ConnectionString</code> property of
        <code class="literal">MySqlConnection</code> to <code class="literal">NULL</code>
        would throw an exception.
       (<a href="http://bugs.mysql.com/35619" target="_top">Bug#35619</a>)</p></li><li><p>
        The <code class="methodname">DbCommandBuilder.QuoteIdentifer</code>
        method was not implemented.
       (<a href="http://bugs.mysql.com/35492" target="_top">Bug#35492</a>)</p></li><li><p>
        When using <code class="literal">SqlDataSource</code> to open a
        connection, the connection would not automatically be closed
        when access had completed.
       (<a href="http://bugs.mysql.com/34460" target="_top">Bug#34460</a>)</p></li><li><p>
        Attempting to use an isolation level other than the default with
        a transaction scope would use the default isolation level.
       (<a href="http://bugs.mysql.com/34448" target="_top">Bug#34448</a>)</p></li><li><p>
        When altering a stored procedure within Visual Studio, the
        parameters to the procedure could be lost.
       (<a href="http://bugs.mysql.com/34359" target="_top">Bug#34359</a>)</p></li><li><p>
        A race condition could occur within the procedure cache
        resulting the cache contents overflowing beyond the configured
        cache size.
       (<a href="http://bugs.mysql.com/34338" target="_top">Bug#34338</a>)</p></li><li><p>
        Using the <code class="literal">TableAdaptor</code> wizard in combination
        with a suitable <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement,
        only the associated <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statement would also be created, rather than the required
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> and
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/31338" target="_top">Bug#31338</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-5"></a>C.5.5.4. Changes in MySQL Connector/NET 5.1.5 (Not yet released)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Performing <code class="function">GetValue()</code> on a field
        <code class="literal">TINYINT(1)</code> returned a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a>. While not a bug, this
        caused problems in software that expected an
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> to be returned. A new
        connection string option <code class="literal">Treat Tiny As
        Boolean</code> has been added with a default value of
        <code class="literal">true</code>. If set to <code class="literal">false</code> the
        provider will treat <code class="literal">TINYINT(1)</code> as
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>.
       (<a href="http://bugs.mysql.com/34052" target="_top">Bug#34052</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Some speed improvements have been implemented in the
        <code class="literal">TokenizeSql</code> process used to identify elements
        of SQL statements.
       (<a href="http://bugs.mysql.com/34220" target="_top">Bug#34220</a>)</p></li><li><p>
        When accessing tables from different databases within the same
        <code class="literal">TransactionScope</code>, the same user/password
        combination would be used for each database connection. MySQL Connector/NET
        does not handle multiple connections within the same transaction
        scope. An error is now returned if you attempt this process,
        instead of using the incorrect authorization information.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The status of connections reported through the state change
        handler was not being updated correctly.
       (<a href="http://bugs.mysql.com/34082" target="_top">Bug#34082</a>)</p></li><li><p>
        Incorporated some connection string cache optimizations sent to
        us by Maxim Mass.
       (<a href="http://bugs.mysql.com/34000" target="_top">Bug#34000</a>)</p></li><li><p>
        In an open connection where the server had disconnected
        unexpectedly, the status information of the connection would not
        be updated properly.
       (<a href="http://bugs.mysql.com/33909" target="_top">Bug#33909</a>)</p></li><li><p>
        MySQL Connector/NET would fail to compile properly with
        <span><strong class="command">nant</strong></span>.
       (<a href="http://bugs.mysql.com/33508" target="_top">Bug#33508</a>)</p></li><li><p>
        Problem with membership provider would mean that
        <code class="literal">FindUserByEmail</code> would fail with a
        <code class="literal">MySqlException</code> because it was trying to add a
        second parameter with the same name as the first.
       (<a href="http://bugs.mysql.com/33347" target="_top">Bug#33347</a>)</p></li><li><p>
        Using compression in the MySQL connection with MySQL Connector/NET would be
        slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-4"></a>C.5.5.5. Changes in MySQL Connector/NET 5.1.4 (20 November 2007)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with noninput direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        A date string could be returned incorrectly by
        <code class="literal">MySqlDataTime.ToString()</code> when the date
        returned by MySQL was <code class="literal">0000-00-00 00:00:00</code>.
       (<a href="http://bugs.mysql.com/32010" target="_top">Bug#32010</a>)</p></li><li><p>
        A syntax error in a set of batch statements could leave the data
        adapter in a state that appears hung.
       (<a href="http://bugs.mysql.com/31930" target="_top">Bug#31930</a>)</p></li><li><p>
        Installing over a failed uninstall of a previous version could
        result in multiple clients being registered in the
        <code class="literal">machine.config</code>. This would prevent certain
        aspects of the MySQL connection within Visual Studio to work
        properly.
       (<a href="http://bugs.mysql.com/31731" target="_top">Bug#31731</a>)</p></li><li><p>
        MySQL Connector/NET would incorrectly report success when enlisting in a
        distributed transaction, although distributed transactions are
        not supported.
       (<a href="http://bugs.mysql.com/31703" target="_top">Bug#31703</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Trying to use a connection that was not open could return an
        ambiguous and misleading error message.
       (<a href="http://bugs.mysql.com/31262" target="_top">Bug#31262</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to MySQL Connector/NET
        incorrectly identifying <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        fields as binary, rather than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        Column types with only 1-bit (such as
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a> and
        <code class="literal">TINYINT(1)</code> were not returned as boolean
        fields.
       (<a href="http://bugs.mysql.com/27959" target="_top">Bug#27959</a>)</p></li><li><p>
        When accessing certain statements, the command would timeout
        before the command completed. Because this cannot always be
        controlled through the individual command timeout options, a
        <code class="literal">default command timeout</code> has been added to the
        connection string options.
       (<a href="http://bugs.mysql.com/27958" target="_top">Bug#27958</a>)</p></li><li><p>
        The server error code was not updated in the
        <code class="literal">Data[]</code> hash, which prevented
        <code class="literal">DbProviderFactory</code> users from accessing the
        server error code.
       (<a href="http://bugs.mysql.com/27436" target="_top">Bug#27436</a>)</p></li><li><p>
        The <code class="literal">MySqlDbType.Datetime</code> has been replaced
        with <code class="literal">MySqlDbType.DateTime</code>. The old format has
        been obsoleted.
       (<a href="http://bugs.mysql.com/26344" target="_top">Bug#26344</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-3"></a>C.5.5.6. Changes in MySQL Connector/NET 5.1.3 (21 September 2007 beta)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when adding
        rows to a table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        A <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> field would be updated
        with a date/time value, causing a
        <code class="literal">MySqlDataAdapter.Update()</code> exception.
       (<a href="http://bugs.mysql.com/30077" target="_top">Bug#30077</a>)</p></li><li><p>
        The Saudi Hijri calendar was not supported.
       (<a href="http://bugs.mysql.com/29931" target="_top">Bug#29931</a>)</p></li><li><p>
        Calling <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> for
        routines with a hyphen in the catalog name produced a syntax
        error.
       (<a href="http://bugs.mysql.com/29526" target="_top">Bug#29526</a>)</p></li><li><p>
        Connecting to a MySQL server earlier than version 4.1 would
        raise a <code class="literal">NullException</code>.
       (<a href="http://bugs.mysql.com/29476" target="_top">Bug#29476</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        A <code class="literal">FormatException</code> error would be raised if a
        parameter had not been found, instead of
        <code class="literal">Resources.ParameterMustBeDefined</code>.
       (<a href="http://bugs.mysql.com/29312" target="_top">Bug#29312</a>)</p></li><li><p>
        An exception would be thrown when using the Manage Role
        functionality within the web administrator to assign a role to a
        user.
       (<a href="http://bugs.mysql.com/29236" target="_top">Bug#29236</a>)</p></li><li><p>
        Using the membership/role providers when
        <code class="literal">validationKey</code> or
        <code class="literal">decryptionKey</code> parameters are set to
        <code class="literal">AutoGenerate</code>, an exception would be raised
        when accessing the corresponding values.
       (<a href="http://bugs.mysql.com/29235" target="_top">Bug#29235</a>)</p></li><li><p>
        Certain operations would not check the
        <code class="literal">UsageAdvisor</code> setting, causing log messages
        from the Usage Advisor even when it was disabled.
       (<a href="http://bugs.mysql.com/29124" target="_top">Bug#29124</a>)</p></li><li><p>
        Using the same connection string multiple times would result in
        <code class="literal">Database=<em class="replaceable"><code>dbname</code></em></code>
        appearing multiple times in the resulting string.
       (<a href="http://bugs.mysql.com/29123" target="_top">Bug#29123</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Adding a new query
        based on a stored procedure that uses the
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> statement would terminate
        the query/TableAdapter wizard.
       (<a href="http://bugs.mysql.com/29098" target="_top">Bug#29098</a>)</p></li><li><p>
        Using <code class="literal">TransactionScope</code> would cause an
        <code class="literal">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/28709" target="_top">Bug#28709</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-2"></a>C.5.5.7. Changes in MySQL Connector/NET 5.1.2 (18 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Log messages would be truncated to 300 bytes.
       (<a href="http://bugs.mysql.com/28706" target="_top">Bug#28706</a>)</p></li><li><p>
        Creating a user would fail due to the application name being set
        incorrectly.
       (<a href="http://bugs.mysql.com/28648" target="_top">Bug#28648</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Adding a new query
        based on a stored procedure that used a
        <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement would terminate
        the query/TableAdapter wizard.
       (<a href="http://bugs.mysql.com/28536" target="_top">Bug#28536</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Query Builder would
        fail to show <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> columns,
        and any columns listed after a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> column correctly.
       (<a href="http://bugs.mysql.com/28437" target="_top">Bug#28437</a>)</p></li><li><p>
        Accessing the results from a large query when using data
        compression in the connection would fail to return all the data.
       (<a href="http://bugs.mysql.com/28204" target="_top">Bug#28204</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Update commands would
        not be generated correctly when using the TableAdapter wizard.
       (<a href="http://bugs.mysql.com/26347" target="_top">Bug#26347</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-1"></a>C.5.5.8. Changes in MySQL Connector/NET 5.1.1 (23 May 2007)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running the statement <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> would return columns as byte arrays
        instead of native columns.
       (<a href="http://bugs.mysql.com/28448" target="_top">Bug#28448</a>)</p></li><li><p>
        Installation of the MySQL Connector/NET on Windows would fail if VisualStudio
        had not already been installed.
       (<a href="http://bugs.mysql.com/28260" target="_top">Bug#28260</a>)</p></li><li><p>
        MySQL Connector/NET would look for the wrong table when executing
        <code class="literal">User.IsRole().</code>
       (<a href="http://bugs.mysql.com/28251" target="_top">Bug#28251</a>)</p></li><li><p>
        Building a connection string within a tight loop would show slow
        performance.
       (<a href="http://bugs.mysql.com/28167" target="_top">Bug#28167</a>)</p></li><li><p>
        The <code class="literal">UNSIGNED</code> flag for parameters in a stored
        procedure would be ignored when using
        <code class="literal">MySqlCommandBuilder</code> to obtain the parameter
        information.
       (<a href="http://bugs.mysql.com/27679" target="_top">Bug#27679</a>)</p></li><li><p>
        Using <code class="literal">MySQLDataAdapter.FillSchema()</code> on a
        stored procedure would raise an exception: <code class="literal">Invalid
        attempt to access a field before calling Read()</code>.
       (<a href="http://bugs.mysql.com/27668" target="_top">Bug#27668</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> fields from versions of
        MySQL bgefore 4.1 would be incorrectly parsed, resulting in a
        exception.
       (<a href="http://bugs.mysql.com/23342" target="_top">Bug#23342</a>)</p></li><li><p>
        Fixed password property on
        <code class="literal">MySqlConnectionStringBuilder</code> to use
        <code class="literal">PasswordPropertyText</code> attribute. This causes
        dots to show instead of actual password text.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-1-0"></a>C.5.5.9. Changes in MySQL Connector/NET 5.1.0 (01 May 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Now compiles for .NET CF 2.0.
      </p></li><li><p>
        Rewrote stored procedure parsing code using a new SQL tokenizer.
        Really nasty procedures including nested comments are now
        supported.
      </p></li><li><p>
        GetSchema will now report objects relative to the currently
        selected database. What this means is that passing in null as a
        database restriction will report objects on the currently
        selected database only.
      </p></li><li><p>
        Added Membership and Role provider contributed by Sean Wright
        (thanks!).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-5.0.x"></a>C.5.6. Changes in MySQL Connector/NET Version 5.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-5-0-10">C.5.6.1. Changes in MySQL Connector/NET 5.0.10 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-9">C.5.6.2. Changes in MySQL Connector/NET 5.0.9 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-8">C.5.6.3. Changes in MySQL Connector/NET 5.0.8 (21 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-7">C.5.6.4. Changes in MySQL Connector/NET 5.0.7 (18 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-6">C.5.6.5. Changes in MySQL Connector/NET 5.0.6 (22 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-5">C.5.6.6. Changes in MySQL Connector/NET 5.0.5 (07 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-4">C.5.6.7. Changes in MySQL Connector/NET 5.0.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-3">C.5.6.8. Changes in MySQL Connector/NET 5.0.3 (05 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-2">C.5.6.9. Changes in MySQL Connector/NET 5.0.2 (06 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-1">C.5.6.10. Changes in MySQL Connector/NET 5.0.1 (01 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-0">C.5.6.11. Changes in MySQL Connector/NET 5.0.0 (08 August 2006)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-10"></a>C.5.6.1. Changes in MySQL Connector/NET 5.0.10 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        If, when using the <code class="classname">MySqlTransaction</code>
        transaction object, an exception was thrown, the transaction
        object was not disposed of and the transaction was not rolled
        back.
       (<a href="http://bugs.mysql.com/39817" target="_top">Bug#39817</a>)</p></li><li><p>
        Executing a command that resulted in a fatal exception did not
        close the connection.
       (<a href="http://bugs.mysql.com/37991" target="_top">Bug#37991</a>)</p></li><li><p>
        When a prepared insert query is run that contains an
        <code class="literal">UNSIGNED TINYINT</code> in the parameter list, the
        complete query and data that should be inserted is corrupted and
        no error is thrown.
       (<a href="http://bugs.mysql.com/37968" target="_top">Bug#37968</a>)</p></li><li><p>
        In a .NET application MySQL Connector/NET modifies the connection string so
        that it contains several occurrences of the same option with
        different values. This is illustrated by the example that
        follows.
      </p><p>
        The original connection string:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25; auto enlist=false;pooling=false;</pre><p>
        The connection string after after closing
        <code class="classname">MySqlDataReader</code>:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25;auto enlist=false;pooling=false;
  Allow User Variables=True;Allow User Variables=False;
  Allow User Variables=True;Allow User Variables=False;</pre><p>(<a href="http://bugs.mysql.com/37955" target="_top">Bug#37955</a>)</p></li><li><p>
        When creating a connection pool, specifying an invalid IP
        address will cause the entire application to crash, instead of
        providing an exception.
       (<a href="http://bugs.mysql.com/36432" target="_top">Bug#36432</a>)</p></li><li><p>
        <code class="methodname">GetSchema</code> did not work correctly when
        querying for a collection, if using a non-English locale.
       (<a href="http://bugs.mysql.com/35459" target="_top">Bug#35459</a>)</p></li><li><p>
        When reading back a stored double or single value using the .NET
        provider, the value had less precision than the one stored.
       (<a href="http://bugs.mysql.com/33322" target="_top">Bug#33322</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-9"></a>C.5.6.2. Changes in MySQL Connector/NET 5.0.9 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="methodname">DbCommandBuilder.QuoteIdentifer</code>
        method was not implemented.
       (<a href="http://bugs.mysql.com/35492" target="_top">Bug#35492</a>)</p></li><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with noninput direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        A date string could be returned incorrectly by
        <code class="literal">MySqlDataTime.ToString()</code> when the date
        returned by MySQL was <code class="literal">0000-00-00 00:00:00</code>.
       (<a href="http://bugs.mysql.com/32010" target="_top">Bug#32010</a>)</p></li><li><p>
        A syntax error in a set of batch statements could leave the data
        adapter in a state that appears hung.
       (<a href="http://bugs.mysql.com/31930" target="_top">Bug#31930</a>)</p></li><li><p>
        Installing over a failed uninstall of a previous version could
        result in multiple clients being registered in the
        <code class="literal">machine.config</code>. This would prevent certain
        aspects of the MySQL connection within Visual Studio to work
        properly.
       (<a href="http://bugs.mysql.com/31731" target="_top">Bug#31731</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        The server error code was not updated in the
        <code class="literal">Data[]</code> hash, which prevented
        <code class="literal">DbProviderFactory</code> users from accessing the
        server error code.
       (<a href="http://bugs.mysql.com/27436" target="_top">Bug#27436</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-8"></a>C.5.6.3. Changes in MySQL Connector/NET 5.0.8 (21 August 2007)</h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This version introduces a new installer technology.
        </p></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to MySQL Connector/NET
        incorrectly identifying <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        fields as binary, rather than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when adding
        rows to a table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        A <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> field would be updated
        with a date/time value, causing a
        <code class="literal">MySqlDataAdapter.Update()</code> exception.
       (<a href="http://bugs.mysql.com/30077" target="_top">Bug#30077</a>)</p></li><li><p>
        Fixed bug where MySQL Connector/NET was hand building some date time patterns
        rather than using the patterns provided under CultureInfo. This
        caused problems with some calendars that do not support the same
        ranges as Gregorian..
       (<a href="http://bugs.mysql.com/29931" target="_top">Bug#29931</a>)</p></li><li><p>
        Calling <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> for
        routines with a hyphen in the catalog name produced a syntax
        error.
       (<a href="http://bugs.mysql.com/29526" target="_top">Bug#29526</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        A <code class="literal">FormatException</code> error would be raised if a
        parameter had not been found, instead of
        <code class="literal">Resources.ParameterMustBeDefined</code>.
       (<a href="http://bugs.mysql.com/29312" target="_top">Bug#29312</a>)</p></li><li><p>
        Certain operations would not check the
        <code class="literal">UsageAdvisor</code> setting, causing log messages
        from the Usage Advisor even when it was disabled.
       (<a href="http://bugs.mysql.com/29124" target="_top">Bug#29124</a>)</p></li><li><p>
        Using the same connection string multiple times would result in
        <code class="literal">Database=<em class="replaceable"><code>dbname</code></em></code>
        appearing multiple times in the resulting string.
       (<a href="http://bugs.mysql.com/29123" target="_top">Bug#29123</a>)</p></li><li><p>
        Log messages would be truncated to 300 bytes.
       (<a href="http://bugs.mysql.com/28706" target="_top">Bug#28706</a>)</p></li><li><p>
        Accessing the results from a large query when using data
        compression in the connection will fail to return all the data.
       (<a href="http://bugs.mysql.com/28204" target="_top">Bug#28204</a>)</p></li><li><p>
        Fixed problem where
        <code class="literal">MySqlConnection.BeginTransaction</code> checked the
        drivers status var before checking if the connection was open.
        The result was that the driver could report an invalid condition
        on a previously opened connection.
      </p></li><li><p>
        Fixed problem where we were not closing prepared statement
        handles when commands are disposed. This could lead to using up
        all prepared statement handles on the server.
      </p></li><li><p>
        Fixed the database schema collection so that it works on servers
        that are not properly respecting the
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> setting.
      </p></li><li><p>
        Fixed problem where any attempt to not read all the records
        returned from a select where each row of the select is greater
        than 1024 bytes would hang the driver.
      </p></li><li><p>
        Fixed problem where a command timing out just after it actually
        finished would cause an exception to be thrown on the command
        timeout thread which would then be seen as an unhandled
        exception.
      </p></li><li><p>
        Fixed some serious issues with command timeout and cancel that
        could present as exceptions about thread ownership. The issue
        was that not all queries cancel the same. Some produce
        resultsets while others don't. ExecuteReader had to be changed
        to check for this.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-7"></a>C.5.6.4. Changes in MySQL Connector/NET 5.0.7 (18 May 2007)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running the statement <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> would return columns as byte arrays
        instead of native columns.
       (<a href="http://bugs.mysql.com/28448" target="_top">Bug#28448</a>)</p></li><li><p>
        Building a connection string within a tight loop would show slow
        performance.
       (<a href="http://bugs.mysql.com/28167" target="_top">Bug#28167</a>)</p></li><li><p>
        Using logging (with the <code class="literal">logging=true</code>
        parameter to the connection string) would not generate a log
        file.
       (<a href="http://bugs.mysql.com/27765" target="_top">Bug#27765</a>)</p></li><li><p>
        The <code class="literal">UNSIGNED</code> flag for parameters in a stored
        procedure would be ignored when using
        <code class="literal">MySqlCommandBuilder</code> to obtain the parameter
        information.
       (<a href="http://bugs.mysql.com/27679" target="_top">Bug#27679</a>)</p></li><li><p>
        Using <code class="literal">MySQLDataAdapter.FillSchema()</code> on a
        stored procedure would raise an exception: <code class="literal">Invalid
        attempt to access a field before calling Read()</code>.
       (<a href="http://bugs.mysql.com/27668" target="_top">Bug#27668</a>)</p></li><li><p>
        If you close an open connection with an active transaction, the
        transaction is not automatically rolled back.
       (<a href="http://bugs.mysql.com/27289" target="_top">Bug#27289</a>)</p></li><li><p>
        When cloning an open
        <code class="literal">MySqlClient.MySqlConnection</code> with the
        <code class="option">Persist Security Info=False</code> option set, the
        cloned connection is not usable because the security information
        has not been cloned.
       (<a href="http://bugs.mysql.com/27269" target="_top">Bug#27269</a>)</p></li><li><p>
        Enlisting a null transaction would affect the current connection
        object, such that further enlistment operations to the
        transaction are not possible.
       (<a href="http://bugs.mysql.com/26754" target="_top">Bug#26754</a>)</p></li><li><p>
        Attempting to change the <code class="literal">Connection Protocol</code>
        property within a <code class="literal">PropertyGrid</code> control would
        raise an exception.
       (<a href="http://bugs.mysql.com/26472" target="_top">Bug#26472</a>)</p></li><li><p>
        The <code class="literal">characterset</code> property would not be
        identified during a connection (also affected Visual Studion
        Plugin).
       (<a href="http://bugs.mysql.com/26147" target="_top">Bug#26147</a>, <a href="http://bugs.mysql.com/27240" target="_top">Bug#27240</a>)</p></li><li><p>
        The <code class="literal">CreateFormat</code> column of the
        <code class="literal">DataTypes</code> collection did not contain a format
        specification for creating a new column type.
       (<a href="http://bugs.mysql.com/25947" target="_top">Bug#25947</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> fields from versions of
        MySQL bgefore 4.1 would be incorrectly parsed, resulting in a
        exception.
       (<a href="http://bugs.mysql.com/23342" target="_top">Bug#23342</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-6"></a>C.5.6.5. Changes in MySQL Connector/NET 5.0.6 (22 March 2007)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Publisher listed in "Add/Remove Programs" is not consistent with
        other MySQL products.
       (<a href="http://bugs.mysql.com/27253" target="_top">Bug#27253</a>)</p></li><li><p>
        <code class="literal">DESCRIBE ....</code> SQL statement returns byte
        arrays rather than data on MySQL versions older than 4.1.15.
       (<a href="http://bugs.mysql.com/27221" target="_top">Bug#27221</a>)</p></li><li><p>
        <code class="literal">cmd.Parameters.RemoveAt("Id")</code> will cause an
        error if the last item is requested.
       (<a href="http://bugs.mysql.com/27187" target="_top">Bug#27187</a>)</p></li><li><p>
        <code class="literal">MySqlParameterCollection</code> and parameters added
        with <code class="literal">Insert</code> method can not be retrieved later
        using <code class="literal">ParameterName</code>.
       (<a href="http://bugs.mysql.com/27135" target="_top">Bug#27135</a>)</p></li><li><p>
        Exception thrown when using large values in
        <code class="literal">UInt64</code> parameters.
       (<a href="http://bugs.mysql.com/27093" target="_top">Bug#27093</a>)</p></li><li><p>
        MySQL Visual Studio Plugin 1.1.2 does not work with MySQL Connector/NET
        5.0.5.
       (<a href="http://bugs.mysql.com/26960" target="_top">Bug#26960</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-5"></a>C.5.6.6. Changes in MySQL Connector/NET 5.0.5 (07 March 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Reverted behavior that required parameter names to start with
        the parameter marker. We apologize for this back and forth but
        we mistakenly changed the behavior to not match what
        <code class="literal">SqlClient</code> supports. We now support using
        either syntax for adding parameters however we also respond
        exactly like <code class="literal">SqlClient</code> in that if you ask for
        the index of a parameter using a syntax different from when you
        added the parameter, the result will be -1.
      </p></li><li><p>
        Assembly now properly appears in the Visual Studio 2005
        Add/Remove Reference dialog.
      </p></li><li><p>
        Fixed problem that prevented use of
        <code class="literal">SchemaOnly</code> or <code class="literal">SingleRow</code>
        command behaviors with stored procedures or prepared statements.
      </p></li><li><p>
        Added <code class="literal">MySqlParameterCollection.AddWithValue</code>
        and marked the <code class="literal">Add(name, value)</code> method as
        obsolete.
      </p></li><li><p>
        Return parameters created with DeriveParameters now have the
        name <code class="literal">RETURN_VALUE</code>.
      </p></li><li><p>
        Fixed problem with parameter name hashing where the hashes were
        not getting updated when parameters were removed from the
        collection.
      </p></li><li><p>
        Fixed problem with calling stored functions when a return
        parameter was not given.
      </p></li><li><p>
        Added <code class="literal">Use Procedure Bodies</code> connection string
        option to allow calling procedures without using procedure
        metadata.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlConnection.GetSchema</code> fails with
        <code class="literal">NullReferenceException</code> for Foreign Keys.
       (<a href="http://bugs.mysql.com/26660" target="_top">Bug#26660</a>)</p></li><li><p>
        MySQL Connector/NET would fail to install under Windows Vista.
       (<a href="http://bugs.mysql.com/26430" target="_top">Bug#26430</a>)</p></li><li><p>
        Opening a connection would be slow due to host name lookup.
       (<a href="http://bugs.mysql.com/26152" target="_top">Bug#26152</a>)</p></li><li><p>
        Incorrect values/formats would be applied when the
        <code class="literal">OldSyntax</code> connection string option was used.
       (<a href="http://bugs.mysql.com/25950" target="_top">Bug#25950</a>)</p></li><li><p>
        Registry would be incorrectly populated with installation
        locations.
       (<a href="http://bugs.mysql.com/25928" target="_top">Bug#25928</a>)</p></li><li><p>
        Times with negative values would be returned incorrectly.
       (<a href="http://bugs.mysql.com/25912" target="_top">Bug#25912</a>)</p></li><li><p>
        Returned data types of a <code class="literal">DataTypes</code> collection
        do not contain the right correctl CLR Datatype.
       (<a href="http://bugs.mysql.com/25907" target="_top">Bug#25907</a>)</p></li><li><p>
        <code class="literal">GetSchema</code> and <code class="literal">DataTypes</code>
        would throw an exception due to an incorrect table name.
       (<a href="http://bugs.mysql.com/25906" target="_top">Bug#25906</a>)</p></li><li><p>
        <code class="literal">MySqlConnection</code> throws an exception when
        connecting to MySQL v4.1.7.
       (<a href="http://bugs.mysql.com/25726" target="_top">Bug#25726</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> did not work correctly
        when using a <code class="literal">WHERE</code> clause containing a UTF-8
        string.
       (<a href="http://bugs.mysql.com/25651" target="_top">Bug#25651</a>)</p></li><li><p>
        When closing and then re-opening a connection to a database, the
        character set specification is lost.
       (<a href="http://bugs.mysql.com/25614" target="_top">Bug#25614</a>)</p></li><li><p>
        Filling a table schema through a stored procedure triggers a
        runtime error.
       (<a href="http://bugs.mysql.com/25609" target="_top">Bug#25609</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns would be
        returned as a string, not binary, datatype.
       (<a href="http://bugs.mysql.com/25605" target="_top">Bug#25605</a>)</p></li><li><p>
        A critical <code class="literal">ConnectionPool</code> error would result
        in repeated <code class="literal">System.NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/25603" target="_top">Bug#25603</a>)</p></li><li><p>
        The <code class="literal">UpdateRowSource.FirstReturnedRecord</code>
        method does not work.
       (<a href="http://bugs.mysql.com/25569" target="_top">Bug#25569</a>)</p></li><li><p>
        When connecting to a MySQL Server earlier than version 4.1, the
        connection would hang when reading data.
       (<a href="http://bugs.mysql.com/25458" target="_top">Bug#25458</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar()</code> with more than one
        query, where one query fails, will hang the connection.
       (<a href="http://bugs.mysql.com/25443" target="_top">Bug#25443</a>)</p></li><li><p>
        When a <code class="literal">MySqlConversionException</code> is raised on
        a remote object, the client application would receive a
        <code class="literal">SerializationException</code> instead.
       (<a href="http://bugs.mysql.com/24957" target="_top">Bug#24957</a>)</p></li><li><p>
        When connecting to a server, the return code from the connection
        could be zero, even though the host name was incorrect.
       (<a href="http://bugs.mysql.com/24802" target="_top">Bug#24802</a>)</p></li><li><p>
        High CPU utilization would be experienced when there is no idle
        connection waiting when using pooled connections through
        <code class="literal">MySqlPool.GetConnection</code>.
       (<a href="http://bugs.mysql.com/24373" target="_top">Bug#24373</a>)</p></li><li><p>
        MySQL Connector/NET would not compile properly when used with Mono 1.2.
       (<a href="http://bugs.mysql.com/24263" target="_top">Bug#24263</a>)</p></li><li><p>
        Applications would crash when calling with
        <code class="literal">CommandType</code> set to
        <code class="literal">StoredProcedure</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-4"></a>C.5.6.7. Changes in MySQL Connector/NET 5.0.4 (Not released)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-3"></a>C.5.6.8. Changes in MySQL Connector/NET 5.0.3 (05 January 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Usage Advisor has been implemented. The Usage Advisor checks
        your queries and will report if you are using the connection
        inefficiently.
      </p></li><li><p>
        PerfMon hooks have been added to monitor the stored procedure
        cache hits and misses.
      </p></li><li><p>
        The <code class="literal">MySqlCommand</code> object now supports
        asynchronous query methods. This is implemented useg the
        <code class="literal">BeginExecuteNonQuery</code> and
        <code class="literal">EndExecuteNonQuery</code> methods.
      </p></li><li><p>
        Metadata from storaed procedures and stored function execution
        are cached.
      </p></li><li><p>
        The <code class="literal">CommandBuilder.DeriveParameters</code> function
        has been updated to the procedure cache.
      </p></li><li><p>
        The <code class="literal">ViewColumns</code> <code class="literal">GetSchema</code>
        collection has been updated.
      </p></li><li><p>
        Improved speed and performance by re-architecting certain
        sections of the code.
      </p></li><li><p>
        Support for the embedded server and client library have been
        removed from this release. Support will be added back to a later
        release.
      </p></li><li><p>
        The ShapZipLib library has been replaced with the deflate
        support provided within .NET 2.0.
      </p></li><li><p>
        SSL support has been updated.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Additional text added to error message
       (<a href="http://bugs.mysql.com/25178" target="_top">Bug#25178</a>)</p></li><li><p>
        An exception would be raised, or the process would hang, if
        <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privileges on a database
        were not granted and a stored procedure was used.
       (<a href="http://bugs.mysql.com/25033" target="_top">Bug#25033</a>)</p></li><li><p>
        When adding parameter objects to a command object, if the
        parameter direction is set to <code class="literal">ReturnValue</code>
        before the parameter is added to the command object then when
        the command is executed it throws an error.
       (<a href="http://bugs.mysql.com/25013" target="_top">Bug#25013</a>)</p></li><li><p>
        Using <code class="literal">Driver.IsTooOld()</code> would return the
        wrong value.
       (<a href="http://bugs.mysql.com/24661" target="_top">Bug#24661</a>)</p></li><li><p>
        When using a <code class="literal">DbNull.Value</code> as the value for a
        parameter value, and then later setting a specific value type,
        the command would fail with an exception because the wrong type
        was implied from the <code class="literal">DbNull.Value</code>.
       (<a href="http://bugs.mysql.com/24565" target="_top">Bug#24565</a>)</p></li><li><p>
        Stored procedure executions are not thread safe.
       (<a href="http://bugs.mysql.com/23905" target="_top">Bug#23905</a>)</p></li><li><p>
        Deleting a connection to a disconnected server when using the
        Visual Studio Plugin would cause an assertion failure.
       (<a href="http://bugs.mysql.com/23687" target="_top">Bug#23687</a>)</p></li><li><p>
        Nested transactions (which are unsupported)do not raise an error
        or warning.
       (<a href="http://bugs.mysql.com/22400" target="_top">Bug#22400</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-2"></a>C.5.6.9. Changes in MySQL Connector/NET 5.0.2 (06 November 2006)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An <code class="literal">Ignore Prepare</code> option has been added to
        the connection string options. If enabled, prepared statements
        will be disabled application-wide. The default for this option
        is true.
      </p></li><li><p>
        Implemented a stored procedure cache. By default, the connector
        caches the metadata for the last 25 procedures that are seen.
        You can change the numbver of procedures that are cacheds by
        using the <code class="literal">procedure cache</code> connection string.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, MySQL Connector/NET 5.0.2 has disabled their use by default. The
        disabling of server-side prepared statements does not affect the
        operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string
        properties:
      </p><pre class="programlisting">ignore prepare=false</pre><p>
        The default value of this property is true.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        One system where IPv6 was enabled, MySQL Connector/NET would incorrectly
        resolve host names.
       (<a href="http://bugs.mysql.com/23758" target="_top">Bug#23758</a>)</p></li><li><p>
        Column names with accented characters were not parsed properly
        causing malformed column names in result sets.
       (<a href="http://bugs.mysql.com/23657" target="_top">Bug#23657</a>)</p></li><li><p>
        An exception would be thrown when calling
        <code class="literal">GetSchemaTable</code> and <code class="literal">fields</code>
        was null.
       (<a href="http://bugs.mysql.com/23538" target="_top">Bug#23538</a>)</p></li><li><p>
        A <code class="literal">System.FormatException</code> exception would be
        raised when invoking a stored procedure with an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> input parameter.
       (<a href="http://bugs.mysql.com/23268" target="_top">Bug#23268</a>)</p></li><li><p>
        During installation, an antivirus error message would be raised
        (indicating a malicious script problem).
       (<a href="http://bugs.mysql.com/23245" target="_top">Bug#23245</a>)</p></li><li><p>
        Creating a connection through the Server Explorer when using the
        Visual Studio Plugin would fail. The installer for the Visual
        Studio Plugin has been updated to ensure that MySQL Connector/NET 5.0.2 must
        be installed.
       (<a href="http://bugs.mysql.com/23071" target="_top">Bug#23071</a>)</p></li><li><p>
        Using Windows Vista (RC2) as a nonprivileged user would raise a
        <code class="literal">Registry key 'Global' access denied</code>.
       (<a href="http://bugs.mysql.com/22882" target="_top">Bug#22882</a>)</p></li><li><p>
        Within Mono, using the <code class="literal">PreparedStatement</code>
        interface could result in an error due to a
        <code class="literal">BitArray</code> copying error.
       (<a href="http://bugs.mysql.com/18186" target="_top">Bug#18186</a>)</p></li><li><p>
        MySQL Connector/NET did not work as a data source for the
        <code class="literal">SqlDataSource</code> object used by ASP.NET 2.0.
       (<a href="http://bugs.mysql.com/16126" target="_top">Bug#16126</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-1"></a>C.5.6.10. Changes in MySQL Connector/NET 5.0.1 (01 October 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/NET on a Tukish operating system, may fail to execute certain
        SQL statements correctly.
       (<a href="http://bugs.mysql.com/22452" target="_top">Bug#22452</a>)</p></li><li><p>
        Starting a transaction on a connection created by
        <code class="literal">MySql.Data.MySqlClient.MySqlClientFactory</code>,
        using <code class="literal">BeginTransaction</code> without specifying an
        isolation level, causes the SQL statement to fail with a syntax
        error.
       (<a href="http://bugs.mysql.com/22042" target="_top">Bug#22042</a>)</p></li><li><p>
        The <code class="literal">MySqlexception</code> class is now derived from
        the <code class="literal">DbException</code> class.
       (<a href="http://bugs.mysql.com/21874" target="_top">Bug#21874</a>)</p></li><li><p>
        The <code class="literal">#</code> would not be accepted within
        column/table names, even though it was valid.
       (<a href="http://bugs.mysql.com/21521" target="_top">Bug#21521</a>)</p></li><li><p>
        You can now install the MySQL Connector/NET MSI package from the command line
        using the <code class="literal">/passive</code>,
        <code class="literal">/quiet</code>, <code class="literal">/q</code> options.
       (<a href="http://bugs.mysql.com/19994" target="_top">Bug#19994</a>)</p></li><li><p>
        Submitting an empty string to a command object through
        <code class="literal">prepare</code> raises an
        <code class="literal">System.IndexOutOfRangeException</code>, rather than
        a MySQL Connector/NET exception.
       (<a href="http://bugs.mysql.com/18391" target="_top">Bug#18391</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar</code> with a datetime field,
        where the value of the field is "0000-00-00 00:00:00", a
        <code class="literal">MySqlConversionException</code> exception would be
        raised.
       (<a href="http://bugs.mysql.com/11991" target="_top">Bug#11991</a>)</p></li><li><p>
        An <code class="literal">MySql.Data.Types.MySqlConversionException</code>
        would be raised when trying to update a row that contained a
        date field, where the date field contained a zero value
        (0000-00-00 00:00:00).
       (<a href="http://bugs.mysql.com/9619" target="_top">Bug#9619</a>)</p></li><li><p>
        Executing multiple queries as part of a transaction returns
        <code class="literal">There is already an openDataReader associated with this
        Connection which must be closed first</code>.
       (<a href="http://bugs.mysql.com/7248" target="_top">Bug#7248</a>)</p></li><li><p>
        Incorrect field/data lengths could be returned for
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> UTF8 columns. Bug
        (#14592)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-5-0-0"></a>C.5.6.11. Changes in MySQL Connector/NET 5.0.0 (08 August 2006)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Replaced use of ICSharpCode with .NET 2.0 internal deflate
        support.
      </p></li><li><p>
        Refactored test suite to test all protocols in a single pass.
      </p></li><li><p>
        Added usage advisor warnings for requesting column values by the
        wrong type.
      </p></li><li><p>
        Reimplemented PacketReader/PacketWriter support into
        <code class="classname">MySqlStream</code> class.
      </p></li><li><p>
        Reworked connection string classes to be simpler and faster.
      </p></li><li><p>
        Added procedure metadata caching.
      </p></li><li><p>
        Added internal implemention of SHA1 so we don't have to
        distribute the OpenNetCF on mobile devices.
      </p></li><li><p>
        Implemented <code class="classname">MySqlClientFactory</code> class.
      </p></li><li><p>
        Added perfmon hooks for stored procedure cache hits and misses.
      </p></li><li><p>
        Implemented classes and interfaces for ADO.Net 2.0 support.
      </p></li><li><p>
        Added Async query methods.
      </p></li><li><p>
        Implemented Usage Advisor.
      </p></li><li><p>
        Completely refactored how column values are handled to avoid
        boxing in some cases.
      </p></li><li><p>
        Implemented <code class="classname">MySqlConnectionBuilder</code> class.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        CommandText: Question mark in comment line is being parsed as a
        parameter.
       (<a href="http://bugs.mysql.com/6214" target="_top">Bug#6214</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changes-1.0.x"></a>C.5.7. Changes in MySQL Connector/NET Version 1.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-1-0-11">C.5.7.1. Changes in MySQL Connector/NET 1.0.11 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-10">C.5.7.2. Changes in MySQL Connector/NET 1.0.10 (24 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-9">C.5.7.3. Changes in MySQL Connector/NET 1.0.9 (02 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-8">C.5.7.4. Changes in MySQL Connector/NET 1.0.8 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-7">C.5.7.5. Changes in MySQL Connector/NET 1.0.7 (21 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-6">C.5.7.6. Changes in MySQL Connector/NET 1.0.6 (03 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-5">C.5.7.7. Changes in MySQL Connector/NET 1.0.5 (29 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-4">C.5.7.8. Changes in MySQL Connector/NET 1.0.4 (20 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-3">C.5.7.9. Changes in MySQL Connector/NET 1.0.3 (12 October 2004 gamma)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-2">C.5.7.10. Changes in MySQL Connector/NET 1.0.2 (15 November 2004 gamma)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-1">C.5.7.11. Changes in MySQL Connector/NET 1.0.1 (27 October 2004 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-0">C.5.7.12. Changes in MySQL Connector/NET 1.0.0 (01 September 2004)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-11"></a>C.5.7.1. Changes in MySQL Connector/NET 1.0.11 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Attempting to utilize MySQL Connector .Net version 1.0.10 throws
        a fatal exception under Mono when pooling is enabled.
       (<a href="http://bugs.mysql.com/33682" target="_top">Bug#33682</a>)</p></li><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with noninput direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to MySQL Connector/NET
        incorrectly identifying <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        fields as binary, rather than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        Using compression in the MySQL connection with MySQL Connector/NET would be
        slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-10"></a>C.5.7.2. Changes in MySQL Connector/NET 1.0.10 (24 August 2007)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when adding
        rows to a table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        Publisher listed in "Add/Remove Programs" is not consistent with
        other MySQL products.
       (<a href="http://bugs.mysql.com/27253" target="_top">Bug#27253</a>)</p></li><li><p>
        <code class="literal">MySqlParameterCollection</code> and parameters added
        with <code class="literal">Insert</code> method can not be retrieved later
        using <code class="literal">ParameterName</code>.
       (<a href="http://bugs.mysql.com/27135" target="_top">Bug#27135</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns would be
        returned as a string, not binary, datatype.
       (<a href="http://bugs.mysql.com/25605" target="_top">Bug#25605</a>)</p></li><li><p>
        A critical <code class="literal">ConnectionPool</code> error would result
        in repeated <code class="literal">System.NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/25603" target="_top">Bug#25603</a>)</p></li><li><p>
        When a <code class="literal">MySqlConversionException</code> is raised on
        a remote object, the client application would receive a
        <code class="literal">SerializationException</code> instead.
       (<a href="http://bugs.mysql.com/24957" target="_top">Bug#24957</a>)</p></li><li><p>
        High CPU utilization would be experienced when there is no idle
        connection waiting when using pooled connections through
        <code class="literal">MySqlPool.GetConnection</code>.
       (<a href="http://bugs.mysql.com/24373" target="_top">Bug#24373</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-9"></a>C.5.7.3. Changes in MySQL Connector/NET 1.0.9 (02 February 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The ICSharpCode ZipLib is no longer used by the Connector, and
        is no longer distributed with it.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Binaries for
        .NET 1.0 are no longer supplied with this release. If you need
        support for .NET 1.0, you must build from source.
      </p></li><li><p>
        Improved <code class="literal">CommandBuilder.DeriveParameters</code> to
        first try and use the procedure cache before querying for the
        stored procedure metadata. Return parameters created with
        <code class="literal">DeriveParameters</code> now have the name
        <code class="literal">RETURN_VALUE</code>.
      </p></li><li><p>
        An <code class="literal">Ignore Prepare</code> option has been added to
        the connection string options. If enabled, prepared statements
        will be disabled application-wide. The default for this option
        is true.
      </p></li><li><p>
        Implemented a stored procedure cache. By default, the connector
        caches the metadata for the last 25 procedures that are seen.
        You can change the numbver of procedures that are cacheds by
        using the <code class="literal">procedure cache</code> connection string.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, MySQL Connector/NET 5.0.2 has disabled their use by default. The
        disabling of server-side prepared statements does not affect the
        operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string
        properties:
      </p><pre class="programlisting">ignore prepare=false</pre><p>
        The default value of this property is true.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Times with negative values would be returned incorrectly.
       (<a href="http://bugs.mysql.com/25912" target="_top">Bug#25912</a>)</p></li><li><p>
        <code class="literal">MySqlConnection</code> throws a
        <code class="literal">NullReferenceException</code> and
        <code class="literal">ArgumentNullException</code> when connecting to
        MySQL v4.1.7.
       (<a href="http://bugs.mysql.com/25726" target="_top">Bug#25726</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> did not work correctly
        when using a <code class="literal">WHERE</code> clause containing a UTF-8
        string.
       (<a href="http://bugs.mysql.com/25651" target="_top">Bug#25651</a>)</p></li><li><p>
        When closing and then re-opening a connection to a database, the
        character set specification is lost.
       (<a href="http://bugs.mysql.com/25614" target="_top">Bug#25614</a>)</p></li><li><p>
        Trying to fill a table schema through a stored procedure
        triggers a runtime error.
       (<a href="http://bugs.mysql.com/25609" target="_top">Bug#25609</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar()</code> with more than one
        query, where one query fails, will hang the connection.
       (<a href="http://bugs.mysql.com/25443" target="_top">Bug#25443</a>)</p></li><li><p>
        Additional text added to error message.
       (<a href="http://bugs.mysql.com/25178" target="_top">Bug#25178</a>)</p></li><li><p>
        When adding parameter objects to a command object, if the
        parameter direction is set to <code class="literal">ReturnValue</code>
        before the parameter is added to the command object then when
        the command is executed it throws an error.
       (<a href="http://bugs.mysql.com/25013" target="_top">Bug#25013</a>)</p></li><li><p>
        When connecting to a server, the return code from the connection
        could be zero, even though the host name was incorrect.
       (<a href="http://bugs.mysql.com/24802" target="_top">Bug#24802</a>)</p></li><li><p>
        Using <code class="literal">Driver.IsTooOld()</code> would return the
        wrong value.
       (<a href="http://bugs.mysql.com/24661" target="_top">Bug#24661</a>)</p></li><li><p>
        When using a <code class="literal">DbNull.Value</code> as the value for a
        parameter value, and then later setting a specific value type,
        the command would fail with an exception because the wrong type
        was implied from the <code class="literal">DbNull.Value</code>.
       (<a href="http://bugs.mysql.com/24565" target="_top">Bug#24565</a>)</p></li><li><p>
        Stored procedure executions are not thread safe.
       (<a href="http://bugs.mysql.com/23905" target="_top">Bug#23905</a>)</p></li><li><p>
        The <code class="literal">CommandBuilder</code> would mistakenly add
        insert parameters for a table column with auto incrementation
        enabled.
       (<a href="http://bugs.mysql.com/23862" target="_top">Bug#23862</a>)</p></li><li><p>
        One system where IPv6 was enabled, MySQL Connector/NET would incorrectly
        resolve host names.
       (<a href="http://bugs.mysql.com/23758" target="_top">Bug#23758</a>)</p></li><li><p>
        Nested transactions do not raise an error or warning.
       (<a href="http://bugs.mysql.com/22400" target="_top">Bug#22400</a>)</p></li><li><p>
        An <code class="literal">System.OverflowException</code> would be raised
        when accessing a varchar field over 255 bytes. Bug (#23749)
      </p></li><li><p>
        Within Mono, using the <code class="literal">PreparedStatement</code>
        interface could result in an error due to a
        <code class="literal">BitArray</code> copying error. (Bug 18186)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-8"></a>C.5.7.4. Changes in MySQL Connector/NET 1.0.8 (20 October 2006)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Stored procedures are now cached.
      </p></li><li><p>
        The method for retrieving stored procedured metadata has been
        changed so that users without
        <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privileges on the
        <code class="literal">mysql.proc</code> table can use a stored procedure.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/NET on a Tukish operating system, may fail to execute certain
        SQL statements correctly.
       (<a href="http://bugs.mysql.com/22452" target="_top">Bug#22452</a>)</p></li><li><p>
        The <code class="literal">#</code> would not be accepted within
        column/table names, even though it was valid.
       (<a href="http://bugs.mysql.com/21521" target="_top">Bug#21521</a>)</p></li><li><p>
        Calling <code class="methodname">Close</code> on a connection after
        calling a stored procedure would trigger a
        <code class="literal">NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/20581" target="_top">Bug#20581</a>)</p></li><li><p>
        You can now install the MySQL Connector/NET MSI package from the command line
        using the <code class="literal">/passive</code>,
        <code class="literal">/quiet</code>, <code class="literal">/q</code> options.
       (<a href="http://bugs.mysql.com/19994" target="_top">Bug#19994</a>)</p></li><li><p>
        The DiscoverParameters function would fail when a stored
        procedure used a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a>
        parameter type.
       (<a href="http://bugs.mysql.com/19515" target="_top">Bug#19515</a>)</p></li><li><p>
        When running a query that included a date comparison, a
        DateReader error would be raised.
       (<a href="http://bugs.mysql.com/19481" target="_top">Bug#19481</a>)</p></li><li><p>
        <code class="literal">IDataRecord.GetString</code> would raise
        <code class="literal">NullPointerException</code> for null values in
        returned rows. Method now throws
        <code class="literal">SqlNullValueException</code>.
       (<a href="http://bugs.mysql.com/19294" target="_top">Bug#19294</a>)</p></li><li><p>
        Parameter substitution in queries where the order of parameters
        and table fields did not match would substitute incorrect
        values.
       (<a href="http://bugs.mysql.com/19261" target="_top">Bug#19261</a>)</p></li><li><p>
        Submitting an empty string to a command object through
        <code class="literal">prepare</code> raises an
        <code class="literal">System.IndexOutOfRangeException</code>, rather than
        a MySQL Connector/NET exception.
       (<a href="http://bugs.mysql.com/18391" target="_top">Bug#18391</a>)</p></li><li><p>
        An exception would be raised when using an output parameter to a
        <code class="literal">System.String</code> value.
       (<a href="http://bugs.mysql.com/17814" target="_top">Bug#17814</a>)</p></li><li><p>
        CHAR type added to MySqlDbType.
       (<a href="http://bugs.mysql.com/17749" target="_top">Bug#17749</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query on a table with a
        date with a value of <code class="literal">'0000-00-00'</code> would hang
        the application.
       (<a href="http://bugs.mysql.com/17736" target="_top">Bug#17736</a>)</p></li><li><p>
        The CommandBuilder ignored Unsigned flag at Parameter creation.
       (<a href="http://bugs.mysql.com/17375" target="_top">Bug#17375</a>)</p></li><li><p>
        When working with multiple threads, character set initialization
        would generate errors.
       (<a href="http://bugs.mysql.com/17106" target="_top">Bug#17106</a>)</p></li><li><p>
        When using an unsigned 64-bit integer in a stored procedure, the
        unsigned bit would be lost stored.
       (<a href="http://bugs.mysql.com/16934" target="_top">Bug#16934</a>)</p></li><li><p>
        <code class="literal">DataReader</code> would show the value of the
        previous row (or last row with nonnull data) if the current row
        contained a <code class="literal">datetime</code> field with a null value.
       (<a href="http://bugs.mysql.com/16884" target="_top">Bug#16884</a>)</p></li><li><p>
        Unsigned data types were not properly supported.
       (<a href="http://bugs.mysql.com/16788" target="_top">Bug#16788</a>)</p></li><li><p>
        The connection string parser did not allow single or double
        quotes in the password.
       (<a href="http://bugs.mysql.com/16659" target="_top">Bug#16659</a>)</p></li><li><p>
        The <code class="literal">MySqlDateTime</code> class did not contain
        constructors.
       (<a href="http://bugs.mysql.com/15112" target="_top">Bug#15112</a>)</p></li><li><p>
        Called <code class="literal">MySqlCommandBuilder.DeriveParameters</code>
        for a stored procedure that has no paramers would cause an
        application crash.
       (<a href="http://bugs.mysql.com/15077" target="_top">Bug#15077</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar</code> with a datetime field,
        where the value of the field is "0000-00-00 00:00:00", a
        <code class="literal">MySqlConversionException</code> exception would be
        raised.
       (<a href="http://bugs.mysql.com/11991" target="_top">Bug#11991</a>)</p></li><li><p>
        An <code class="literal">MySql.Data.Types.MySqlConversionException</code>
        would be raised when trying to update a row that contained a
        date field, where the date field contained a zero value
        (0000-00-00 00:00:00).
       (<a href="http://bugs.mysql.com/9619" target="_top">Bug#9619</a>)</p></li><li><p>
        When using <code class="literal">MySqlDataAdapter</code>, connections to a
        MySQL server may remain open and active, even though the use of
        the connection has been completed and the data received.
       (<a href="http://bugs.mysql.com/8131" target="_top">Bug#8131</a>)</p></li><li><p>
        Executing multiple queries as part of a transaction returns
        <code class="literal">There is already an openDataReader associated with this
        Connection which must be closed first</code>.
       (<a href="http://bugs.mysql.com/7248" target="_top">Bug#7248</a>)</p></li><li><p>
        Incorrect field/data lengths could be returned for
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> UTF8 columns. Bug
        (#14592)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-7"></a>C.5.7.5. Changes in MySQL Connector/NET 1.0.7 (21 November 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Unsigned <code class="literal">tinyint</code> (NET byte) would lead to and
        incorrectly determined parameter type from the parameter value.
       (<a href="http://bugs.mysql.com/18570" target="_top">Bug#18570</a>)</p></li><li><p>
        A <code class="literal">#42000Query was empty</code> exception occurred
        when executing a query built with
        <code class="literal">MySqlCommandBuilder</code>, if the query string
        ended with a semicolon.
       (<a href="http://bugs.mysql.com/14631" target="_top">Bug#14631</a>)</p></li><li><p>
        The parameter collection object's <code class="literal">Add()</code>
        method added parameters to the list without first checking to
        see whether they already existed. Now it updates the value of
        the existing parameter object if it exists.
       (<a href="http://bugs.mysql.com/13927" target="_top">Bug#13927</a>)</p></li><li><p>
        Added support for the <code class="literal">cp932</code> character set.
       (<a href="http://bugs.mysql.com/13806" target="_top">Bug#13806</a>)</p></li><li><p>
        Calling a stored procedure where a parameter contained special
        characters (such as <code class="literal">'@'</code>) would produce an
        exception. Note that
        <a href="server-administration.html#sqlmode_ansi_quotes"><code class="literal">ANSI_QUOTES</code></a> had to be enabled
        to make this possible.
       (<a href="http://bugs.mysql.com/13753" target="_top">Bug#13753</a>)</p></li><li><p>
        The <code class="literal">Ping()</code> method did not update the
        <code class="literal">State</code> property of the
        <code class="literal">Connection</code> object.
       (<a href="http://bugs.mysql.com/13658" target="_top">Bug#13658</a>)</p></li><li><p>
        Implemented the
        <code class="literal">MySqlCommandBuilder.DeriveParameters</code> method
        that is used to discover the parameters for a stored procedure.
       (<a href="http://bugs.mysql.com/13632" target="_top">Bug#13632</a>)</p></li><li><p>
        A statement that contained multiple references to the same
        parameter could not be prepared.
       (<a href="http://bugs.mysql.com/13541" target="_top">Bug#13541</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-6"></a>C.5.7.6. Changes in MySQL Connector/NET 1.0.6 (03 October 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/NET 1.0.5 could not connect on Mono.
       (<a href="http://bugs.mysql.com/13345" target="_top">Bug#13345</a>)</p></li><li><p>
        Serializing a parameter failed if the first value passed in was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/13276" target="_top">Bug#13276</a>)</p></li><li><p>
        Field names that contained the following characters caused
        errors: <code class="literal">()%&lt;&gt;/</code>
       (<a href="http://bugs.mysql.com/13036" target="_top">Bug#13036</a>)</p></li><li><p>
        The <code class="literal">nant</code> build sequence had problems.
       (<a href="http://bugs.mysql.com/12978" target="_top">Bug#12978</a>)</p></li><li><p>
        The MySQL Connector/NET 1.0.5 installer would not install alongside MySQL Connector/NET
        1.0.4.
       (<a href="http://bugs.mysql.com/12835" target="_top">Bug#12835</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-5"></a>C.5.7.7. Changes in MySQL Connector/NET 1.0.5 (29 August 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Connector/NET could not connect to MySQL 4.1.14.
       (<a href="http://bugs.mysql.com/12771" target="_top">Bug#12771</a>)</p></li><li><p>
        With multiple hosts in the connection string, MySQL Connector/NET would not
        connect to the last host in the list.
       (<a href="http://bugs.mysql.com/12628" target="_top">Bug#12628</a>)</p></li><li><p>
        The <code class="literal">ConnectionString</code> property could not be
        set when a <code class="literal">MySqlConnection</code> object was added
        with the designer.
       (<a href="http://bugs.mysql.com/12551" target="_top">Bug#12551</a>, <a href="http://bugs.mysql.com/8724" target="_top">Bug#8724</a>)</p></li><li><p>
        The <code class="literal">cp1250</code> character set was not supported.
       (<a href="http://bugs.mysql.com/11621" target="_top">Bug#11621</a>)</p></li><li><p>
        A call to a stored procedure caused an exception if the stored
        procedure had no parameters.
       (<a href="http://bugs.mysql.com/11542" target="_top">Bug#11542</a>)</p></li><li><p>
        Certain malformed queries would trigger a <code class="literal">Connection
        must be valid and open</code> error message.
       (<a href="http://bugs.mysql.com/11490" target="_top">Bug#11490</a>)</p></li><li><p>
        Trying to use a stored procedure when
        <code class="literal">Connection.Database</code> was not populated
        generated an exception.
       (<a href="http://bugs.mysql.com/11450" target="_top">Bug#11450</a>)</p></li><li><p>
        MySQL Connector/NET interpreted the new decimal data type as a byte array.
       (<a href="http://bugs.mysql.com/11294" target="_top">Bug#11294</a>)</p></li><li><p>
        Added support to call a stored function from MySQL Connector/NET.
       (<a href="http://bugs.mysql.com/10644" target="_top">Bug#10644</a>)</p></li><li><p>
        Connection could fail when .NET thread pool had no available
        worker threads.
       (<a href="http://bugs.mysql.com/10637" target="_top">Bug#10637</a>)</p></li><li><p>
        Calling <code class="literal">MySqlConnection.clone</code> when a
        connection string had not yet been set on the original
        connection would generate an error.
       (<a href="http://bugs.mysql.com/10281" target="_top">Bug#10281</a>)</p></li><li><p>
        Decimal parameters caused syntax errors.
       (<a href="http://bugs.mysql.com/10152" target="_top">Bug#10152</a>, <a href="http://bugs.mysql.com/11550" target="_top">Bug#11550</a>, <a href="http://bugs.mysql.com/10486" target="_top">Bug#10486</a>)</p></li><li><p>
        Parameters were not recognized when they were separated by
        linefeeds.
       (<a href="http://bugs.mysql.com/9722" target="_top">Bug#9722</a>)</p></li><li><p>
        The <code class="literal">MySqlCommandBuilder</code> class could not
        handle queries that referenced tables in a database other than
        the default database.
       (<a href="http://bugs.mysql.com/8382" target="_top">Bug#8382</a>)</p></li><li><p>
        Trying to read a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column
        generated an exception.
       (<a href="http://bugs.mysql.com/7951" target="_top">Bug#7951</a>)</p></li><li><p>
        MySQL Connector/NET could not work properly with certain regional settings.
        (WL#8228)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-4"></a>C.5.7.8. Changes in MySQL Connector/NET 1.0.4 (20 January 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlReader.GetInt32</code> throws exception if
        column is unsigned.
       (<a href="http://bugs.mysql.com/7755" target="_top">Bug#7755</a>)</p></li><li><p>
        Quote character \222 not quoted in
        <code class="literal">EscapeString</code>.
       (<a href="http://bugs.mysql.com/7724" target="_top">Bug#7724</a>)</p></li><li><p>
        GetBytes is working no more.
       (<a href="http://bugs.mysql.com/7704" target="_top">Bug#7704</a>)</p></li><li><p>
        <code class="literal">MySqlDataReader.GetString(index)</code> returns
        non-Null value when field is <code class="literal">Null</code>.
       (<a href="http://bugs.mysql.com/7612" target="_top">Bug#7612</a>)</p></li><li><p>
        Clone method bug in <code class="literal">MySqlCommand</code>.
       (<a href="http://bugs.mysql.com/7478" target="_top">Bug#7478</a>)</p></li><li><p>
        Problem with Multiple resultsets.
       (<a href="http://bugs.mysql.com/7436" target="_top">Bug#7436</a>)</p></li><li><p>
        <code class="literal">MySqlAdapter.Fill</code> method throws error message
        <code class="literal">Non-negative number required</code>.
       (<a href="http://bugs.mysql.com/7345" target="_top">Bug#7345</a>)</p></li><li><p>
        <code class="literal">MySqlCommand.Connection</code> returns an
        IDbConnection.
       (<a href="http://bugs.mysql.com/7258" target="_top">Bug#7258</a>)</p></li><li><p>
        Calling prepare causing exception.
       (<a href="http://bugs.mysql.com/7243" target="_top">Bug#7243</a>)</p></li><li><p>
        Fixed problem with shared memory connections.
      </p></li><li><p>
        Added or filled out several more topics in the API reference
        documentation.
      </p></li><li><p>
        Fixed another small problem with prepared statements.
      </p></li><li><p>
        Fixed problem that causes named pipes to not work with some blob
        functionality.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-3"></a>C.5.7.9. Changes in MySQL Connector/NET 1.0.3 (12 October 2004 gamma)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Invalid query string when using inout parameters
       (<a href="http://bugs.mysql.com/7133" target="_top">Bug#7133</a>)</p></li><li><p>
        Inserting <code class="literal">DateTime</code> causes
        <code class="literal">System.InvalidCastException</code> to be thrown.
       (<a href="http://bugs.mysql.com/7132" target="_top">Bug#7132</a>)</p></li><li><p>
        <code class="literal">MySqlDateTime</code> in Datatables sorting by Text,
        not Date.
       (<a href="http://bugs.mysql.com/7032" target="_top">Bug#7032</a>)</p></li><li><p>
        Exception stack trace lost when re-throwing exceptions.
       (<a href="http://bugs.mysql.com/6983" target="_top">Bug#6983</a>)</p></li><li><p>
        Errors in parsing stored procedure parameters.
       (<a href="http://bugs.mysql.com/6902" target="_top">Bug#6902</a>)</p></li><li><p>
        InvalidCast when using <code class="literal">DATE_ADD</code>-function.
       (<a href="http://bugs.mysql.com/6879" target="_top">Bug#6879</a>)</p></li><li><p>
        Int64 Support in <code class="literal">MySqlCommand</code> Parameters.
       (<a href="http://bugs.mysql.com/6863" target="_top">Bug#6863</a>)</p></li><li><p>
        Test suite fails with MySQL 4.0 because of case sensitivity of
        table names.
       (<a href="http://bugs.mysql.com/6831" target="_top">Bug#6831</a>)</p></li><li><p>
        <code class="literal">MySqlDataReader.GetChar(int i)</code> throws
        <code class="literal">IndexOutOfRange</code> exception.
       (<a href="http://bugs.mysql.com/6770" target="_top">Bug#6770</a>)</p></li><li><p>
        Integer "out" parameter from stored procedure returned as
        string.
       (<a href="http://bugs.mysql.com/6668" target="_top">Bug#6668</a>)</p></li><li><p>
        An Open Connection has been Closed by the Host System.
       (<a href="http://bugs.mysql.com/6634" target="_top">Bug#6634</a>)</p></li><li><p>
        Fixed Invalid character set index: 200.
       (<a href="http://bugs.mysql.com/6547" target="_top">Bug#6547</a>)</p></li><li><p>
        Connections now do not have to give a database on the connection
        string.
      </p></li><li><p>
        Installer now includes options to install into GAC and create
        <span class="guimenu">Start Menu</span> items.
      </p></li><li><p>
        Fixed major problem with detecting null values when using
        prepared statements.
      </p></li><li><p>
        Fixed problem where multiple resultsets having different numbers
        of columns would cause a problem.
      </p></li><li><p>
        Added <code class="literal">ServerThread</code> property to
        <code class="literal">MySqlConnection</code> to expose server thread id.
      </p></li><li><p>
        Added Ping method to <code class="literal">MySqlConnection</code>.
      </p></li><li><p>
        Changed the name of the test suite to
        <code class="filename">MySql.Data.Tests.dll</code>.
      </p></li><li><p>
        Now <a href="sql-syntax.html#show-collation" title="12.5.5.4. SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> is used upon
        connection to retrieve the full list of charset ids.
      </p></li><li><p>
        Made MySQL the default named pipe name.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-2"></a>C.5.7.10. Changes in MySQL Connector/NET 1.0.2 (15 November 2004 gamma)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed Objects not being disposed
       (<a href="http://bugs.mysql.com/6649" target="_top">Bug#6649</a>)</p></li><li><p>
        Fixed Charset-map for UCS-2
       (<a href="http://bugs.mysql.com/6541" target="_top">Bug#6541</a>)</p></li><li><p>
        Fixed Zero date "0000-00-00" is returned wrong when filling
        Dataset
       (<a href="http://bugs.mysql.com/6429" target="_top">Bug#6429</a>)</p></li><li><p>
        Fixed double type handling in MySqlParameter(string
        parameterName, object value)
       (<a href="http://bugs.mysql.com/6428" target="_top">Bug#6428</a>)</p></li><li><p>
        Fixed Installation directory ignored using custom installation
       (<a href="http://bugs.mysql.com/6329" target="_top">Bug#6329</a>)</p></li><li><p>
        Fixed #HY000 Illegal mix of collations
        (latin1_swedish_ci,IMPLICIT) and (utf8_general_
       (<a href="http://bugs.mysql.com/6322" target="_top">Bug#6322</a>)</p></li><li><p>
        Added the TableEditor CS and VB sample
      </p></li><li><p>
        Added charset connection string option
      </p></li><li><p>
        Fixed problem with MySqlBinary where string values could not be
        used to update extended text columns
      </p></li><li><p>
        Provider is now using character set specified by server as
        default
      </p></li><li><p>
        Updated the installer to include the new samples
      </p></li><li><p>
        Fixed problem where setting command text leaves the command in a
        prepared state
      </p></li><li><p>
        Fixed Long inserts take very long time (Bu #5453)
      </p></li><li><p>
        Fixed problem where calling stored procedures might cause an
        "Illegal mix of collations" problem.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-1"></a>C.5.7.11. Changes in MySQL Connector/NET 1.0.1 (27 October 2004 beta)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed IndexOutOfBounds when reading BLOB with DataReader with
        GetString(index)
       (<a href="http://bugs.mysql.com/6230" target="_top">Bug#6230</a>)</p></li><li><p>
        Fixed GetBoolean returns wrong values
       (<a href="http://bugs.mysql.com/6227" target="_top">Bug#6227</a>)</p></li><li><p>
        Fixed Method TokenizeSql() uses only a limited set of valid
        characters for parameters
       (<a href="http://bugs.mysql.com/6217" target="_top">Bug#6217</a>)</p></li><li><p>
        Fixed NET Connector source missing resx files
       (<a href="http://bugs.mysql.com/6216" target="_top">Bug#6216</a>)</p></li><li><p>
        Fixed System.OverflowException when using YEAR datatype
       (<a href="http://bugs.mysql.com/6036" target="_top">Bug#6036</a>)</p></li><li><p>
        Fixed MySqlDateTime sets IsZero property on all subseq.records
        after first zero found
       (<a href="http://bugs.mysql.com/6006" target="_top">Bug#6006</a>)</p></li><li><p>
        Fixed serializing of floating point parameters (double, numeric,
        single, decimal)
       (<a href="http://bugs.mysql.com/5900" target="_top">Bug#5900</a>)</p></li><li><p>
        Fixed missing Reference in DbType setter
       (<a href="http://bugs.mysql.com/5897" target="_top">Bug#5897</a>)</p></li><li><p>
        Fixed Parsing the ';' char
       (<a href="http://bugs.mysql.com/5876" target="_top">Bug#5876</a>)</p></li><li><p>
        Fixed DBNull Values causing problems with retrieving/updating
        queries.
       (<a href="http://bugs.mysql.com/5798" target="_top">Bug#5798</a>)</p></li><li><p>
        IsNullable error
       (<a href="http://bugs.mysql.com/5796" target="_top">Bug#5796</a>)</p></li><li><p>
        Fixed problem where MySqlParameterCollection.Add() would throw
        unclear exception when given a null value
       (<a href="http://bugs.mysql.com/5621" target="_top">Bug#5621</a>)</p></li><li><p>
        Fixed construtor initialize problems in MySqlCommand()
       (<a href="http://bugs.mysql.com/5613" target="_top">Bug#5613</a>)</p></li><li><p>
        Fixed Yet Another "object reference not set to an instance of an
        object"
       (<a href="http://bugs.mysql.com/5496" target="_top">Bug#5496</a>)</p></li><li><p>
        Fixed Can't display Chinese correctly
       (<a href="http://bugs.mysql.com/5288" target="_top">Bug#5288</a>)</p></li><li><p>
        Fixed MySqlDataReader and 'show tables from ...' behavior
       (<a href="http://bugs.mysql.com/5256" target="_top">Bug#5256</a>)</p></li><li><p>
        Fixed problem in PacketReader where it could try to allocate the
        wrong buffer size in EnsureCapacity
      </p></li><li><p>
        Fixed problem where using old syntax while using the interfaces
        caused problems
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5458" target="_top">Bug#5458</a> Calling GetChars on a longtext column throws an
        exception
      </p></li><li><p>
        Added test case for resetting the command text on a prepared
        command
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5388" target="_top">Bug#5388</a> DataReader reports all rows as NULL if one row
        is NULL
      </p></li><li><p>
        Fixed problem where connection lifetime on the connect string
        was not being respected
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5602" target="_top">Bug#5602</a> Possible bug in MySqlParameter(string, object)
        constructor
      </p></li><li><p>
        Field buffers being reused to decrease memory allocations and
        increase speed
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5392" target="_top">Bug#5392</a> MySqlCommand sees "?" as parameters in string
        literals
      </p></li><li><p>
        Added Aggregate function test (wasn't really a bug)
      </p></li><li><p>
        Using PacketWriter instead of Packet for writing to streams
      </p></li><li><p>
        Implemented SequentialAccess
      </p></li><li><p>
        Fixed problem with ConnectionInternal where a key might be added
        more than once
      </p></li><li><p>
        Fixed Russian character support as well
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5474" target="_top">Bug#5474</a> cannot run a stored procedure populating
        mysqlcommand.parameters
      </p></li><li><p>
        Fixed problem where connector was not issuing a CMD_QUIT before
        closing the socket
      </p></li><li><p>
        Fixed problem where Min Pool Size was not being respected
      </p></li><li><p>
        Refactored compression code into CompressedStream to clean up
        NativeDriver
      </p></li><li><p>
        CP1252 is now used for Latin1 only when the server is 4.1.2 and
        later
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5469" target="_top">Bug#5469</a> Setting DbType throws NullReferenceException
      </p></li><li><p>
        Virtualized driver subsystem so future releases could easily
        support client or embedded server support
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="connector-net-news-1-0-0"></a>C.5.7.12. Changes in MySQL Connector/NET 1.0.0 (01 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Thai encoding not correctly supported.
       (<a href="http://bugs.mysql.com/3889" target="_top">Bug#3889</a>)</p></li><li><p>
        Bumped version number to 1.0.0 for beta 1 release.
      </p></li><li><p>
        Removed all of the XML comment warnings.
      </p></li><li><p>
        Added <code class="filename">COPYING.rtf</code> file for use in
        installer.
      </p></li><li><p>
        Updated many of the test cases.
      </p></li><li><p>
        Fixed problem with using compression.
      </p></li><li><p>
        Removed some last references to ByteFX.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-0-9-0"></a>C.5.8. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Added test fixture for prepared statements.
        </p></li><li><p>
          All type classes now implement a
          <code class="literal">SerializeBinary</code> method for sending their
          data to a <code class="literal">PacketWriter</code>.
        </p></li><li><p>
          Added <code class="literal">PacketWriter</code> class that will enable
          future low-memory large object handling.
        </p></li><li><p>
          Fixed many small bugs in running prepared statements and
          stored procedures.
        </p></li><li><p>
          Changed command so that an exception will not be thrown in
          executing a stored procedure with parameters in old syntax
          mode.
        </p></li><li><p>
          <code class="literal">SingleRow</code> behavior now working right even
          with limit.
        </p></li><li><p>
          <code class="literal">GetBytes</code> now only works on binary columns.
        </p></li><li><p>
          Logger now truncates long sql commands so blob columns do not
          blow out our log.
        </p></li><li><p>
          Host and database now have a default value of "" unless
          otherwise set.
        </p></li><li><p>
          Connection Timeout seems to be ignored. (<a href="http://bugs.mysql.com/5214" target="_top">Bug#5214</a>)
        </p></li><li><p>
          Added test case for bug# 5051: GetSchema not working
          correctly.
        </p></li><li><p>
          Fixed problem where <code class="literal">GetSchema</code> would return
          false for <code class="literal">IsUnique</code> when the column is key.
        </p></li><li><p>
          <code class="literal">MySqlDataReader GetXXX</code> methods now using
          the field level <code class="literal">MySqlValue</code> object and not
          performing conversions.
        </p></li><li><p>
          <code class="literal">DataReader</code> returning
          <code class="literal">NULL</code> for time column. (<a href="http://bugs.mysql.com/5097" target="_top">Bug#5097</a>)
        </p></li><li><p>
          Added test case for
          <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
          INFILE</code></a>.
        </p></li><li><p>
          Added replacetext custom nant task.
        </p></li><li><p>
          Added <code class="literal">CommandBuilderTest</code> fixture.
        </p></li><li><p>
          Added Last One Wins feature to
          <code class="literal">CommandBuilder</code>.
        </p></li><li><p>
          Fixed persist security info case problem.
        </p></li><li><p>
          Fixed <code class="literal">GetBool</code> so that 1, true, "true", and
          "yes" all count as true.
        </p></li><li><p>
          Make parameter mark configurable.
        </p></li><li><p>
          Added the "old syntax" connection string parameter to allow
          use of @ parameter marker.
        </p></li><li><p>
          <code class="literal">MySqlCommandBuilder</code>. (<a href="http://bugs.mysql.com/4658" target="_top">Bug#4658</a>)
        </p></li><li><p>
          <code class="literal">ByteFX.MySqlClient</code> caches passwords if
          <code class="literal">Persist Security Info</code> is false. (<a href="http://bugs.mysql.com/4864" target="_top">Bug#4864</a>)
        </p></li><li><p>
          Updated license banner in all source files to include FLOSS
          exception.
        </p></li><li><p>
          Added new .Types namespace and implementations for most
          current MySql types.
        </p></li><li><p>
          Added <code class="literal">MySqlField41</code> as a subclass of
          <code class="literal">MySqlField</code>.
        </p></li><li><p>
          Changed many classes to now use the new .Types types.
        </p></li><li><p>
          Changed type <code class="literal">enum int</code> to
          <code class="literal">Int32</code>, <code class="literal">short</code> to
          <code class="literal">Int16</code>, and <code class="literal">bigint</code> to
          <code class="literal">Int64</code>.
        </p></li><li><p>
          Added dummy types <code class="literal">UInt16</code>,
          <code class="literal">UInt32</code>, and <code class="literal">UInt64</code> to
          allow an unsigned parameter to be made.
        </p></li><li><p>
          Connections are now reset when they are pulled from the
          connection pool.
        </p></li><li><p>
          Refactored auth code in driver so it can be used for both auth
          and reset.
        </p></li><li><p>
          Added <code class="literal">UserReset</code> test in
          <code class="filename">PoolingTests.cs</code>.
        </p></li><li><p>
          Connections are now reset using
          <code class="literal">COM_CHANGE_USER</code> when pulled from the pool.
        </p></li><li><p>
          Implemented <code class="literal">SingleResultSet</code> behavior.
        </p></li><li><p>
          Implemented support of unicode.
        </p></li><li><p>
          Added char set mappings for utf-8 and ucs-2.
        </p></li><li><p>
          Time fields overflow using bytefx .net mysql driver (<a href="http://bugs.mysql.com/4520" target="_top">Bug#4520</a>)
        </p></li><li><p>
          Modified time test in data type test fixture to check for time
          spans where hours &gt; 24.
        </p></li><li><p>
          Wrong string with backslash escaping in
          <code class="literal">ByteFx.Data.MySqlClient.MySqlParameter</code>.
          (<a href="http://bugs.mysql.com/4505" target="_top">Bug#4505</a>)
        </p></li><li><p>
          Added code to Parameter test case TestQuoting to test for
          backslashes.
        </p></li><li><p>
          <code class="literal">MySqlCommandBuilder</code> fails with multi-word
          column names. (<a href="http://bugs.mysql.com/4486" target="_top">Bug#4486</a>)
        </p></li><li><p>
          Fixed bug in <code class="literal">TokenizeSql</code> where underscore
          would terminate character capture in parameter name.
        </p></li><li><p>
          Added test case for spaces in column names.
        </p></li><li><p>
          <code class="literal">MySqlDataReader.GetBytes</code> do not work
          correctly. (<a href="http://bugs.mysql.com/4324" target="_top">Bug#4324</a>)
        </p></li><li><p>
          Added <code class="function">GetBytes()</code> test case to
          <code class="literal">DataReader</code> test fixture.
        </p></li><li><p>
          Now reading all server variables in
          <code class="literal">InternalConnection.Configure</code> into
          <code class="literal">Hashtable</code>.
        </p></li><li><p>
          Now using <code class="literal">string[]</code> for index map in
          <code class="literal">CharSetMap</code>.
        </p></li><li><p>
          Added CRInSQL test case for carriage returns in SQL.
        </p></li><li><p>
          Setting maxPacketSize to default value in
          <code class="literal">Driver.ctor</code>.
        </p></li><li><p>
          Setting <code class="literal">MySqlDbType</code> on a parameter doesn't
          set generic type. (<a href="http://bugs.mysql.com/4442" target="_top">Bug#4442</a>)
        </p></li><li><p>
          Removed obsolete data types <code class="literal">Long</code> and
          <code class="literal">LongLong</code>.
        </p></li><li><p>
          Overflow exception thrown when using "use pipe" on connection
          string. (<a href="http://bugs.mysql.com/4071" target="_top">Bug#4071</a>)
        </p></li><li><p>
          Changed "use pipe" keyword to "pipe name" or just "pipe".
        </p></li><li><p>
          Allow reading multiple resultsets from a single query.
        </p></li><li><p>
          Added flags attribute to <code class="literal">ServerStatusFlags</code>
          enum.
        </p></li><li><p>
          Changed name of <code class="literal">ServerStatus</code> enum to
          <code class="literal">ServerStatusFlags</code>.
        </p></li><li><p>
          Inserted data row doesn't update properly.
        </p></li><li><p>
          Error processing show create table. (<a href="http://bugs.mysql.com/4074" target="_top">Bug#4074</a>)
        </p></li><li><p>
          Change <code class="literal">Packet.ReadLenInteger</code> to
          <code class="literal">ReadPackedLong</code> and added
          <code class="literal">packet.ReadPackedInteger</code> that always reads
          integers packed with 2,3,4.
        </p></li><li><p>
          Added <code class="literal">syntax.cs</code> test fixture to test
          various SQL syntax bugs.
        </p></li><li><p>
          Improper handling of time values. Now time value of 00:00:00
          is not treated as null. (<a href="http://bugs.mysql.com/4149" target="_top">Bug#4149</a>)
        </p></li><li><p>
          Moved all test suite files into <code class="literal">TestSuite</code>
          folder.
        </p></li><li><p>
          Fixed bug where null column would move the result packet
          pointer backward.
        </p></li><li><p>
          Added new nant build script.
        </p></li><li><p>
          Clear tablename so it will be regen'ed properly during the
          next <code class="literal">GenerateSchema</code>. (<a href="http://bugs.mysql.com/3917" target="_top">Bug#3917</a>)
        </p></li><li><p>
          <code class="literal">GetValues</code> was always returning zero and was
          also always trying to copy all fields rather than respecting
          the size of the array passed in. (<a href="http://bugs.mysql.com/3915" target="_top">Bug#3915</a>)
        </p></li><li><p>
          Implemented shared memory access protocol.
        </p></li><li><p>
          Implemented prepared statements for MySQL 4.1.
        </p></li><li><p>
          Implemented stored procedures for MySQL 5.0.
        </p></li><li><p>
          Renamed <code class="literal">MySqlInternalConnection</code> to
          <code class="literal">InternalConnection</code>.
        </p></li><li><p>
          SQL is now parsed as chars, fixes problems with other
          languages.
        </p></li><li><p>
          Added logging and allow batch connection string options.
        </p></li><li><p>
          <code class="literal">RowUpdating</code> event not set when setting the
          <code class="literal">DataAdapter</code> property. (<a href="http://bugs.mysql.com/3888" target="_top">Bug#3888</a>)
        </p></li><li><p>
          Fixed bug in char set mapping.
        </p></li><li><p>
          Implemented 4.1 authentication.
        </p></li><li><p>
          Improved open/auth code in driver.
        </p></li><li><p>
          Improved how connection bits are set during connection.
        </p></li><li><p>
          Database name is now passed to server during initial
          handshake.
        </p></li><li><p>
          Changed namespace for client to
          <code class="literal">MySql.Data.MySqlClient</code>.
        </p></li><li><p>
          Changed assembly name of client to
          <code class="filename">MySql.Data.dll</code>.
        </p></li><li><p>
          Changed license text in all source files to GPL.
        </p></li><li><p>
          Added the <code class="filename">MySqlClient.build</code> Nant file.
        </p></li><li><p>
          Removed the mono batch files.
        </p></li><li><p>
          Moved some of the unused files into notused folder so nant
          build file can use wildcards.
        </p></li><li><p>
          Implemented shared memory access.
        </p></li><li><p>
          Major revamp in code structure.
        </p></li><li><p>
          Prepared statements now working for MySql 4.1.1 and later.
        </p></li><li><p>
          Finished implementing auth for 4.0, 4.1.0, and 4.1.1.
        </p></li><li><p>
          Changed namespace from
          <code class="literal">MySQL.Data.MySQLClient</code> back to
          <code class="literal">MySql.Data.MySqlClient</code>.
        </p></li><li><p>
          Fixed bug in <code class="literal">CharSetMapping</code> where it was
          trying to use text names as ints.
        </p></li><li><p>
          Changed namespace to
          <code class="literal">MySQL.Data.MySQLClient</code>.
        </p></li><li><p>
          Integrated auth changes from UC2004.
        </p></li><li><p>
          Fixed bug where calling any of the GetXXX methods on a
          datareader before or after reading data would not throw the
          appropriate exception (thanks Luca Morelli).
        </p></li><li><p>
          Added <code class="literal">TimeSpan</code> code in parameter.cs to
          properly serialize a timespan object to mysql time format
          (thanks Gianluca Colombo).
        </p></li><li><p>
          Added <code class="literal">TimeStamp</code> to parameter serialization
          code. Prevented <code class="literal">DataAdatper</code> updates from
          working right (thanks Michael King).
        </p></li><li><p>
          Fixed a misspelling in <code class="filename">MySqlHelper.cs</code>
          (thanks Patrick Kristiansen).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-76"></a>C.5.9. Changes in MySQL Connector/NET Version 0.76</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Driver now using charset number given in handshake to create
          encoding.
        </p></li><li><p>
          Changed command editor to point to
          <code class="literal">MySqlClient.Design</code>.
        </p></li><li><p>
          Fixed bug in <code class="literal">Version.isAtLeast</code>.
        </p></li><li><p>
          Changed <code class="literal">DBConnectionString</code> to support
          changes done to <code class="literal">MySqlConnectionString</code>.
        </p></li><li><p>
          Removed <code class="literal">SqlCommandEditor</code> and
          <code class="literal">DataAdapterPreviewDialog</code>.
        </p></li><li><p>
          Using new long return values in many places.
        </p></li><li><p>
          Integrated new <code class="literal">CompressedStream</code> class.
        </p></li><li><p>
          Changed <code class="literal">ConnectionString</code> and added
          attributes to allow it to be used in
          <code class="literal">MySqlClient.Design</code>.
        </p></li><li><p>
          Changed <code class="filename">packet.cs</code> to support newer
          lengths in <code class="literal">ReadLenInteger</code>.
        </p></li><li><p>
          Changed other classes to use new properties and fields of
          <code class="literal">MySqlConnectionString</code>.
        </p></li><li><p>
          <code class="literal">ConnectionInternal</code> is now using PING to see
          whether the server is alive.
        </p></li><li><p>
          Moved toolbox bitmaps into resource folder.
        </p></li><li><p>
          Changed <code class="filename">field.cs</code> to allow values to come
          directly from row buffer.
        </p></li><li><p>
          Changed to use the new driver.Send syntax.
        </p></li><li><p>
          Using a new packet queueing system.
        </p></li><li><p>
          Started work handling the "broken" compression packet
          handling.
        </p></li><li><p>
          Fixed bug in <code class="literal">StreamCreator</code> where failure to
          connect to a host would continue to loop infinitly (thanks
          Kevin Casella).
        </p></li><li><p>
          Improved connectstring handling.
        </p></li><li><p>
          Moved designers into Pro product.
        </p></li><li><p>
          Removed some old commented out code from
          <code class="filename">command.cs</code>.
        </p></li><li><p>
          Fixed a problem with compression.
        </p></li><li><p>
          Fixed connection object where an exception throw prior to the
          connection opening would not leave the connection in the
          connecting state (thanks Chris Cline).
        </p></li><li><p>
          Added GUID support.
        </p></li><li><p>
          Fixed sequence out of order bug (thanks Mark Reay).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-75"></a>C.5.10. Changes in MySQL Connector/NET Version 0.75</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Enum values now supported as parameter values (thanks Philipp
          Sumi).
        </p></li><li><p>
          Year datatype now supported.
        </p></li><li><p>
          Fixed compression.
        </p></li><li><p>
          Fixed bug where a parameter with a <code class="literal">TimeSpan</code>
          as the value would not serialize properly.
        </p></li><li><p>
          Fixed bug where default constructor would not set default
          connection string values.
        </p></li><li><p>
          Added some XML comments to some members.
        </p></li><li><p>
          Work to fix/improve compression handling.
        </p></li><li><p>
          Improved <code class="literal">ConnectionString</code> handling so that
          it better matches the standard set by
          <code class="literal">SqlClient</code>.
        </p></li><li><p>
          A <code class="literal">MySqlException</code> is now thrown if a user
          name is not included in the connection string.
        </p></li><li><p>
          Localhost is now used as the default if not specified on the
          connection string.
        </p></li><li><p>
          An exception is now thrown if an attempt is made to set the
          connection string while the connection is open.
        </p></li><li><p>
          Small changes to <code class="literal">ConnectionString</code> docs.
        </p></li><li><p>
          Removed <code class="literal">MultiHostStream</code> and
          <code class="literal">MySqlStream</code>. Replaced it with
          <code class="filename">Common/StreamCreator</code>.
        </p></li><li><p>
          Added support for Use Pipe connection string value.
        </p></li><li><p>
          Added Platform class for easier access to platform utility
          functions.
        </p></li><li><p>
          Fixed small pooling bug where new connection was not getting
          created after <code class="literal">IsAlive</code> fails.
        </p></li><li><p>
          Added <code class="filename">Platform.cs</code> and
          <code class="filename">StreamCreator.cs</code>.
        </p></li><li><p>
          Fixed <code class="filename">Field.cs</code> to properly handle 4.1
          style timestamps.
        </p></li><li><p>
          Changed <code class="literal">Common.Version</code> to
          <code class="literal">Common.DBVersion</code> to avoid name conflict.
        </p></li><li><p>
          Fixed <code class="filename">field.cs</code> so that text columns
          return the right field type.
        </p></li><li><p>
          Added <code class="literal">MySqlError</code> class to provide some
          reference for error codes (thanks Geert Veenstra).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-0-74"></a>C.5.11. Changes in MySQL Connector/NET Version 0.74</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Added Unix socket support (thanks Mohammad DAMT).
        </p></li><li><p>
          Only calling <code class="literal">Thread.Sleep</code> when no data is
          available.
        </p></li><li><p>
          Improved escaping of quote characters in parameter data.
        </p></li><li><p>
          Removed misleading comments from
          <code class="filename">parameter.cs</code>.
        </p></li><li><p>
          Fixed pooling bug.
        </p></li><li><p>
          Fixed <code class="literal">ConnectionString</code> editor dialog
          (thanks marco p (pomarc)).
        </p></li><li><p>
          <code class="literal">UserId</code> now supported in connection strings
          (thanks Jeff Neeley).
        </p></li><li><p>
          Attempting to create a parameter that is not input throws an
          exception (thanks Ryan Gregg).
        </p></li><li><p>
          Added much documentation.
        </p></li><li><p>
          Checked in new <code class="literal">MultiHostStream</code> capability.
          Big thanks to Dan Guisinger for this. he originally submitted
          the code and idea of supporting multiple machines on the
          connect string.
        </p></li><li><p>
          Added a lot of documentation.
        </p></li><li><p>
          Fixed speed issue with 0.73.
        </p></li><li><p>
          Changed to Thread.Sleep(0) in MySqlDataStream to help optimize
          the case where it doesn't need to wait (thanks Todd German).
        </p></li><li><p>
          Prepopulating the idlepools to <code class="literal">MinPoolSize</code>.
        </p></li><li><p>
          Fixed <code class="literal">MySqlPool</code> deadlock condition as well
          as stupid bug where CreateNewPooledConnection was not ever
          adding new connections to the pool. Also fixed
          <code class="literal">MySqlStream.ReadBytes</code> and
          <code class="literal">ReadByte</code> to not use
          <code class="literal">TicksPerSecond</code> which does not appear to
          always be right. (thanks Matthew J. Peddlesden)
        </p></li><li><p>
          Fix for precision and scale (thanks Matthew J. Peddlesden).
        </p></li><li><p>
          Added <code class="literal">Thread.Sleep(1)</code> to stream reading
          methods to be more cpu friendly (thanks Sean McGinnis).
        </p></li><li><p>
          Fixed problem where <code class="literal">ExecuteReader</code> would
          sometime return null (thanks Lloyd Dupont).
        </p></li><li><p>
          Fixed major bug with null field handling (thanks Naucki).
        </p></li><li><p>
          Enclosed queries for
          <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> and
          <code class="literal">characterset</code> inside try catch (and set
          defaults).
        </p></li><li><p>
          Fixed problem where socket was not getting closed properly
          (thanks Steve!).
        </p></li><li><p>
          Fixed problem where <code class="literal">ExecuteNonQuery</code> was not
          always returning the right value.
        </p></li><li><p>
          Fixed <code class="literal">InternalConnection</code> to not use
          <code class="literal">@@session.max_allowed_packet</code> but use
          <code class="literal">@@max_allowed_packet</code>. (Thanks Miguel)
        </p></li><li><p>
          Added many new XML doc lines.
        </p></li><li><p>
          Fixed sql parsing to not send empty queries (thanks Rory).
        </p></li><li><p>
          Fixed problem where the reader was not unpeeking the packet on
          close.
        </p></li><li><p>
          Fixed problem where user variables were not being handled
          (thanks Sami Vaaraniemi).
        </p></li><li><p>
          Fixed loop checking in the MySqlPool (thanks Steve M. Brown)
        </p></li><li><p>
          Fixed <code class="literal">ParameterCollection.Add</code> method to
          match <code class="literal">SqlClient</code> (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed <code class="literal">ConnectionString</code> parsing to handle no
          and yes for boolean and not lowercase values (thanks Naucki).
        </p></li><li><p>
          Added <code class="literal">InternalConnection</code> class, changes to
          pooling.
        </p></li><li><p>
          Implemented Persist Security Info.
        </p></li><li><p>
          Added <code class="filename">security.cs</code> and
          <code class="filename">version.cs</code> to project
        </p></li><li><p>
          Fixed <code class="literal">DateTime</code> handling in
          <code class="filename">Parameter.cs</code> (thanks Burkhard
          Perkens-Golomb).
        </p></li><li><p>
          Fixed parameter serialization where some types would throw a
          cast exception.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> to convert all returned
          values to prevent casting errors (thanks Keith Murray).
        </p></li><li><p>
          Added code to <code class="literal">Command.ExecuteReader</code> to
          return null if the initial SQL statement throws an exception
          (thanks Burkhard Perkens-Golomb).
        </p></li><li><p>
          Fixed <code class="literal">ExecuteScalar</code> bug introduced with
          restructure.
        </p></li><li><p>
          Restructure to allow for <code class="literal">LOCAL DATA INFILE</code>
          and better sequencing of packets.
        </p></li><li><p>
          Fixed several bugs related to restructure.
        </p></li><li><p>
          Early work done to support more secure passwords in Mysql 4.1.
          Old passwords in 4.1 not supported yet.
        </p></li><li><p>
          Parameters appearing after system parameters are now handled
          correctly (Adam M. (adammil)).
        </p></li><li><p>
          Strings can now be assigned directly to blob fields (Adam M.).
        </p></li><li><p>
          Fixed float parameters (thanks Pent).
        </p></li><li><p>
          Improved Parameter constructor and
          <code class="literal">ParameterCollection.Add</code> methods to better
          match SqlClient (thanks Joshua Mouch).
        </p></li><li><p>
          Corrected <code class="literal">Connection.CreateCommand</code> to
          return a <code class="literal">MySqlCommand</code> type.
        </p></li><li><p>
          Fixed connection string designer dialog box problem (thanks
          Abraham Guyt).
        </p></li><li><p>
          Fixed problem with sending commands not always reading the
          response packet (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed parameter serialization where some blobs types were not
          being handled (thanks Sean McGinnis).
        </p></li><li><p>
          Removed spurious <code class="literal">MessageBox.show</code> from
          <code class="literal">DataReader</code> code (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed a nasty bug in the split sql code (thanks everyone!).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-71"></a>C.5.12. Changes in MySQL Connector/NET Version 0.71</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Fixed bug in <code class="literal">MySqlStream</code> where too much
          data could attempt to be read (thanks Peter Belbin)
        </p></li><li><p>
          Implemented <code class="literal">HasRows</code> (thanks Nash Pherson).
        </p></li><li><p>
          Fixed bug where tables with more than 252 columns cause an
          exception (thanks Joshua Kessler).
        </p></li><li><p>
          Fixed bug where SQL statements ending in ; would cause a
          problem (thanks Shane Krueger).
        </p></li><li><p>
          Fixed bug in driver where error messages were getting
          truncated by 1 character (thanks Shane Krueger).
        </p></li><li><p>
          Made <code class="literal">MySqlException</code> serializable (thanks
          Mathias Hasselmann).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-70"></a>C.5.13. Changes in MySQL Connector/NET Version 0.70</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Updated some of the character code pages to be more accurate.
        </p></li><li><p>
          Fixed problem where readers could be opened on connections
          that had readers open.
        </p></li><li><p>
          Moved test to separate assembly
          <code class="literal">MySqlClientTests</code>.
        </p></li><li><p>
          Fixed stupid problem in driver with sequence out of order
          (Thanks Peter Belbin).
        </p></li><li><p>
          Added some pipe tests.
        </p></li><li><p>
          Increased default max pool size to 50.
        </p></li><li><p>
          Compiles with Mono 0-24.
        </p></li><li><p>
          Fixed connection and data reader dispose problems.
        </p></li><li><p>
          Added <code class="literal">String</code> datatype handling to parameter
          serialization.
        </p></li><li><p>
          Fixed sequence problem in driver that occurred after thrown
          exception (thanks Burkhard Perkens-Golomb).
        </p></li><li><p>
          Added support for <code class="literal">CommandBehavior.SingleRow</code>
          to <code class="literal">DataReader</code>.
        </p></li><li><p>
          Fixed command sql processing so quotes are better handled
          (thanks Theo Spears).
        </p></li><li><p>
          Fixed parsing of double, single, and decimal values to account
          for non-English separators. You still have to use the right
          syntax if you using hard coded sql, but if you use parameters
          the code will convert floating point types to use '.'
          appropriately internal both into the server and out.
        </p></li><li><p>
          Added <code class="literal">MySqlStream</code> class to simplify
          timeouts and driver coding.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> so that it is closed
          properly when the associated connection is closed. [thanks
          smishra]
        </p></li><li><p>
          Made client more SqlClient compliant so that DataReaders have
          to be closed before the connection can be used to run another
          command.
        </p></li><li><p>
          Improved <code class="literal">DBNull.Value</code> handling in the
          fields.
        </p></li><li><p>
          Added several unit tests.
        </p></li><li><p>
          Fixed <code class="literal">MySqlException</code> base class.
        </p></li><li><p>
          Improved driver coding
        </p></li><li><p>
          Fixed bug where NextResult was returning false on the last
          resultset.
        </p></li><li><p>
          Added more tests for MySQL.
        </p></li><li><p>
          Improved casting problems by equating unsigned 32bit values to
          Int64 and unsigned 16bit values to Int32, and so forth.
        </p></li><li><p>
          Added new constructor for <code class="literal">MySqlParameter</code>
          for (name, type, size, srccol)
        </p></li><li><p>
          Fixed bug in <code class="literal">MySqlDataReader</code> where it
          didn't check for null fieldlist before returning field count.
        </p></li><li><p>
          Started adding <code class="literal">MySqlClient</code> unit tests
          (added <code class="filename">MySqlClient/Tests</code> folder and some
          test cases).
        </p></li><li><p>
          Fixed some things in Connection String handling.
        </p></li><li><p>
          Moved <code class="literal">INIT_DB</code> to
          <code class="literal">MySqlPool</code>. I may move it again, this is in
          preparation of the conference.
        </p></li><li><p>
          Fixed bug inside <code class="literal">CommandBuilder</code> that
          prevented inserts from happening properly.
        </p></li><li><p>
          Reworked some of the internals so that all three execute
          methods of Command worked properly.
        </p></li><li><p>
          Fixed many small bugs found during benchmarking.
        </p></li><li><p>
          The first cut of <code class="literal">CoonectionPooling</code> is
          working. "min pool size" and "max pool size" are respected.
        </p></li><li><p>
          Work to enable multiple resultsets to be returned.
        </p></li><li><p>
          Character sets are handled much more intelligently now. The
          driver queries MySQL at startup for the default character set.
          That character set is then used for conversions if that code
          page can be loaded. If not, then the default code page for the
          current OS is used.
        </p></li><li><p>
          Added code to save the inferred type in the name,value
          constructor of <code class="literal">Parameter</code>.
        </p></li><li><p>
          Also, inferred type if value of null parameter is changed
          using <code class="literal">Value</code> property.
        </p></li><li><p>
          Converted all files to use proper Camel case. MySQL is now
          MySql in all files. PgSQL is now PgSql.
        </p></li><li><p>
          Added attribute to PgSql code to prevent designer from trying
          to show.
        </p></li><li><p>
          Added <code class="literal">MySQLDbType</code> property to Parameter
          object and added proper conversion code to convert from
          <code class="literal">DbType</code> to <code class="literal">MySQLDbType</code>).
        </p></li><li><p>
          Removed unused <code class="literal">ObjectToString</code> method from
          <code class="filename">MySQLParameter.cs</code>.
        </p></li><li><p>
          Fixed <code class="function">Add(..)</code> method in
          <code class="literal">ParameterCollection</code> so that it doesn't use
          <code class="function">Add(name, value)</code> instead.
        </p></li><li><p>
          Fixed <code class="literal">IndexOf</code> and
          <code class="literal">Contains</code> in
          <code class="literal">ParameterCollection</code> to be aware that
          parameter names are now stored without @.
        </p></li><li><p>
          Fixed <code class="literal">Command.ConvertSQLToBytes</code> so it only
          allows characters that can be in MySQL variable names.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> and
          <code class="literal">Field</code> so that blob fields read their data
          from <code class="filename">Field.cs</code> and
          <code class="literal">GetBytes</code> works right.
        </p></li><li><p>
          Added simple query builder editor to
          <code class="literal">CommandText</code> property of
          <code class="literal">MySQLCommand</code>.
        </p></li><li><p>
          Fixed <code class="literal">CommandBuilder</code> and
          <code class="literal">Parameter</code> serialization to account for
          Parameters not storing @ in their names.
        </p></li><li><p>
          Removed <code class="literal">MySQLFieldType</code> enum from Field.cs.
          Now using <code class="literal">MySQLDbType</code> enum.
        </p></li><li><p>
          Added <code class="literal">Designer</code> attribute to several classes
          to prevent designer view when using VS.Net.
        </p></li><li><p>
          Fixed Initial catalog typo in
          <code class="literal">ConnectionString</code> designer.
        </p></li><li><p>
          Removed 3 parameter constructor for
          <code class="literal">MySQLParameter</code> that conflicted with (name,
          type, value).
        </p></li><li><p>
          Changed <code class="literal">MySQLParameter</code> so
          <code class="literal">paramName</code> is now stored without leading @
          (this fixed null inserts when using designer).
        </p></li><li><p>
          Changed <code class="literal">TypeConverter</code> for
          <code class="literal">MySQLParameter</code> to use the constructor with
          all properties.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-68"></a>C.5.14. Changes in MySQL Connector/NET Version 0.68</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Fixed sequence issue in driver.
        </p></li><li><p>
          Added <code class="literal">DbParametersEditor</code> to make parameter
          editing more like <code class="literal">SqlClient</code>.
        </p></li><li><p>
          Fixed <code class="literal">Command</code> class so that parameters can
          be edited using the designer
        </p></li><li><p>
          Update connection string designer to support <code class="literal">Use
          Compression</code> flag.
        </p></li><li><p>
          Fixed string encoding so that European characters will work
          correctly.
        </p></li><li><p>
          Creating base classes to aid in building new data providers.
        </p></li><li><p>
          Added support for UID key in connection string.
        </p></li><li><p>
          Field, parameter, command now using DBNull.Value instead of
          null.
        </p></li><li><p>
          <code class="literal">CommandBuilder</code> using
          <code class="literal">DBNull.Value</code>.
        </p></li><li><p>
          <code class="literal">CommandBuilder</code> now builds insert command
          correctly when an auto_insert field is not present.
        </p></li><li><p>
          Field now uses typeof keyword to return
          <code class="literal">System.Types</code> (performance).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-65"></a>C.5.15. Changes in MySQL Connector/NET Version 0.65</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          <code class="literal">MySQLCommandBuilder</code> now implemented.
        </p></li><li><p>
          Transaction support now implemented (not all table types
          support this).
        </p></li><li><p>
          <code class="literal">GetSchemaTable</code> fixed to not use xsd (for
          Mono).
        </p></li><li><p>
          Driver is now Mono-compatible.
        </p></li><li><p>
          TIME data type now supported.
        </p></li><li><p>
          More work to improve Timestamp data type handling.
        </p></li><li><p>
          Changed signatures of all classes to match corresponding
          <code class="literal">SqlClient</code> classes.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-60"></a>C.5.16. Changes in MySQL Connector/NET Version 0.60</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Protocol compression using SharpZipLib (www.icsharpcode.net).
        </p></li><li><p>
          Named pipes on Windows now working properly.
        </p></li><li><p>
          Work done to improve <code class="literal">Timestamp</code> data type
          handling.
        </p></li><li><p>
          Implemented <code class="literal">IEnumerable</code> on
          <code class="literal">DataReader</code> so <code class="literal">DataGrid</code>
          would work.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-50"></a>C.5.17. Changes in MySQL Connector/NET Version 0.50</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Speed increased dramatically by removing bugging network sync
          code.
        </p></li><li><p>
          Driver no longer buffers rows of data (more ADO.Net
          compliant).
        </p></li><li><p>
          Conversion bugs related to
          <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> and
          <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> fields fixed.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vstudio-plugin-news"></a>C.6. MySQL Visual Studio Plugin Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-3">C.6.1. Changes in MySQL Visual Studio Plugin 1.0.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-2">C.6.2. Changes in MySQL Visual Studio Plugin 1.0.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-1">C.6.3. Changes in MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-0">C.6.4. Changes in MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</a></span></dt></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      As of Connector/NET 5.1.2 (14 June 2007), the Visual Studion
      Plugin is part of the main Connector/NET package. For the change
      history for the Visual Studio Plugin, see
      <a href="news.html#connector-net-news" title="C.5. MySQL Connector/NET Change History">Section C.5, “MySQL Connector/NET Change History”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-3"></a>C.6.1. Changes in MySQL Visual Studio Plugin 1.0.3 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running queries based on a stored procedure would cause the data
        set designer to terminate. (Bugs #26364)
      </p></li><li><p>
        DataSet wizard would show all tables instead of only the tables
        available within the selected database. (Bugs #26348)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-2"></a>C.6.2. Changes in MySQL Visual Studio Plugin 1.0.2 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Add Connection dialog of the Server Explorer would freeze
        when accessing databases with capitalized characters in their
        name.
       (<a href="http://bugs.mysql.com/24875" target="_top">Bug#24875</a>)</p></li><li><p>
        Creating a connection through the Server Explorer when using the
        Visual Studio Plugin would fail. The installer for the Visual
        Studio Plugin has been updated to ensure that Connector/NET
        5.0.2 must be installed.
       (<a href="http://bugs.mysql.com/23071" target="_top">Bug#23071</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-1"></a>C.6.3. Changes in MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</h3></div></div></div><p>
        This is a bug fix release to resolve an incompatibility issue
        with Connector/NET 5.0.1.
      </p><p>
        It is critical that this release only be used with Connector/NET
        5.0.1. After installing Connector/NET 5.0.1, you will need to
        make a small change in your machine.config file. This file
        should be located at
        <code class="filename">%win%\Microsoft.Net\Framework\v2.0.50727\CONFIG\machine.config</code>
        (<code class="literal">%win%</code> should be the location of your Windows
        folder). Near the bottom of the file you will see a line like
        this:
      </p><pre class="programlisting">&lt;add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient"
description=".Net Framework Data Provider for MySQL"
type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data"/&gt;</pre><p>
        It needs to be changed to be like this:
      </p><pre class="programlisting">&lt;add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient"
description=".Net Framework Data Provider for MySQL"
type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data,
Version=5.0.1.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d"/&gt;
 </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-0"></a>C.6.4. Changes in MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Ability to work with MySQL objects (tables, views, stored
        procedures, etc) from within Server Explorer.
      </p></li><li><p>
        DDEX (Data Designer Extensibility) compatibility.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cj-news"></a>C.7. MySQL Connector/J Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-1">C.7.1. Changes in MySQL Connector/J 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0">C.7.2. Changes in MySQL Connector/J 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-1">C.7.3. Changes in MySQL Connector/J 3.1.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-0">C.7.4. Changes in MySQL Connector/J 3.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0">C.7.5. Changes in MySQL Connector/J 2.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-2b">C.7.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</a></span></dt><dt><span class="section"><a href="news.html#cg-news-1-0">C.7.7. Changes in MySQL Connector/J 1.2.x and lower</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-5-1"></a>C.7.1. Changes in MySQL Connector/J 5.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-1-8">C.7.1.1. Changes in MySQL Connector/J 5.1.8 (16 July 2009)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-7">C.7.1.2. Changes in MySQL Connector/J 5.1.7 (21 October 2008)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-6">C.7.1.3. Changes in MySQL Connector/J 5.1.6 (07 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-5">C.7.1.4. Changes in MySQL Connector/J 5.1.5 (09 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-4">C.7.1.5. Changes in MySQL Connector/J 5.1.4 (Not Released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-3">C.7.1.6. Changes in MySQL Connector/J 5.1.3 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-2">C.7.1.7. Changes in MySQL Connector/J 5.1.2 (29 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-1">C.7.1.8. Changes in MySQL Connector/J 5.1.1 (22 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-0">C.7.1.9. Changes in MySQL Connector/J 5.1.0 (11 April 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-8"></a>C.7.1.1. Changes in MySQL Connector/J 5.1.8 (16 July 2009)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The reported milliseconds since the last server packets were
        received/sent was incorrect by a factor of 1000. For example,
        the following method call:
      </p><pre class="programlisting">SQLError.createLinkFailureMessageBasedOnHeuristics(
(ConnectionImpl) this.conn, 
System.currentTimeMillis() - 1000,
System.currentTimeMillis() - 2000,
e, 
false);</pre><p>
        returned the following string:
      </p><pre class="programlisting">The last packet successfully received from the server 
was 2 milliseconds ago. The last packet sent successfully to the 
server was 1 milliseconds ago.</pre><p>(<a href="http://bugs.mysql.com/45419" target="_top">Bug#45419</a>)</p></li><li><p>
        Calling <code class="literal">Connection.serverPrepareStatement()</code>
        variants that do not take result set type or concurrency
        arguments returned statements that produced result sets with
        incorrect defaults, namely
        <code class="literal">TYPE_SCROLL_SENSITIVE</code>.
       (<a href="http://bugs.mysql.com/45171" target="_top">Bug#45171</a>)</p></li><li><p>
        The result set returned by <code class="literal">getIndexInfo()</code> did
        not have the format defined in the JDBC API specifications. The
        fourth column, <code class="literal">DATA_TYPE</code>, of the result set
        should be of type <code class="literal">BOOLEAN</code>. Connector/J
        however returns <code class="literal">CHAR</code>.
       (<a href="http://bugs.mysql.com/44869" target="_top">Bug#44869</a>)</p></li><li><p>
        The result set returned by <code class="literal">getTypeInfo()</code> did
        not have the format defined in the JDBC API specifications. The
        second column, <code class="literal">DATA_TYPE</code>, of the result set
        should be of type <code class="literal">INTEGER</code>. Connector/J
        however returns <code class="literal">SMALLINT</code>.
       (<a href="http://bugs.mysql.com/44868" target="_top">Bug#44868</a>)</p></li><li><p>
        The <code class="literal">DEFERRABILITY</code> column in database metadata
        result sets was expected to be of type <code class="literal">SHORT</code>.
        However, Connector/J returned it as <code class="literal">INTEGER</code>.
      </p><p>
        This affected the following methods:
        <code class="literal">getImportedKeys()</code>,
        <code class="literal">getExportedKeys()</code>,
        <code class="literal">getCrossReference()</code>.
       (<a href="http://bugs.mysql.com/44867" target="_top">Bug#44867</a>)</p></li><li><p>
        The result set returned by <code class="literal">getColumns()</code> did
        not have the format defined in the JDBC API specifications. The
        fifth column, <code class="literal">DATA_TYPE</code>, of the result set
        should be of type <code class="literal">INTEGER</code>. Connector/J
        however returns <code class="literal">SMALLINT</code>.
       (<a href="http://bugs.mysql.com/44865" target="_top">Bug#44865</a>)</p></li><li><p>
        The result set returned by
        <code class="literal">getVersionColumns()</code> did not have the format
        defined in the JDBC API specifications. The third column,
        <code class="literal">DATA_TYPE</code>, of the result set should be of
        type <code class="literal">INTEGER</code>. Connector/J however returns
        <code class="literal">SMALLINT</code>.
       (<a href="http://bugs.mysql.com/44863" target="_top">Bug#44863</a>)</p></li><li><p>
        The result set returned by
        <code class="literal">getBestRowIdentifier()</code> did not have the
        format defined in the JDBC API specifications. The third column,
        <code class="literal">DATA_TYPE</code>, of the result set should be of
        type <code class="literal">INTEGER</code>. Connector/J however returns
        <code class="literal">SMALLINT</code>.
       (<a href="http://bugs.mysql.com/44862" target="_top">Bug#44862</a>)</p></li><li><p>
        Connector/J contains logic to generate a message text
        specifically for streaming result sets when there are
        <code class="literal">CommunicationsException</code> exceptions generated.
        However, this code was never reached.
      </p><p>
        In the <code class="literal">CommunicationsException</code> code:
      </p><pre class="programlisting">private boolean streamingResultSetInPlay = false;

public CommunicationsException(ConnectionImpl conn, long lastPacketSentTimeMs,
long lastPacketReceivedTimeMs, Exception underlyingException) {

this.exceptionMessage = SQLError.createLinkFailureMessageBasedOnHeuristics(conn,
      lastPacketSentTimeMs, lastPacketReceivedTimeMs, underlyingException,
      this.streamingResultSetInPlay);</pre><p>
        <code class="literal">streamingResultSetInPlay</code> was always false,
        which in the following code in
        <code class="literal">SQLError.createLinkFailureMessageBasedOnHeuristics()</code>
        never being executed:
      </p><pre class="programlisting">if (streamingResultSetInPlay) {
    exceptionMessageBuf.append(
    Messages.getString("CommunicationsException.ClientWasStreaming")); //$NON-NLS-1$
} else {
...</pre><p>(<a href="http://bugs.mysql.com/44588" target="_top">Bug#44588</a>)</p></li><li><p>
        The
        <code class="literal">SQLError.createLinkFailureMessageBasedOnHeuristics()</code>
        method created a message text for communication link failures.
        When certain conditions were met, this message included both
        “<span class="quote">last packet sent</span>” and “<span class="quote">last packet
        received</span>” information, but when those conditions were not
        met, only “<span class="quote">last packet sent</span>” information was
        provided.
      </p><p>
        Information about when the last packet was successfully received
        should be provided in all cases.
       (<a href="http://bugs.mysql.com/44587" target="_top">Bug#44587</a>)</p></li><li><p>
        <code class="literal">Statement.getGeneratedKeys()</code> retained result
        set instances until the statement was closed. This caused memory
        leaks for long-lived statements, or statements used in tight
        loops.
       (<a href="http://bugs.mysql.com/44056" target="_top">Bug#44056</a>)</p></li><li><p>
        Using <code class="literal">useInformationSchema</code> with
        <code class="literal">DatabaseMetaData.getExportedKeys()</code> generated
        the following exception:
      </p><pre class="programlisting">com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Column
'REFERENCED_TABLE_NAME' in where clause is ambiguous
...
at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1772)
at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1923)
at
com.mysql.jdbc.DatabaseMetaDataUsingInfoSchema.executeMetadataQuery(
DatabaseMetaDataUsingInfoSchema.java:50)
at
com.mysql.jdbc.DatabaseMetaDataUsingInfoSchema.getExportedKeys(
DatabaseMetaDataUsingInfoSchema.java:603)</pre><p>(<a href="http://bugs.mysql.com/43714" target="_top">Bug#43714</a>)</p></li><li><p>
        <code class="literal">LoadBalancingConnectionProxy.doPing()</code> did not
        have blacklist awareness.
      </p><p>
        <code class="literal">LoadBalancingConnectionProxy</code> implemented
        <code class="literal">doPing()</code> to ping all underlying connections,
        but it threw any exceptions it encountered during this process.
      </p><p>
        With the global blacklist enabled, it catches these exceptions,
        adds the host to the global blacklist, and only throws an
        exception if all hosts are down.
       (<a href="http://bugs.mysql.com/43421" target="_top">Bug#43421</a>)</p></li><li><p>
        When the MySQL Server was upgraded from 4.0 to 5.0, the
        Connector/J application then failed to connect to the server.
        This was because authentication failed when the application ran
        from EBCDIC platforms such as z/OS.
       (<a href="http://bugs.mysql.com/43071" target="_top">Bug#43071</a>)</p></li><li><p>
        When connecting with <code class="literal">traceProtocol=true</code>, no
        trace data was generated for the server greeting or login
        request.
       (<a href="http://bugs.mysql.com/43070" target="_top">Bug#43070</a>)</p></li><li><p>
        Connector/J generated an unhandled
        <code class="literal">StringIndexOutOfBoundsException</code>:
      </p><pre class="programlisting">java.lang.StringIndexOutOfBoundsException: String index out of range: -1
at java.lang.String.substring(String.java:1938)
at com.mysql.jdbc.EscapeProcessor.processTimeToken(EscapeProcessor.java:353)
at com.mysql.jdbc.EscapeProcessor.escapeSQL(EscapeProcessor.java:257)
at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1546)
at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1524)</pre><p>(<a href="http://bugs.mysql.com/42253" target="_top">Bug#42253</a>)</p></li><li><p>
        A <code class="literal">ConcurrentModificationException</code> was
        generated in <code class="literal">LoadBalancingConnectionProxy</code>:
      </p><pre class="programlisting">java.util.ConcurrentModificationException
 at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
 at java.util.HashMap$KeyIterator.next(Unknown Source)
 at
com.mysql.jdbc.LoadBalancingConnectionProxy.getGlobalBlacklist(LoadBalancingConnectionProxy.java:520)
 at com.mysql.jdbc.RandomBalanceStrategy.pickConnection(RandomBalanceStrategy.java:55)
 at
com.mysql.jdbc.LoadBalancingConnectionProxy.pickNewConnection(LoadBalancingConnectionProxy.java:414)
 at
com.mysql.jdbc.LoadBalancingConnectionProxy.invoke(LoadBalancingConnectionProxy.java:390)</pre><p>(<a href="http://bugs.mysql.com/42055" target="_top">Bug#42055</a>)</p></li><li><p>
        SQL injection was possible when using a string containing U+00A5
        in a client-side prepared statement, and the character set being
        used was SJIS/Windows-31J.
       (<a href="http://bugs.mysql.com/41730" target="_top">Bug#41730</a>)</p></li><li><p>
        If there was an apostrophe in a comment in a statement that was
        being sent through Connector/J, the apostrophe was still
        recognized as a quote and put the state machine in
        <code class="literal">EscapeTokenizer</code> into the
        <code class="literal">inQuotes</code> state. This led to further parse
        errors.
      </p><p>
        For example, consider the following statement:
      </p><pre class="programlisting">String sql = "-- Customer's zip code will be fixed\n" +
  "update address set zip_code = 99999\n" +
  "where not regexp '^[0-9]{5}([[.-.]])?([0-9]{4})?$'";</pre><p>
        When passed through Connector/J, the
        <code class="literal">EscapeTokenizer</code> did not recognize that the
        first apostrophe was in a comment and thus set
        <code class="literal">inQuotes</code> to true. When that happened, the
        quote count was incorrect and thus the regular expression did
        not appear to be in quotes. With the parser not detecting that
        the regular expression was in quotes, the curly braces were
        recognized as escape sequences and were removed from the regular
        expression, breaking it. The server thus received SQL such as:
      </p><pre class="programlisting">-- Customer's zip code will be fixed
update address set zip_code = '99999'
where not regexp '^[0-9]([[.-.]])?([0-9])?$'</pre><p>(<a href="http://bugs.mysql.com/41566" target="_top">Bug#41566</a>)</p></li><li><p>
        MySQL Connector/J 5.1.7 was slower than previous versions when
        the <code class="literal">rewriteBatchedStatements</code> option was set
        to <code class="literal">true</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The performance regression in
          <code class="literal">indexOfIgnoreCaseRespectMarker()</code>has been
          fixed. It has also been made possible for the driver to
          rewrite <code class="literal">INSERT</code> statements with <code class="literal">ON
          DUPLICATE KEY UPDATE</code> clauses in them, as long as the
          <code class="literal">UPDATE</code> clause contains no reference to
          <code class="literal">LAST_INSERT_ID()</code>, as that would cause the
          driver to return bogus values for
          <code class="literal">getGeneratedKeys()</code> invocations. This has
          resulted in improved performance over version 5.1.7.
        </p></div><p>(<a href="http://bugs.mysql.com/41532" target="_top">Bug#41532</a>)</p></li><li><p>
        When accessing a result set column by name using
        <code class="literal">ResultSetImpl.findColumn()</code> an exception was
        generated:
      </p><pre class="programlisting">java.lang.NullPointerException
at com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1103)
at com.mysql.jdbc.ResultSetImpl.getShort(ResultSetImpl.java:5415)
at org.apache.commons.dbcp.DelegatingResultSet.getShort(DelegatingResultSet.java:219)
at com.zimbra.cs.db.DbVolume.constructVolume(DbVolume.java:297)
at com.zimbra.cs.db.DbVolume.get(DbVolume.java:197)
at com.zimbra.cs.db.DbVolume.create(DbVolume.java:95)
at com.zimbra.cs.store.Volume.create(Volume.java:227)
at com.zimbra.cs.store.Volume.create(Volume.java:189)
at com.zimbra.cs.service.admin.CreateVolume.handle(CreateVolume.java:48)
at com.zimbra.soap.SoapEngine.dispatchRequest(SoapEngine.java:428)
at com.zimbra.soap.SoapEngine.dispatch(SoapEngine.java:285)</pre><p>(<a href="http://bugs.mysql.com/41484" target="_top">Bug#41484</a>)</p></li><li><p>
        The <code class="literal">RETURN_GENERATED_KEYS</code> flag was being
        ignored. For example, in the following code the
        <code class="literal">RETURN_GENERATED_KEYS</code> flag was ignored:
      </p><pre class="programlisting">PreparedStatement ps = connection.prepareStatement("INSERT INTO table
  values(?,?)",PreparedStatement.RETURN_GENERATED_KEYS);</pre><p>(<a href="http://bugs.mysql.com/41448" target="_top">Bug#41448</a>)</p></li><li><p>
        When using Connector/J 5.1.7 to connect to MySQL Server 4.1.18
        the following error message was generated:
      </p><pre class="programlisting">Thu Dec 11 17:38:21 PST 2008 WARN: Invalid value {1} for server variable named {0},
falling back to sane default of {2}</pre><p>
        This occurred with MySQL Server version that did not support
        <code class="literal">auto_increment_increment</code>. The error message
        should not have been generated.
       (<a href="http://bugs.mysql.com/41416" target="_top">Bug#41416</a>)</p></li><li><p>
        When <code class="literal">DatabaseMetaData.getProcedureColumns()</code>
        was called, the value for <code class="literal">LENGTH</code> was always
        returned as 65535, regardless of the column type (fixed or
        variable) or the actual length of the column.
      </p><p>
        However, if you obtained the <code class="literal">PRECISION</code> value,
        this was correct for both fixed and variable length columns.
       (<a href="http://bugs.mysql.com/41269" target="_top">Bug#41269</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.addBatch()</code> did not check
        for all parameters being set, which led to inconsistent behavior
        in <code class="literal">executeBatch()</code>, especially when rewriting
        batched statements into multi-value <code class="literal">INSERT</code>s.
       (<a href="http://bugs.mysql.com/41161" target="_top">Bug#41161</a>)</p></li><li><p>
        Error message strings contained variable values that were not
        expanded. For example:
      </p><pre class="programlisting">Mon Nov 17 11:43:18 JST 2008 WARN: Invalid value {1} for server variable named {0},
falling back to sane default of {2}</pre><p>(<a href="http://bugs.mysql.com/40772" target="_top">Bug#40772</a>)</p></li><li><p>
        When using <code class="literal">rewriteBatchedStatements=true</code>
        with:
      </p><pre class="programlisting">INSERT INTO table_name_values (...) VALUES (...)</pre><p>
        Query rewriting failed because “<span class="quote">values</span>” at the end
        of the table name was mistaken for the reserved keyword. The
        error generated was as follows:
      </p><pre class="programlisting">testBug40439(testsuite.simple.TestBug40439)java.sql.BatchUpdateException: You have an
error in your SQL syntax; check the manual that corresponds to your MySQL server version
for the right syntax to use near 'values (2,'toto',2),(id,data, ordr) values
(3,'toto',3),(id,data, ordr) values (' at line 1
at com.mysql.jdbc.PreparedStatement.executeBatchedInserts(PreparedStatement.java:1495)
at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1097)
at testsuite.simple.TestBug40439.testBug40439(TestBug40439.java:42)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at testsuite.simple.TestBug40439.main(TestBug40439.java:57)</pre><p>(<a href="http://bugs.mysql.com/40439" target="_top">Bug#40439</a>)</p></li><li><p>
        A statement interceptor received the incorrect parameters when
        used with a batched statement.
       (<a href="http://bugs.mysql.com/39426" target="_top">Bug#39426</a>)</p></li><li><p>
        Using Connector/J 5.1.6 the method
        <code class="literal">ResultSet.getObject</code> returned a
        <code class="literal">BYTE[]</code> for following:
      </p><pre class="programlisting">SELECT TRIM(rowid) FROM tbl</pre><p>
        Where <code class="literal">rowid</code> had a type of <code class="literal">INT(11)
        PRIMARY KEY AUTO_INCREMENT</code>.
      </p><p>
        The expected return type was one of <code class="literal">CHAR</code>,
        <code class="literal">VARCHAR</code>, <code class="literal">CLOB</code>, however, a
        <code class="literal">BYTE[]</code> was returned.
      </p><p>
        Further, adding
        <code class="literal">functionsNeverReturnBlobs=true</code> to the
        connection string did not have any effect on the return type.
       (<a href="http://bugs.mysql.com/38387" target="_top">Bug#38387</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-7"></a>C.7.1.2. Changes in MySQL Connector/J 5.1.7 (21 October 2008)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When statements include <code class="literal">ON DUPLICATE UPDATE</code>,
        and <code class="literal">rewriteBatchedStatements</code> is set to true,
        batched statements are not rewritten into the form
        <code class="literal">INSERT INTO table VALUES (), (), ()</code>, instead
        the statements are executed sequentially.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">Statement.getGeneratedKeys()</code> returned two
        keys when using <code class="literal">ON DUPLICATE KEY UPDATE</code> and
        the row was updated, not inserted.
       (<a href="http://bugs.mysql.com/42309" target="_top">Bug#42309</a>)</p></li><li><p>
        When using the replication driver with
        <code class="literal">autoReconnect=true</code>, Connector/J checks in
        <code class="literal">PreparedStatement.execute</code> (also called by
        <code class="literal">CallableStatement.execute</code>) to determine if
        the first character of the statement is an “<span class="quote">S</span>”, in
        an attempt to block all statements that are not read-only-safe,
        for example non-<a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements. However, this also blocked
        <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a>s to stored procedures, even
        if the stored procedures were defined as <code class="literal">SQL READ
        DATA</code> or <code class="literal">NO SQL</code>.
       (<a href="http://bugs.mysql.com/40031" target="_top">Bug#40031</a>)</p></li><li><p>
        With large result sets <code class="literal">ResultSet.findColumn</code>
        became a performance bottleneck.
       (<a href="http://bugs.mysql.com/39962" target="_top">Bug#39962</a>)</p></li><li><p>
        Connector/J ignored the value of the MySQL Server variable
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a>.
       (<a href="http://bugs.mysql.com/39956" target="_top">Bug#39956</a>)</p></li><li><p>
        Connector/J failed to parse
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> strings for nanos
        correctly.
       (<a href="http://bugs.mysql.com/39911" target="_top">Bug#39911</a>)</p></li><li><p>
        When the <code class="literal">LoadBalancingConnectionProxy</code> handles
        a <code class="literal">SQLException</code> with SQL state starting with
        “<span class="quote">08</span>”, it calls
        <code class="literal">invalidateCurrentConnection</code>, which in turn
        removes that <code class="literal">Connection</code> from
        <code class="literal">liveConnections</code> and the
        <code class="literal">connectionsToHostsMap</code>, but it did not add the
        host to the new global blacklist, if the global blacklist was
        enabled.
      </p><p>
        There was also the possibility of a
        <code class="literal">NullPointerException</code> when trying to update
        stats, where
        <code class="literal">connectionsToHostsMap.get(this.currentConn)</code>
        was called:
      </p><pre class="programlisting">int hostIndex = ((Integer) this.hostsToListIndexMap.get(this.connectionsToHostsMap.get(this.currentConn))).intValue();
</pre><p>
        This could happen if a client tried to issue a rollback after
        catching a <code class="literal">SQLException</code> caused by a
        connection failure.
       (<a href="http://bugs.mysql.com/39784" target="_top">Bug#39784</a>)</p></li><li><p>
        When configuring the Java Replication Driver the last slave
        specified was never used.
       (<a href="http://bugs.mysql.com/39611" target="_top">Bug#39611</a>)</p></li><li><p>
        When an <code class="literal">INSERT ON DUPLICATE KEY UPDATE</code> was
        performed, and the key already existed, the
        <code class="literal">affected-rows</code> value was returned as 1 instead
        of 0.
       (<a href="http://bugs.mysql.com/39352" target="_top">Bug#39352</a>)</p></li><li><p>
        When using the random load balancing strategy and starting with
        two servers that were both unavailable, an
        <code class="literal">IndexOutOfBoundsException</code> was generated when
        removing a server from the <code class="literal">whiteList</code>.
       (<a href="http://bugs.mysql.com/38782" target="_top">Bug#38782</a>)</p></li><li><p>
        Connector/J threw the following exception when using a read-only
        connection:
      </p><pre class="programlisting">        java.sql.SQLException: Connection is read-only. Queries leading to data
        modification are not allowed.
      </pre><p>(<a href="http://bugs.mysql.com/38747" target="_top">Bug#38747</a>)</p></li><li><p>
        Connector/J was unable to connect when using a
        non-<code class="literal">latin1</code> password.
       (<a href="http://bugs.mysql.com/37570" target="_top">Bug#37570</a>)</p></li><li><p>
        The <code class="literal">useOldAliasMetadataBehavior</code> connection
        property was ignored.
       (<a href="http://bugs.mysql.com/35753" target="_top">Bug#35753</a>)</p></li><li><p>
        Incorrect result is returned from
        <code class="literal">isAfterLast()</code> in streaming
        <code class="literal">ResultSet</code> when using
        <code class="literal">setFetchSize(Integer.MIN_VALUE)</code>.
       (<a href="http://bugs.mysql.com/35170" target="_top">Bug#35170</a>)</p></li><li><p>
        When <code class="literal">getGeneratedKeys()</code> was called on a
        statement that had not been created with
        <code class="literal">RETURN_GENERATED_KEYS</code>, no exception was
        thrown, and batched executions then returned erroneous values.
       (<a href="http://bugs.mysql.com/34185" target="_top">Bug#34185</a>)</p></li><li><p>
        The <code class="literal">loadBalance</code>
        <code class="literal">bestResponseTime</code> blacklists did not have a
        global state.
       (<a href="http://bugs.mysql.com/33861" target="_top">Bug#33861</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-6"></a>C.7.1.3. Changes in MySQL Connector/J 5.1.6 (07 March 2008)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Multiple result sets were not supported when using streaming
        mode to return data. Both normal statements and the resul sets
        from stored procedures now return multiple results sets, with
        the exception of result sets using registered
        <code class="literal">OUTPUT</code> paramaters.
       (<a href="http://bugs.mysql.com/33678" target="_top">Bug#33678</a>)</p></li><li><p>
        XAConnections and datasources have been updated to the JDBC-4.0
        standard.
      </p></li><li><p>
        The profiler event handling has been made extensible via the
        <code class="option">profilerEventHandler</code> connection property.
      </p></li><li><p>
        Add the <code class="literal">verifyServerCertificate</code> propery. If
        set to "false" the driver will not verify the server's
        certificate when <code class="literal">useSSL</code> is set to "true"
      </p><p>
        When using this feature, the keystore parameters should be
        specified by the <code class="literal">clientCertificateKeyStore*</code>
        properties, rather than system properties, as the JSSE doesn't
        it straightforward to have a nonverifying trust store and the
        "default" key store.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="methodname">DatabaseMetaData.getColumns()</code> returns
        incorrect <code class="literal">COLUMN_SIZE</code> value for
        <code class="literal">SET</code> column.
       (<a href="http://bugs.mysql.com/36830" target="_top">Bug#36830</a>)</p></li><li><p>
        When trying to read <code class="classname">Time</code> values like
        “<span class="quote">00:00:00</span>” with
        <code class="methodname">ResultSet.getTime(int)</code> an exception is
        thrown.
       (<a href="http://bugs.mysql.com/36051" target="_top">Bug#36051</a>)</p></li><li><p>
        JDBC connection URL parameters is ignored when using
        <code class="literal">MysqlConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/35810" target="_top">Bug#35810</a>)</p></li><li><p>
        When <code class="literal">useServerPrepStmts=true</code> and slow query
        logging is enabled, the connector throws a
        <code class="classname">NullPointerException</code> when it encounters a
        slow query.
       (<a href="http://bugs.mysql.com/35666" target="_top">Bug#35666</a>)</p></li><li><p>
        When using the keyword “<span class="quote">loadbalance</span>” in the
        connection string and trying to perform load balancing between
        two databases, the driver appears to hang.
       (<a href="http://bugs.mysql.com/35660" target="_top">Bug#35660</a>)</p></li><li><p>
        JDBC data type getter method was changed to accept only column
        name, whereas previously it accepted column label.
       (<a href="http://bugs.mysql.com/35610" target="_top">Bug#35610</a>)</p></li><li><p>
        Prepared statements from pooled connections caused a
        <code class="classname">NullPointerException</code> when
        <code class="methodname">closed()</code> under JDBC-4.0.
       (<a href="http://bugs.mysql.com/35489" target="_top">Bug#35489</a>)</p></li><li><p>
        In calling a stored function returning a
        <code class="literal">bigint</code>, an exception is encountered
        beginning:
</p><pre class="programlisting">java.sql.SQLException: java.lang.NumberFormatException: For input string:</pre><p>
        followed by the text of the stored function starting after the
        argument list.
       (<a href="http://bugs.mysql.com/35199" target="_top">Bug#35199</a>)</p></li><li><p>
        The JDBC driver uses a different method for evaluating column
        names in
        <code class="methodname">resultsetmetadata.getColumnName()</code> and
        when looking for a column in
        <code class="methodname">resultset.getObject(columnName)</code>. This
        causes Hibernate to fail in queries where the two methods yield
        different results, for example in queries that use alias names:
      </p><pre class="programlisting">SELECT column AS aliasName from table</pre><p>(<a href="http://bugs.mysql.com/35150" target="_top">Bug#35150</a>)</p></li><li><p>
        <code class="literal">MysqlConnectionPoolDataSource</code> does not
        support <code class="literal">ReplicationConnection</code>. Notice that we
        implemented <code class="literal">com.mysql.jdbc.Connection</code> for
        <code class="literal">ReplicationConnection</code>, however, only
        accessors from ConnectionProperties are implemented (not the
        mutators), and they return values from the currently active
        connection. All other methods from
        <code class="literal">com.mysql.jdbc.Connection</code> are implemented,
        and operate on the currently active connection, with the
        exception of <code class="literal">resetServerState()</code> and
        <code class="literal">changeUser()</code>.
       (<a href="http://bugs.mysql.com/34937" target="_top">Bug#34937</a>)</p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> returns incorrect
        values for month/day of
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>s when using server-side
        prepared statements (not enabled by default).
       (<a href="http://bugs.mysql.com/34913" target="_top">Bug#34913</a>)</p></li><li><p>
        <code class="classname">RowDataStatic</code> does't always set the
        metadata in <code class="classname">ResultSetRow</code>, which can lead
        to failures when unpacking <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>,
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> and
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> types when using
        absolute, relative, and previous result set navigation methods.
       (<a href="http://bugs.mysql.com/34762" target="_top">Bug#34762</a>)</p></li><li><p>
        When calling <code class="literal">isValid()</code> on an active
        connection, if the timeout is nonzero then the
        <code class="literal">Connection</code> is invalidated even if the
        <code class="literal">Connection</code> is valid.
       (<a href="http://bugs.mysql.com/34703" target="_top">Bug#34703</a>)</p></li><li><p>
        It was not possible to truncate a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> using
        <code class="literal">Blog.truncate()</code> when using 0 as an argument.
       (<a href="http://bugs.mysql.com/34677" target="_top">Bug#34677</a>)</p></li><li><p>
        When using a cursor fetch for a statement, the internal prepared
        statement could cause a memory leak until the connection was
        closed. The internal prepared statement is now deleted when the
        corresponding result set is closed.
       (<a href="http://bugs.mysql.com/34518" target="_top">Bug#34518</a>)</p></li><li><p>
        When retrieving the column type name of a geometry field, the
        driver would return <code class="literal">UNKNOWN</code> instead of
        <code class="literal">GEOMETRY</code>.
       (<a href="http://bugs.mysql.com/34194" target="_top">Bug#34194</a>)</p></li><li><p>
        Statements with batched values do not return correct values for
        <code class="literal">getGeneratedKeys()</code> when
        <code class="option">rewriteBatchedStatements</code> is set to
        <code class="literal">true</code>, and the statement has an <code class="literal">ON
        DUPLICATE KEY UPDATE</code> clause.
       (<a href="http://bugs.mysql.com/34093" target="_top">Bug#34093</a>)</p></li><li><p>
        The internal class
        <code class="classname">ResultSetInternalMethods</code> referenced the
        nonpublic class
        <code class="classname">com.mysql.jdbc.CachedResultSetMetaData</code>.
       (<a href="http://bugs.mysql.com/33823" target="_top">Bug#33823</a>)</p></li><li><p>
        A <code class="literal">NullPointerException</code> could be raised when
        using client-side prepared statements and enabled the prepared
        statement cache using the <code class="option">cachePrepStmts</code>.
       (<a href="http://bugs.mysql.com/33734" target="_top">Bug#33734</a>)</p></li><li><p>
        Using server side cursors and cursor fetch, the table metadata
        information would return the data type name instead of the
        column name.
       (<a href="http://bugs.mysql.com/33594" target="_top">Bug#33594</a>)</p></li><li><p>
        <code class="methodname">ResultSet.getTimestamp()</code> would throw a
        <code class="literal">NullPointerException</code> instead of a
        <code class="literal">SQLException</code> when called on an empty
        <code class="literal">ResultSet</code>.
       (<a href="http://bugs.mysql.com/33162" target="_top">Bug#33162</a>)</p></li><li><p>
        Load balancing connection using best response time would
        incorrectly "stick" to hosts that were down when the connection
        was first created.
      </p><p>
        We solve this problem with a black list that is used during the
        picking of new hosts. If the black list ends up including all
        configured hosts, the driver will retry for a configurable
        number of times (the <code class="option">retriesAllDown</code>
        configuration property, with a default of 120 times), sleeping
        250ms between attempts to pick a new connection.
      </p><p>
        We've also went ahead and made the balancing strategy
        extensible. To create a new strategy, implement the interface
        <code class="classname">com.mysql.jdbc.BalanceStrategy</code> (which
        also includes our standard "extension" interface), and tell the
        driver to use it by passing in the class name via the
        <code class="option">loadBalanceStrategy</code> configuration property.
       (<a href="http://bugs.mysql.com/32877" target="_top">Bug#32877</a>)</p></li><li><p>
        During a Daylight Savings Time (DST) switchover, there was no
        way to store two timestamp/datetime values , as the hours end up
        being the same when sent as the literal that MySQL requires.
      </p><p>
        Note that to get this scenario to work with MySQL (since it
        doesn't support per-value timezones), you need to configure your
        server (or session) to be in UTC, and tell the driver not to use
        the legacy date/time code by setting
        <code class="literal">useLegacyDatetimeCode</code> to "false". This will
        cause the driver to always convert to/from the server and client
        timezone consistently.
      </p><p>
        This bug fix also fixes <a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>, by adding entirely new
        date/time handling code that can be switched on by
        <code class="option">useLegacyDatetimeCode</code> being set to "false" as a
        JDBC configuration property. For Connector/J 5.1.x, the default
        is "true", in trunk and beyond it will be "false" (that is, the
        old date/time handling code will be deprecated)
       (<a href="http://bugs.mysql.com/32577" target="_top">Bug#32577</a>, <a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>)</p></li><li><p>
        When unpacking rows directly, we don't hand off error message
        packets to the internal method which decodes them correctly, so
        no exception is raised, and the driver than hangs trying to read
        rows that aren't there. This tends to happen when calling stored
        procedures, as normal SELECTs won't have an error in this spot
        in the protocol unless an I/O error occurs.
       (<a href="http://bugs.mysql.com/32246" target="_top">Bug#32246</a>)</p></li><li><p>
        When using a connection from
        <code class="classname">ConnectionPoolDataSource</code>, some
        <code class="function">Connection.prepareStatement()</code> methods would
        return null instead of the prepared statement.
       (<a href="http://bugs.mysql.com/32101" target="_top">Bug#32101</a>)</p></li><li><p>
        Using <code class="function">CallableStatement.setNull()</code> on a
        stored function would throw an
        <code class="literal">ArrayIndexOutOfBounds</code> exception when setting
        the last parameter to null.
       (<a href="http://bugs.mysql.com/31823" target="_top">Bug#31823</a>)</p></li><li><p>
        <code class="classname">MysqlValidConnectionChecker</code> doesn't
        properly handle connections created using
        <code class="classname">ReplicationConnection</code>.
       (<a href="http://bugs.mysql.com/31790" target="_top">Bug#31790</a>)</p></li><li><p>
        Retrieving the server version information for an active
        connection could return invalid information if the default
        character encoding on the host was not ASCII compatible.
       (<a href="http://bugs.mysql.com/31192" target="_top">Bug#31192</a>)</p></li><li><p>
        Further fixes have been made to this bug in the event that a
        node is nonresponsive. Connector/J will now try a different
        random node instead of waiting for the node to recover before
        continuing.
       (<a href="http://bugs.mysql.com/31053" target="_top">Bug#31053</a>)</p></li><li><p>
        <code class="literal">ResultSet</code> returned by
        <code class="literal">Statement.getGeneratedKeys()</code> is not closed
        automatically when statement that created it is closed.
       (<a href="http://bugs.mysql.com/30508" target="_top">Bug#30508</a>)</p></li><li><p>
        <code class="function">DatabaseMetadata.getColumns()</code> doesn't
        return the correct column names if the connection character
        isn't UTF-8. A bug in MySQL server compounded the issue, but was
        fixed within the MySQL 5.0 release cycle. The fix includes
        changes to all the sections of the code that access the server
        metadata.
       (<a href="http://bugs.mysql.com/20491" target="_top">Bug#20491</a>)</p></li><li><p>
        Fixed <code class="methodname">ResultSetMetadata.getColumnName()</code>
        for result sets returned from
        <code class="methodname">Statement.getGeneratedKeys()</code> - it was
        returning null instead of "GENERATED_KEY" as in 5.0.x.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-5"></a>C.7.1.4. Changes in MySQL Connector/J 5.1.5 (09 October 2007)</h4></div></div></div><p>The following     features are new, compared to the 5.0 series of Connector/J</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support for JDBC-4.0 <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NCHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NVARCHAR</code></a> and
        <code class="literal">NCLOB</code> types.
      </p></li><li><p>
        JDBC-4.0 support for setting per-connection client information
        (which can be viewed in the comments section of a query via
        <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> on a MySQL
        server, or can be extended to support custom persistence of the
        information via a public interface).
      </p></li><li><p>
        Support for JDBC-4.0 XML processing via JAXP interfaces to DOM,
        SAX and StAX.
      </p></li><li><p>
        JDBC-4.0 standardized unwrapping to interfaces that include
        vendor extensions.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">autoSlowLog</code> configuration property,
        overrides <code class="literal">slowQueryThreshold*</code> properties,
        driver determines slow queries by those that are slower than 5 *
        stddev of the mean query time (outside the 96% percentile).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When a connection is in read-only mode, queries that are wrapped
        in parentheses were incorrectly identified DML statements.
       (<a href="http://bugs.mysql.com/28256" target="_top">Bug#28256</a>)</p></li><li><p>
        When calling <code class="literal">setTimestamp</code> on a prepared
        statement, the timezone information stored in the calendar
        object was ignored. This resulted in the incorrect
        <code class="literal">DATETIME</code> information being stored. The
        following example illustrates this:
      </p><pre class="programlisting">Timestamp t = new Timestamp( cal.getTimeInMillis() );
ps.setTimestamp( N, t, cal );</pre><p>(<a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-4"></a>C.7.1.5. Changes in MySQL Connector/J 5.1.4 (Not Released)</h4></div></div></div><p>
        Only released internally.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-3"></a>C.7.1.6. Changes in MySQL Connector/J 5.1.3 (10 September 2007)</h4></div></div></div><p>The following     features are new, compared to the 5.0 series of Connector/J</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support for JDBC-4.0 <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NCHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NVARCHAR</code></a> and
        <code class="literal">NCLOB</code> types.
      </p></li><li><p>
        JDBC-4.0 support for setting per-connection client information
        (which can be viewed in the comments section of a query via
        <a href="sql-syntax.html#show-processlist" title="12.5.5.27. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> on a MySQL
        server, or can be extended to support custom persistence of the
        information via a public interface).
      </p></li><li><p>
        Support for JDBC-4.0 XML processing via JAXP interfaces to DOM,
        SAX and StAX.
      </p></li><li><p>
        JDBC-4.0 standardized unwrapping to interfaces that include
        vendor extensions.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/J now connects using an initial character set of
        <code class="literal">utf-8</code> solely for the purpose of
        authentication to allow user names or database names in any
        character set to be used in the JDBC connection URL.
       (<a href="http://bugs.mysql.com/29853" target="_top">Bug#29853</a>)</p></li><li><p>
        Added two configuration parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">blobsAreStrings</code> — Should the driver
            always treat BLOBs as Strings. Added specifically to work
            around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li><li><p>
            <code class="literal">functionsNeverReturnBlobs</code> — Should
            the driver always treat data from functions returning
            <code class="literal">BLOBs</code> as Strings. Added specifically to
            work around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li></ul></div></li><li><p>
        Setting <code class="option">rewriteBatchedStatements</code> to
        <code class="literal">true</code> now causes CallableStatements with
        batched arguments to be re-written in the form "CALL (...); CALL
        (...); ..." to send the batch in as few client-server round
        trips as possible.
      </p></li><li><p>
        The driver now picks appropriate internal row representation
        (whole row in one buffer, or individual byte[]s for each column
        value) depending on heuristics, including whether or not the row
        has <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types and the overall
        row-size. The threshold for row size that will cause the driver
        to use a buffer rather than individual byte[]s is configured by
        the configuration property
        <code class="option">largeRowSizeThreshold</code>, which has a default
        value of 2KB.
      </p></li><li><p>
        The data (and how it is stored) for <code class="literal">ResultSet</code>
        rows are now behind an interface which allows us (in some cases)
        to allocate less memory per row, in that for "streaming" result
        sets, we re-use the packet used to read rows, since only one row
        at a time is ever active.
      </p></li><li><p>
        Added experimental support for statement "interceptors" via the
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code>
        interface, examples are in
        <code class="filename">com/mysql/jdbc/interceptors</code>. Implement this
        interface to be placed "in between" query execution, so that it
        can be influenced (currently experimental).
      </p></li><li><p>
        The driver will automatically adjust the server session variable
        <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> when it
        determines its been asked for a "streaming" result, and resets
        it to the previous value when the result set has been consumed.
        (The configuration property is named
        <code class="option">netTimeoutForStreamingResults</code>, with a unit of
        seconds, the value '0' means the driver will not try and adjust
        this value).
      </p></li><li><p>
        JDBC-4.0 ease-of-development features including
        auto-registration with the <code class="literal">DriverManager</code> via
        the service provider mechanism, standardized Connection validity
        checks and categorized <code class="literal">SQLExceptions</code> based on
        recoverability/retry-ability and class of the underlying error.
      </p></li><li><p>
        <code class="literal">Statement.setQueryTimeout()</code>s now affect the
        entire batch for batched statements, rather than the individual
        statements that make up the batch.
      </p></li><li><p>
        Errors encountered during
        <code class="literal">Statement</code>/<code class="literal">PreparedStatement</code>/<code class="literal">CallableStatement.executeBatch()</code>
        when <code class="literal">rewriteBatchStatements</code> has been set to
        <code class="literal">true</code> now return
        <code class="literal">BatchUpdateExceptions</code> according to the
        setting of <code class="literal">continueBatchOnError</code>.
      </p><p>
        If <code class="literal">continueBatchOnError</code> is set to
        <code class="literal">true</code>, the update counts for the "chunk" that
        were sent as one unit will all be set to
        <code class="literal">EXECUTE_FAILED</code>, but the driver will attempt
        to process the remainder of the batch. You can determine which
        "chunk" failed by looking at the update counts returned in the
        <code class="literal">BatchUpdateException</code>.
      </p><p>
        If <code class="literal">continueBatchOnError</code> is set to "false",
        the update counts returned will contain all updates up-to and
        including the failed "chunk", with all counts for the failed
        "chunk" set to <code class="literal">EXECUTE_FAILED</code>.
      </p><p>
        Since MySQL doesn't return multiple error codes for
        multiple-statements, or for multi-value
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>/<a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a>,
        it is the application's responsibility to handle determining
        which item(s) in the "chunk" actually failed.
      </p></li><li><p>
        New methods on com.mysql.jdbc.Statement:
        <code class="literal">setLocalInfileInputStream()</code> and
        <code class="literal">getLocalInfileInputStream()</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">setLocalInfileInputStream()</code> sets an
            <code class="literal">InputStream</code> instance that will be used to
            send data to the MySQL server for a
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a> statement rather than a
            <code class="literal">FileInputStream</code> or
            <code class="literal">URLInputStream</code> that represents the path
            given as an argument to the statement.
          </p><p>
            This stream will be read to completion upon execution of a
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a> statement, and will automatically be closed
            by the driver, so it needs to be reset before each call to
            <code class="literal">execute*()</code> that would cause the MySQL
            server to request data to fulfill the request for
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a>.
          </p><p>
            If this value is set to <code class="literal">NULL</code>, the driver
            will revert to using a <code class="literal">FileInputStream</code> or
            <code class="literal">URLInputStream</code> as required.
          </p></li><li><p>
            <code class="literal">getLocalInfileInputStream()</code> returns the
            <code class="literal">InputStream</code> instance that will be used to
            send data in response to a
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a> statement.
          </p><p>
            This method returns <code class="literal">NULL</code> if no such
            stream has been set via
            <code class="literal">setLocalInfileInputStream()</code>.
          </p></li></ul></div></li><li><p>
        Setting <code class="option">useBlobToStoreUTF8OutsideBMP</code> to
        <code class="literal">true</code> tells the driver to treat
        <code class="literal">[MEDIUM/LONG]BLOB</code> columns as
        <code class="literal">[LONG]VARCHAR</code> columns holding text encoded in
        UTF-8 that has characters outside the BMP (4-byte encodings),
        which MySQL server can't handle natively.
      </p><p>
        Set <code class="option">utf8OutsideBmpExcludedColumnNamePattern</code> to
        a regex so that column names matching the given regex will still
        be treated as <code class="literal">BLOBs</code> The regex must follow the
        patterns used for the <code class="literal">java.util.regex</code>package.
        The default is to exclude no columns, and include all columns.
      </p><p>
        Set <code class="option">utf8OutsideBmpIncludedColumnNamePattern</code> to
        specify exclusion rules to
        utf8OutsideBmpExcludedColumnNamePattern". The regex must follow
        the patterns used for the <code class="literal">java.util.regex</code>
        package.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">setObject(int, Object, int, int)</code> delegate in
        PreparedStatmentWrapper delegates to wrong method.
       (<a href="http://bugs.mysql.com/30892" target="_top">Bug#30892</a>)</p></li><li><p>
        NPE with null column values when
        <code class="option">padCharsWithSpace</code> is set to true.
       (<a href="http://bugs.mysql.com/30851" target="_top">Bug#30851</a>)</p></li><li><p>
        Collation on <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        types would be misidentified. A fix has been added, but this fix
        only works for MySQL server versions 5.0.25 and newer, since
        earlier versions didn't consistently return correct metadata for
        functions, and thus results from subqueries and functions were
        indistinguishable from each other, leading to type-related bugs.
       (<a href="http://bugs.mysql.com/30664" target="_top">Bug#30664</a>)</p></li><li><p>
        An <code class="literal">ArithmeticException</code> or
        <code class="literal">NullPointerException</code> would be raised when the
        batch had zero members and
        <code class="literal">rewriteBatchedStatements=true</code> when
        <code class="literal">addBatch()</code> was never called, or
        <code class="literal">executeBatch()</code> was called immediately after
        <code class="literal">clearBatch()</code>.
       (<a href="http://bugs.mysql.com/30550" target="_top">Bug#30550</a>)</p></li><li><p>
        Closing a load-balanced connection would cause a
        <code class="literal">ClassCastException</code>.
       (<a href="http://bugs.mysql.com/29852" target="_top">Bug#29852</a>)</p></li><li><p>
        Connection checker for JBoss didn't use same method parameters
        via reflection, causing connections to always seem "bad".
       (<a href="http://bugs.mysql.com/29106" target="_top">Bug#29106</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getTypeInfo()</code> for the types
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> will return a precision
        of 254 for server versions older than 5.0.3, 64 for versions
        5.0.3–5.0.5 and 65 for versions newer than 5.0.5.
       (<a href="http://bugs.mysql.com/28972" target="_top">Bug#28972</a>)</p></li><li><p>
        <code class="literal">CallableStatement.executeBatch()</code> doesn't work
        when connection property
        <code class="option">noAccessToProcedureBodies</code> has been set to
        <code class="literal">true</code>.
      </p><p>
        The fix involves changing the behavior of
        <code class="option">noAccessToProcedureBodies</code>,in that the driver
        will now report all paramters as "IN" paramters but allow
        callers to call registerOutParameter() on them without throwing
        an exception.
       (<a href="http://bugs.mysql.com/28689" target="_top">Bug#28689</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't contain
        <code class="literal">SCOPE_*</code> or
        <code class="literal">IS_AUTOINCREMENT</code> columns.
       (<a href="http://bugs.mysql.com/27915" target="_top">Bug#27915</a>)</p></li><li><p>
        Schema objects with identifiers other than the connection
        character aren't retrieved correctly in
        <code class="literal">ResultSetMetadata</code>.
       (<a href="http://bugs.mysql.com/27867" target="_top">Bug#27867</a>)</p></li><li><p>
        <code class="literal">Connection.getServerCharacterEncoding()</code>
        doesn't work for servers with version &gt;= 4.1.
       (<a href="http://bugs.mysql.com/27182" target="_top">Bug#27182</a>)</p></li><li><p>
        The automated SVN revisions in
        <code class="literal">DBMD.getDriverVersion()</code>. The SVN revision of
        the directory is now inserted into the version information
        during the build.
       (<a href="http://bugs.mysql.com/21116" target="_top">Bug#21116</a>)</p></li><li><p>
        Specifying a "validation query" in your connection pool that
        starts with "/* ping */" _exactly_ will cause the driver to
        instead send a ping to the server and return a fake result set
        (much lighter weight), and when using a ReplicationConnection or
        a LoadBalancedConnection, will send the ping across all active
        connections.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-2"></a>C.7.1.7. Changes in MySQL Connector/J 5.1.2 (29 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the configuration property
        <code class="literal">rewriteBatchedStatements</code> to
        <code class="literal">true</code> will now cause the driver to rewrite
        batched prepared statements with more than 3 parameter sets in a
        batch into multi-statements (separated by ";") if they are not
        plain (that is, without <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> or
        <code class="literal">ON DUPLICATE KEY UPDATE</code> clauses)
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-1"></a>C.7.1.8. Changes in MySQL Connector/J 5.1.1 (22 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Alpha development release, adding new features and
        fixing recently discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Pulled vendor-extension methods of <code class="literal">Connection</code>
        implementation out into an interface to support
        <code class="literal">java.sql.Wrapper</code> functionality from
        <code class="literal">ConnectionPoolDataSource</code>. The vendor
        extensions are javadoc'd in the
        <code class="literal">com.mysql.jdbc.Connection</code> interface.
      </p><p>
        For those looking further into the driver implementation, it is
        not an API that is used for plugability of implementations
        inside our driver (which is why there are still references to
        <code class="literal">ConnectionImpl</code> throughout the code).
      </p><p>
        We've also added server and client
        <code class="literal">prepareStatement()</code> methods that cover all of
        the variants in the JDBC API.
      </p><p>
        <code class="literal">Connection.serverPrepare(String)</code> has been
        re-named to
        <code class="literal">Connection.serverPrepareStatement()</code> for
        consistency with
        <code class="literal">Connection.clientPrepareStatement()</code>.
      </p></li><li><p>
        Row navigation now causes any streams/readers open on the result
        set to be closed, as in some cases we're reading directly from a
        shared network packet and it will be overwritten by the "next"
        row.
      </p></li><li><p>
        Made it possible to retrieve prepared statement parameter
        bindings (to be used in
        <code class="literal">StatementInterceptors</code>, primarily).
      </p></li><li><p>
        Externalized the descriptions of connection properties.
      </p></li><li><p>
        The data (and how it is stored) for <code class="literal">ResultSet</code>
        rows are now behind an interface which allows us (in some cases)
        to allocate less memory per row, in that for "streaming" result
        sets, we re-use the packet used to read rows, since only one row
        at a time is ever active.
      </p></li><li><p>
        Similar to <code class="literal">Connection</code>, we pulled out vendor
        extensions to <code class="literal">Statement</code> into an interface
        named <code class="literal">com.mysql.Statement</code>, and moved the
        <code class="literal">Statement</code> class into
        <code class="literal">com.mysql.StatementImpl</code>. The two methods
        (javadoc'd in <code class="literal">com.mysql.Statement</code> are
        <code class="literal">enableStreamingResults()</code>, which already
        existed, and <code class="literal">disableStreamingResults()</code> which
        sets the statement instance back to the fetch size and result
        set type it had before
        <code class="literal">enableStreamingResults()</code> was called.
      </p></li><li><p>
        Driver now picks appropriate internal row representation (whole
        row in one buffer, or individual byte[]s for each column value)
        depending on heuristics, including whether or not the row has
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types and the overall
        row-size. The threshold for row size that will cause the driver
        to use a buffer rather than individual byte[]s is configured by
        the configuration property
        <code class="literal">largeRowSizeThreshold</code>, which has a default
        value of 2KB.
      </p></li><li><p>
        Added experimental support for statement "interceptors" via the
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code>
        interface, examples are in
        <code class="filename">com/mysql/jdbc/interceptors</code>.
      </p><p>
        Implement this interface to be placed "in between" query
        execution, so that you can influence it. (currently
        experimental).
      </p><p>
        <code class="literal">StatementInterceptors</code> are "chainable" when
        configured by the user, the results returned by the "current"
        interceptor will be passed on to the next on in the chain, from
        left-to-right order, as specified by the user in the JDBC
        configuration property <code class="literal">statementInterceptors</code>.
      </p></li><li><p>
        See the sources (fully javadoc'd) for
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code> for more
        details until we iron out the API and get it documented in the
        manual.
      </p></li><li><p>
        Setting <code class="literal">rewriteBatchedStatements</code> to
        <code class="literal">true</code> now causes
        <code class="literal">CallableStatements</code> with batched arguments to
        be re-written in the form <code class="literal">CALL (...); CALL (...);
        ...</code> to send the batch in as few client-server round
        trips as possible.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-0"></a>C.7.1.9. Changes in MySQL Connector/J 5.1.0 (11 April 2007)</h4></div></div></div><p>
        This is the first public alpha release of the current
        Connector/J 5.1 development branch, providing an insight to
        upcoming features. Although some of these are still under
        development, this release includes the following new features
        and changes (in comparison to the current Connector/J 5.0
        production release):
      </p><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The disabling of server-side prepared statements does not
          affect the operation of the connector. However, if you use the
          <code class="literal">useTimezone=true</code> connection option and use
          client-side prepared statements (instead of server-side
          prepared statements) you should also set
          <code class="literal">useSSPSCompatibleTimezoneShift=true</code>.
        </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Refactored <code class="literal">CommunicationsException</code> into a
        JDBC-3.0 version, and a JDBC-4.0 version (which extends
        <code class="literal">SQLRecoverableException</code>, now that it exists).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This change means that if you were catching
          <code class="literal">com.mysql.jdbc.CommunicationsException</code> in
          your applications instead of looking at the SQLState class of
          <code class="literal">08</code>, and are moving to Java 6 (or newer),
          you need to change your imports to that exception to be
          <code class="literal">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException</code>,
          as the old class will not be instantiated for communications
          link-related errors under Java 6.
        </p></div></li><li><p>
        Added support for JDBC-4.0 categorized
        <code class="literal">SQLExceptions</code>.
      </p></li><li><p>
        Added support for JDBC-4.0's <code class="literal">NCLOB</code>, and
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NCHAR</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NVARCHAR</code></a>
        types.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.java6.javac</code> — full path
        to your Java-6 <span><strong class="command">javac</strong></span> executable
      </p></li><li><p>
        Added support for JDBC-4.0's SQLXML interfaces.
      </p></li><li><p>
        Re-worked Ant buildfile to build JDBC-4.0 classes separately, as
        well as support building under Eclipse (since Eclipse can't
        mix/match JDKs).
      </p><p>
        To build, you must set <code class="literal">JAVA_HOME</code> to
        J2SDK-1.4.2 or Java-5, and set the following properties on your
        Ant command line:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">com.mysql.jdbc.java6.javac</code> — full
            path to your Java-6 <span><strong class="command">javac</strong></span> executable
          </p></li><li><p>
            <code class="literal">com.mysql.jdbc.java6.rtjar</code> — full
            path to your Java-6 <code class="filename">rt.jar</code> file
          </p></li></ul></div></li><li><p>
        New feature — driver will automatically adjust session
        variable <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> when
        it determines it has been asked for a "streaming" result, and
        resets it to the previous value when the result set has been
        consumed. (configuration property is named
        <code class="literal">netTimeoutForStreamingResults</code> value and has a
        unit of seconds, the value <code class="literal">0</code> means the driver
        will not try and adjust this value).
      </p></li><li><p>
        Added support for JDBC-4.0's client information. The backend
        storage of information provided via
        <code class="literal">Connection.setClientInfo()</code> and retrieved by
        <code class="literal">Connection.getClientInfo()</code> is pluggable by
        any class that implements the
        <code class="literal">com.mysql.jdbc.JDBC4ClientInfoProvider</code>
        interface and has a no-args constructor.
      </p><p>
        The implementation used by the driver is configured using the
        <code class="literal">clientInfoProvider</code> configuration property
        (with a default of value of
        <code class="literal">com.mysql.jdbc.JDBC4CommentClientInfoProvider</code>,
        an implementation which lists the client information as a
        comment prepended to every query sent to the server).
      </p><p>
        This functionality is only available when using Java-6 or newer.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.java6.rtjar</code> — full path
        to your Java-6 <code class="filename">rt.jar</code> file
      </p></li><li><p>
        Added support for JDBC-4.0's <code class="literal">Wrapper</code>
        interface.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-5-0"></a>C.7.2. Changes in MySQL Connector/J 5.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-0-8">C.7.2.1. Changes in MySQL Connector/J 5.0.8 (09 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-7">C.7.2.2. Changes in MySQL Connector/J 5.0.7 (20 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-6">C.7.2.3. Changes in MySQL Connector/J 5.0.6 (15 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-5">C.7.2.4. Changes in MySQL Connector/J 5.0.5 (02 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-4">C.7.2.5. Changes in MySQL Connector/J 5.0.4 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-3">C.7.2.6. Changes in MySQL Connector/J 5.0.3 (26 July 2006 beta)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-2">C.7.2.7. Changes in MySQL Connector/J 5.0.2 (11 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-1">C.7.2.8. Changes in MySQL Connector/J 5.0.1 (Not Released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-0">C.7.2.9. Changes in MySQL Connector/J 5.0.0 (22 December 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-8"></a>C.7.2.1. Changes in MySQL Connector/J 5.0.8 (09 October 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">blobsAreStrings</code> — Should the driver
        always treat BLOBs as Strings. Added specifically to work around
        dubious metadata returned by the server for <code class="literal">GROUP
        BY</code> clauses. Defaults to false.
      </p></li><li><p>
        Added two configuration parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">blobsAreStrings</code> — Should the driver
            always treat BLOBs as Strings. Added specifically to work
            around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li><li><p>
            <code class="literal">functionsNeverReturnBlobs</code> — Should
            the driver always treat data from functions returning
            <code class="literal">BLOBs</code> as Strings. Added specifically to
            work around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li></ul></div></li><li><p>
        <code class="literal">functionsNeverReturnBlobs</code> — Should the
        driver always treat data from functions returning
        <code class="literal">BLOBs</code> as Strings. Added specifically to work
        around dubious metadata returned by the server for
        <code class="literal">GROUP BY</code> clauses. Defaults to false.
      </p></li><li><p>
        XAConnections now start in auto-commit mode (as per JDBC-4.0
        specification clarification).
      </p></li><li><p>
        Driver will now fall back to sane defaults for
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> and
        <a href="server-administration.html#sysvar_net_buffer_length"><code class="literal">net_buffer_length</code></a> if the server
        reports them incorrectly (and will log this situation at
        <code class="literal">WARN</code> level, since it is actually an error
        condition).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connections established using URLs of the form
        <code class="literal">jdbc:mysql:loadbalance://</code> weren't doing
        failover if they tried to connect to a MySQL server that was
        down. The driver now attempts connections to the next "best"
        (depending on the load balance strategy in use) server, and
        continues to attempt connecting to the next "best" server every
        250 milliseconds until one is found that is up and running or 5
        minutes has passed.
      </p><p>
        If the driver gives up, it will throw the last-received
        <code class="literal">SQLException</code>.
       (<a href="http://bugs.mysql.com/31053" target="_top">Bug#31053</a>)</p></li><li><p>
        <code class="literal">setObject(int, Object, int, int)</code> delegate in
        PreparedStatmentWrapper delegates to wrong method.
       (<a href="http://bugs.mysql.com/30892" target="_top">Bug#30892</a>)</p></li><li><p>
        NPE with null column values when
        <code class="option">padCharsWithSpace</code> is set to true.
       (<a href="http://bugs.mysql.com/30851" target="_top">Bug#30851</a>)</p></li><li><p>
        Collation on <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        types would be misidentified. A fix has been added, but this fix
        only works for MySQL server versions 5.0.25 and newer, since
        earlier versions didn't consistently return correct metadata for
        functions, and thus results from subqueries and functions were
        indistinguishable from each other, leading to type-related bugs.
       (<a href="http://bugs.mysql.com/30664" target="_top">Bug#30664</a>)</p></li><li><p>
        An <code class="literal">ArithmeticException</code> or
        <code class="literal">NullPointerException</code> would be raised when the
        batch had zero members and
        <code class="literal">rewriteBatchedStatements=true</code> when
        <code class="literal">addBatch()</code> was never called, or
        <code class="literal">executeBatch()</code> was called immediately after
        <code class="literal">clearBatch()</code>.
       (<a href="http://bugs.mysql.com/30550" target="_top">Bug#30550</a>)</p></li><li><p>
        Closing a load-balanced connection would cause a
        <code class="literal">ClassCastException</code>.
       (<a href="http://bugs.mysql.com/29852" target="_top">Bug#29852</a>)</p></li><li><p>
        Connection checker for JBoss didn't use same method parameters
        via reflection, causing connections to always seem "bad".
       (<a href="http://bugs.mysql.com/29106" target="_top">Bug#29106</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getTypeInfo()</code> for the types
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> will return a precision
        of 254 for server versions older than 5.0.3, 64 for versions
        5.0.3–5.0.5 and 65 for versions newer than 5.0.5.
       (<a href="http://bugs.mysql.com/28972" target="_top">Bug#28972</a>)</p></li><li><p>
        <code class="literal">CallableStatement.executeBatch()</code> doesn't work
        when connection property
        <code class="option">noAccessToProcedureBodies</code> has been set to
        <code class="literal">true</code>.
      </p><p>
        The fix involves changing the behavior of
        <code class="option">noAccessToProcedureBodies</code>,in that the driver
        will now report all paramters as "IN" paramters but allow
        callers to call registerOutParameter() on them without throwing
        an exception.
       (<a href="http://bugs.mysql.com/28689" target="_top">Bug#28689</a>)</p></li><li><p>
        When a connection is in read-only mode, queries that are wrapped
        in parentheses were incorrectly identified DML statements.
       (<a href="http://bugs.mysql.com/28256" target="_top">Bug#28256</a>)</p></li><li><p>
        <code class="literal">UNSIGNED</code> types not reported via
        <code class="literal">DBMD.getTypeInfo()</code>, and capitalization of
        type names is not consistent between
        <code class="literal">DBMD.getColumns()</code>,
        <code class="literal">RSMD.getColumnTypeName()</code> and
        <code class="literal">DBMD.getTypeInfo()</code>.
      </p><p>
        This fix also ensures that the precision of <code class="literal">UNSIGNED
        MEDIUMINT</code> and <code class="literal">UNSIGNED BIGINT</code> is
        reported correctly via <code class="literal">DBMD.getColumns()</code>.
       (<a href="http://bugs.mysql.com/27916" target="_top">Bug#27916</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't contain
        <code class="literal">SCOPE_*</code> or
        <code class="literal">IS_AUTOINCREMENT</code> columns.
       (<a href="http://bugs.mysql.com/27915" target="_top">Bug#27915</a>)</p></li><li><p>
        Schema objects with identifiers other than the connection
        character aren't retrieved correctly in
        <code class="literal">ResultSetMetadata</code>.
       (<a href="http://bugs.mysql.com/27867" target="_top">Bug#27867</a>)</p></li><li><p>
        Cached metadata with
        <code class="literal">PreparedStatement.execute()</code> throws
        <code class="literal">NullPointerException</code>.
       (<a href="http://bugs.mysql.com/27412" target="_top">Bug#27412</a>)</p></li><li><p>
        <code class="literal">Connection.getServerCharacterEncoding()</code>
        doesn't work for servers with version &gt;= 4.1.
       (<a href="http://bugs.mysql.com/27182" target="_top">Bug#27182</a>)</p></li><li><p>
        The automated SVN revisions in
        <code class="literal">DBMD.getDriverVersion()</code>. The SVN revision of
        the directory is now inserted into the version information
        during the build.
       (<a href="http://bugs.mysql.com/21116" target="_top">Bug#21116</a>)</p></li><li><p>
        Specifying a "validation query" in your connection pool that
        starts with "/* ping */" _exactly_ will cause the driver to
        instead send a ping to the server and return a fake result set
        (much lighter weight), and when using a ReplicationConnection or
        a LoadBalancedConnection, will send the ping across all active
        connections.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-7"></a>C.7.2.2. Changes in MySQL Connector/J 5.0.7 (20 July 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The driver will now automatically set
        <code class="literal">useServerPrepStmts</code> to <code class="literal">true</code>
        when <code class="literal">useCursorFetch</code> has been set to
        <code class="literal">true</code>, since the feature requires server-side
        prepared statements in order to function.
      </p></li><li><p>
        <code class="literal">tcpKeepAlive</code> - Should the driver set
        SO_KEEPALIVE (default <code class="literal">true</code>)?
      </p></li><li><p>
        Give more information in EOFExceptions thrown out of MysqlIO
        (how many bytes the driver expected to read, how many it
        actually read, say that communications with the server were
        unexpectedly lost).
      </p></li><li><p>
        Driver detects when it is running in a ColdFusion MX server
        (tested with version 7), and uses the configuration bundle
        <code class="literal">coldFusion</code>, which sets
        <code class="literal">useDynamicCharsetInfo</code> to
        <code class="literal">false</code> (see previous entry), and sets
        <code class="literal">useLocalSessionState</code> and autoReconnect to
        <code class="literal">true</code>.
      </p></li><li><p>
        <code class="literal">tcpNoDelay</code> - Should the driver set
        SO_TCP_NODELAY (disabling the Nagle Algorithm, default
        <code class="literal">true</code>)?
      </p></li><li><p>
        Added configuration property
        <code class="literal">slowQueryThresholdNanos</code> - if
        <code class="literal">useNanosForElapsedTime</code> is set to
        <code class="literal">true</code>, and this property is set to a nonzero
        value the driver will use this threshold (in nanosecond units)
        to determine if a query was slow, instead of using millisecond
        units.
      </p></li><li><p>
        <code class="literal">tcpRcvBuf</code> - Should the driver set SO_RCV_BUF
        to the given value? The default value of '0', means use the
        platform default value for this property.
      </p></li><li><p>
        Setting <code class="literal">useDynamicCharsetInfo</code> to
        <code class="literal">false</code> now causes driver to use static lookups
        for collations as well (makes
        ResultSetMetadata.isCaseSensitive() much more efficient, which
        leads to performance increase for ColdFusion, which calls this
        method for every column on every table it sees, it appears).
      </p></li><li><p>
        Added configuration properties to allow tuning of TCP/IP socket
        parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">tcpNoDelay</code> - Should the driver set
            SO_TCP_NODELAY (disabling the Nagle Algorithm, default
            <code class="literal">true</code>)?
          </p></li><li><p>
            <code class="literal">tcpKeepAlive</code> - Should the driver set
            SO_KEEPALIVE (default <code class="literal">true</code>)?
          </p></li><li><p>
            <code class="literal">tcpRcvBuf</code> - Should the driver set
            SO_RCV_BUF to the given value? The default value of '0',
            means use the platform default value for this property.
          </p></li><li><p>
            <code class="literal">tcpSndBuf</code> - Should the driver set
            SO_SND_BUF to the given value? The default value of '0',
            means use the platform default value for this property.
          </p></li><li><p>
            <code class="literal">tcpTrafficClass</code> - Should the driver set
            traffic class or type-of-service fields? See the
            documentation for java.net.Socket.setTrafficClass() for more
            information.
          </p></li></ul></div></li><li><p>
        Setting the configuration parameter
        <code class="literal">useCursorFetch</code> to <code class="literal">true</code> for
        MySQL-5.0+ enables the use of cursors that allow Connector/J to
        save memory by fetching result set rows in chunks (where the
        chunk size is set by calling setFetchSize() on a Statement or
        ResultSet) by using fully-materialized cursors on the server.
      </p></li><li><p>
        <code class="literal">tcpSndBuf</code> - Should the driver set SO_SND_BUF
        to the given value? The default value of '0', means use the
        platform default value for this property.
      </p></li><li><p>
        <code class="literal">tcpTrafficClass</code> - Should the driver set
        traffic class or type-of-service fields? See the documentation
        for java.net.Socket.setTrafficClass() for more information.
      </p></li><li><p>
        Added new debugging functionality - Setting configuration
        property
        <code class="literal">includeInnodbStatusInDeadlockExceptions</code> to
        <code class="literal">true</code> will cause the driver to append the
        output of <a href="sql-syntax.html#show-engine" title="12.5.5.12. SHOW ENGINE Syntax"><code class="literal">SHOW
        ENGINE INNODB STATUS</code></a> to deadlock-related exceptions,
        which will enumerate the current locks held inside InnoDB.
      </p></li><li><p>
        Added configuration property
        <code class="literal">useNanosForElapsedTime</code> - for
        profiling/debugging functionality that measures elapsed time,
        should the driver try to use nanoseconds resolution if available
        (requires JDK &gt;= 1.5)?
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If <code class="literal">useNanosForElapsedTime</code> is set to
          <code class="literal">true</code>, and this property is set to "0" (or
          left default), then elapsed times will still be measured in
          nanoseconds (if possible), but the slow query threshold will
          be converted from milliseconds to nanoseconds, and thus have
          an upper bound of approximately 2000 milliseconds (as that
          threshold is represented as an integer, not a long).
        </p></div></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Don't send any file data in response to LOAD DATA LOCAL INFILE
        if the feature is disabled at the client side. This is to
        prevent a malicious server or man-in-the-middle from asking the
        client for data that the client is not expecting. Thanks to Jan
        Kneschke for discovering the exploit and Andrey "Poohie"
        Hristov, Konstantin Osipov and Sergei Golubchik for discussions
        about implications and possible fixes.
       (<a href="http://bugs.mysql.com/29605" target="_top">Bug#29605</a>)</p></li><li><p>
        Parser in client-side prepared statements runs to end of
        statement, rather than end-of-line for '#' comments. Also added
        support for '--' single-line comments.
       (<a href="http://bugs.mysql.com/28956" target="_top">Bug#28956</a>)</p></li><li><p>
        Parser in client-side prepared statements eats character
        following '/' if it is not a multi-line comment.
       (<a href="http://bugs.mysql.com/28851" target="_top">Bug#28851</a>)</p></li><li><p>
        PreparedStatement.getMetaData() for statements containing
        leading one-line comments is not returned correctly.
      </p><p>
        As part of this fix, we also overhauled detection of DML for
        <code class="literal">executeQuery()</code> and
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>s for
        <code class="literal">executeUpdate()</code> in plain and prepared
        statements to be aware of the same types of comments.
       (<a href="http://bugs.mysql.com/28469" target="_top">Bug#28469</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-6"></a>C.7.2.3. Changes in MySQL Connector/J 5.0.6 (15 May 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added an experimental load-balanced connection designed for use
        with SQL nodes in a MySQL Cluster/NDB environment (This is not
        for master-slave replication. For that, we suggest you look at
        <code class="literal">ReplicationConnection</code> or
        <code class="literal">lbpool</code>).
      </p><p>
        If the JDBC URL starts with
        <code class="literal">jdbc:mysql:loadbalance://host-1,host-2,...host-n</code>,
        the driver will create an implementation of
        <code class="literal">java.sql.Connection</code> that load balances
        requests across a series of MySQL JDBC connections to the given
        hosts, where the balancing takes place after transaction commit.
      </p><p>
        Therefore, for this to work (at all), you must use transactions,
        even if only reading data.
      </p><p>
        Physical connections to the given hosts will not be created
        until needed.
      </p><p>
        The driver will invalidate connections that it detects have had
        communication errors when processing a request. A new connection
        to the problematic host will be attempted the next time it is
        selected by the load balancing algorithm.
      </p><p>
        There are two choices for load balancing algorithms, which may
        be specified by the <code class="literal">loadBalanceStrategy</code> JDBC
        URL configuration property:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">random</code> — the driver will pick a
            random host for each request. This tends to work better than
            round-robin, as the randomness will somewhat account for
            spreading loads where requests vary in response time, while
            round-robin can sometimes lead to overloaded nodes if there
            are variations in response times across the workload.
          </p></li><li><p>
            <code class="literal">bestResponseTime</code> — the driver will
            route the request to the host that had the best response
            time for the previous transaction.
          </p></li></ul></div></li><li><p>
        <code class="literal">bestResponseTime</code> — the driver will
        route the request to the host that had the best response time
        for the previous transaction.
      </p></li><li><p>
        Added configuration property
        <code class="literal">padCharsWithSpace</code> (defaults to
        <code class="literal">false</code>). If set to <code class="literal">true</code>,
        and a result set column has the
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> type and the value does not
        fill the amount of characters specified in the DDL for the
        column, the driver will pad the remaining characters with space
        (for ANSI compliance).
      </p></li><li><p>
        When <code class="literal">useLocalSessionState</code> is set to
        <code class="literal">true</code> and connected to a MySQL-5.0 or later
        server, the JDBC driver will now determine whether an actual
        <code class="literal">commit</code> or <code class="literal">rollback</code>
        statement needs to be sent to the database when
        <code class="literal">Connection.commit()</code> or
        <code class="literal">Connection.rollback()</code> is called.
      </p><p>
        This is especially helpful for high-load situations with
        connection pools that always call
        <code class="literal">Connection.rollback()</code> on connection
        check-in/check-out because it avoids a round-trip to the server.
      </p></li><li><p>
        Added configuration property
        <code class="literal">useDynamicCharsetInfo</code>. If set to
        <code class="literal">false</code> (the default), the driver will use a
        per-connection cache of character set information queried from
        the server when necessary, or when set to
        <code class="literal">true</code>, use a built-in static mapping that is
        more efficient, but isn't aware of custom character sets or
        character sets implemented after the release of the JDBC driver.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This only affects the <code class="literal">padCharsWithSpace</code>
          configuration property and the
          <code class="literal">ResultSetMetaData.getColumnDisplayWidth()</code>
          method.
        </p></div></li><li><p>
        New configuration property,
        <code class="literal">enableQueryTimeouts</code> (default
        <code class="literal">true</code>).
      </p><p>
        When enabled, query timeouts set via
        <code class="literal">Statement.setQueryTimeout()</code> use a shared
        <code class="literal">java.util.Timer</code> instance for scheduling. Even
        if the timeout doesn't expire before the query is processed,
        there will be memory used by the <code class="literal">TimerTask</code>
        for the given timeout which won't be reclaimed until the time
        the timeout would have expired if it hadn't been cancelled by
        the driver. High-load environments might want to consider
        disabling this functionality. (this configuration property is
        part of the <code class="literal">maxPerformance</code> configuration
        bundle).
      </p></li><li><p>
        Give better error message when "streaming" result sets, and the
        connection gets clobbered because of exceeding
        <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> on the
        server.
      </p></li><li><p>
        <code class="literal">random</code> — the driver will pick a random
        host for each request. This tends to work better than
        round-robin, as the randomness will somewhat account for
        spreading loads where requests vary in response time, while
        round-robin can sometimes lead to overloaded nodes if there are
        variations in response times across the workload.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.[NonRegistering]Driver</code> now
        understands URLs of the format
        <code class="literal">jdbc:mysql:replication://</code> and
        <code class="literal">jdbc:mysql:loadbalance://</code> which will create a
        ReplicationConnection (exactly like when using
        <code class="literal">[NonRegistering]ReplicationDriver</code>) and an
        experimental load-balanced connection designed for use with SQL
        nodes in a MySQL Cluster/NDB environment, respectively.
      </p><p>
        In an effort to simplify things, we're working on deprecating
        multiple drivers, and instead specifying different core behavior
        based upon JDBC URL prefixes, so watch for
        <code class="literal">[NonRegistering]ReplicationDriver</code> to
        eventually disappear, to be replaced with
        <code class="literal">com.mysql.jdbc[NonRegistering]Driver</code> with the
        new URL prefix.
      </p></li><li><p>
        Fixed issue where a failed-over connection would let an
        application call <code class="literal">setReadOnly(false)</code>, when
        that call should be ignored until the connection is reconnected
        to a writable master unless <code class="literal">failoverReadOnly</code>
        had been set to <code class="literal">false</code>.
      </p></li><li><p>
        Driver will now use <code class="literal">INSERT INTO ... VALUES
        (DEFAULT)</code>form of statement for updatable result sets
        for <code class="literal">ResultSet.insertRow()</code>, rather than
        pre-populating the insert row with values from
        <code class="literal">DatabaseMetaData.getColumns()</code>(which results
        in a <a href="sql-syntax.html#show-columns" title="12.5.5.5. SHOW COLUMNS Syntax"><code class="literal">SHOW FULL
        COLUMNS</code></a> on the server for every result set). If an
        application requires access to the default values before
        <code class="literal">insertRow()</code> has been called, the JDBC URL
        should be configured with
        <code class="literal">populateInsertRowWithDefaultValues</code> set to
        <code class="literal">true</code>.
      </p><p>
        This fix specifically targets performance issues with ColdFusion
        and the fact that it seems to ask for updatable result sets no
        matter what the application does with them.
      </p></li><li><p>
        More intelligent initial packet sizes for the "shared" packets
        are used (512 bytes, rather than 16K), and initial packets used
        during handshake are now sized appropriately as to not require
        reallocation.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        More useful error messages are generated when the driver thinks
        a result set is not updatable. (Thanks to Ashley Martens for the
        patch).
       (<a href="http://bugs.mysql.com/28085" target="_top">Bug#28085</a>)</p></li><li><p>
        <code class="literal">Connection.getTransactionIsolation()</code> uses
        "<code class="literal">SHOW VARIABLES LIKE</code>" which is very
        inefficient on MySQL-5.0+ servers.
       (<a href="http://bugs.mysql.com/27655" target="_top">Bug#27655</a>)</p></li><li><p>
        Fixed issue where calling <code class="literal">getGeneratedKeys()</code>
        on a prepared statement after calling
        <code class="literal">execute()</code> didn't always return the generated
        keys (<code class="literal">executeUpdate()</code> worked fine however).
       (<a href="http://bugs.mysql.com/27655" target="_top">Bug#27655</a>)</p></li><li><p>
        <code class="literal">CALL /* ... */
        <em class="replaceable"><code>some_proc</code></em>()</code> doesn't work.
        As a side effect of this fix, you can now use <code class="literal">/*
        */</code> and <code class="literal">#</code> comments when preparing
        statements using client-side prepared statement emulation.
      </p><p>
        If the comments happen to contain parameter markers
        (<code class="literal">?</code>), they will be treated as belonging to the
        comment (that is, not recognized) rather than being a parameter
        of the statement.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The statement when sent to the server will contain the
          comments as-is, they're not stripped during the process of
          preparing the <code class="literal">PreparedStatement</code> or
          <code class="literal">CallableStatement</code>.
        </p></div><p>(<a href="http://bugs.mysql.com/27400" target="_top">Bug#27400</a>)</p></li><li><p>
        <code class="literal">ResultSet.get*()</code> with a column index &lt; 1
        returns misleading error message.
       (<a href="http://bugs.mysql.com/27317" target="_top">Bug#27317</a>)</p></li><li><p>
        Using <code class="literal">ResultSet.get*()</code> with a column index
        less than 1 returns a misleading error message.
       (<a href="http://bugs.mysql.com/27317" target="_top">Bug#27317</a>)</p></li><li><p>
        Comments in DDL of stored procedures/functions confuse procedure
        parser, and thus metadata about them can not be created, leading
        to inability to retrieve said metadata, or execute procedures
        that have certain comments in them.
       (<a href="http://bugs.mysql.com/26959" target="_top">Bug#26959</a>)</p></li><li><p>
        Fast date/time parsing doesn't take into account
        <code class="literal">00:00:00</code> as a legal value.
       (<a href="http://bugs.mysql.com/26789" target="_top">Bug#26789</a>)</p></li><li><p>
        <code class="literal">PreparedStatement</code> is not closed in
        <code class="literal">BlobFromLocator.getBytes()</code>.
       (<a href="http://bugs.mysql.com/26592" target="_top">Bug#26592</a>)</p></li><li><p>
        When the configuration property
        <code class="literal">useCursorFetch</code> was set to
        <code class="literal">true</code>, sometimes server would return new, more
        exact metadata during the execution of the server-side prepared
        statement that enables this functionality, which the driver
        ignored (using the original metadata returned during
        <code class="literal">prepare()</code>), causing corrupt reading of data
        due to type mismatch when the actual rows were returned.
       (<a href="http://bugs.mysql.com/26173" target="_top">Bug#26173</a>)</p></li><li><p>
        <code class="literal">CallableStatements</code> with
        <code class="literal">OUT/INOUT</code> parameters that are "binary"
        (<a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>,
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>,
        <code class="literal">(VAR)BINARY</code>, <code class="literal">JAVA_OBJECT</code>)
        have extra 7 bytes.
       (<a href="http://bugs.mysql.com/25715" target="_top">Bug#25715</a>)</p></li><li><p>
        Whitespace surrounding storage/size specifiers in stored
        procedure parameters declaration causes
        <code class="literal">NumberFormatException</code> to be thrown when
        calling stored procedure on JDK-1.5 or newer, as the Number
        classes in JDK-1.5+ are whitespace intolerant.
       (<a href="http://bugs.mysql.com/25624" target="_top">Bug#25624</a>)</p></li><li><p>
        Client options not sent correctly when using SSL, leading to
        stored procedures not being able to return results. Thanks to
        Don Cohen for the bug report, testcase and patch.
       (<a href="http://bugs.mysql.com/25545" target="_top">Bug#25545</a>)</p></li><li><p>
        <code class="literal">Statement.setMaxRows()</code> is not effective on
        result sets materialized from cursors.
       (<a href="http://bugs.mysql.com/25517" target="_top">Bug#25517</a>)</p></li><li><p>
        <code class="literal">BIT(&gt; 1)</code> is returned as
        <code class="literal">java.lang.String</code> from
        <code class="literal">ResultSet.getObject()</code> rather than
        <code class="literal">byte[]</code>.
       (<a href="http://bugs.mysql.com/25328" target="_top">Bug#25328</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-5"></a>C.7.2.4. Changes in MySQL Connector/J 5.0.5 (02 March 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Usage Advisor will now issue warnings for result sets with large
        numbers of rows. You can configure the trigger value by using
        the <code class="literal">resultSetSizeThreshold</code> parameter, which
        has a default value of 100.
      </p></li><li><p>
        The <code class="literal">rewriteBatchedStatements</code> feature can now
        be used with server-side prepared statements.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p></li><li><p>
        Improved speed of <code class="literal">datetime</code> parsing for
        ResultSets that come from plain or nonserver-side prepared
        statements. You can enable old implementation with
        <code class="literal">useFastDateParsing=false</code> as a configuration
        parameter.
      </p></li><li><p>
        Usage Advisor now detects empty results sets and does not report
        on columns not referenced in those empty sets.
      </p></li><li><p>
        Fixed logging of XA commands sent to server, it is now
        configurable via <code class="literal">logXaCommands</code> property
        (defaults to <code class="literal">false</code>).
      </p></li><li><p>
        Added configuration property
        <code class="literal">localSocketAddress</code>, which is the host name or
        IP address given to explicitly configure the interface that the
        driver will bind the client side of the TCP/IP connection to
        when connecting.
      </p></li><li><p>
        We've added a new configuration option
        <code class="literal">treatUtilDateAsTimestamp</code>, which is
        <code class="literal">false</code> by default, as (1) We already had
        specific behavior to treat java.util.Date as a
        java.sql.Timestamp because it is useful to many folks, and (2)
        that behavior will very likely be required for drivers
        JDBC-post-4.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connection property <code class="literal">socketFactory</code> wasn't
        exposed via correctly named mutator/accessor, causing data
        source implementations that use JavaBean naming conventions to
        set properties to fail to set the property (and in the case of
        SJAS, fail silently when trying to set this parameter).
       (<a href="http://bugs.mysql.com/26326" target="_top">Bug#26326</a>)</p></li><li><p>
        A query execution which timed out did not always throw a
        <code class="literal">MySQLTimeoutException</code>.
       (<a href="http://bugs.mysql.com/25836" target="_top">Bug#25836</a>)</p></li><li><p>
        Storing a <code class="literal">java.util.Date</code> object in a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column would not be
        serialized correctly during <code class="literal">setObject</code>.
       (<a href="http://bugs.mysql.com/25787" target="_top">Bug#25787</a>)</p></li><li><p>
        Timer instance used for
        <code class="literal">Statement.setQueryTimeout()</code> created
        per-connection, rather than per-VM, causing memory leak.
       (<a href="http://bugs.mysql.com/25514" target="_top">Bug#25514</a>)</p></li><li><p>
        <code class="literal">EscapeProcessor</code> gets confused by multiple
        backslashes. We now push the responsibility of syntax errors
        back on to the server for most escape sequences.
       (<a href="http://bugs.mysql.com/25399" target="_top">Bug#25399</a>)</p></li><li><p>
        <code class="literal">INOUT</code> parameters in
        <code class="literal">CallableStatements</code> get doubly-escaped.
       (<a href="http://bugs.mysql.com/25379" target="_top">Bug#25379</a>)</p></li><li><p>
        When using the <code class="literal">rewriteBatchedStatements</code>
        connection option with
        <code class="literal">PreparedState.executeBatch()</code> an internal
        memory leak would occur.
       (<a href="http://bugs.mysql.com/25073" target="_top">Bug#25073</a>)</p></li><li><p>
        Fixed issue where field-level for metadata from
        <code class="literal">DatabaseMetaData</code> when using
        <code class="literal">INFORMATION_SCHEMA</code> didn't have references to
        current connections, sometimes leading to Null Pointer
        Exceptions (NPEs) when introspecting them via
        <code class="literal">ResultSetMetaData</code>.
       (<a href="http://bugs.mysql.com/25073" target="_top">Bug#25073</a>)</p></li><li><p>
        <code class="literal">StringUtils.indexOfIgnoreCaseRespectQuotes()</code>
        isn't case-insensitive on the first character of the target.
        This bug also affected
        <code class="literal">rewriteBatchedStatements</code> functionality when
        prepared statements did not use uppercase for the
        <code class="literal">VALUES</code> clause.
       (<a href="http://bugs.mysql.com/25047" target="_top">Bug#25047</a>)</p></li><li><p>
        Client-side prepared statement parser gets confused by in-line
        comments <code class="literal">/*...*/</code> and therefore cannot rewrite
        batch statements or reliably detect the type of statements when
        they are used.
       (<a href="http://bugs.mysql.com/25025" target="_top">Bug#25025</a>)</p></li><li><p>
        Results sets from <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>
        statements that are part of multi-statement queries would cause
        an <code class="literal">SQLException</code> error, "Result is from
        UPDATE".
       (<a href="http://bugs.mysql.com/25009" target="_top">Bug#25009</a>)</p></li><li><p>
        Specifying <code class="literal">US-ASCII</code> as the character set in a
        connection to a MySQL 4.1 or newer server does not map
        correctly.
       (<a href="http://bugs.mysql.com/24840" target="_top">Bug#24840</a>)</p></li><li><p>
        Using <code class="literal">DatabaseMetaData.getSQLKeywords()</code> does
        not return a all of the of the reserved keywords for the current
        MySQL version. Current implementation returns the list of
        reserved words for MySQL 5.1, and does not distinguish between
        versions.
       (<a href="http://bugs.mysql.com/24794" target="_top">Bug#24794</a>)</p></li><li><p>
        Calling <code class="literal">Statement.cancel()</code> could result in a
        Null Pointer Exception (NPE).
       (<a href="http://bugs.mysql.com/24721" target="_top">Bug#24721</a>)</p></li><li><p>
        Using <code class="literal">setFetchSize()</code> breaks prepared
        <a href="sql-syntax.html#show" title="12.5.5. SHOW Syntax"><code class="literal">SHOW</code></a> and other commands.
       (<a href="http://bugs.mysql.com/24360" target="_top">Bug#24360</a>)</p></li><li><p>
        Calendars and timezones are now lazily instantiated when
        required.
       (<a href="http://bugs.mysql.com/24351" target="_top">Bug#24351</a>)</p></li><li><p>
        Using <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns would
        result in time shifts when <code class="literal">useServerPrepStmts</code>
        was true. The reason was due to different behavior when using
        client-side compared to server-side prepared statements and the
        <code class="literal">useJDBCCompliantTimezoneShift</code> option. This is
        now fixed if moving from server-side prepared statements to
        client-side prepared statements by setting
        <code class="literal">useSSPSCompatibleTimezoneShift</code> to
        <code class="literal">true</code>, as the driver can't tell if this is a
        new deployment that never used server-side prepared statements,
        or if it is an existing deployment that is switching to
        client-side prepared statements from server-side prepared
        statements.
       (<a href="http://bugs.mysql.com/24344" target="_top">Bug#24344</a>)</p></li><li><p>
        Connector/J now returns a better error message when server
        doesn't return enough information to determine stored
        procedure/function parameter types.
       (<a href="http://bugs.mysql.com/24065" target="_top">Bug#24065</a>)</p></li><li><p>
        A connection error would occur when connecting to a MySQL server
        with certain character sets. Some collations/character sets
        reported as "unknown" (specifically <code class="literal">cias</code>
        variants of existing character sets), and inability to override
        the detected server character set.
       (<a href="http://bugs.mysql.com/23645" target="_top">Bug#23645</a>)</p></li><li><p>
        Inconsistency between <code class="literal">getSchemas</code> and
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/23304" target="_top">Bug#23304</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getSchemas()</code> doesn't return
        a <code class="literal">TABLE_CATALOG</code> column.
       (<a href="http://bugs.mysql.com/23303" target="_top">Bug#23303</a>)</p></li><li><p>
        When using a JDBC connection URL that is malformed, the
        <code class="literal">NonRegisteringDriver.getPropertyInfo</code> method
        will throw a Null Pointer Exception (NPE).
       (<a href="http://bugs.mysql.com/22628" target="_top">Bug#22628</a>)</p></li><li><p>
        Some exceptions thrown out of
        <code class="literal">StandardSocketFactory</code> were needlessly
        wrapped, obscuring their true cause, especially when using
        socket timeouts.
       (<a href="http://bugs.mysql.com/21480" target="_top">Bug#21480</a>)</p></li><li><p>
        When using a server-side prepared statement the driver would
        send timestamps to the server using nanoseconds instead of
        milliseconds.
       (<a href="http://bugs.mysql.com/21438" target="_top">Bug#21438</a>)</p></li><li><p>
        When using server-side prepared statements and timestamp
        columns, value would be incorrectly populated (with nanoseconds,
        not microseconds).
       (<a href="http://bugs.mysql.com/21438" target="_top">Bug#21438</a>)</p></li><li><p>
        <code class="literal">ParameterMetaData</code> throws
        <code class="literal">NullPointerException</code> when prepared SQL has a
        syntax error. Added
        <code class="literal">generateSimpleParameterMetadata</code> configuration
        property, which when set to <code class="literal">true</code> will
        generate metadata reflecting
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> for every parameter (the
        default is <code class="literal">false</code>, which will cause an
        exception to be thrown if no parameter metadata for the
        statement is actually available).
       (<a href="http://bugs.mysql.com/21267" target="_top">Bug#21267</a>)</p></li><li><p>
        Fixed an issue where <code class="literal">XADataSources</code> couldn't
        be bound into JNDI, as the <code class="literal">DataSourceFactory</code>
        didn't know how to create instances of them.
      </p></li></ul></div><p>Other changes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Avoid static synchronized code in JVM class libraries for
        dealing with default timezones.
      </p></li><li><p>
        Performance enhancement of initial character set configuration,
        driver will only send commands required to configure connection
        character set session variables if the current values on the
        server do not match what is required.
      </p></li><li><p>
        Re-worked stored procedure parameter parser to be more robust.
        Driver no longer requires <code class="literal">BEGIN</code> in stored
        procedure definition, but does have requirement that if a stored
        function begins with a label directly after the "returns"
        clause, that the label is not a quoted identifier.
      </p></li><li><p>
        Throw exceptions encountered during timeout to thread calling
        <code class="literal">Statement.execute*()</code>, rather than
        <code class="literal">RuntimeException</code>.
      </p></li><li><p>
        Changed cached result set metadata (when using
        <code class="literal">cacheResultSetMetadata=true</code>) to be cached
        per-connection rather than per-statement as previously
        implemented.
      </p></li><li><p>
        Reverted back to internal character conversion routines for
        single-byte character sets, as the ones internal to the JVM are
        using much more CPU time than our internal implementation.
      </p></li><li><p>
        When extracting foreign key information from
        <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> in
        <code class="literal">DatabaseMetaData</code>, ignore exceptions relating
        to tables being missing (which could happen for cross-reference
        or imported-key requests, as the list of tables is generated
        first, then iterated).
      </p></li><li><p>
        Fixed some Null Pointer Exceptions (NPEs) when cached metadata
        was used with <code class="literal">UpdatableResultSets</code>.
      </p></li><li><p>
        Take <code class="literal">localSocketAddress</code> property into account
        when creating instances of
        <code class="literal">CommunicationsException</code> when the underyling
        exception is a <code class="literal">java.net.BindException</code>, so
        that a friendlier error message is given with a little internal
        diagnostics.
      </p></li><li><p>
        Fixed cases where <code class="literal">ServerPreparedStatements</code>
        weren't using cached metadata when
        <code class="literal">cacheResultSetMetadata=true</code> was used.
      </p></li><li><p>
        Use a <code class="literal">java.util.TreeMap</code> to map column names
        to ordinal indexes for <code class="literal">ResultSet.findColumn()</code>
        instead of a HashMap. This allows us to have case-insensitive
        lookups (required by the JDBC specification) without resorting
        to the many transient object instances needed to support this
        requirement with a normal <code class="literal">HashMap</code> with either
        case-adjusted keys, or case-insensitive keys. (In the worst case
        scenario for lookups of a 1000 column result set, TreeMaps are
        about half as fast wall-clock time as a HashMap, however in
        normal applications their use gives many orders of magnitude
        reduction in transient object instance creation which pays off
        later for CPU usage in garbage collection).
      </p></li><li><p>
        When using cached metadata, skip field-level metadata packets
        coming from the server, rather than reading them and discarding
        them without creating <code class="literal">com.mysql.jdbc.Field</code>
        instances.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-4"></a>C.7.2.5. Changes in MySQL Connector/J 5.0.4 (20 October 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        DBMD.getColumns() does not return expected COLUMN_SIZE for the
        SET type, now returns length of largest possible set
        disregarding whitespace or the "," delimitters to be consistent
        with the ODBC driver.
       (<a href="http://bugs.mysql.com/22613" target="_top">Bug#22613</a>)</p></li><li><p>
        Added new _ci collations to CharsetMapping - utf8_unicode_ci not
        working.
       (<a href="http://bugs.mysql.com/22456" target="_top">Bug#22456</a>)</p></li><li><p>
        Driver was using milliseconds for Statement.setQueryTimeout()
        when specification says argument is to be in seconds.
       (<a href="http://bugs.mysql.com/22359" target="_top">Bug#22359</a>)</p></li><li><p>
        Workaround for server crash when calling stored procedures via a
        server-side prepared statement (driver now detects
        prepare(stored procedure) and substitutes client-side prepared
        statement).
       (<a href="http://bugs.mysql.com/22297" target="_top">Bug#22297</a>)</p></li><li><p>
        Driver issues truncation on write exception when it shouldn't
        (due to sending big decimal incorrectly to server with
        server-side prepared statement).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Newlines causing whitespace to span confuse procedure parser
        when getting parameter metadata for stored procedures.
       (<a href="http://bugs.mysql.com/22024" target="_top">Bug#22024</a>)</p></li><li><p>
        When using information_schema for metadata, COLUMN_SIZE for
        getColumns() is not clamped to range of java.lang.Integer as is
        the case when not using information_schema, thus leading to a
        truncation exception that isn't present when not using
        information_schema.
       (<a href="http://bugs.mysql.com/21544" target="_top">Bug#21544</a>)</p></li><li><p>
        Column names don't match metadata in cases where server doesn't
        return original column names (column functions) thus breaking
        compatibility with applications that expect 1–1 mappings
        between findColumn() and rsmd.getColumnName(), usually manifests
        itself as "Can't find column ('')" exceptions.
       (<a href="http://bugs.mysql.com/21379" target="_top">Bug#21379</a>)</p></li><li><p>
        Driver now sends numeric 1 or 0 for client-prepared statement
        <code class="literal">setBoolean()</code> calls instead of '1' or '0'.
      </p></li><li><p>
        Fixed configuration property
        <code class="literal">jdbcCompliantTruncation</code> was not being used
        for reads of result set values.
      </p></li><li><p>
        DatabaseMetaData correctly reports <code class="literal">true</code> for
        <code class="literal">supportsCatalog*()</code> methods.
      </p></li><li><p>
        Driver now supports <code class="literal">{call sp}</code> (without "()"
        if procedure has no arguments).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-3"></a>C.7.2.6. Changes in MySQL Connector/J 5.0.3 (26 July 2006 beta)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added configuration option
        <code class="literal">noAccessToProcedureBodies</code> which will cause
        the driver to create basic parameter metadata for
        <code class="literal">CallableStatements</code> when the user does not
        have access to procedure bodies via <a href="sql-syntax.html#show-create-procedure" title="12.5.5.8. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW
        CREATE PROCEDURE</code></a> or selecting from
        <code class="literal">mysql.proc</code> instead of throwing an exception.
        The default value for this option is <code class="literal">false</code>
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">Statement.cancel()</code> causes
        <code class="literal">NullPointerException</code> if underlying connection
        has been closed due to server failure.
       (<a href="http://bugs.mysql.com/20650" target="_top">Bug#20650</a>)</p></li><li><p>
        If the connection to the server has been closed due to a server
        failure, then the cleanup process will call <code class="literal">
        Statement.cancel()</code>, triggering a
        <code class="literal">NullPointerException</code>, even though there is no
        active connection.
       (<a href="http://bugs.mysql.com/20650" target="_top">Bug#20650</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-2"></a>C.7.2.7. Changes in MySQL Connector/J 5.0.2 (11 July 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MysqlXaConnection.recover(int flags)</code> now
        allows combinations of
        <code class="literal">XAResource.TMSTARTRSCAN</code> and
        <code class="literal">TMENDRSCAN</code>. To simulate the
        “<span class="quote">scanning</span>” nature of the interface, we return all
        prepared XIDs for <code class="literal">TMSTARTRSCAN</code>, and no new
        XIDs for calls with <code class="literal">TMNOFLAGS</code>, or
        <code class="literal">TMENDRSCAN</code> when not in combination with
        <code class="literal">TMSTARTRSCAN</code>. This change was made for API
        compliance, as well as integration with IBM WebSphere's
        transaction manager.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Fixed <code class="literal">MysqlValidConnectionChecker</code> for JBoss
        doesn't work with <code class="literal">MySQLXADataSources</code>.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Added connection/datasource property
        <code class="literal">pinGlobalTxToPhysicalConnection</code> (defaults to
        <code class="literal">false</code>). When set to <code class="literal">true</code>,
        when using <code class="literal">XAConnections</code>, the driver ensures
        that operations on a given XID are always routed to the same
        physical connection. This allows the
        <code class="literal">XAConnection</code> to support <code class="literal">XA START ...
        JOIN</code> after
        <a href="sql-syntax.html#xa-statements" title="12.4.7.1. XA Transaction SQL Syntax"><code class="literal">XA END</code></a>
        has been called, and is also a workaround for transaction
        managers that don't maintain thread affinity for a global
        transaction (most either always maintain thread affinity, or
        have it as a configuration option).
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Better caching of character set converters (per-connection) to
        remove a bottleneck for multibyte character sets.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Fixed <code class="literal">ConnectionProperties</code> (and thus some
        subclasses) are not serializable, even though some J2EE
        containers expect them to be.
       (<a href="http://bugs.mysql.com/19169" target="_top">Bug#19169</a>)</p></li><li><p>
        Fixed driver fails on non-ASCII platforms. The driver was
        assuming that the platform character set would be a superset of
        MySQL's <code class="literal">latin1</code> when doing the handshake for
        authentication, and when reading error messages. We now use
        Cp1252 for all strings sent to the server during the handshake
        phase, and a hard-coded mapping of the
        <a href="server-administration.html#sysvar_language"><code class="literal">language</code></a> systtem variable to
        the character set that is used for error messages.
       (<a href="http://bugs.mysql.com/18086" target="_top">Bug#18086</a>)</p></li><li><p>
        Fixed can't use <code class="literal">XAConnection</code> for local
        transactions when no global transaction is in progress.
       (<a href="http://bugs.mysql.com/17401" target="_top">Bug#17401</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-1"></a>C.7.2.8. Changes in MySQL Connector/J 5.0.1 (Not Released)</h4></div></div></div><p>
        Not released due to a packaging error
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-0"></a>C.7.2.9. Changes in MySQL Connector/J 5.0.0 (22 December 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for Connector/MXJ integration via url subprotocol
        <code class="literal">jdbc:mysql:mxj://...</code>.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Idle timeouts cause <code class="literal">XAConnections</code> to whine
        about rolling themselves back.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        When fix for <a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a> was merged from 3.1.12, added
        functionality for <code class="literal">CallableStatement</code>'s
        parameter metadata to return correct information for
        <code class="literal">.getParameterClassName()</code>.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Added service-provider entry to
        <code class="filename">META-INF/services/java.sql.Driver</code> for
        JDBC-4.0 support.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Fuller synchronization of <code class="literal">Connection</code> to avoid
        deadlocks when using multithreaded frameworks that multithread a
        single connection (usually not recommended, but the JDBC spec
        allows it anyways), part of fix to <a href="http://bugs.mysql.com/14972" target="_top">Bug#14972</a>).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Moved all <code class="literal">SQLException</code> constructor usage to a
        factory in <code class="literal">SQLError</code> (ground-work for JDBC-4.0
        <code class="literal">SQLState</code>-based exception classes).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Removed Java5-specific calls to <code class="literal">BigDecimal</code>
        constructor (when result set value is <code class="literal">''</code>,
        <code class="literal">(int)0</code> was being used as an argument
        indirectly via method return value. This signature doesn't exist
        prior to Java5.)
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Implementation of <code class="literal">Statement.cancel()</code> and
        <code class="literal">Statement.setQueryTimeout()</code>. Both require
        MySQL-5.0.0 or newer server, require a separate connection to
        issue the <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><code class="literal">KILL
        QUERY</code></a> statement, and in the case of
        <code class="literal">setQueryTimeout()</code> creates an additional
        thread to handle the timeout functionality.
      </p><p>
        Note: Failures to cancel the statement for
        <code class="literal">setQueryTimeout()</code> may manifest themselves as
        <code class="literal">RuntimeExceptions</code> rather than failing
        silently, as there is currently no way to unblock the thread
        that is executing the query being cancelled due to timeout
        expiration and have it throw the exception instead.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Return "[VAR]BINARY" for
        <code class="literal">RSMD.getColumnTypeName()</code> when that is
        actually the type, and it can be distinguished (MySQL-4.1 and
        newer).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Attempt detection of the MySQL type
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> (it is an alias, so this
        isn't always reliable), and use the
        <code class="literal">java.sql.Types.BINARY</code> type mapping for it.
      </p></li><li><p>
        Added unit tests for <code class="literal">XADatasource</code>, as well as
        friendlier exceptions for XA failures compared to the "stock"
        <code class="literal">XAException</code> (which has no messages).
      </p></li><li><p>
        If the connection <code class="literal">useTimezone</code> is set to
        <code class="literal">true</code>, then also respect time zone conversions
        in escape-processed string literals (for example, <code class="literal">"{ts
        ...}"</code> and <code class="literal">"{t ...}"</code>).
      </p></li><li><p>
        Don't allow <code class="literal">.setAutoCommit(true)</code>, or
        <code class="literal">.commit()</code> or <code class="literal">.rollback()</code>
        on an XA-managed connection as per the JDBC specification.
      </p></li><li><p>
        <code class="literal">XADataSource</code> implemented (ported from 3.2
        branch which won't be released as a product). Use
        <code class="literal">com.mysql.jdbc.jdbc2.optional.MysqlXADataSource</code>
        as your datasource class name in your application server to
        utilize XA transactions in MySQL-5.0.10 and newer.
      </p></li><li><p>
        Moved <code class="filename">-bin-g.jar</code> file into separate
        <code class="filename">debug</code> subdirectory to avoid confusion.
      </p></li><li><p>
        Return original column name for
        <code class="literal">RSMD.getColumnName()</code> if the column was
        aliased, alias name for <code class="literal">.getColumnLabel()</code> (if
        aliased), and original table name for
        <code class="literal">.getTableName()</code>. Note this only works for
        MySQL-4.1 and newer, as older servers don't make this
        information available to clients.
      </p></li><li><p>
        Setting <code class="literal">useJDBCCompliantTimezoneShift=true</code>
        (it is not the default) causes the driver to use GMT for
        <span class="emphasis"><em>all</em></span>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>/<a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        time zones, and the current VM time zone for any other type that
        refers to time zones. This feature can not be used when
        <code class="literal">useTimezone=true</code> to convert between server
        and client time zones.
      </p></li><li><p>
        <code class="literal">PreparedStatement.setString()</code> didn't work
        correctly when <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> on
        server contained
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> and no
        characters that needed escaping were present in the string.
      </p></li><li><p>
        Add one level of indirection of internal representation of
        <code class="literal">CallableStatement</code> parameter metadata to avoid
        class not found issues on JDK-1.3 for
        <code class="literal">ParameterMetadata</code> interface (which doesn't
        exist prior to JDBC-3.0).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-3-1"></a>C.7.3. Changes in MySQL Connector/J 3.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-3-1-15">C.7.3.1. Changes in MySQL Connector/J 3.1.15 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-14">C.7.3.2. Changes in MySQL Connector/J 3.1.14 (10-19-2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-13">C.7.3.3. Changes in MySQL Connector/J 3.1.13 (26 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-12">C.7.3.4. Changes in MySQL Connector/J 3.1.12 (30 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-11">C.7.3.5. Changes in MySQL Connector/J 3.1.11 (07 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-10">C.7.3.6. Changes in MySQL Connector/J 3.1.10 (23 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-9">C.7.3.7. Changes in MySQL Connector/J 3.1.9 (22 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-8">C.7.3.8. Changes in MySQL Connector/J 3.1.8 (14 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-7">C.7.3.9. Changes in MySQL Connector/J 3.1.7 (18 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-6">C.7.3.10. Changes in MySQL Connector/J 3.1.6 (23 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-5">C.7.3.11. Changes in MySQL Connector/J 3.1.5 (02 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-4">C.7.3.12. Changes in MySQL Connector/J 3.1.4 (04 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-3">C.7.3.13. Changes in MySQL Connector/J 3.1.3 (07 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-2">C.7.3.14. Changes in MySQL Connector/J 3.1.2 (09 June 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-1">C.7.3.15. Changes in MySQL Connector/J 3.1.1 (14 February 2004 alpha)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-0">C.7.3.16. Changes in MySQL Connector/J 3.1.0 (18 February 2003 alpha)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-15"></a>C.7.3.1. Changes in MySQL Connector/J 3.1.15 (Not yet released)</h4></div></div></div><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Specifying <code class="literal">US-ASCII</code> as the character set in a
        connection to a MySQL 4.1 or newer server does not map
        correctly.
       (<a href="http://bugs.mysql.com/24840" target="_top">Bug#24840</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-14"></a>C.7.3.2. Changes in MySQL Connector/J 3.1.14 (10-19-2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Check and store value for continueBatchOnError property in
        constructor of Statements, rather than when executing batches,
        so that Connections closed out from underneath statements don't
        cause NullPointerExceptions when it is required to check this
        property.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/18258" target="_top">Bug#18258</a> - DatabaseMetaData.getTables(), columns() with
        bad catalog parameter threw exception rather than return empty
        result set (as required by spec).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Driver now sends numeric 1 or 0 for client-prepared statement
        setBoolean() calls instead of '1' or '0'.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed bug where driver would not advance to next host if
        roundRobinLoadBalance=true and the last host in the list is
        down.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Driver issues truncation on write exception when it shouldn't
        (due to sending big decimal incorrectly to server with
        server-side prepared statement).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed bug when calling stored functions, where parameters
        weren't numbered correctly (first parameter is now the return
        value, subsequent parameters if specified start at index "2").
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Removed logger autodetection altogether, must now specify logger
        explicitly if you want to use a logger other than one that logs
        to STDERR.
       (<a href="http://bugs.mysql.com/21207" target="_top">Bug#21207</a>)</p></li><li><p>
        DDriver throws NPE when tracing prepared statements that have
        been closed (in asSQL()).
       (<a href="http://bugs.mysql.com/21207" target="_top">Bug#21207</a>)</p></li><li><p>
        ResultSet.getSomeInteger() doesn't work for BIT(&gt;1).
       (<a href="http://bugs.mysql.com/21062" target="_top">Bug#21062</a>)</p></li><li><p>
        Escape of quotes in client-side prepared statements parsing not
        respected. Patch covers more than bug report, including
        NO_BACKSLASH_ESCAPES being set, and stacked quote characters
        forms of escaping (that is, '' or "").
       (<a href="http://bugs.mysql.com/20888" target="_top">Bug#20888</a>)</p></li><li><p>
        Fixed can't pool server-side prepared statements, exception
        raised when re-using them.
       (<a href="http://bugs.mysql.com/20687" target="_top">Bug#20687</a>)</p></li><li><p>
        Fixed Updatable result set that contains a BIT column fails when
        server-side prepared statements are used.
       (<a href="http://bugs.mysql.com/20485" target="_top">Bug#20485</a>)</p></li><li><p>
        Fixed updatable result set throws ClassCastException when there
        is row data and moveToInsertRow() is called.
       (<a href="http://bugs.mysql.com/20479" target="_top">Bug#20479</a>)</p></li><li><p>
        Fixed ResultSet.getShort() for UNSIGNED TINYINT returns
        incorrect values when using server-side prepared statements.
       (<a href="http://bugs.mysql.com/20306" target="_top">Bug#20306</a>)</p></li><li><p>
        ReplicationDriver does not always round-robin load balance
        depending on URL used for slaves list.
       (<a href="http://bugs.mysql.com/19993" target="_top">Bug#19993</a>)</p></li><li><p>
        Fixed calling toString() on ResultSetMetaData for
        driver-generated (that is, from DatabaseMetaData method calls,
        or from getGeneratedKeys()) result sets would raise a
        NullPointerException.
       (<a href="http://bugs.mysql.com/19993" target="_top">Bug#19993</a>)</p></li><li><p>
        Connection fails to localhost when using timeout and IPv6 is
        configured.
       (<a href="http://bugs.mysql.com/19726" target="_top">Bug#19726</a>)</p></li><li><p>
        ResultSet.getFloatFromString() can't retrieve values near
        Float.MIN/MAX_VALUE.
       (<a href="http://bugs.mysql.com/18880" target="_top">Bug#18880</a>)</p></li><li><p>
        Fixed memory leak with profileSQL=true.
       (<a href="http://bugs.mysql.com/16987" target="_top">Bug#16987</a>)</p></li><li><p>
        Fixed NullPointerException in MysqlDataSourceFactory due to
        Reference containing RefAddrs with null content.
       (<a href="http://bugs.mysql.com/16791" target="_top">Bug#16791</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-13"></a>C.7.3.3. Changes in MySQL Connector/J 3.1.13 (26 May 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">Fixed PreparedStatement.setObject(int, Object,
        int)</code> doesn't respect scale of BigDecimals.
       (<a href="http://bugs.mysql.com/19615" target="_top">Bug#19615</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.wasNull()</code> returns incorrect
        value when extracting native string from server-side prepared
        statement generated result set.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed invalid classname returned for
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> for
        <code class="literal">BIGINT type</code>.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed case where driver wasn't reading server status correctly
        when fetching server-side prepared statement rows, which in some
        cases could cause warning counts to be off, or multiple result
        sets to not be read off the wire.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed data truncation and <code class="literal">getWarnings()</code> only
        returns last warning in set.
       (<a href="http://bugs.mysql.com/18740" target="_top">Bug#18740</a>)</p></li><li><p>
        Fixed aliased column names where length of name &gt; 251 are
        corrupted.
       (<a href="http://bugs.mysql.com/18554" target="_top">Bug#18554</a>)</p></li><li><p>
        Improved performance of retrieving
        <code class="literal">BigDecimal</code>, <code class="literal">Time</code>,
        <code class="literal">Timestamp</code> and <code class="literal">Date</code> values
        from server-side prepared statements by creating fewer
        short-lived instances of <code class="literal">Strings</code> when the
        native type is not an exact match for the requested type.
       (<a href="http://bugs.mysql.com/18496" target="_top">Bug#18496</a>)</p></li><li><p>
        Added performance feature, re-writing of batched executes for
        <code class="literal">Statement.executeBatch()</code> (for all DML
        statements) and
        <code class="literal">PreparedStatement.executeBatch()</code> (for INSERTs
        with VALUE clauses only). Enable by using
        "rewriteBatchedStatements=true" in your JDBC URL.
       (<a href="http://bugs.mysql.com/18041" target="_top">Bug#18041</a>)</p></li><li><p>
        Fixed issue where server-side prepared statements don't cause
        truncation exceptions to be thrown when truncation happens.
       (<a href="http://bugs.mysql.com/18041" target="_top">Bug#18041</a>)</p></li><li><p>
        Fixed
        <code class="literal">CallableStatement.registerOutParameter()</code> not
        working when some parameters pre-populated. Still waiting for
        feedback from JDBC experts group to determine what correct
        parameter count from <code class="literal">getMetaData()</code> should be,
        however.
       (<a href="http://bugs.mysql.com/17898" target="_top">Bug#17898</a>)</p></li><li><p>
        Fixed calling <code class="literal">clearParameters()</code> on a closed
        prepared statement causes NPE.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Map "latin1" on MySQL server to CP1252 for MySQL &gt; 4.1.0.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Added additional accessor and mutator methods on
        ConnectionProperties so that DataSource users can use same
        naming as regular URL properties.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.wasNull()</code> not always reset
        correctly for booleans when done via conversion for server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/17450" target="_top">Bug#17450</a>)</p></li><li><p>
        Fixed <code class="literal">Statement.getGeneratedKeys()</code> throws
        <code class="literal">NullPointerException</code> when no query has been
        processed.
       (<a href="http://bugs.mysql.com/17099" target="_top">Bug#17099</a>)</p></li><li><p>
        Fixed updatable result set doesn't return
        <code class="literal">AUTO_INCREMENT</code> values for
        <code class="literal">insertRow()</code> when multiple column primary keys
        are used. (the driver was checking for the existence of
        single-column primary keys and an autoincrement value &gt; 0
        instead of a straightforward
        <code class="literal">isAutoIncrement()</code> check).
       (<a href="http://bugs.mysql.com/16841" target="_top">Bug#16841</a>)</p></li><li><p>
        <code class="literal">DBMD.getColumns()</code> returns wrong type for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>.
       (<a href="http://bugs.mysql.com/15854" target="_top">Bug#15854</a>)</p></li><li><p>
        <code class="filename">lib-nodist</code> directory missing from package
        breaks out-of-box build.
       (<a href="http://bugs.mysql.com/15676" target="_top">Bug#15676</a>)</p></li><li><p>
        Fixed issue with <code class="literal">ReplicationConnection</code>
        incorrectly copying state, doesn't transfer connection context
        correctly when transitioning between the same read-only states.
       (<a href="http://bugs.mysql.com/15570" target="_top">Bug#15570</a>)</p></li><li><p>
        No "dos" character set in MySQL &gt; 4.1.0.
       (<a href="http://bugs.mysql.com/15544" target="_top">Bug#15544</a>)</p></li><li><p>
        <code class="literal">INOUT</code> parameter does not store
        <code class="literal">IN</code> value.
       (<a href="http://bugs.mysql.com/15464" target="_top">Bug#15464</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.setObject()</code> serializes
        <code class="literal">BigInteger</code> as object, rather than sending as
        numeric value (and is thus not complementary to
        <code class="literal">.getObject()</code> on an <code class="literal">UNSIGNED
        LONG</code> type).
       (<a href="http://bugs.mysql.com/15383" target="_top">Bug#15383</a>)</p></li><li><p>
        Fixed issue where driver was unable to initialize character set
        mapping tables. Removed reliance on
        <code class="literal">.properties</code> files to hold this information,
        as it turns out to be too problematic to code around class
        loader hierarchies that change depending on how an application
        is deployed. Moved information back into the
        <code class="literal">CharsetMapping</code> class.
       (<a href="http://bugs.mysql.com/14938" target="_top">Bug#14938</a>)</p></li><li><p>
        Exception thrown for new decimal type when using updatable
        result sets.
       (<a href="http://bugs.mysql.com/14609" target="_top">Bug#14609</a>)</p></li><li><p>
        Driver now aware of fix for <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>
        type metadata that went into MySQL-5.0.21 for server not
        reporting length consistently .
       (<a href="http://bugs.mysql.com/13601" target="_top">Bug#13601</a>)</p></li><li><p>
        Added support for Apache Commons logging, use
        "com.mysql.jdbc.log.CommonsLogger" as the value for the "logger"
        configuration property.
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        Fixed driver trying to call methods that don't exist on older
        and newer versions of Log4j. The fix is not trying to
        auto-detect presence of log4j, too many different incompatible
        versions out there in the wild to do this reliably.
      </p><p>
        If you relied on autodetection before, you will need to add
        "logger=com.mysql.jdbc.log.Log4JLogger" to your JDBC URL to
        enable Log4J usage, or alternatively use the new "CommonsLogger"
        class to take care of this.
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        LogFactory now prepends "com.mysql.jdbc.log" to log class name
        if it can't be found as-specified. This allows you to use "short
        names" for the built-in log factories, for example
        "logger=CommonsLogger" instead of
        "logger=com.mysql.jdbc.log.CommonsLogger".
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        <code class="literal">ResultSet.getShort()</code> for <code class="literal">UNSIGNED
        TINYINT</code> returned wrong values.
       (<a href="http://bugs.mysql.com/11874" target="_top">Bug#11874</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-12"></a>C.7.3.4. Changes in MySQL Connector/J 3.1.12 (30 November 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Process escape tokens in
        <code class="literal">Connection.prepareStatement(...)</code>. You can
        disable this behavior by setting the JDBC URL configuration
        property <code class="literal">processEscapeCodesForPrepStmts</code> to
        <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/15141" target="_top">Bug#15141</a>)</p></li><li><p>
        Usage advisor complains about unreferenced columns, even though
        they've been referenced.
       (<a href="http://bugs.mysql.com/15065" target="_top">Bug#15065</a>)</p></li><li><p>
        Driver incorrectly closes streams passed as arguments to
        <code class="literal">PreparedStatements</code>. Reverts to legacy
        behavior by setting the JDBC configuration property
        <code class="literal">autoClosePStmtStreams</code> to
        <code class="literal">true</code> (also included in the 3-0-Compat
        configuration “<span class="quote">bundle</span>”).
       (<a href="http://bugs.mysql.com/15024" target="_top">Bug#15024</a>)</p></li><li><p>
        Deadlock while closing server-side prepared statements from
        multiple threads sharing one connection.
       (<a href="http://bugs.mysql.com/14972" target="_top">Bug#14972</a>)</p></li><li><p>
        Unable to initialize character set mapping tables (due to J2EE
        classloader differences).
       (<a href="http://bugs.mysql.com/14938" target="_top">Bug#14938</a>)</p></li><li><p>
        Escape processor replaces quote character in quoted string with
        string delimiter.
       (<a href="http://bugs.mysql.com/14909" target="_top">Bug#14909</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't return
        <code class="literal">TABLE_NAME</code> correctly.
       (<a href="http://bugs.mysql.com/14815" target="_top">Bug#14815</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseQuotedIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        If <code class="literal">lower_case_table_names=0</code> (on server):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">storesLowerCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
            returns <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseIdentifiers()</code> returns
            <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesUpperCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesUpperCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        If <code class="literal">lower_case_table_names=1</code> (on server):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">storesLowerCaseIdentifiers()</code> returns
            <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
            returns <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.stores*Identifiers()</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            If <code class="literal">lower_case_table_names=0</code> (on server):
          </p><div class="itemizedlist"><ul type="square"><li><p>
                <code class="literal">storesLowerCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
                returns <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseIdentifiers()</code> returns
                <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li></ul></div></li><li><p>
            If <code class="literal">lower_case_table_names=1</code> (on server):
          </p><div class="itemizedlist"><ul type="square"><li><p>
                <code class="literal">storesLowerCaseIdentifiers()</code> returns
                <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
                returns <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li></ul></div></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseQuotedIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Java type conversion may be incorrect for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">MEDIUMINT</code></a>.
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Added configuration property
        <code class="literal">useGmtMillisForDatetimes</code> which when set to
        <code class="literal">true</code> causes
        <code class="literal">ResultSet.getDate()</code>,
        <code class="literal">.getTimestamp()</code> to return correct
        millis-since GMT when <code class="literal">.getTime()</code> is called on
        the return value (currently default is <code class="literal">false</code>
        for legacy behavior).
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Extraneous sleep on <code class="literal">autoReconnect</code>.
       (<a href="http://bugs.mysql.com/13775" target="_top">Bug#13775</a>)</p></li><li><p>
        Reconnect during middle of <code class="literal">executeBatch()</code>
        should not occur if <code class="literal">autoReconnect</code> is enabled.
       (<a href="http://bugs.mysql.com/13255" target="_top">Bug#13255</a>)</p></li><li><p>
        <code class="literal">maxQuerySizeToLog</code> is not respected. Added
        logging of bound values for <code class="literal">execute()</code> phase
        of server-side prepared statements when
        <code class="literal">profileSQL=true</code> as well.
       (<a href="http://bugs.mysql.com/13048" target="_top">Bug#13048</a>)</p></li><li><p>
        OpenOffice expects
        <code class="literal">DBMD.supportsIntegrityEnhancementFacility()</code>
        to return <code class="literal">true</code> if foreign keys are supported
        by the datasource, even though this method also covers support
        for check constraints, which MySQL <span class="emphasis"><em>doesn't</em></span>
        have. Setting the configuration property
        <code class="literal">overrideSupportsIntegrityEnhancementFacility</code>
        to <code class="literal">true</code> causes the driver to return
        <code class="literal">true</code> for this method.
       (<a href="http://bugs.mysql.com/12975" target="_top">Bug#12975</a>)</p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.testsuite.url.default</code>
        system property to set default JDBC url for testsuite (to speed
        up bug resolution when I'm working in Eclipse).
       (<a href="http://bugs.mysql.com/12975" target="_top">Bug#12975</a>)</p></li><li><p>
        <code class="literal">logSlowQueries</code> should give better info.
       (<a href="http://bugs.mysql.com/12230" target="_top">Bug#12230</a>)</p></li><li><p>
        Don't increase timeout for failover/reconnect.
       (<a href="http://bugs.mysql.com/6577" target="_top">Bug#6577</a>)</p></li><li><p>
        Fixed client-side prepared statement bug with embedded
        <code class="literal">?</code> characters inside quoted identifiers (it
        was recognized as a placeholder, when it was not).
      </p></li><li><p>
        Don't allow <code class="literal">executeBatch()</code> for
        <code class="literal">CallableStatements</code> with registered
        <code class="literal">OUT</code>/<code class="literal">INOUT</code> parameters (JDBC
        compliance).
      </p></li><li><p>
        Fall back to platform-encoding for
        <code class="literal">URLDecoder.decode()</code> when parsing driver URL
        properties if the platform doesn't have a two-argument version
        of this method.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-11"></a>C.7.3.5. Changes in MySQL Connector/J 3.1.11 (07 October 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The configuration property <code class="literal">sessionVariables</code>
        now allows you to specify variables that start with the
        “<span class="quote"><code class="literal">@</code></span>” sign.
       (<a href="http://bugs.mysql.com/13453" target="_top">Bug#13453</a>)</p></li><li><p>
        URL configuration parameters don't allow
        “<span class="quote"><code class="literal">&amp;</code></span>” or
        “<span class="quote"><code class="literal">=</code></span>” in their values. The JDBC
        driver now parses configuration parameters as if they are
        encoded using the application/x-www-form-urlencoded format as
        specified by <code class="literal">java.net.URLDecoder</code>
        (<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html" target="_top">http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html</a>).
      </p><p>
        If the “<span class="quote"><code class="literal">%</code></span>” character is present
        in a configuration property, it must now be represented as
        <code class="literal">%25</code>, which is the encoded form of
        “<span class="quote"><code class="literal">%</code></span>” when using
        application/x-www-form-urlencoded encoding.
       (<a href="http://bugs.mysql.com/13453" target="_top">Bug#13453</a>)</p></li><li><p>
        Workaround for <a href="http://bugs.mysql.com/13374" target="_top">Bug#13374</a>:
        <code class="literal">ResultSet.getStatement()</code> on closed result set
        returns <code class="literal">NULL</code> (as per JDBC 4.0 spec, but not
        backward-compatible). Set the connection property
        <code class="literal">retainStatementAfterResultSetClose</code> to
        <code class="literal">true</code> to be able to retrieve a
        <code class="literal">ResultSet</code>'s statement after the
        <code class="literal">ResultSet</code> has been closed via
        <code class="literal">.getStatement()</code> (the default is
        <code class="literal">false</code>, to be JDBC-compliant and to reduce the
        chance that code using JDBC leaks <code class="literal">Statement</code>
        instances).
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData</code> from
        <code class="literal">Statement.getGeneratedKeys()</code> caused a
        <code class="literal">NullPointerException</code> to be thrown whenever a
        method that required a connection reference was called.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Backport of <code class="literal">VAR[BINARY|CHAR] [BINARY]</code> types
        detection from 5.0 branch.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Fixed <code class="literal">NullPointerException</code> when converting
        <code class="literal">catalog</code> parameter in many
        <code class="literal">DatabaseMetaDataMethods</code> to
        <code class="literal">byte[]</code>s (for the result set) when the
        parameter is <code class="literal">null</code>. (<code class="literal">null</code>
        isn't technically allowed by the JDBC specification, but we've
        historically allowed it).
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Backport of <code class="literal">Field</code> class,
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>, and
        <code class="literal">ResultSet.getObject(int)</code> changes from 5.0
        branch to fix behavior surrounding <code class="literal">VARCHAR
        BINARY</code>/<a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        related types.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Read response in <code class="literal">MysqlIO.sendFileToServer()</code>,
        even if the local file can't be opened, otherwise next query
        issued will fail, because it is reading the response to the
        empty <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> packet sent to the server.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        When <code class="literal">gatherPerfMetrics</code> is enabled for servers
        older than 4.1.0, a <code class="literal">NullPointerException</code> is
        thrown from the constructor of <code class="literal">ResultSet</code> if
        the query doesn't use any tables.
       (<a href="http://bugs.mysql.com/13043" target="_top">Bug#13043</a>)</p></li><li><p>
        <code class="literal">java.sql.Types.OTHER</code> returned for
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns when using
        <code class="literal">DatabaseMetaData.getColumns()</code>.
       (<a href="http://bugs.mysql.com/12970" target="_top">Bug#12970</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatement.getBinding()</code> now
        checks if the statement is closed before attempting to reference
        the list of parameter bindings, to avoid throwing a
        <code class="literal">NullPointerException</code>.
       (<a href="http://bugs.mysql.com/12970" target="_top">Bug#12970</a>)</p></li><li><p>
        Tokenizer for <code class="literal">=</code> in URL properties was causing
        <code class="literal">sessionVariables=....</code> to be parameterized
        incorrectly.
       (<a href="http://bugs.mysql.com/12753" target="_top">Bug#12753</a>)</p></li><li><p>
        <code class="literal">cp1251</code> incorrectly mapped to
        <code class="literal">win1251</code> for servers newer than 4.0.x.
       (<a href="http://bugs.mysql.com/12752" target="_top">Bug#12752</a>)</p></li><li><p>
        <code class="literal">getExportedKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying a catalog works as stated in the API docs.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying <code class="literal">NULL</code> means that catalog will not
        be used to filter the results (thus all databases will be
        searched), unless you've set
        <code class="literal">nullCatalogMeansCurrent=true</code> in your JDBC URL
        properties.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getIndexInfo()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getProcedures()</code> (and thus indirectly
        <code class="literal">getProcedureColumns()</code>)
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getImportedKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying <code class="literal">""</code> means “<span class="quote">current</span>”
        catalog, even though this isn't quite JDBC spec compliant, it is
        there for legacy users.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getCrossReference()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Added <code class="literal">Connection.isMasterConnection()</code> for
        clients to be able to determine if a multi-host master/slave
        connection is connected to the first host in the list.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getColumns()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Handling of catalog argument in
        <code class="literal">DatabaseMetaData.getIndexInfo()</code>, which also
        means changes to the following methods in
        <code class="literal">DatabaseMetaData</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">getBestRowIdentifier()</code>
          </p></li><li><p>
            <code class="literal">getColumns()</code>
          </p></li><li><p>
            <code class="literal">getCrossReference()</code>
          </p></li><li><p>
            <code class="literal">getExportedKeys()</code>
          </p></li><li><p>
            <code class="literal">getImportedKeys()</code>
          </p></li><li><p>
            <code class="literal">getIndexInfo()</code>
          </p></li><li><p>
            <code class="literal">getPrimaryKeys()</code>
          </p></li><li><p>
            <code class="literal">getProcedures()</code> (and thus indirectly
            <code class="literal">getProcedureColumns()</code>)
          </p></li><li><p>
            <code class="literal">getTables()</code>
          </p></li></ul></div><p>
        The <code class="literal">catalog</code> argument in all of these methods
        now behaves in the following way:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Specifying <code class="literal">NULL</code> means that catalog will
            not be used to filter the results (thus all databases will
            be searched), unless you've set
            <code class="literal">nullCatalogMeansCurrent=true</code> in your JDBC
            URL properties.
          </p></li><li><p>
            Specifying <code class="literal">""</code> means
            “<span class="quote">current</span>” catalog, even though this isn't quite
            JDBC spec compliant, it is there for legacy users.
          </p></li><li><p>
            Specifying a catalog works as stated in the API docs.
          </p></li><li><p>
            Made <code class="literal">Connection.clientPrepare()</code> available
            from “<span class="quote">wrapped</span>” connections in the
            <code class="literal">jdbc2.optional</code> package (connections built
            by <code class="literal">ConnectionPoolDataSource</code> instances).
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getBestRowIdentifier()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Made <code class="literal">Connection.clientPrepare()</code> available
        from “<span class="quote">wrapped</span>” connections in the
        <code class="literal">jdbc2.optional</code> package (connections built by
        <code class="literal">ConnectionPoolDataSource</code> instances).
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getTables()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getPrimaryKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">Connection.prepareCall()</code> is database name
        case-sensitive (on Windows systems).
       (<a href="http://bugs.mysql.com/12417" target="_top">Bug#12417</a>)</p></li><li><p>
        <code class="literal">explainSlowQueries</code> hangs with server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/12229" target="_top">Bug#12229</a>)</p></li><li><p>
        Properties shared between master and slave with replication
        connection.
       (<a href="http://bugs.mysql.com/12218" target="_top">Bug#12218</a>)</p></li><li><p>
        Geometry types not handled with server-side prepared statements.
       (<a href="http://bugs.mysql.com/12104" target="_top">Bug#12104</a>)</p></li><li><p>
        <code class="literal">maxPerformance.properties</code> mis-spells
        “<span class="quote">elideSetAutoCommits</span>”.
       (<a href="http://bugs.mysql.com/11976" target="_top">Bug#11976</a>)</p></li><li><p>
        <code class="literal">ReplicationConnection</code> won't switch to slave,
        throws “<span class="quote">Catalog can't be null</span>” exception.
       (<a href="http://bugs.mysql.com/11879" target="_top">Bug#11879</a>)</p></li><li><p>
        <code class="literal">Pstmt.setObject(...., Types.BOOLEAN)</code> throws
        exception.
       (<a href="http://bugs.mysql.com/11798" target="_top">Bug#11798</a>)</p></li><li><p>
        Escape tokenizer doesn't respect stacked single quotes for
        escapes.
       (<a href="http://bugs.mysql.com/11797" target="_top">Bug#11797</a>)</p></li><li><p>
        <code class="literal">GEOMETRY</code> type not recognized when using
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/11797" target="_top">Bug#11797</a>)</p></li><li><p>
        Foreign key information that is quoted is parsed incorrectly
        when <code class="literal">DatabaseMetaData</code> methods use that
        information.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        The <code class="literal">sendBlobChunkSize</code> property is now clamped
        to <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> with
        consideration of stream buffer size and packet headers to avoid
        <code class="literal">PacketTooBigExceptions</code> when
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> is similar
        in size to the default <code class="literal">sendBlobChunkSize</code>
        which is 1M.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        <code class="literal">CallableStatement.clearParameters()</code> now
        clears resources associated with
        <code class="literal">INOUT</code>/<code class="literal">OUTPUT</code> parameters as
        well as <code class="literal">INPUT</code> parameters.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        Fixed regression caused by fix for <a href="http://bugs.mysql.com/11552" target="_top">Bug#11552</a> that caused driver
        to return incorrect values for unsigned integers when those
        integers where within the range of the positive signed type.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Moved source code to Subversion repository.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Incorrect generation of testcase scripts for server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Fixed statements generated for testcases missing
        <code class="literal">;</code> for “<span class="quote">plain</span>” statements.
       (<a href="http://bugs.mysql.com/11629" target="_top">Bug#11629</a>)</p></li><li><p>
        Spurious <code class="literal">!</code> on console when character encoding
        is <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/11629" target="_top">Bug#11629</a>)</p></li><li><p>
        <code class="literal">StringUtils.getBytes()</code> doesn't work when
        using multi-byte character encodings and a length in
        <span class="emphasis"><em>characters</em></span> is specified.
       (<a href="http://bugs.mysql.com/11614" target="_top">Bug#11614</a>)</p></li><li><p>
        <code class="literal">DBMD.storesLower/Mixed/UpperIdentifiers()</code>
        reports incorrect values for servers deployed on Windows.
       (<a href="http://bugs.mysql.com/11575" target="_top">Bug#11575</a>)</p></li><li><p>
        Reworked <code class="literal">Field</code> class,
        <code class="literal">*Buffer</code>, and <code class="literal">MysqlIO</code> to be
        aware of field lengths &gt;
        <code class="literal">Integer.MAX_VALUE</code>.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Escape processor didn't honor strings demarcated with double
        quotes.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Updated <code class="literal">DBMD.supportsCorrelatedQueries()</code> to
        return <code class="literal">true</code> for versions &gt; 4.1,
        <code class="literal">supportsGroupByUnrelated()</code> to return
        <code class="literal">true</code> and
        <code class="literal">getResultSetHoldability()</code> to return
        <code class="literal">HOLD_CURSORS_OVER_COMMIT</code>.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Lifted restriction of changing streaming parameters with
        server-side prepared statements. As long as
        <code class="literal">all</code> streaming parameters were set before
        execution, <code class="literal">.clearParameters()</code> does not have
        to be called. (due to limitation of client/server protocol,
        prepared statements can not reset
        <span class="emphasis"><em>individual</em></span> stream data on the server side).
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        <code class="literal">ResultSet.moveToCurrentRow()</code> fails to work
        when preceded by a call to
        <code class="literal">ResultSet.moveToInsertRow()</code>.
       (<a href="http://bugs.mysql.com/11190" target="_top">Bug#11190</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> data corrupted when
        using server-side prepared statements and
        <code class="literal">.setBytes()</code>.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">Statement.getWarnings()</code> fails with NPE if
        statement has been closed.
       (<a href="http://bugs.mysql.com/10630" target="_top">Bug#10630</a>)</p></li><li><p>
        Only get <code class="literal">char[]</code> from SQL in
        <code class="literal">PreparedStatement.ParseInfo()</code> when needed.
       (<a href="http://bugs.mysql.com/10630" target="_top">Bug#10630</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-10"></a>C.7.3.6. Changes in MySQL Connector/J 3.1.10 (23 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Initial implemention of <code class="literal">ParameterMetadata</code> for
        <code class="literal">PreparedStatement.getParameterMetadata()</code>.
        Only works fully for <code class="literal">CallableStatements</code>, as
        current server-side prepared statements return every parameter
        as a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> type.
      </p></li><li><p>
        Fixed connecting without a database specified raised an
        exception in <code class="literal">MysqlIO.changeDatabaseTo()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-9"></a>C.7.3.7. Changes in MySQL Connector/J 3.1.9 (22 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Production package doesn't include JBoss integration classes.
       (<a href="http://bugs.mysql.com/11411" target="_top">Bug#11411</a>)</p></li><li><p>
        Removed nonsensical “<span class="quote">costly type conversion</span>”
        warnings when using usage advisor.
       (<a href="http://bugs.mysql.com/11411" target="_top">Bug#11411</a>)</p></li><li><p>
        Fixed <code class="literal">PreparedStatement.setClob()</code> not
        accepting <code class="literal">null</code> as a parameter.
       (<a href="http://bugs.mysql.com/11360" target="_top">Bug#11360</a>)</p></li><li><p>
        Connector/J dumping query into <code class="literal">SQLException</code>
        twice.
       (<a href="http://bugs.mysql.com/11360" target="_top">Bug#11360</a>)</p></li><li><p>
        <code class="literal">autoReconnect</code> ping causes exception on
        connection startup.
       (<a href="http://bugs.mysql.com/11259" target="_top">Bug#11259</a>)</p></li><li><p>
        <code class="literal">Connection.setCatalog()</code> is now aware of the
        <code class="literal">useLocalSessionState</code> configuration property,
        which when set to <code class="literal">true</code> will prevent the
        driver from sending <code class="literal">USE ...</code> to the server if
        the requested catalog is the same as the current catalog.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">3-0-Compat</code> — Compatibility with
        Connector/J 3.0.x functionality
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">maxPerformance</code> — maximum performance
        without being reckless
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">solarisMaxPerformance</code> — maximum
        performance for Solaris, avoids syscalls where it can
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Added <code class="literal">maintainTimeStats</code> configuration
        property (defaults to <code class="literal">true</code>), which tells the
        driver whether or not to keep track of the last query time and
        the last successful packet sent to the server's time. If set to
        <code class="literal">false</code>, removes two syscalls per query.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> data corrupted when
        using server-side prepared statements and
        <code class="literal">ResultSet.getBytes()</code>.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Added the following configuration bundles, use one or many via
        the <code class="literal">useConfigs</code> configuration property:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">maxPerformance</code> — maximum
            performance without being reckless
          </p></li><li><p>
            <code class="literal">solarisMaxPerformance</code> — maximum
            performance for Solaris, avoids syscalls where it can
          </p></li><li><p>
            <code class="literal">3-0-Compat</code> — Compatibility with
            Connector/J 3.0.x functionality
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Try to handle <code class="literal">OutOfMemoryErrors</code> more
        gracefully. Although not much can be done, they will in most
        cases close the connection they happened on so that further
        operations don't run into a connection in some unknown state.
        When an OOM has happened, any further operations on the
        connection will fail with a “<span class="quote">Connection closed</span>”
        exception that will also list the OOM exception as the reason
        for the implicit connection close event.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Setting <code class="literal">cachePrepStmts=true</code> now causes the
        <code class="literal">Connection</code> to also cache the check the driver
        performs to determine if a prepared statement can be server-side
        or not, as well as caches server-side prepared statements for
        the lifetime of a connection. As before, the
        <code class="literal">prepStmtCacheSize</code> parameter controls the size
        of these caches.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Don't send <code class="literal">COM_RESET_STMT</code> for each execution
        of a server-side prepared statement if it isn't required.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        0-length streams not sent to server when using server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Driver detects if you're running MySQL-5.0.7 or later, and does
        not scan for <code class="literal">LIMIT ?[,?]</code> in statements being
        prepared, as the server supports those types of queries now.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Reorganized directory layout. Sources now are in
        <code class="filename">src</code> folder. Don't pollute parent directory
        when building, now output goes to <code class="filename">./build</code>,
        distribution goes to <code class="filename">./dist</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        Added support/bug hunting feature that generates
        <code class="filename">.sql</code> test scripts to
        <code class="literal">STDERR</code> when
        <code class="literal">autoGenerateTestcaseScript</code> is set to
        <code class="literal">true</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        <code class="literal">SQLException</code> is thrown when using property
        <code class="literal">characterSetResults</code> with
        <code class="literal">cp932</code> or <code class="literal">eucjpms</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        The datatype returned for <code class="literal">TINYINT(1)</code> columns
        when <code class="literal">tinyInt1isBit=true</code> (the default) can be
        switched between <code class="literal">Types.BOOLEAN</code> and
        <code class="literal">Types.BIT</code> using the new configuration
        property <code class="literal">transformedBitIsBoolean</code>, which
        defaults to <code class="literal">false</code>. If set to
        <code class="literal">false</code> (the default),
        <code class="literal">DatabaseMetaData.getColumns()</code> and
        <code class="literal">ResultSetMetaData.getColumnType()</code> will return
        <code class="literal">Types.BOOLEAN</code> for
        <code class="literal">TINYINT(1)</code> columns. If
        <code class="literal">true</code>, <code class="literal">Types.BOOLEAN</code> will
        be returned instead. Regardless of this configuration property,
        if <code class="literal">tinyInt1isBit</code> is enabled, columns with the
        type <code class="literal">TINYINT(1)</code> will be returned as
        <code class="literal">java.lang.Boolean</code> instances from
        <code class="literal">ResultSet.getObject(...)</code>, and
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> will
        return <code class="literal">java.lang.Boolean</code>.
       (<a href="http://bugs.mysql.com/10485" target="_top">Bug#10485</a>)</p></li><li><p>
        <code class="literal">SQLException</code> thrown when retrieving
        <code class="literal">YEAR(2)</code> with
        <code class="literal">ResultSet.getString()</code>. The driver will now
        always treat <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> types as
        <code class="literal">java.sql.Dates</code> and return the correct values
        for <code class="literal">getString()</code>. Alternatively, the
        <code class="literal">yearIsDateType</code> connection property can be set
        to <code class="literal">false</code> and the values will be treated as
        <code class="literal">SHORT</code>s.
       (<a href="http://bugs.mysql.com/10485" target="_top">Bug#10485</a>)</p></li><li><p>
        Driver doesn't support <code class="literal">{?=CALL(...)}</code> for
        calling stored functions. This involved adding support for
        function retrieval to
        <code class="literal">DatabaseMetaData.getProcedures()</code> and
        <code class="literal">getProcedureColumns()</code> as well.
       (<a href="http://bugs.mysql.com/10310" target="_top">Bug#10310</a>)</p></li><li><p>
        Unsigned <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> treated as
        signed for <code class="literal">ResultSet.getInt()</code>, fixed all
        cases for <code class="literal">UNSIGNED</code> integer values and
        server-side prepared statements, as well as
        <code class="literal">ResultSet.getObject()</code> for <code class="literal">UNSIGNED
        TINYINT</code>.
       (<a href="http://bugs.mysql.com/10156" target="_top">Bug#10156</a>)</p></li><li><p>
        Made <code class="literal">ServerPreparedStatement.asSql()</code> work
        correctly so auto-explain functionality would work with
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Double quotes not recognized when parsing client-side prepared
        statements.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Made JDBC2-compliant wrappers public in order to allow access to
        vendor extensions.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.supportsMultipleOpenResults()</code>
        now returns <code class="literal">true</code>. The driver has supported
        this for some time, DBMD just missed that fact.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Cleaned up logging of profiler events, moved code to dump a
        profiler event as a string to
        <code class="literal">com.mysql.jdbc.log.LogUtils</code> so that third
        parties can use it.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Made <code class="literal">enableStreamingResults()</code> visible on
        <code class="literal">com.mysql.jdbc.jdbc2.optional.StatementWrapper</code>.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Actually write manifest file to correct place so it ends up in
        the binary jar file.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        Added <code class="literal">createDatabaseIfNotExist</code> property
        (default is <code class="literal">false</code>), which will cause the
        driver to ask the server to create the database specified in the
        URL if it doesn't exist. You must have the appropriate
        privileges for database creation for this to work.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        Memory leak in <code class="literal">ServerPreparedStatement</code> if
        <code class="literal">serverPrepare()</code> fails.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        <code class="literal">com.mysql.jdbc.PreparedStatement.ParseInfo</code>
        does unnecessary call to <code class="literal">toCharArray()</code>.
       (<a href="http://bugs.mysql.com/9064" target="_top">Bug#9064</a>)</p></li><li><p>
        Driver now correctly uses CP932 if available on the server for
        Windows-31J, CP932 and MS932 java encoding names, otherwise it
        resorts to SJIS, which is only a close approximation. Currently
        only MySQL-5.0.3 and newer (and MySQL-4.1.12 or .13, depending
        on when the character set gets backported) can reliably support
        any variant of CP932.
      </p></li><li><p>
        Overhaul of character set configuration, everything now lives in
        a properties file.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-8"></a>C.7.3.8. Changes in MySQL Connector/J 3.1.8 (14 April 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Should accept <code class="literal">null</code> for catalog (meaning use
        current) in DBMD methods, even though it is not JDBC-compliant
        for legacy's sake. Disable by setting connection property
        <code class="literal">nullCatalogMeansCurrent</code> to
        <code class="literal">false</code> (which will be the default value in C/J
        3.2.x).
       (<a href="http://bugs.mysql.com/9917" target="_top">Bug#9917</a>)</p></li><li><p>
        Fixed driver not returning <code class="literal">true</code> for
        <code class="literal">-1</code> when
        <code class="literal">ResultSet.getBoolean()</code> was called on result
        sets returned from server-side prepared statements.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        Added a <code class="filename">Manifest.MF</code> file with
        implementation information to the <code class="filename">.jar</code>
        file.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        More tests in <code class="literal">Field.isOpaqueBinary()</code> to
        distinguish opaque binary (that is, fields with type
        <code class="literal">CHAR(n)</code> and <code class="literal">CHARACTER SET
        BINARY</code>) from output of various scalar and aggregate
        functions that return strings.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        <code class="literal">DBMD.getTables()</code> shouldn't return tables if
        views are asked for, even if the database version doesn't
        support views.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        Should accept <code class="literal">null</code> for name patterns in DBMD
        (meaning “<span class="quote"><code class="literal">%</code></span>”), even though it
        isn't JDBC compliant, for legacy's sake. Disable by setting
        connection property <code class="literal">nullNamePatternMatchesAll</code>
        to <code class="literal">false</code> (which will be the default value in
        C/J 3.2.x).
       (<a href="http://bugs.mysql.com/9769" target="_top">Bug#9769</a>)</p></li><li><p>
        The performance metrics feature now gathers information about
        number of tables referenced in a SELECT.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        The logging system is now automatically configured. If the value
        has been set by the user, via the URL property
        <code class="literal">logger</code> or the system property
        <code class="literal">com.mysql.jdbc.logger</code>, then use that,
        otherwise, autodetect it using the following steps:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Log4j, if it is available,
          </p></li><li><p>
            Then JDK1.4 logging,
          </p></li><li><p>
            Then fallback to our <code class="literal">STDERR</code> logging.
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        <code class="literal">Statement.getMoreResults()</code> could throw NPE
        when existing result set was <code class="literal">.close()</code>d.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        Stored procedures with <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        parameters with storage specifications that contained
        “<span class="quote"><code class="literal">,</code></span>” in them would fail.
       (<a href="http://bugs.mysql.com/9682" target="_top">Bug#9682</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.setObject(int, Object, int type, int
        scale)</code> now uses scale value for
        <code class="literal">BigDecimal</code> instances.
       (<a href="http://bugs.mysql.com/9682" target="_top">Bug#9682</a>)</p></li><li><p>
        Added support for the c3p0 connection pool's
        (<a href="http://c3p0.sf.net/" target="_top">http://c3p0.sf.net/</a>) validation/connection
        checker interface which uses the lightweight
        <code class="literal">COM_PING</code> call to the server if available. To
        use it, configure your c3p0 connection pool's
        <code class="literal">connectionTesterClassName</code> property to use
        <code class="literal">com.mysql.jdbc.integration.c3p0.MysqlConnectionTester</code>.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.getMetaData()</code> inserts blank
        row in database under certain conditions when not using
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Better detection of <code class="literal">LIMIT</code> inside/outside of
        quoted strings so that the driver can more correctly determine
        whether a prepared statement can be prepared on the server or
        not.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        <code class="literal">Connection.canHandleAsPreparedStatement()</code> now
        makes “<span class="quote">best effort</span>” to distinguish
        <code class="literal">LIMIT</code> clauses with placeholders in them from
        ones without in order to have fewer false positives when
        generating work-arounds for statements the server cannot
        currently handle as server-side prepared statements.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Fixed <code class="filename">build.xml</code> to not compile
        <code class="literal">log4j</code> logging if <code class="literal">log4j</code> not
        available.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Added finalizers to <code class="literal">ResultSet</code> and
        <code class="literal">Statement</code> implementations to be JDBC
        spec-compliant, which requires that if not explicitly closed,
        these resources should be closed upon garbage collection.
       (<a href="http://bugs.mysql.com/9319" target="_top">Bug#9319</a>)</p></li><li><p>
        Stored procedures with same name in different databases confuse
        the driver when it tries to determine parameter counts/types.
       (<a href="http://bugs.mysql.com/9319" target="_top">Bug#9319</a>)</p></li><li><p>
        A continuation of <a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>, where functions used in queries that
        should return nonstring types when resolved by temporary tables
        suddenly become opaque binary strings (work-around for server
        limitation). Also fixed fields with type of <code class="literal">CHAR(n)
        CHARACTER SET BINARY</code> to return correct/matching
        classes for <code class="literal">RSMD.getColumnClassName()</code> and
        <code class="literal">ResultSet.getObject()</code>.
       (<a href="http://bugs.mysql.com/9236" target="_top">Bug#9236</a>)</p></li><li><p>
        Cannot use <code class="literal">UTF-8</code> for characterSetResults
        configuration property.
       (<a href="http://bugs.mysql.com/9206" target="_top">Bug#9206</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.addBatch()</code> doesn't work
        with server-side prepared statements and streaming
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> data.
       (<a href="http://bugs.mysql.com/9040" target="_top">Bug#9040</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> now correctly
        “<span class="quote">stream</span>”
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>/<code class="literal">CLOB</code> data
        to the server. You can configure the threshold chunk size using
        the JDBC URL property <code class="literal">blobSendChunkSize</code> (the
        default is 1MB).
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> queries returned as
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>s from
        <code class="literal">getObject()</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Server-side session variables can be preset at connection time
        by passing them as a comma-delimited list for the connection
        property <code class="literal">sessionVariables</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        <code class="literal">BlobFromLocator</code> now uses correct identifier
        quoting when generating prepared statements.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Fixed regression in <code class="literal">ping()</code> for users using
        <code class="literal">autoReconnect=true</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Check for empty strings (<code class="literal">''</code>) when converting
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        column data to numbers, throw exception if
        <code class="literal">emptyStringsConvertToZero</code> configuration
        property is set to <code class="literal">false</code> (for
        backward-compatibility with 3.0, it is now set to
        <code class="literal">true</code> by default, but will most likely default
        to <code class="literal">false</code> in 3.2).
       (<a href="http://bugs.mysql.com/8803" target="_top">Bug#8803</a>)</p></li><li><p>
        <code class="literal">DATA_TYPE</code> column from
        <code class="literal">DBMD.getBestRowIdentifier()</code> causes
        <code class="literal">ArrayIndexOutOfBoundsException</code> when accessed
        (and in fact, didn't return any value).
       (<a href="http://bugs.mysql.com/8803" target="_top">Bug#8803</a>)</p></li><li><p>
        <code class="literal">DBMD.supportsMixedCase*Identifiers()</code> returns
        wrong value on servers running on case-sensitive file systems.
       (<a href="http://bugs.mysql.com/8800" target="_top">Bug#8800</a>)</p></li><li><p>
        <code class="literal">DBMD.supportsResultSetConcurrency()</code> not
        returning <code class="literal">true</code> for forward-only/read-only
        result sets (we obviously support this).
       (<a href="http://bugs.mysql.com/8792" target="_top">Bug#8792</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.getTime()</code> on a
        <code class="literal">NULL</code> value for server-side prepared
        statements throws NPE.
      </p></li><li><p>
        Made <code class="literal">Connection.ping()</code> a public method.
      </p></li><li><p>
        Added support for new precision-math
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> type in MySQL 5.0.3 and
        up.
      </p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getTables()</code> returning
        views when they were not asked for as one of the requested table
        types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-7"></a>C.7.3.9. Changes in MySQL Connector/J 3.1.7 (18 February 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">PreparedStatements</code> not creating streaming
        result sets.
       (<a href="http://bugs.mysql.com/8487" target="_top">Bug#8487</a>)</p></li><li><p>
        Don't pass <code class="literal">NULL</code> to
        <code class="literal">String.valueOf()</code> in
        <code class="literal">ResultSet.getNativeConvertToString()</code>, as it
        stringifies it (that is, returns <code class="literal">null</code>), which
        is not correct for the method in question.
       (<a href="http://bugs.mysql.com/8487" target="_top">Bug#8487</a>)</p></li><li><p>
        Fixed NPE in <code class="literal">ResultSet.realClose()</code> when using
        usage advisor and result set was already closed.
       (<a href="http://bugs.mysql.com/8428" target="_top">Bug#8428</a>)</p></li><li><p>
        <code class="literal">ResultSet.getString()</code> doesn't maintain format
        stored on server, bug fix only enabled when
        <code class="literal">noDatetimeStringSync</code> property is set to
        <code class="literal">true</code> (the default is
        <code class="literal">false</code>).
       (<a href="http://bugs.mysql.com/8428" target="_top">Bug#8428</a>)</p></li><li><p>
        Added support for <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> type in
        MySQL-5.0.3. The driver will treat <code class="literal">BIT(1-8)</code>
        as the JDBC standard <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> type
        (which maps to <code class="literal">java.lang.Boolean</code>), as the
        server does not currently send enough information to determine
        the size of a bitfield when &lt; 9 bits are declared.
        <code class="literal">BIT(&gt;9)</code> will be treated as
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a>, and will return
        <code class="literal">byte[]</code> when <code class="literal">getObject()</code> is
        called.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Added <code class="literal">useLocalSessionState</code> configuration
        property, when set to <code class="literal">true</code> the JDBC driver
        trusts that the application is well-behaved and only sets
        autocommit and transaction isolation levels using the methods
        provided on <code class="literal">java.sql.Connection</code>, and
        therefore can manipulate these values in many cases without
        incurring round-trips to the database server.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Added <code class="literal">enableStreamingResults()</code> to
        <code class="literal">Statement</code> for connection pool implementations
        that check <code class="literal">Statement.setFetchSize()</code> for
        specification-compliant values. Call
        <code class="literal">Statement.setFetchSize(&gt;=0)</code> to disable the
        streaming results for that statement.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        <code class="literal">ResultSet.getBigDecimal()</code> throws exception
        when rounding would need to occur to set scale. The driver now
        chooses a rounding mode of “<span class="quote">half up</span>” if nonrounding
        <code class="literal">BigDecimal.setScale()</code> fails.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Fixed synchronization issue with
        <code class="literal">ServerPreparedStatement.serverPrepare()</code> that
        could cause deadlocks/crashes if connection was shared between
        threads.
       (<a href="http://bugs.mysql.com/8096" target="_top">Bug#8096</a>)</p></li><li><p>
        Emulated locators corrupt binary data when using server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/8096" target="_top">Bug#8096</a>)</p></li><li><p>
        Infinite recursion when “<span class="quote">falling back</span>” to master in
        failover configuration.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Disable multi-statements (if enabled) for MySQL-4.1 versions
        prior to version 4.1.10 if the query cache is enabled, as the
        server returns wrong results in this configuration.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Removed <code class="literal">dontUnpackBinaryResults</code>
        functionality, the driver now always stores results from
        server-side prepared statements as is from the server and
        unpacks them on demand.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Fixed duplicated code in
        <code class="literal">configureClientCharset()</code> that prevented
        <code class="literal">useOldUTF8Behavior=true</code> from working
        properly.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Added <code class="literal">holdResultsOpenOverStatementClose</code>
        property (default is <code class="literal">false</code>), that keeps
        result sets open over statement.close() or new execution on same
        statement (suggested by Kevin Burton).
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Detect new <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> variable in
        string form (it used to be integer) and adjust quoting method
        for strings appropriately.
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Timestamps converted incorrectly to strings with server-side
        prepared statements and updatable result sets.
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Timestamp key column data needed <code class="literal">_binary</code>
        stripped for <code class="literal">UpdatableResultSet.refreshRow()</code>.
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        Choose correct “<span class="quote">direction</span>” to apply time
        adjustments when both client and server are in GMT time zone
        when using <code class="literal">ResultSet.get(..., cal)</code> and
        <code class="literal">PreparedStatement.set(...., cal)</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Remove <code class="literal">_binary</code> introducer from parameters
        used as in/out parameters in
        <code class="literal">CallableStatement</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Always return <code class="literal">byte[]</code>s for output parameters
        registered as <code class="literal">*BINARY</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        By default, the driver now scans SQL you are preparing via all
        variants of <code class="literal">Connection.prepareStatement()</code> to
        determine if it is a supported type of statement to prepare on
        the server side, and if it is not supported by the server, it
        instead prepares it as a client-side emulated prepared
        statement. You can disable this by passing
        <code class="literal">emulateUnsupportedPstmts=false</code> in your JDBC
        URL.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Added <code class="literal">dontTrackOpenResources</code> option (default
        is <code class="literal">false</code>, to be JDBC compliant), which helps
        with memory use for nonwell-behaved apps (that is, applications
        that don't close <code class="literal">Statement</code> objects when they
        should).
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Send correct value for “<span class="quote">boolean</span>”
        <code class="literal">true</code> to server for
        <code class="literal">PreparedStatement.setObject(n, "true",
        Types.BIT)</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Fixed bug with Connection not caching statements from
        <code class="literal">prepareStatement()</code> when the statement wasn't
        a server-side prepared statement.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-6"></a>C.7.3.10. Changes in MySQL Connector/J 3.1.6 (23 December 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">DBMD.getProcedures()</code> doesn't respect catalog
        parameter.
       (<a href="http://bugs.mysql.com/7026" target="_top">Bug#7026</a>)</p></li><li><p>
        Fixed hang on <code class="literal">SocketInputStream.read()</code> with
        <code class="literal">Statement.setMaxRows()</code> and multiple result
        sets when driver has to truncate result set directly, rather
        than tacking a <code class="literal">LIMIT
        <em class="replaceable"><code>n</code></em></code> on the end of it.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-5"></a>C.7.3.11. Changes in MySQL Connector/J 3.1.5 (02 December 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use 1MB packet for sending file for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> if that is &lt;
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> on server.
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        <code class="literal">SUM()</code> on
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> with server-side prepared
        statement ignores scale if zero-padding is needed (this ends up
        being due to conversion to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a>
        by server, which when converted to a string to parse into
        <code class="literal">BigDecimal</code>, loses all “<span class="quote">padding</span>”
        zeros).
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        Use
        <code class="literal">DatabaseMetaData.getIdentifierQuoteString()</code>
        when building DBMD queries.
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        Use our own implementation of buffered input streams to get
        around blocking behavior of
        <code class="literal">java.io.BufferedInputStream</code>. Disable this
        with <code class="literal">useReadAheadInput=false</code>.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Make auto-deserialization of
        <code class="literal">java.lang.Objects</code> stored in
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns configurable via
        <code class="literal">autoDeserialize</code> property (defaults to
        <code class="literal">false</code>).
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData.getColumnDisplaySize()</code>
        returns incorrect values for multi-byte charsets.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Re-work <code class="literal">Field.isOpaqueBinary()</code> to detect
        <code class="literal">CHAR(<em class="replaceable"><code>n</code></em>) CHARACTER SET
        BINARY</code> to support fixed-length binary fields for
        <code class="literal">ResultSet.getObject()</code>.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Failing to connect to the server when one of the addresses for
        the given host name is IPV6 (which the server does not yet bind
        on). The driver now loops through <span class="emphasis"><em>all</em></span> IP
        addresses for a given host, and stops on the first one that
        <code class="literal">accepts()</code> a
        <code class="literal">socket.connect()</code>.
       (<a href="http://bugs.mysql.com/6348" target="_top">Bug#6348</a>)</p></li><li><p>
        Removed unwanted new <code class="literal">Throwable()</code> in
        <code class="literal">ResultSet</code> constructor due to bad merge
        (caused a new object instance that was never used for every
        result set created). Found while profiling for <a href="http://bugs.mysql.com/6359" target="_top">Bug#6359</a>.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        <code class="literal">ServerSidePreparedStatement</code> allocating
        short-lived objects unnecessarily.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        Use null-safe-equals for key comparisons in updatable result
        sets.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        Fixed too-early creation of <code class="literal">StringBuffer</code> in
        <code class="literal">EscapeProcessor.escapeSQL()</code>, also return
        <code class="literal">String</code> when escaping not needed (to avoid
        unnecessary object allocations). Found while profiling for <a href="http://bugs.mysql.com/6359" target="_top">Bug#6359</a>.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        <code class="literal">UNSIGNED BIGINT</code> unpacked incorrectly from
        server-side prepared statement result sets.
       (<a href="http://bugs.mysql.com/5729" target="_top">Bug#5729</a>)</p></li><li><p>
        Added experimental configuration property
        <code class="literal">dontUnpackBinaryResults</code>, which delays
        unpacking binary result set values until they're asked for, and
        only creates object instances for nonnumerical values (it is set
        to <code class="literal">false</code> by default). For some usecase/jvm
        combinations, this is friendlier on the garbage collector.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Don't throw exceptions for
        <code class="literal">Connection.releaseSavepoint()</code>.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Inefficient detection of pre-existing string instances in
        <code class="literal">ResultSet.getNativeString()</code>.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Use a per-session <code class="literal">Calendar</code> instance by
        default when decoding dates from
        <code class="literal">ServerPreparedStatements</code> (set to old, less
        performant behavior by setting property
        <code class="literal">dynamicCalendars=true</code>).
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Fixed batched updates with server prepared statements weren't
        looking if the types had changed for a given batched set of
        parameters compared to the previous set, causing the server to
        return the error “<span class="quote">Wrong arguments to
        mysql_stmt_execute()</span>”.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Handle case when string representation of timestamp contains
        trailing “<span class="quote"><code class="literal">.</code></span>” with no numbers
        following it.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Server-side prepared statements did not honor
        <code class="literal">zeroDateTimeBehavior</code> property, and would
        cause class-cast exceptions when using
        <code class="literal">ResultSet.getObject()</code>, as the all-zero string
        was always returned.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Fix comparisons made between string constants and dynamic
        strings that are converted with either
        <code class="literal">toUpperCase()</code> or
        <code class="literal">toLowerCase()</code> to use
        <code class="literal">Locale.ENGLISH</code>, as some locales
        “<span class="quote">override</span>” case rules for English. Also use
        <code class="literal">StringUtils.indexOfIgnoreCase()</code> instead of
        <code class="literal">.toUpperCase().indexOf()</code>, avoids creating a
        very short-lived transient <code class="literal">String</code> instance.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-4"></a>C.7.3.12. Changes in MySQL Connector/J 3.1.4 (04 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">ServerPreparedStatement</code> to read
        prepared statement metadata off the wire, even though it is
        currently a placeholder instead of using
        <code class="literal">MysqlIO.clearInputStream()</code> which didn't work
        at various times because data wasn't available to read from the
        server yet. This fixes sporadic errors users were having with
        <code class="literal">ServerPreparedStatements</code> throwing
        <code class="literal">ArrayIndexOutOfBoundExceptions</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        Added three ways to deal with all-zero datetimes when reading
        them from a <code class="literal">ResultSet</code>:
        <code class="literal">exception</code> (the default), which throws an
        <code class="literal">SQLException</code> with an SQLState of
        <code class="literal">S1009</code>; <code class="literal">convertToNull</code>,
        which returns <code class="literal">NULL</code> instead of the date; and
        <code class="literal">round</code>, which rounds the date to the nearest
        closest value which is <code class="literal">'0001-01-01'</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        The driver is more strict about truncation of numerics on
        <code class="literal">ResultSet.get*()</code>, and will throw an
        <code class="literal">SQLException</code> when truncation is detected. You
        can disable this by setting
        <code class="literal">jdbcCompliantTruncation</code> to
        <code class="literal">false</code> (it is enabled by default, as this
        functionality is required for JDBC compliance).
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        You can now use URLs in
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> statements, and the driver will use Java's
        built-in handlers for retreiving the data and sending it to the
        server. This feature is not enabled by default, you must set the
        <code class="literal">allowUrlInLocalInfile</code> connection property to
        <code class="literal">true</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> doesn't return type
        <code class="literal">Boolean</code> for pseudo-bit types from prepared
        statements on 4.1.x (shortcut for avoiding extra type conversion
        when using binary-encoded result sets obscured test in
        <code class="literal">getObject()</code> for “<span class="quote">pseudo</span>” bit
        type).
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        Use <code class="literal">com.mysql.jdbc.Message</code>'s classloader when
        loading resource bundle, should fix sporadic issues when the
        caller's classloader can't locate the resource bundle.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> dealing with return
        of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> type don't work.
       (<a href="http://bugs.mysql.com/5012" target="_top">Bug#5012</a>)</p></li><li><p>
        Track packet sequence numbers if
        <code class="literal">enablePacketDebug=true</code>, and throw an
        exception if packets received out-of-order.
       (<a href="http://bugs.mysql.com/4689" target="_top">Bug#4689</a>)</p></li><li><p>
        <code class="literal">ResultSet.wasNull()</code> does not work for
        primatives if a previous <code class="literal">null</code> was returned.
       (<a href="http://bugs.mysql.com/4689" target="_top">Bug#4689</a>)</p></li><li><p>
        Optimized integer number parsing, enable “<span class="quote">old</span>”
        slower integer parsing using JDK classes via
        <code class="literal">useFastIntParsing=false</code> property.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        Added <code class="literal">useOnlyServerErrorMessages</code> property,
        which causes message text in exceptions generated by the server
        to only contain the text sent by the server (as opposed to the
        SQLState's “<span class="quote">standard</span>” description, followed by the
        server's error message). This property is set to
        <code class="literal">true</code> by default.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatement.execute*()</code> sometimes
        threw <code class="literal">ArrayIndexOutOfBoundsException</code> when
        unpacking field metadata.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        Connector/J 3.1.3 beta does not handle integers correctly
        (caused by changes to support unsigned reads in
        <code class="literal">Buffer.readInt()</code> -&gt;
        <code class="literal">Buffer.readShort()</code>).
       (<a href="http://bugs.mysql.com/4510" target="_top">Bug#4510</a>)</p></li><li><p>
        Added support in <code class="literal">DatabaseMetaData.getTables()</code>
        and <code class="literal">getTableTypes()</code> for views, which are now
        available in MySQL server 5.0.x.
       (<a href="http://bugs.mysql.com/4510" target="_top">Bug#4510</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> returns wrong type for
        strings when using prepared statements.
       (<a href="http://bugs.mysql.com/4482" target="_top">Bug#4482</a>)</p></li><li><p>
        Calling <code class="literal">MysqlPooledConnection.close()</code> twice
        (even though an application error), caused NPE. Fixed.
       (<a href="http://bugs.mysql.com/4482" target="_top">Bug#4482</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-3"></a>C.7.3.13. Changes in MySQL Connector/J 3.1.3 (07 July 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support new time zone variables in MySQL-4.1.3 when
        <code class="literal">useTimezone=true</code>.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Error in retrieval of <code class="literal">mediumint</code> column with
        prepared statements and binary protocol.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Support for unsigned numerics as return types from prepared
        statements. This also causes a change in
        <code class="literal">ResultSet.getObject()</code> for the <code class="literal">bigint
        unsigned</code> type, which used to return
        <code class="literal">BigDecimal</code> instances, it now returns
        instances of <code class="literal">java.lang.BigInteger</code>.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Externalized more messages (on-going effort).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Null bitmask sent for server-side prepared statements was
        incorrect.
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Added constants for MySQL error numbers (publicly accessible,
        see <code class="literal">com.mysql.jdbc.MysqlErrorNumbers</code>), and
        the ability to generate the mappings of vendor error codes to
        SQLStates that the driver uses (for documentation purposes).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Added packet debuging code (see the
        <code class="literal">enablePacketDebug</code> property documentation).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Use SQL Standard SQL states by default, unless
        <code class="literal">useSqlStateCodes</code> property is set to
        <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Mangle output parameter names for
        <code class="literal">CallableStatements</code> so they will not clash
        with user variable names.
      </p></li><li><p>
        Added support for <code class="literal">INOUT</code> parameters in
        <code class="literal">CallableStatements</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-2"></a>C.7.3.14. Changes in MySQL Connector/J 3.1.2 (09 June 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Don't enable server-side prepared statements for server version
        5.0.0 or 5.0.1, as they aren't compatible with the '4.1.2+'
        style that the driver uses (the driver expects information to
        come back that isn't there, so it hangs).
       (<a href="http://bugs.mysql.com/3804" target="_top">Bug#3804</a>)</p></li><li><p>
        <code class="literal">getWarnings()</code> returns
        <code class="literal">SQLWarning</code> instead of
        <code class="literal">DataTruncation</code>.
       (<a href="http://bugs.mysql.com/3804" target="_top">Bug#3804</a>)</p></li><li><p>
        <code class="literal">getProcedureColumns()</code> doesn't work with
        wildcards for procedure name.
       (<a href="http://bugs.mysql.com/3540" target="_top">Bug#3540</a>)</p></li><li><p>
        <code class="literal">getProcedures()</code> does not return any
        procedures in result set.
       (<a href="http://bugs.mysql.com/3539" target="_top">Bug#3539</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getProcedures()</code> when
        run on MySQL-5.0.0 (output of <a href="sql-syntax.html#show-procedure-status" title="12.5.5.26. SHOW PROCEDURE STATUS Syntax"><code class="literal">SHOW
        PROCEDURE STATUS</code></a> changed between 5.0.0 and 5.0.1.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Added <code class="literal">connectionCollation</code> property to cause
        driver to issue <code class="literal">set collation_connection=...</code>
        query on connection init if default collation for given charset
        is not appropriate.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        <code class="literal">DBMD.getSQLStateType()</code> returns incorrect
        value.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Correctly map output parameters to position given in
        <code class="literal">prepareCall()</code> versus. order implied during
        <code class="literal">registerOutParameter()</code>.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Cleaned up detection of server properties.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Correctly detect initial character set for servers &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Support placeholder for parameter metadata for server &gt;=
        4.1.2.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Added <code class="literal">gatherPerformanceMetrics</code> property,
        along with properties to control when/where this info gets
        logged (see docs for more info).
      </p></li><li><p>
        Fixed case when no parameters could cause a
        <code class="literal">NullPointerException</code> in
        <code class="literal">CallableStatement.setOutputParameters()</code>.
      </p></li><li><p>
        Enabled callable statement caching via
        <code class="literal">cacheCallableStmts</code> property.
      </p></li><li><p>
        Fixed sending of split packets for large queries, enabled nio
        ability to send large packets as well.
      </p></li><li><p>
        Added <code class="literal">.toString()</code> functionality to
        <code class="literal">ServerPreparedStatement</code>, which should help if
        you're trying to debug a query that is a prepared statement (it
        shows SQL as the server would process).
      </p></li><li><p>
        Added <code class="literal">logSlowQueries</code> property, along with
        <code class="literal">slowQueriesThresholdMillis</code> property to
        control when a query should be considered “<span class="quote">slow.</span>”
      </p></li><li><p>
        Removed wrapping of exceptions in
        <code class="literal">MysqlIO.changeUser()</code>.
      </p></li><li><p>
        Fixed stored procedure parameter parsing info when size was
        specified for a parameter (for example,
        <code class="literal">char()</code>, <code class="literal">varchar()</code>).
      </p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> weren't actually
        de-allocating server-side resources when
        <code class="literal">.close()</code> was called.
      </p></li><li><p>
        Fixed case when no output parameters specified for a stored
        procedure caused a bogus query to be issued to retrieve out
        parameters, leading to a syntax error from the server.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-1"></a>C.7.3.15. Changes in MySQL Connector/J 3.1.1 (14 February 2004 alpha)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use DocBook version of docs for shipped versions of drivers.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        <code class="literal">NULL</code> fields were not being encoded correctly
        in all cases in server-side prepared statements.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        Fixed rare buffer underflow when writing numbers into buffers
        for sending prepared statement execution requests.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        Fixed <code class="literal">ConnectionProperties</code> that weren't
        properly exposed via accessors, cleaned up
        <code class="literal">ConnectionProperties</code> code.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Class-cast exception when using scrolling result sets and
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Merged unbuffered input code from 3.0.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Enabled streaming of result sets from server-side prepared
        statements.
       (<a href="http://bugs.mysql.com/2606" target="_top">Bug#2606</a>)</p></li><li><p>
        Server-side prepared statements were not returning datatype
        <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> correctly.
       (<a href="http://bugs.mysql.com/2606" target="_top">Bug#2606</a>)</p></li><li><p>
        Fixed charset conversion issue in
        <code class="literal">getTables()</code>.
       (<a href="http://bugs.mysql.com/2502" target="_top">Bug#2502</a>)</p></li><li><p>
        Implemented multiple result sets returned from a statement or
        stored procedure.
       (<a href="http://bugs.mysql.com/2502" target="_top">Bug#2502</a>)</p></li><li><p>
        Implemented <code class="literal">Connection.prepareCall()</code>, and
        <code class="literal">DatabaseMetaData</code>.
        <code class="literal">getProcedures()</code> and
        <code class="literal">getProcedureColumns()</code>.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Merged prepared statement caching, and
        <code class="literal">.getMetaData()</code> support from 3.0 branch.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Fixed off-by-1900 error in some cases for years in
        <code class="literal">TimeUtil.fastDate</code>/<code class="literal">TimeCreate()</code>
        when unpacking results from server-side prepared statements.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Reset <code class="literal">long binary</code> parameters in
        <code class="literal">ServerPreparedStatement</code> when
        <code class="literal">clearParameters()</code> is called, by sending
        <code class="literal">COM_RESET_STMT</code> to the server.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        <code class="literal">NULL</code> values for numeric types in binary
        encoded result sets causing
        <code class="literal">NullPointerExceptions</code>.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Display where/why a connection was implicitly closed (to aid
        debugging).
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> is not
        returning correct column ordinal info for
        non-<code class="literal">'%'</code> column name patterns.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed <code class="literal">NullPointerException</code> in
        <code class="literal">ServerPreparedStatement.setTimestamp()</code>, as
        well as year and month descrepencies in
        <code class="literal">ServerPreparedStatement.setTimestamp()</code>,
        <code class="literal">setDate()</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Added ability to have multiple database/JVM targets for
        compliance and regression/unit tests in
        <code class="filename">build.xml</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed sending of queries larger than 16M.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Merged fix of datatype mapping from MySQL type
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> to
        <code class="literal">java.sql.Types.REAL</code> from 3.0 branch.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed NPE and year/month bad conversions when accessing some
        datetime functionality in
        <code class="literal">ServerPreparedStatements</code> and their resultant
        result sets.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Added named and indexed input/output parameter support to
        <code class="literal">CallableStatement</code>. MySQL-5.0.x or newer.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        <code class="literal">CommunicationsException</code> implemented, that
        tries to determine why communications was lost with a server,
        and displays possible reasons when
        <code class="literal">.getMessage()</code> is called.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Detect collation of column for
        <code class="literal">RSMD.isCaseSensitive()</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Optimized <code class="literal">Buffer.readLenByteArray()</code> to return
        shared empty byte array when length is 0.
      </p></li><li><p>
        Fix support for table aliases when checking for all primary keys
        in <code class="literal">UpdatableResultSet</code>.
      </p></li><li><p>
        Unpack “<span class="quote">unknown</span>” data types from server prepared
        statements as <code class="literal">Strings</code>.
      </p></li><li><p>
        Implemented <code class="literal">Statement.getWarnings()</code> for
        MySQL-4.1 and newer (using <a href="sql-syntax.html#show-warnings" title="12.5.5.37. SHOW WARNINGS Syntax"><code class="literal">SHOW
        WARNINGS</code></a>).
      </p></li><li><p>
        Ensure that warnings are cleared before executing queries on
        prepared statements, as-per JDBC spec (now that we support
        warnings).
      </p></li><li><p>
        Correctly initialize datasource properties from JNDI Refs,
        including explicitly specified URLs.
      </p></li><li><p>
        Implemented long data (Blobs, Clobs, InputStreams, Readers) for
        server prepared statements.
      </p></li><li><p>
        Deal with 0-length tokens in <code class="literal">EscapeProcessor</code>
        (caused by callable statement escape syntax).
      </p></li><li><p>
        <code class="literal">DatabaseMetaData</code> now reports
        <code class="literal">supportsStoredProcedures()</code> for MySQL versions
        &gt;= 5.0.0
      </p></li><li><p>
        Support for <a href="connectors-apis.html#mysql-change-user" title="20.9.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a>.
        See the <code class="literal">changeUser()</code> method in
        <code class="literal">com.mysql.jdbc.Connection</code>.
      </p></li><li><p>
        Removed <code class="literal">useFastDates</code> connection property.
      </p></li><li><p>
        Support for NIO. Use <code class="literal">useNIO=true</code> on platforms
        that support NIO.
      </p></li><li><p>
        Check for closed connection on delete/update/insert row
        operations in <code class="literal">UpdatableResultSet</code>.
      </p></li><li><p>
        Support for transaction savepoints (MySQL &gt;= 4.0.14 or
        4.1.1).
      </p></li><li><p>
        Support “<span class="quote">old</span>” <code class="literal">profileSql</code>
        capitalization in <code class="literal">ConnectionProperties</code>. This
        property is deprecated, you should use
        <code class="literal">profileSQL</code> if possible.
      </p></li><li><p>
        Fixed character encoding issues when converting bytes to ASCII
        when MySQL doesn't provide the character set, and the JVM is set
        to a multi-byte encoding (usually affecting retrieval of numeric
        values).
      </p></li><li><p>
        Centralized setting of result set type and concurrency.
      </p></li><li><p>
        Fixed bug with <code class="literal">UpdatableResultSets</code> not using
        client-side prepared statements.
      </p></li><li><p>
        Default result set type changed to
        <code class="literal">TYPE_FORWARD_ONLY</code> (JDBC compliance).
      </p></li><li><p>
        Fixed <code class="literal">IllegalAccessError</code> to
        <code class="literal">Calendar.getTimeInMillis()</code> in
        <code class="literal">DateTimeValue</code> (for JDK &lt; 1.4).
      </p></li><li><p>
        Allow contents of <code class="literal">PreparedStatement.setBlob()</code>
        to be retained between calls to <code class="literal">.execute*()</code>.
      </p></li><li><p>
        Fixed stack overflow in
        <code class="literal">Connection.prepareCall()</code> (bad merge).
      </p></li><li><p>
        Refactored how connection properties are set and exposed as
        <code class="literal">DriverPropertyInfo</code> as well as
        <code class="literal">Connection</code> and <code class="literal">DataSource</code>
        properties.
      </p></li><li><p>
        Reduced number of methods called in average query to be more
        efficient.
      </p></li><li><p>
        Prepared <code class="literal">Statements</code> will be re-prepared on
        auto-reconnect. Any errors encountered are postponed until first
        attempt to re-execute the re-prepared statement.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-0"></a>C.7.3.16. Changes in MySQL Connector/J 3.1.0 (18 February 2003 alpha)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">useServerPrepStmts</code> property (default
        <code class="literal">false</code>). The driver will use server-side
        prepared statements when the server version supports them (4.1
        and newer) when this property is set to <code class="literal">true</code>.
        It is currently set to <code class="literal">false</code> by default until
        all bind/fetch functionality has been implemented. Currently
        only DML prepared statements are implemented for 4.1 server-side
        prepared statements.
      </p></li><li><p>
        Added <code class="literal">requireSSL</code> property.
      </p></li><li><p>
        Track open <code class="literal">Statements</code>, close all when
        <code class="literal">Connection.close()</code> is called (JDBC
        compliance).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-3-0"></a>C.7.4. Changes in MySQL Connector/J 3.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-3-0-17">C.7.4.1. Changes in MySQL Connector/J 3.0.17 (23 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-16">C.7.4.2. Changes in MySQL Connector/J 3.0.16 (15 November 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-15">C.7.4.3. Changes in MySQL Connector/J 3.0.15 (04 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-14">C.7.4.4. Changes in MySQL Connector/J 3.0.14 (28 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-13">C.7.4.5. Changes in MySQL Connector/J 3.0.13 (27 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-12">C.7.4.6. Changes in MySQL Connector/J 3.0.12 (18 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-11">C.7.4.7. Changes in MySQL Connector/J 3.0.11 (19 February 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-10">C.7.4.8. Changes in MySQL Connector/J 3.0.10 (13 January 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-9">C.7.4.9. Changes in MySQL Connector/J 3.0.9 (07 October 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-8">C.7.4.10. Changes in MySQL Connector/J 3.0.8 (23 May 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-7">C.7.4.11. Changes in MySQL Connector/J 3.0.7 (08 April 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-6">C.7.4.12. Changes in MySQL Connector/J 3.0.6 (18 February 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-5">C.7.4.13. Changes in MySQL Connector/J 3.0.5 (22 January 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-4">C.7.4.14. Changes in MySQL Connector/J 3.0.4 (06 January 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-3">C.7.4.15. Changes in MySQL Connector/J 3.0.3 (17 December 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-2">C.7.4.16. Changes in MySQL Connector/J 3.0.2 (08 November 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-1">C.7.4.17. Changes in MySQL Connector/J 3.0.1 (21 September 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-0">C.7.4.18. Changes in MySQL Connector/J 3.0.0 (31 July 2002)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-17"></a>C.7.4.1. Changes in MySQL Connector/J 3.0.17 (23 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Workaround for server <a href="http://bugs.mysql.com/9098" target="_top">Bug#9098</a>: Default values of
        <code class="literal">CURRENT_*</code> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>,
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>, and
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns can't be
        distinguished from <code class="literal">string</code> values, so
        <code class="literal">UpdatableResultSet.moveToInsertRow()</code>
        generates bad SQL for inserting default values.
       (<a href="http://bugs.mysql.com/8812" target="_top">Bug#8812</a>)</p></li><li><p>
        <code class="literal">NON_UNIQUE</code> column from
        <code class="literal">DBMD.getIndexInfo()</code> returned inverted value.
       (<a href="http://bugs.mysql.com/8812" target="_top">Bug#8812</a>)</p></li><li><p>
        <code class="literal">EUCKR</code> charset is sent as <code class="literal">SET NAMES
        euc_kr</code> which MySQL-4.1 and newer doesn't understand.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Added support for the <code class="literal">EUC_JP_Solaris</code>
        character encoding, which maps to a MySQL encoding of
        <code class="literal">eucjpms</code> (backported from 3.1 branch). This
        only works on servers that support <code class="literal">eucjpms</code>,
        namely 5.0.3 or later.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Use hex escapes for
        <code class="literal">PreparedStatement.setBytes()</code> for double-byte
        charsets including “<span class="quote">aliases</span>”
        <code class="literal">Windows-31J</code>, <code class="literal">CP934</code>,
        <code class="literal">MS932</code>.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.supportsSelectForUpdate()</code>
        returns correct value based on server version.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Which requires hex escaping of binary data when using multi-byte
        charsets with prepared statements.
       (<a href="http://bugs.mysql.com/8064" target="_top">Bug#8064</a>)</p></li><li><p>
        Fixed duplicated code in
        <code class="literal">configureClientCharset()</code> that prevented
        <code class="literal">useOldUTF8Behavior=true</code> from working
        properly.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Backported SQLState codes mapping from Connector/J 3.1, enable
        with <code class="literal">useSqlStateCodes=true</code> as a connection
        property, it defaults to <code class="literal">false</code> in this
        release, so that we don't break legacy applications (it defaults
        to <code class="literal">true</code> starting with Connector/J 3.1).
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        Timestamp key column data needed <code class="literal">_binary</code>
        stripped for <code class="literal">UpdatableResultSet.refreshRow()</code>.
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        <code class="literal">MS932</code>, <code class="literal">SHIFT_JIS</code>, and
        <code class="literal">Windows_31J</code> not recognized as aliases for
        <code class="literal">sjis</code>.
       (<a href="http://bugs.mysql.com/7607" target="_top">Bug#7607</a>)</p></li><li><p>
        Handle streaming result sets with more than 2 billion rows
        properly by fixing wraparound of row number counter.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.fixDecimalExponent()</code> adding
        extra <code class="literal">+</code>, making number unparseable by MySQL
        server.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        Escape sequence {fn convert(..., type)} now supports ODBC-style
        types that are prepended by <code class="literal">SQL_</code>.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        Statements created from a pooled connection were returning
        physical connection instead of logical connection when
        <code class="literal">getConnection()</code> was called.
       (<a href="http://bugs.mysql.com/7316" target="_top">Bug#7316</a>)</p></li><li><p>
        Support new protocol type <code class="literal">MYSQL_TYPE_VARCHAR</code>.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        Added <code class="literal">useOldUTF8Behavior</code>' configuration
        property, which causes JDBC driver to act like it did with
        MySQL-4.0.x and earlier when the character encoding is
        <code class="literal">utf-8</code> when connected to MySQL-4.1 or newer.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getIndexInfo()</code> ignored
        <code class="literal">unique</code> parameter.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.fixDecimalExponent()</code> adding
        extra <code class="literal">+</code>, making number unparseable by MySQL
        server.
       (<a href="http://bugs.mysql.com/7061" target="_top">Bug#7061</a>)</p></li><li><p>
        <code class="literal">PreparedStatements</code> don't encode Big5 (and
        other multi-byte) character sets correctly in static SQL
        strings.
       (<a href="http://bugs.mysql.com/7033" target="_top">Bug#7033</a>)</p></li><li><p>
        Connections starting up failed-over (due to down master) never
        retry master.
       (<a href="http://bugs.mysql.com/6966" target="_top">Bug#6966</a>)</p></li><li><p>
        Adding <code class="literal">CP943</code> to aliases for
        <code class="literal">sjis</code>.
       (<a href="http://bugs.mysql.com/6549" target="_top">Bug#6549</a>, <a href="http://bugs.mysql.com/7607" target="_top">Bug#7607</a>)</p></li><li><p>
        <code class="literal">Timestamp</code>/<code class="literal">Time</code> conversion
        goes in the wrong “<span class="quote">direction</span>” when
        <code class="literal">useTimeZone=true</code> and server time zone differs
        from client time zone.
       (<a href="http://bugs.mysql.com/5874" target="_top">Bug#5874</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-16"></a>C.7.4.2. Changes in MySQL Connector/J 3.0.16 (15 November 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Made <code class="literal">TINYINT(1)</code> -&gt;
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>/<code class="literal">Boolean</code>
        conversion configurable via <code class="literal">tinyInt1isBit</code>
        property (default <code class="literal">true</code> to be JDBC compliant
        out of the box).
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Off-by-one bug in
        <code class="literal">Buffer.readString(<em class="replaceable"><code>string</code></em>)</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        <code class="literal">ResultSet.updateByte()</code> when on insert row
        throws <code class="literal">ArrayOutOfBoundsException</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed regression where <code class="literal">useUnbufferedInput</code> was
        defaulting to <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> on a column with
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> in it fails.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getTypes()</code> returning
        incorrect (this is, nonnegative) scale for the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> type.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Only set <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
        during connection establishment if server version &gt;= 4.1.1.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isReadOnly()</code> to
        detect nonwritable columns when connected to MySQL-4.1 or newer,
        based on existence of “<span class="quote">original</span>” table and column
        names.
      </p></li><li><p>
        Re-issue character set configuration commands when re-using
        pooled connections and/or
        <code class="literal">Connection.changeUser()</code> when connected to
        MySQL-4.1 or newer.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-15"></a>C.7.4.3. Changes in MySQL Connector/J 3.0.15 (04 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.getMetaData()</code> should not return
        incorrectly initialized metadata if the result set has been
        closed, but should instead throw an
        <code class="literal">SQLException</code>. Also fixed for
        <code class="literal">getRow()</code> and <code class="literal">getWarnings()</code>
        and traversal methods by calling
        <code class="literal">checkClosed()</code> before operating on
        instance-level fields that are nullified during
        <code class="literal">.close()</code>.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        Use <code class="literal">_binary</code> introducer for
        <code class="literal">PreparedStatement.setBytes()</code> and
        <code class="literal">set*Stream()</code> when connected to MySQL-4.1.x or
        newer to avoid misinterpretation during character conversion.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        Parse new time zone variables from 4.1.x servers.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        <code class="literal">ResultSet</code> should release
        <code class="literal">Field[]</code> instance in
        <code class="literal">.close()</code>.
       (<a href="http://bugs.mysql.com/5022" target="_top">Bug#5022</a>)</p></li><li><p>
        <code class="literal">RSMD.getPrecision()</code> returning 0 for
        nonnumeric types (should return max length in chars for
        nonbinary types, max length in bytes for binary types). This fix
        also fixes mapping of <code class="literal">RSMD.getColumnType()</code>
        and <code class="literal">RSMD.getColumnTypeName()</code> for the
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types based on the length
        sent from the server (the server doesn't distinguish between
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYBLOB</code></a>,
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>,
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMBLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> at the network protocol
        level).
       (<a href="http://bugs.mysql.com/4880" target="_top">Bug#4880</a>)</p></li><li><p>
        “<span class="quote">Production</span>” is now “<span class="quote">GA</span>” (General
        Availability) in naming scheme of distributions.
       (<a href="http://bugs.mysql.com/4860" target="_top">Bug#4860</a>, <a href="http://bugs.mysql.com/4138" target="_top">Bug#4138</a>)</p></li><li><p>
        <code class="literal">DBMD.getColumns()</code> returns incorrect JDBC type
        for unsigned columns. This affects type mappings for all numeric
        types in the <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">RSMD.getColumnTypeNames()</code> methods as well, to
        ensure that “<span class="quote">like</span>” types from
        <code class="literal">DBMD.getColumns()</code> match up with what
        <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">getColumnTypeNames()</code> return.
       (<a href="http://bugs.mysql.com/4860" target="_top">Bug#4860</a>, <a href="http://bugs.mysql.com/4138" target="_top">Bug#4138</a>)</p></li><li><p>
        Calling <code class="literal">.close()</code> twice on a
        <code class="literal">PooledConnection</code> causes NPE.
       (<a href="http://bugs.mysql.com/4808" target="_top">Bug#4808</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> mapped twice in
        <code class="literal">DBMD.getTypeInfo()</code>.
       (<a href="http://bugs.mysql.com/4742" target="_top">Bug#4742</a>)</p></li><li><p>
        Added FLOSS license exemption.
       (<a href="http://bugs.mysql.com/4742" target="_top">Bug#4742</a>)</p></li><li><p>
        Removed redundant calls to <code class="literal">checkRowPos()</code> in
        <code class="literal">ResultSet</code>.
       (<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        Failover for <code class="literal">autoReconnect</code> not using port
        numbers for any hosts, and not retrying all hosts.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          This required a change to the <code class="literal">SocketFactory</code>
          <code class="literal">connect()</code> method signature, which is now
          <code class="literal">public Socket connect(String host, int portNumber,
          Properties props)</code>; therefore, any third-party socket
          factories will have to be changed to support this signature.
        </p></div><p>(<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        Logical connections created by
        <code class="literal">MysqlConnectionPoolDataSource</code> will now issue
        a <code class="literal">rollback()</code> when they are closed and sent
        back to the pool. If your application server/connection pool
        already does this for you, you can set the
        <code class="literal">rollbackOnPooledClose</code> property to
        <code class="literal">false</code> to avoid the overhead of an extra
        <code class="literal">rollback()</code>.
       (<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        <code class="literal">StringUtils.escapeEasternUnicodeByteStream</code>
        was still broken for GBK.
       (<a href="http://bugs.mysql.com/4010" target="_top">Bug#4010</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-14"></a>C.7.4.4. Changes in MySQL Connector/J 3.0.14 (28 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed URL parsing error.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-13"></a>C.7.4.5. Changes in MySQL Connector/J 3.0.13 (27 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">No Database Selected</code> when using
        <code class="literal">MysqlConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/3920" target="_top">Bug#3920</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.getGeneratedKeys()</code> method
        returns only 1 result for batched insertions.
       (<a href="http://bugs.mysql.com/3873" target="_top">Bug#3873</a>)</p></li><li><p>
        Using a <code class="literal">MySQLDatasource</code> without server name
        fails.
       (<a href="http://bugs.mysql.com/3848" target="_top">Bug#3848</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-12"></a>C.7.4.6. Changes in MySQL Connector/J 3.0.12 (18 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Inconsistent reporting of data type. The server still doesn't
        return all types for *BLOBs *TEXT correctly, so the driver won't
        return those correctly.
       (<a href="http://bugs.mysql.com/3570" target="_top">Bug#3570</a>)</p></li><li><p>
        <code class="literal">UpdatableResultSet</code> not picking up default
        values for <code class="literal">moveToInsertRow()</code>.
       (<a href="http://bugs.mysql.com/3557" target="_top">Bug#3557</a>)</p></li><li><p>
        Not specifying database in URL caused
        <code class="literal">MalformedURL</code> exception.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Auto-convert MySQL encoding names to Java encoding names if used
        for <code class="literal">characterEncoding</code> property.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Use <code class="literal">junit.textui.TestRunner</code> for all unit
        tests (to allow them to be run from the command line outside of
        Ant or Eclipse).
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Added encoding names that are recognized on some JVMs to fix
        case where they were reverse-mapped to MySQL encoding names
        incorrectly.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Made <code class="literal">StringRegressionTest</code> 4.1-unicode aware.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Fixed regression in
        <code class="literal">PreparedStatement.setString()</code> and eastern
        character encodings.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        <code class="literal">DBMD.getSQLStateType()</code> returns incorrect
        value.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Renamed <code class="literal">StringUtils.escapeSJISByteStream()</code> to
        more appropriate
        <code class="literal">escapeEasternUnicodeByteStream()</code>.
       (<a href="http://bugs.mysql.com/3511" target="_top">Bug#3511</a>)</p></li><li><p>
        <code class="literal">StringUtils.escapeSJISByteStream()</code> not
        covering all eastern double-byte charsets correctly.
       (<a href="http://bugs.mysql.com/3511" target="_top">Bug#3511</a>)</p></li><li><p>
        Return creating statement for <code class="literal">ResultSets</code>
        created by <code class="literal">getGeneratedKeys()</code>.
       (<a href="http://bugs.mysql.com/2957" target="_top">Bug#2957</a>)</p></li><li><p>
        Use <code class="literal">SET character_set_results</code> during
        initialization to allow any charset to be returned to the driver
        for result sets.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Don't truncate <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <code class="literal">CLOB</code> values when using
        <code class="literal">setBytes()</code> and/or
        <code class="literal">setBinary/CharacterStream()</code>. .
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Dynamically configure character set mappings for field-level
        character sets on MySQL-4.1.0 and newer using
        <a href="sql-syntax.html#show-collation" title="12.5.5.4. SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> when connecting.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Map <code class="literal">binary</code> character set to
        <code class="literal">US-ASCII</code> to support
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> charset recognition for
        servers &gt;= 4.1.2.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Use <code class="literal">charsetnr</code> returned during connect to
        encode queries before issuing <code class="literal">SET NAMES</code> on
        MySQL &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Add helper methods to <code class="literal">ResultSetMetaData</code>
        (<code class="literal">getColumnCharacterEncoding()</code> and
        <code class="literal">getColumnCharacterSet()</code>) to allow end-users
        to see what charset the driver thinks it should be using for the
        column.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Only set <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
        for MySQL &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Allow <code class="literal">url</code> parameter for
        <code class="literal">MysqlDataSource</code> and
        <code class="literal">MysqlConnectionPool</code>
        <code class="literal">DataSource</code> so that passing of other
        properties is possible from inside appservers.
      </p></li><li><p>
        Don't escape SJIS/GBK/BIG5 when using MySQL-4.1 or newer.
      </p></li><li><p>
        Backport documentation tooling from 3.1 branch.
      </p></li><li><p>
        Added <code class="literal">failOverReadOnly</code> property, to allow
        end-user to configure state of connection (read-only/writable)
        when failed over.
      </p></li><li><p>
        Allow <code class="literal">java.util.Date</code> to be sent in as
        parameter to <code class="literal">PreparedStatement.setObject()</code>,
        converting it to a <code class="literal">Timestamp</code> to maintain full
        precision. .
       (<a href="http://bugs.mysql.com/103" target="_top">Bug#103</a>)</p></li><li><p>
        Add unsigned attribute to
        <code class="literal">DatabaseMetaData.getColumns()</code> output in the
        <code class="literal">TYPE_NAME</code> column.
      </p></li><li><p>
        Map duplicate key and foreign key errors to SQLState of
        <code class="literal">23000</code>.
      </p></li><li><p>
        Backported “<span class="quote">change user</span>” and “<span class="quote">reset server
        state</span>” functionality from 3.1 branch, to allow clients of
        <code class="literal">MysqlConnectionPoolDataSource</code> to reset server
        state on <code class="literal">getConnection()</code> on a pooled
        connection.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-11"></a>C.7.4.7. Changes in MySQL Connector/J 3.0.11 (19 February 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Return <code class="literal">java.lang.Double</code> for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> type from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>.
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Return <code class="literal">[B</code> instead of
        <code class="literal">java.lang.Object</code> for
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a>,
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        <code class="literal">LONGVARBINARY</code> types from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> (JDBC
        compliance).
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Issue connection events on all instances created from a
        <code class="literal">ConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Return <code class="literal">java.lang.Integer</code> for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> types from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>.
       (<a href="http://bugs.mysql.com/2852" target="_top">Bug#2852</a>)</p></li><li><p>
        Added <code class="literal">useUnbufferedInput</code> parameter, and now
        use it by default (due to JVM issue
        <a href="http://developer.java.sun.com/developer/bugParade/bugs/4401235.html" target="_top">http://developer.java.sun.com/developer/bugParade/bugs/4401235.html</a>)
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        Fixed failover always going to last host in list.
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        Detect <code class="literal">on</code>/<code class="literal">off</code> or
        <code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>
        form of <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        value on server.
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        <code class="literal">AutoReconnect</code> time was growing faster than
        exponentially.
       (<a href="http://bugs.mysql.com/2447" target="_top">Bug#2447</a>)</p></li><li><p>
        Trigger a <code class="literal">SET NAMES utf8</code> when encoding is
        forced to <code class="literal">utf8</code> <span class="emphasis"><em>or</em></span>
        <code class="literal">utf-8</code> via the
        <code class="literal">characterEncoding</code> property. Previously, only
        the Java-style encoding name of <code class="literal">utf-8</code> would
        trigger this.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-10"></a>C.7.4.8. Changes in MySQL Connector/J 3.0.10 (13 January 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Enable caching of the parsing stage of prepared statements via
        the <code class="literal">cachePrepStmts</code>,
        <code class="literal">prepStmtCacheSize</code>, and
        <code class="literal">prepStmtCacheSqlLimit</code> properties (disabled by
        default).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed security exception when used in Applets (applets can't
        read the system property <code class="literal">file.encoding</code> which
        is needed for <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA LOCAL INFILE</code></a>).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Speed up parsing of <code class="literal">PreparedStatements</code>, try
        to use one-pass whenever possible.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed exception <code class="literal">Unknown character set
        'danish'</code> on connect with JDK-1.4.0
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed mappings in SQLError to report deadlocks with SQLStates of
        <code class="literal">41000</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Removed static synchronization bottleneck from instance factory
        method of <code class="literal">SingleByteCharsetConverter</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Removed static synchronization bottleneck from
        <code class="literal">PreparedStatement.setTimestamp()</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">ResultSet.findColumn()</code> should use first
        matching column name when there are duplicate column names in
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> query (JDBC-compliance).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">maxRows</code> property would affect internal
        statements, so check it for all statement creation internal to
        the driver, and set to 0 when it is not.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Use constants for SQLStates.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Map charset <code class="literal">ko18_ru</code> to
        <code class="literal">ko18r</code> when connected to MySQL-4.1.0 or newer.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Ensure that <code class="literal">Buffer.writeString()</code> saves room
        for the <code class="literal">\0</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">ArrayIndexOutOfBounds</code> when parameter number
        == number of parameters + 1.
       (<a href="http://bugs.mysql.com/1958" target="_top">Bug#1958</a>)</p></li><li><p>
        Connection property <code class="literal">maxRows</code> not honored.
       (<a href="http://bugs.mysql.com/1933" target="_top">Bug#1933</a>)</p></li><li><p>
        Statements being created too many times in
        <code class="literal">DBMD.extractForeignKeyFromCreateTable()</code>.
       (<a href="http://bugs.mysql.com/1925" target="_top">Bug#1925</a>)</p></li><li><p>
        Support escape sequence {fn convert ... }.
       (<a href="http://bugs.mysql.com/1914" target="_top">Bug#1914</a>)</p></li><li><p>
        Implement <code class="literal">ResultSet.updateClob()</code>.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Autoreconnect code didn't set catalog upon reconnect if it had
        been changed.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> on
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> columns should return
        Java type <code class="literal">Integer</code>.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Added more descriptive error message <code class="literal">Server
        Configuration Denies Access to DataSource</code>, as well as
        retrieval of message from server.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData.isCaseSensitive()</code> returned
        wrong value for
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        columns.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Added <code class="literal">alwaysClearStream</code> connection property,
        which causes the driver to always empty any remaining data on
        the input stream before each query.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getSystemFunction()</code>
        returning bad function <code class="literal">VResultsSion</code>.
       (<a href="http://bugs.mysql.com/1775" target="_top">Bug#1775</a>)</p></li><li><p>
        Foreign Keys column sequence is not consistent in
        <code class="literal">DatabaseMetaData.getImported/Exported/CrossReference()</code>.
       (<a href="http://bugs.mysql.com/1731" target="_top">Bug#1731</a>)</p></li><li><p>
        Fix for <code class="literal">ArrayIndexOutOfBounds</code> exception when
        using <code class="literal">Statement.setMaxRows()</code>.
       (<a href="http://bugs.mysql.com/1695" target="_top">Bug#1695</a>)</p></li><li><p>
        Subsequent call to <code class="literal">ResultSet.updateFoo()</code>
        causes NPE if result set is not updatable.
       (<a href="http://bugs.mysql.com/1630" target="_top">Bug#1630</a>)</p></li><li><p>
        Fix for 4.1.1-style authentication with no password.
       (<a href="http://bugs.mysql.com/1630" target="_top">Bug#1630</a>)</p></li><li><p>
        Cross-database updatable result sets are not checked for
        updatability correctly.
       (<a href="http://bugs.mysql.com/1592" target="_top">Bug#1592</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> should return
        <code class="literal">Types.LONGVARCHAR</code> for MySQL
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> type.
       (<a href="http://bugs.mysql.com/1592" target="_top">Bug#1592</a>)</p></li><li><p>
        Fixed regression of
        <code class="literal">Statement.getGeneratedKeys()</code> and
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements.
       (<a href="http://bugs.mysql.com/1576" target="_top">Bug#1576</a>)</p></li><li><p>
        Barge blobs and split packets not being read correctly.
       (<a href="http://bugs.mysql.com/1576" target="_top">Bug#1576</a>)</p></li><li><p>
        Backported fix for aliased tables and
        <code class="literal">UpdatableResultSets</code> in
        <code class="literal">checkUpdatability()</code> method from 3.1 branch.
       (<a href="http://bugs.mysql.com/1534" target="_top">Bug#1534</a>)</p></li><li><p>
        “<span class="quote">Friendlier</span>” exception message for
        <code class="literal">PacketTooLargeException</code>.
       (<a href="http://bugs.mysql.com/1534" target="_top">Bug#1534</a>)</p></li><li><p>
        Don't count quoted IDs when inside a 'string' in
        <code class="literal">PreparedStatement</code> parsing.
       (<a href="http://bugs.mysql.com/1511" target="_top">Bug#1511</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-9"></a>C.7.4.9. Changes in MySQL Connector/J 3.0.9 (07 October 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.get/setString</code> mashing char 127.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Added property to “<span class="quote">clobber</span>” streaming results, by
        setting the <code class="literal">clobberStreamingResults</code> property
        to <code class="literal">true</code> (the default is
        <code class="literal">false</code>). This will cause a
        “<span class="quote">streaming</span>” <code class="literal">ResultSet</code> to be
        automatically closed, and any oustanding data still streaming
        from the server to be discarded if another query is executed
        before all the data has been read from the server.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.util.BaseBugReport</code> to
        help creation of testcases for bug reports.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Backported authentication changes for 4.1.1 and newer from 3.1
        branch.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Made <code class="literal">databaseName</code>,
        <code class="literal">portNumber</code>, and <code class="literal">serverName</code>
        optional parameters for
        <code class="literal">MysqlDataSourceFactory</code>.
       (<a href="http://bugs.mysql.com/1246" target="_top">Bug#1246</a>)</p></li><li><p>
        Optimized <code class="literal">CLOB.setChracterStream()</code>.
       (<a href="http://bugs.mysql.com/1131" target="_top">Bug#1131</a>)</p></li><li><p>
        Fixed <code class="literal">CLOB.truncate()</code>.
       (<a href="http://bugs.mysql.com/1130" target="_top">Bug#1130</a>)</p></li><li><p>
        Fixed deadlock issue with
        <code class="literal">Statement.setMaxRows()</code>.
       (<a href="http://bugs.mysql.com/1099" target="_top">Bug#1099</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> getting
        confused about the keyword “<span class="quote">set</span>” in character
        columns.
       (<a href="http://bugs.mysql.com/1099" target="_top">Bug#1099</a>)</p></li><li><p>
        Clip +/- INF (to smallest and largest representative values for
        the type in MySQL) and NaN (to 0) for
        <code class="literal">setDouble</code>/<code class="literal">setFloat()</code>, and
        issue a warning on the statement when the server does not
        support +/- INF or NaN.
       (<a href="http://bugs.mysql.com/884" target="_top">Bug#884</a>)</p></li><li><p>
        Don't fire connection closed events when closing pooled
        connections, or on
        <code class="literal">PooledConnection.getConnection()</code> with already
        open connections.
       (<a href="http://bugs.mysql.com/884" target="_top">Bug#884</a>)</p></li><li><p>
        Double-escaping of <code class="literal">'\'</code> when charset is SJIS
        or GBK and <code class="literal">'\'</code> appears in nonescaped input.
       (<a href="http://bugs.mysql.com/879" target="_top">Bug#879</a>)</p></li><li><p>
        When emptying input stream of unused rows for
        “<span class="quote">streaming</span>” result sets, have the current thread
        <code class="literal">yield()</code> every 100 rows in order to not
        monopolize CPU time.
       (<a href="http://bugs.mysql.com/879" target="_top">Bug#879</a>)</p></li><li><p>
        Issue exception on
        <code class="literal">ResultSet.get<em class="replaceable"><code>XXX</code></em>()</code>
        on empty result set (wasn't caught in some cases).
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Don't hide messages from exceptions thrown in I/O layers.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Fixed regression in large split-packet handling.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Better diagnostic error messages in exceptions for
        “<span class="quote">streaming</span>” result sets.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Don't change timestamp TZ twice if
        <code class="literal">useTimezone==true</code>.
       (<a href="http://bugs.mysql.com/774" target="_top">Bug#774</a>)</p></li><li><p>
        Don't wrap <code class="literal">SQLExceptions</code> in
        <code class="literal">RowDataDynamic</code>.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Don't try and reset isolation level on reconnect if MySQL
        doesn't support them.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        The <code class="literal">insertRow</code> in an
        <code class="literal">UpdatableResultSet</code> is now loaded with the
        default column values when <code class="literal">moveToInsertRow()</code>
        is called.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> wasn't
        returning <code class="literal">NULL</code> for default values that are
        specified as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Change default statement type/concurrency to
        <code class="literal">TYPE_FORWARD_ONLY</code> and
        <code class="literal">CONCUR_READ_ONLY</code> (spec compliance).
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Fix <code class="literal">UpdatableResultSet</code> to return values for
        <code class="literal">get<em class="replaceable"><code>XXX</code></em>()</code> when on
        insert row.
       (<a href="http://bugs.mysql.com/675" target="_top">Bug#675</a>)</p></li><li><p>
        Support <code class="literal">InnoDB</code> contraint names when
        extracting foreign key information in
        <code class="literal">DatabaseMetaData</code> (implementing ideas from
        Parwinder Sekhon).
       (<a href="http://bugs.mysql.com/664" target="_top">Bug#664</a>, <a href="http://bugs.mysql.com/517" target="_top">Bug#517</a>)</p></li><li><p>
        Backported 4.1 protocol changes from 3.1 branch (server-side SQL
        states, new field information, larger client capability flags,
        connect-with-database, and so forth).
       (<a href="http://bugs.mysql.com/664" target="_top">Bug#664</a>, <a href="http://bugs.mysql.com/517" target="_top">Bug#517</a>)</p></li><li><p>
        <code class="literal">refreshRow</code> didn't work when primary key
        values contained values that needed to be escaped (they ended up
        being doubly escaped).
       (<a href="http://bugs.mysql.com/661" target="_top">Bug#661</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.previous()</code> behavior to move
        current position to before result set when on first row of
        result set.
       (<a href="http://bugs.mysql.com/496" target="_top">Bug#496</a>)</p></li><li><p>
        Fixed <code class="literal">Statement</code> and
        <code class="literal">PreparedStatement</code> issuing bogus queries when
        <code class="literal">setMaxRows()</code> had been used and a
        <code class="literal">LIMIT</code> clause was present in the query.
       (<a href="http://bugs.mysql.com/496" target="_top">Bug#496</a>)</p></li><li><p>
        Faster date handling code in <code class="literal">ResultSet</code> and
        <code class="literal">PreparedStatement</code> (no longer uses
        <code class="literal">Date</code> methods that synchronize on static
        calendars).
      </p></li><li><p>
        Fixed test for end of buffer in
        <code class="literal">Buffer.readString()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-8"></a>C.7.4.10. Changes in MySQL Connector/J 3.0.8 (23 May 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed SJIS encoding bug, thanks to Naoto Sato.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Fix problem detecting server character set in some cases.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Allow multiple calls to <code class="literal">Statement.close()</code>.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Return correct number of generated keys when using
        <a href="sql-syntax.html#replace" title="12.2.7. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Unicode character 0xFFFF in a string would cause the driver to
        throw an <code class="literal">ArrayOutOfBoundsException</code>. .
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Fix row data decoding error when using <span class="emphasis"><em>very</em></span>
        large packets.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Optimized row data decoding.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Issue exception when operating on an already closed prepared
        statement.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Optimized usage of <code class="literal">EscapeProcessor</code>.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Use JVM charset with file names and <code class="literal">LOAD DATA [LOCAL]
        INFILE</code>.
      </p></li><li><p>
        Fix infinite loop with <code class="literal">Connection.cleanup()</code>.
      </p></li><li><p>
        Changed Ant target <code class="literal">compile-core</code> to
        <code class="literal">compile-driver</code>, and made testsuite
        compilation a separate target.
      </p></li><li><p>
        Fixed result set not getting set for
        <code class="literal">Statement.executeUpdate()</code>, which affected
        <code class="literal">getGeneratedKeys()</code> and
        <code class="literal">getUpdateCount()</code> in some cases.
      </p></li><li><p>
        Return list of generated keys when using multi-value
        <code class="literal">INSERTS</code> with
        <code class="literal">Statement.getGeneratedKeys()</code>.
      </p></li><li><p>
        Allow bogus URLs in <code class="literal">Driver.getPropertyInfo()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-7"></a>C.7.4.11. Changes in MySQL Connector/J 3.0.7 (08 April 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed charset issues with database metadata (charset was not
        getting set correctly).
      </p></li><li><p>
        You can now toggle profiling on/off using
        <code class="literal">Connection.setProfileSql(boolean)</code>.
      </p></li><li><p>
        4.1 Column Metadata fixes.
      </p></li><li><p>
        Fixed <code class="literal">MysqlPooledConnection.close()</code> calling
        wrong event type.
      </p></li><li><p>
        Fixed <code class="literal">StringIndexOutOfBoundsException</code> in
        <code class="literal">PreparedStatement.setClob()</code>.
      </p></li><li><p>
        <code class="literal">IOExceptions</code> during a transaction now cause
        the <code class="literal">Connection</code> to be closed.
      </p></li><li><p>
        Remove synchronization from <code class="literal">Driver.connect()</code>
        and <code class="literal">Driver.acceptsUrl()</code>.
      </p></li><li><p>
        Fixed missing conversion for <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a>
        type in
        <code class="literal">ResultSetMetaData.getColumnTypeName()</code>.
      </p></li><li><p>
        Updatable <code class="literal">ResultSets</code> can now be created for
        aliased tables/columns when connected to MySQL-4.1 or newer.
      </p></li><li><p>
        Fixed <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> bug when file &gt;
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
      </p></li><li><p>
        Don't pick up indexes that start with <code class="literal">pri</code> as
        primary keys for <code class="literal">DBMD.getPrimaryKeys()</code>.
      </p></li><li><p>
        Ensure that packet size from
        <code class="literal">alignPacketSize()</code> does not exceed
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> (JVM bug)
      </p></li><li><p>
        Don't reset <code class="literal">Connection.isReadOnly()</code> when
        autoReconnecting.
      </p></li><li><p>
        Fixed escaping of 0x5c (<code class="literal">'\'</code>) character for
        GBK and Big5 charsets.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getTimestamp()</code> when
        underlying field is of type <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>.
      </p></li><li><p>
        Throw <code class="literal">SQLExceptions</code> when trying to do
        operations on a forcefully closed <code class="literal">Connection</code>
        (that is, when a communication link failure occurs).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-6"></a>C.7.4.12. Changes in MySQL Connector/J 3.0.6 (18 February 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Backported 4.1 charset field info changes from Connector/J 3.1.
      </p></li><li><p>
        Fixed <code class="literal">Statement.setMaxRows()</code> to stop sending
        <code class="literal">LIMIT</code> type queries when not needed
        (performance).
      </p></li><li><p>
        Fixed <code class="literal">DBMD.getTypeInfo()</code> and
        <code class="literal">DBMD.getColumns()</code> returning different value
        for precision in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types.
      </p></li><li><p>
        Fixed <code class="literal">SQLExceptions</code> getting swallowed on
        initial connect.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData</code> to return
        <code class="literal">""</code> when catalog not known. Fixes
        <code class="literal">NullPointerExceptions</code> with Sun's
        <code class="literal">CachedRowSet</code>.
      </p></li><li><p>
        Allow ignoring of warning for “<span class="quote">non transactional
        tables</span>” during rollback (compliance/usability) by setting
        <code class="literal">ignoreNonTxTables</code> property to
        <code class="literal">true</code>.
      </p></li><li><p>
        Clean up <code class="literal">Statement</code> query/method mismatch
        tests (that is, <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> not
        allowed with <code class="literal">.executeQuery()</code>).
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isWritable()</code> to
        return correct value.
      </p></li><li><p>
        More checks added in <code class="literal">ResultSet</code> traversal
        method to catch when in closed state.
      </p></li><li><p>
        Implemented <code class="literal">Blob.setBytes()</code>. You still need
        to pass the resultant <code class="literal">Blob</code> back into an
        updatable <code class="literal">ResultSet</code> or
        <code class="literal">PreparedStatement</code> to persist the changes,
        because MySQL does not support “<span class="quote">locators</span>”.
      </p></li><li><p>
        Add “<span class="quote">window</span>” of different <code class="literal">NULL</code>
        sorting behavior to
        <code class="literal">DBMD.nullsAreSortedAtStart</code> (4.0.2 to 4.0.10,
        true; otherwise, no).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-5"></a>C.7.4.13. Changes in MySQL Connector/J 3.0.5 (22 January 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">ResultSet.isBeforeFirst()</code> for empty
        result sets.
      </p></li><li><p>
        Added missing <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> type to
        <code class="literal">DBMD.getColumns()</code>.
      </p></li><li><p>
        Implemented an empty <code class="literal">TypeMap</code> for
        <code class="literal">Connection.getTypeMap()</code> so that some
        third-party apps work with MySQL (IBM WebSphere 5.0 Connection
        pool).
      </p></li><li><p>
        Added update options for foreign key metadata.
      </p></li><li><p>
        Fixed <code class="literal">Buffer.fastSkipLenString()</code> causing
        <code class="literal">ArrayIndexOutOfBounds</code> exceptions with some
        queries when unpacking fields.
      </p></li><li><p>
        Quote table names in
        <code class="literal">DatabaseMetaData.getColumns()</code>,
        <code class="literal">getPrimaryKeys()</code>,
        <code class="literal">getIndexInfo()</code>,
        <code class="literal">getBestRowIdentifier()</code>.
      </p></li><li><p>
        Retrieve <code class="literal">TX_ISOLATION</code> from database for
        <code class="literal">Connection.getTransactionIsolation()</code> when the
        MySQL version supports it, instead of an instance variable.
      </p></li><li><p>
        Greatly reduce memory required for
        <code class="literal">setBinaryStream()</code> in
        <code class="literal">PreparedStatements</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-4"></a>C.7.4.14. Changes in MySQL Connector/J 3.0.4 (06 January 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Streamlined character conversion and <code class="literal">byte[]</code>
        handling in <code class="literal">PreparedStatements</code> for
        <code class="literal">setByte()</code>.
      </p></li><li><p>
        Fixed <code class="literal">PreparedStatement.executeBatch()</code>
        parameter overwriting.
      </p></li><li><p>
        Added quoted identifiers to database names for
        <code class="literal">Connection.setCatalog</code>.
      </p></li><li><p>
        Added support for 4.0.8-style large packets.
      </p></li><li><p>
        Reduce memory footprint of <code class="literal">PreparedStatements</code>
        by sharing outbound packet with <code class="literal">MysqlIO</code>.
      </p></li><li><p>
        Added <code class="literal">strictUpdates</code> property to allow control
        of amount of checking for “<span class="quote">correctness</span>” of
        updatable result sets. Set this to <code class="literal">false</code> if
        you want faster updatable result sets and you know that you
        create them from <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements on tables with primary keys and that you have
        selected all primary keys in your query.
      </p></li><li><p>
        Added support for quoted identifiers in
        <code class="literal">PreparedStatement</code> parser.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-3"></a>C.7.4.15. Changes in MySQL Connector/J 3.0.3 (17 December 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Allow user to alter behavior of <code class="literal">Statement</code>/
        <code class="literal">PreparedStatement.executeBatch()</code> via
        <code class="literal">continueBatchOnError</code> property (defaults to
        <code class="literal">true</code>).
      </p></li><li><p>
        More robust escape tokenizer: Recognize <code class="literal">--</code>
        comments, and allow nested escape sequences (see
        <code class="literal">testsuite.EscapeProcessingTest</code>).
      </p></li><li><p>
        Fixed <code class="literal">Buffer.isLastDataPacket()</code> for 4.1 and
        newer servers.
      </p></li><li><p>
        <code class="literal">NamedPipeSocketFactory</code> now works (only
        intended for Windows), see <code class="filename">README</code> for
        instructions.
      </p></li><li><p>
        Changed <code class="literal">charsToByte</code> in
        <code class="literal">SingleByteCharConverter</code> to be nonstatic.
      </p></li><li><p>
        Use nonaliased table/column names and database names to fully
        qualify tables and columns in
        <code class="literal">UpdatableResultSet</code> (requires MySQL-4.1 or
        newer).
      </p></li><li><p>
        <code class="literal">LOAD DATA LOCAL INFILE ...</code> now works, if your
        server is configured to allow it. Can be turned off with the
        <code class="literal">allowLoadLocalInfile</code> property (see the
        <code class="filename">README</code>).
      </p></li><li><p>
        Implemented <code class="literal">Connection.nativeSQL()</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getColumnTypeName()</code>
        returning <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types.
      </p></li><li><p>
        Fixed charset handling in <code class="literal">Fields.java</code>.
      </p></li><li><p>
        Because of above, implemented
        <code class="literal">ResultSetMetaData.isAutoIncrement()</code> to use
        <code class="literal">Field.isAutoIncrement()</code>.
      </p></li><li><p>
        Substitute <code class="literal">'?'</code> for unknown character
        conversions in single-byte character sets instead of
        <code class="literal">'\0'</code>.
      </p></li><li><p>
        Added <code class="literal">CLIENT_LONG_FLAG</code> to be able to get more
        column flags (<code class="literal">isAutoIncrement()</code> being the
        most important).
      </p></li><li><p>
        Honor <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        when enabled in the server when doing table name comparisons in
        <code class="literal">DatabaseMetaData</code> methods.
      </p></li><li><p>
        <code class="literal">DBMD.getImported/ExportedKeys()</code> now handles
        multiple foreign keys per table.
      </p></li><li><p>
        More robust implementation of updatable result sets. Checks that
        <span class="emphasis"><em>all</em></span> primary keys of the table have been
        selected.
      </p></li><li><p>
        Some MySQL-4.1 protocol support (extended field info from
        selects).
      </p></li><li><p>
        Check for connection closed in more
        <code class="literal">Connection</code> methods
        (<code class="literal">createStatement</code>,
        <code class="literal">prepareStatement</code>,
        <code class="literal">setTransactionIsolation</code>,
        <code class="literal">setAutoCommit</code>).
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getPrecision()</code>
        returning incorrect values for some floating-point types.
      </p></li><li><p>
        Changed <code class="literal">SingleByteCharConverter</code> to use lazy
        initialization of each converter.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-2"></a>C.7.4.16. Changes in MySQL Connector/J 3.0.2 (08 November 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Implemented <code class="literal">Clob.setString()</code>.
      </p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.MiniAdmin</code> class, which
        allows you to send <code class="literal">shutdown</code> command to MySQL
        server. This is intended to be used when
        “<span class="quote">embedding</span>” Java and MySQL server together in an
        end-user application.
      </p></li><li><p>
        Added SSL support. See <code class="filename">README</code> for
        information on how to use it.
      </p></li><li><p>
        All <code class="literal">DBMD</code> result set columns describing
        schemas now return <code class="literal">NULL</code> to be more compliant
        with the behavior of other JDBC drivers for other database
        systems (MySQL does not support schemas).
      </p></li><li><p>
        Use <a href="sql-syntax.html#show-create-table" title="12.5.5.9. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> when
        possible for determining foreign key information for
        <code class="literal">DatabaseMetaData</code>. Also allows cascade options
        for <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> information to be
        returned.
      </p></li><li><p>
        Implemented <code class="literal">Clob.setCharacterStream()</code>.
      </p></li><li><p>
        Failover and <code class="literal">autoReconnect</code> work only when the
        connection is in an <code class="literal">autoCommit(false)</code> state,
        in order to stay transaction-safe.
      </p></li><li><p>
        Fixed <code class="literal">DBMD.supportsResultSetConcurrency()</code> so
        that it returns <code class="literal">true</code> for
        <code class="literal">ResultSet.TYPE_SCROLL_INSENSITIVE</code> and
        <code class="literal">ResultSet.CONCUR_READ_ONLY</code> or
        <code class="literal">ResultSet.CONCUR_UPDATABLE</code>.
      </p></li><li><p>
        Implemented <code class="literal">Clob.setAsciiStream()</code>.
      </p></li><li><p>
        Removed duplicate code from
        <code class="literal">UpdatableResultSet</code> (it can be inherited from
        <code class="literal">ResultSet</code>, the extra code for each method to
        handle updatability I thought might someday be necessary has not
        been needed).
      </p></li><li><p>
        Fixed <code class="literal">UnsupportedEncodingException</code> thrown
        when “<span class="quote">forcing</span>” a character encoding via properties.
      </p></li><li><p>
        Fixed incorrect conversion in
        <code class="literal">ResultSet.getLong()</code>.
      </p></li><li><p>
        Implemented <code class="literal">ResultSet.updateBlob()</code>.
      </p></li><li><p>
        Removed some not-needed temporary object creation by smarter use
        of <code class="literal">Strings</code> in
        <code class="literal">EscapeProcessor</code>,
        <code class="literal">Connection</code> and
        <code class="literal">DatabaseMetaData</code> classes.
      </p></li><li><p>
        Escape <code class="literal">0x5c</code> character in strings for the SJIS
        charset.
      </p></li><li><p>
        <code class="literal">PreparedStatement</code> now honors stream lengths
        in setBinary/Ascii/Character Stream() unless you set the
        connection property
        <code class="literal">useStreamLengthsInPrepStmts</code> to
        <code class="literal">false</code>.
      </p></li><li><p>
        Fixed issue with updatable result sets and
        <code class="literal">PreparedStatements</code> not working.
      </p></li><li><p>
        Fixed start position off-by-1 error in
        <code class="literal">Clob.getSubString()</code>.
      </p></li><li><p>
        Added <code class="literal">connectTimeout</code> parameter that allows
        users of JDK-1.4 and newer to specify a maximum time to wait to
        establish a connection.
      </p></li><li><p>
        Fixed various non-ASCII character encoding issues.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.isLast()</code> for empty result
        sets (should return <code class="literal">false</code>).
      </p></li><li><p>
        Added driver property <code class="literal">useHostsInPrivileges</code>.
        Defaults to <code class="literal">true</code>. Affects whether or not
        <code class="literal">@hostname</code> will be used in
        <code class="literal">DBMD.getColumn/TablePrivileges</code>.
      </p></li><li><p>
        Fixed
        <code class="literal">ResultSet.setFetchDirection(FETCH_UNKNOWN)</code>.
      </p></li><li><p>
        Added <code class="literal">queriesBeforeRetryMaster</code> property that
        specifies how many queries to issue when failed over before
        attempting to reconnect to the master (defaults to 50).
      </p></li><li><p>
        Fixed issue when calling
        <code class="literal">Statement.setFetchSize()</code> when using arbitrary
        values.
      </p></li><li><p>
        Properly restore connection properties when autoReconnecting or
        failing-over, including <code class="literal">autoCommit</code> state, and
        isolation level.
      </p></li><li><p>
        Implemented <code class="literal">Clob.truncate()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-1"></a>C.7.4.17. Changes in MySQL Connector/J 3.0.1 (21 September 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Charsets now automatically detected. Optimized code for
        single-byte character set conversion.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isSigned()</code> for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>.
      </p></li><li><p>
        Fixed <code class="literal">RowDataStatic.getAt()</code> off-by-one bug.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getRow()</code> off-by-one bug.
      </p></li><li><p>
        Massive code clean-up to follow Java coding conventions (the
        time had come).
      </p></li><li><p>
        Implemented <code class="literal">ResultSet.getCharacterStream()</code>.
      </p></li><li><p>
        Added limited <code class="literal">Clob</code> functionality
        (<code class="literal">ResultSet.getClob()</code>,
        <code class="literal">PreparedStatemtent.setClob()</code>,
        <code class="literal">PreparedStatement.setObject(Clob)</code>.
      </p></li><li><p>
        <code class="literal">Connection.isClosed()</code> no longer
        “<span class="quote">pings</span>” the server.
      </p></li><li><p>
        <code class="literal">Connection.close()</code> issues
        <code class="literal">rollback()</code> when
        <code class="literal">getAutoCommit()</code> is <code class="literal">false</code>.
      </p></li><li><p>
        Added <code class="literal">socketTimeout</code> parameter to URL.
      </p></li><li><p>
        Added <code class="literal">LOCAL TEMPORARY</code> to table types in
        <code class="literal">DatabaseMetaData.getTableTypes()</code>.
      </p></li><li><p>
        Added <code class="literal">paranoid</code> parameter, which sanitizes
        error messages by removing “<span class="quote">sensitive</span>” information
        from them (such as host names, ports, or user names), as well as
        clearing “<span class="quote">sensitive</span>” data structures when possible.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-0"></a>C.7.4.18. Changes in MySQL Connector/J 3.0.0 (31 July 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        General source-code cleanup.
      </p></li><li><p>
        The driver now only works with JDK-1.2 or newer.
      </p></li><li><p>
        Fix and sort primary key names in <code class="literal">DBMetaData</code>
        (SF bugs 582086 and 582086).
      </p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> now works for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> types (SF bug 559134).
      </p></li><li><p>
        Float types now reported as
        <code class="literal">java.sql.Types.FLOAT</code> (SF bug 579573).
      </p></li><li><p>
        Support for streaming (row-by-row) result sets (see
        <code class="filename">README</code>) Thanks to Doron.
      </p></li><li><p>
        Testsuite now uses Junit (which you can get from
        <a href="http://www.junit.org" target="_top">http://www.junit.org</a>.
      </p></li><li><p>
        JDBC Compliance: Passes all tests besides stored procedure
        tests.
      </p></li><li><p>
        <code class="literal">ResultSet.getDate/Time/Timestamp</code> now
        recognizes all forms of invalid values that have been set to all
        zeros by MySQL (SF bug 586058).
      </p></li><li><p>
        Added multi-host failover support (see
        <code class="filename">README</code>).
      </p></li><li><p>
        Repackaging: New driver name is
        <code class="literal">com.mysql.jdbc.Driver</code>, old name still works,
        though (the driver is now provided by MySQL-AB).
      </p></li><li><p>
        Support for large packets (new addition to MySQL-4.0 protocol),
        see <code class="filename">README</code> for more information.
      </p></li><li><p>
        Better checking for closed connections in
        <code class="literal">Statement</code> and
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        Performance improvements in string handling and field metadata
        creation (lazily instantiated) contributed by Alex
        Twisleton-Wykeham-Fiennes.
      </p></li><li><p>
        JDBC-3.0 functionality including
        <code class="literal">Statement/PreparedStatement.getGeneratedKeys()</code>
        and <code class="literal">ResultSet.getURL()</code>.
      </p></li><li><p>
        Overall speed improvements via controlling transient object
        creation in <code class="literal">MysqlIO</code> class when reading
        packets.
      </p></li><li><p>
        <span class="bold"><strong>!!! LICENSE CHANGE !!!</strong></span> The
        driver is now GPL. If you need non-GPL licenses, please contact
        me <code class="literal">&lt;mark@mysql.com&gt;</code>.
      </p></li><li><p>
        Performance enchancements: Driver is now 50–100% faster in
        most situations, and creates fewer temporary objects.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-2-0"></a>C.7.5. Changes in MySQL Connector/J 2.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-2-0-14">C.7.5.1. Changes in MySQL Connector/J 2.0.14 (16 May 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-13">C.7.5.2. Changes in MySQL Connector/J 2.0.13 (24 April 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-12">C.7.5.3. Changes in MySQL Connector/J 2.0.12 (07 April 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-11">C.7.5.4. Changes in MySQL Connector/J 2.0.11 (27 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-10">C.7.5.5. Changes in MySQL Connector/J 2.0.10 (24 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-9">C.7.5.6. Changes in MySQL Connector/J 2.0.9 (13 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-8">C.7.5.7. Changes in MySQL Connector/J 2.0.8 (25 November 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-7">C.7.5.8. Changes in MySQL Connector/J 2.0.7 (24 October 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-6">C.7.5.9. Changes in MySQL Connector/J 2.0.6 (16 June 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-5">C.7.5.10. Changes in MySQL Connector/J 2.0.5 (13 June 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-3">C.7.5.11. Changes in MySQL Connector/J 2.0.3 (03 December 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-1">C.7.5.12. Changes in MySQL Connector/J 2.0.1 (06 April 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre5">C.7.5.13. Changes in MySQL Connector/J 2.0.0pre5 (21 February 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre4">C.7.5.14. Changes in MySQL Connector/J 2.0.0pre4 (10 January 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre">C.7.5.15. Changes in MySQL Connector/J 2.0.0pre (17 August 1999)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-14"></a>C.7.5.1. Changes in MySQL Connector/J 2.0.14 (16 May 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.getDouble()</code> now uses code built
        into JDK to be more precise (but slower).
      </p></li><li><p>
        Fixed typo for <code class="literal">relaxAutoCommit</code> parameter.
      </p></li><li><p>
        <code class="literal">LogicalHandle.isClosed()</code> calls through to
        physical connection.
      </p></li><li><p>
        Added SQL profiling (to <code class="literal">STDERR</code>). Set
        <code class="literal">profileSql=true</code> in your JDBC URL. See
        <code class="filename">README</code> for more information.
      </p></li><li><p>
        <code class="literal">PreparedStatement</code> now releases resources on
        <code class="literal">.close()</code>. (SF bug 553268)
      </p></li><li><p>
        More code cleanup.
      </p></li><li><p>
        Quoted identifiers not used if server version does not support
        them. Also, if server started with
        <a href="server-administration.html#option_mysqld_ansi"><code class="option">--ansi</code></a> or
        <a href="server-administration.html#option_mysqld_sql-mode"><code class="option">--sql-mode=ANSI_QUOTES</code></a>,
        “<span class="quote"><code class="literal">"</code></span>” will be used as an
        identifier quote character, otherwise
        “<span class="quote"><code class="literal">'</code></span>” will be used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-13"></a>C.7.5.2. Changes in MySQL Connector/J 2.0.13 (24 April 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed unicode chars being read incorrectly. (SF bug 541088)
      </p></li><li><p>
        Faster blob escaping for <code class="literal">PrepStmt</code>.
      </p></li><li><p>
        Added <code class="literal">setURL()</code> to
        <code class="literal">MySQLXADataSource</code>. (SF bug 546019)
      </p></li><li><p>
        Added <code class="literal">set</code>/<code class="literal">getPortNumber()</code>
        to <code class="literal">DataSource(s)</code>. (SF bug 548167)
      </p></li><li><p>
        <code class="literal">PreparedStatement.toString()</code> fixed. (SF bug
        534026)
      </p></li><li><p>
        More code cleanup.
      </p></li><li><p>
        Rudimentary version of
        <code class="literal">Statement.getGeneratedKeys()</code> from JDBC-3.0
        now implemented (you need to be using JDK-1.4 for this to work,
        I believe).
      </p></li><li><p>
        <code class="literal">DBMetaData.getIndexInfo()</code> - bad PAGES fixed.
        (SF BUG 542201)
      </p></li><li><p>
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> now
        implemented.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-12"></a>C.7.5.3. Changes in MySQL Connector/J 2.0.12 (07 April 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">testsuite.Traversal</code>
        <code class="literal">afterLast()</code> bug, thanks to Igor Lastric.
      </p></li><li><p>
        Added new types to <code class="literal">getTypeInfo()</code>, fixed
        existing types thanks to Al Davis and Kid Kalanon.
      </p></li><li><p>
        Fixed time zone off-by-1-hour bug in
        <code class="literal">PreparedStatement</code> (538286, 528785).
      </p></li><li><p>
        Added identifier quoting to all
        <code class="literal">DatabaseMetaData</code> methods that need them
        (should fix 518108).
      </p></li><li><p>
        Added support for <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> types
        (51870) to <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.insertRow()</code> should now detect
        auto_increment fields in most cases and use that value in the
        new row. This detection will not work in multi-valued keys,
        however, due to the fact that the MySQL protocol does not return
        this information.
      </p></li><li><p>
        Relaxed synchronization in all classes, should fix 520615 and
        520393.
      </p></li><li><p>
        <code class="literal">DataSources</code> - fixed <code class="literal">setUrl</code>
        bug (511614, 525565), wrong datasource class name (532816,
        528767).
      </p></li><li><p>
        Added support for <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> type
        (533556).
      </p></li><li><p>
        Fixes for <code class="literal">ResultSet</code> updatability in
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        <code class="literal">ResultSet</code>: Fixed updatability (values being
        set to <code class="literal">null</code> if not updated).
      </p></li><li><p>
        Added <code class="literal">getTable/ColumnPrivileges()</code> to DBMD
        (fixes 484502).
      </p></li><li><p>
        Added <code class="literal">getIdleFor()</code> method to
        <code class="literal">Connection</code> and
        <code class="literal">MysqlLogicalHandle</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.refreshRow()</code> implemented.
      </p></li><li><p>
        Fixed <code class="literal">getRow()</code> bug (527165) in
        <code class="literal">ResultSet</code>.
      </p></li><li><p>
        General code cleanup.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-11"></a>C.7.5.4. Changes in MySQL Connector/J 2.0.11 (27 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Full synchronization of <code class="literal">Statement.java</code>.
      </p></li><li><p>
        Fixed missing <code class="literal">DELETE_RULE</code> value in
        <code class="literal">DBMD.getImported/ExportedKeys()</code> and
        <code class="literal">getCrossReference()</code>.
      </p></li><li><p>
        More changes to fix <code class="literal">Unexpected end of input
        stream</code> errors when reading
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values. This should be the
        last fix.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-10"></a>C.7.5.5. Changes in MySQL Connector/J 2.0.10 (24 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed null-pointer-exceptions when using
        <code class="literal">MysqlConnectionPoolDataSource</code> with Websphere
        4 (bug 505839).
      </p></li><li><p>
        Fixed spurious <code class="literal">Unexpected end of input stream</code>
        errors in <code class="literal">MysqlIO</code> (bug 507456).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-9"></a>C.7.5.6. Changes in MySQL Connector/J 2.0.9 (13 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed extra memory allocation in
        <code class="literal">MysqlIO.readPacket()</code> (bug 488663).
      </p></li><li><p>
        Added detection of network connection being closed when reading
        packets (thanks to Todd Lizambri).
      </p></li><li><p>
        Fixed casting bug in <code class="literal">PreparedStatement</code> (bug
        488663).
      </p></li><li><p>
        <code class="literal">DataSource</code> implementations moved to
        <code class="literal">org.gjt.mm.mysql.jdbc2.optional</code> package, and
        (initial) implementations of
        <code class="literal">PooledConnectionDataSource</code> and
        <code class="literal">XADataSource</code> are in place (thanks to Todd
        Wolff for the implementation and testing of
        <code class="literal">PooledConnectionDataSource</code> with IBM WebSphere
        4).
      </p></li><li><p>
        Fixed quoting error with escape processor (bug 486265).
      </p></li><li><p>
        Removed concatenation support from driver (the
        <code class="literal">||</code> operator), as older versions of VisualAge
        seem to be the only thing that use it, and it conflicts with the
        logical <code class="literal">||</code> operator. You will need to start
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with the
        <a href="server-administration.html#option_mysqld_ansi"><code class="option">--ansi</code></a> flag to use the
        <code class="literal">||</code> operator as concatenation (bug 491680).
      </p></li><li><p>
        <span><strong class="command">Ant</strong></span> build was corrupting included
        <code class="filename">jar</code> files, fixed (bug 487669).
      </p></li><li><p>
        Report batch update support through
        <code class="literal">DatabaseMetaData</code> (bug 495101).
      </p></li><li><p>
        Implementation of
        <code class="literal">DatabaseMetaData.getExported/ImportedKeys()</code>
        and <code class="literal">getCrossReference()</code>.
      </p></li><li><p>
        Fixed off-by-one-hour error in
        <code class="literal">PreparedStatement.setTimestamp()</code> (bug
        491577).
      </p></li><li><p>
        Full synchronization on methods modifying instance and
        class-shared references, driver should be entirely thread-safe
        now (please let me know if you have problems).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-8"></a>C.7.5.7. Changes in MySQL Connector/J 2.0.8 (25 November 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">XADataSource</code>/<code class="literal">ConnectionPoolDataSource</code>
        code (experimental)
      </p></li><li><p>
        <code class="literal">DatabaseMetaData.getPrimaryKeys()</code> and
        <code class="literal">getBestRowIdentifier()</code> are now more robust in
        identifying primary keys (matches regardless of case or
        abbreviation/full spelling of <code class="literal">Primary Key</code> in
        <code class="literal">Key_type</code> column).
      </p></li><li><p>
        Batch updates now supported (thanks to some inspiration from
        Daniel Rall).
      </p></li><li><p>
        <code class="literal">PreparedStatement.setAnyNumericType()</code> now
        handles positive exponents correctly (adds <code class="literal">+</code>
        so MySQL can understand it).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-7"></a>C.7.5.8. Changes in MySQL Connector/J 2.0.7 (24 October 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Character sets read from database if
        <code class="literal">useUnicode=true</code> and
        <code class="literal">characterEncoding</code> is not set. (thanks to
        Dmitry Vereshchagin)
      </p></li><li><p>
        Initial transaction isolation level read from database (if
        available). (thanks to Dmitry Vereshchagin)
      </p></li><li><p>
        Fixed <code class="literal">PreparedStatement</code> generating SQL that
        would end up with syntax errors for some queries.
      </p></li><li><p>
        <code class="literal">PreparedStatement.setCharacterStream()</code> now
        implemented
      </p></li><li><p>
        Captialize type names when
        <code class="literal">captializeTypeNames=true</code> is passed in URL or
        properties (for WebObjects. (thanks to Anjo Krank)
      </p></li><li><p>
        <code class="literal">ResultSet.getBlob()</code> now returns
        <code class="literal">null</code> if column value was
        <code class="literal">null</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getPrecision()</code>
        returning one less than actual on newer versions of MySQL.
      </p></li><li><p>
        Fixed dangling socket problem when in high availability
        (<code class="literal">autoReconnect=true</code>) mode, and finalizer for
        <code class="literal">Connection</code> will close any dangling sockets on
        GC.
      </p></li><li><p>
        Fixed time zone issue in
        <code class="literal">PreparedStatement.setTimestamp()</code>. (thanks to
        Erik Olofsson)
      </p></li><li><p>
        PreparedStatement.setDouble() now uses full-precision doubles
        (reverting a fix made earlier to truncate them).
      </p></li><li><p>
        Fixed
        <code class="literal">DatabaseMetaData.supportsTransactions()</code>, and
        <code class="literal">supportsTransactionIsolationLevel()</code> and
        <code class="literal">getTypeInfo()</code>
        <code class="literal">SQL_DATETIME_SUB</code> and
        <code class="literal">SQL_DATA_TYPE</code> fields not being readable.
      </p></li><li><p>
        Updatable result sets now correctly handle
        <code class="literal">NULL</code> values in fields.
      </p></li><li><p>
        PreparedStatement.setBoolean() will use 1/0 for values if your
        MySQL version is 3.21.23 or higher.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.isAfterLast()</code> always
        returning <code class="literal">false</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-6"></a>C.7.5.9. Changes in MySQL Connector/J 2.0.6 (16 June 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">PreparedStatement</code> parameter checking.
      </p></li><li><p>
        Fixed case-sensitive column names in
        <code class="literal">ResultSet.java</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-5"></a>C.7.5.10. Changes in MySQL Connector/J 2.0.5 (13 June 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.insertRow()</code> works now, even if not
        all columns are set (they will be set to
        <code class="literal">NULL</code>).
      </p></li><li><p>
        Added <code class="literal">Byte</code> to
        <code class="literal">PreparedStatement.setObject()</code>.
      </p></li><li><p>
        Fixed data parsing of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>
        values with 2-digit years.
      </p></li><li><p>
        Added <code class="literal">ISOLATION</code> level support to
        <code class="literal">Connection.setIsolationLevel()</code>
      </p></li><li><p>
        <code class="literal">DataBaseMetaData.getCrossReference()</code> no
        longer <code class="literal">ArrayIndexOOB</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.getBoolean()</code> now recognizes
        <code class="literal">-1</code> as <code class="literal">true</code>.
      </p></li><li><p>
        <code class="literal">ResultSet</code> has +/-Inf/inf support.
      </p></li><li><p>
        <code class="literal">getObject()</code> on <code class="literal">ResultSet</code>
        correctly does
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a>-&gt;<code class="literal">Byte</code>
        and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a>-&gt;<code class="literal">Short</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getColumnTypeName</code> for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>/<a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>.
      </p></li><li><p>
        Fixed <code class="literal">ArrayIndexOutOfBounds</code> when sending
        large <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> queries. (Max size
        packet was not being set)
      </p></li><li><p>
        Fixed NPE on
        <code class="literal">PreparedStatement.executeUpdate()</code> when all
        columns have not been set.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getBlob()</code>
        <code class="literal">ArrayIndex</code> out-of-bounds.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-3"></a>C.7.5.11. Changes in MySQL Connector/J 2.0.3 (03 December 2000)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed composite key problem with updatable result sets.
      </p></li><li><p>
        Faster ASCII string operations.
      </p></li><li><p>
        Fixed off-by-one error in <code class="literal">java.sql.Blob</code>
        implementation code.
      </p></li><li><p>
        Fixed incorrect detection of
        <code class="literal">MAX_ALLOWED_PACKET</code>, so sending large blobs
        should work now.
      </p></li><li><p>
        Added detection of -/+INF for doubles.
      </p></li><li><p>
        Added <code class="literal">ultraDevHack</code> URL parameter, set to
        <code class="literal">true</code> to allow (broken) Macromedia UltraDev to
        use the driver.
      </p></li><li><p>
        Implemented <code class="literal">getBigDecimal()</code> without scale
        component for JDBC2.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-1"></a>C.7.5.12. Changes in MySQL Connector/J 2.0.1 (06 April 2000)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Columns that are of type <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> now
        return as <code class="literal">Strings</code> when you use
        <code class="literal">getObject()</code>.
      </p></li><li><p>
        Cleaned up exception handling when driver connects.
      </p></li><li><p>
        Fixed <code class="literal">RSMD.isWritable()</code> returning wrong
        value. Thanks to Moritz Maass.
      </p></li><li><p>
        <code class="literal">DatabaseMetaData.getPrimaryKeys()</code> now works
        correctly with respect to <code class="literal">key_seq</code>. Thanks to
        Brian Slesinsky.
      </p></li><li><p>
        Fixed many JDBC-2.0 traversal, positioning bugs, especially with
        respect to empty result sets. Thanks to Ron Smits, Nick Brook,
        Cessar Garcia and Carlos Martinez.
      </p></li><li><p>
        No escape processing is done on
        <code class="literal">PreparedStatements</code> anymore per JDBC spec.
      </p></li><li><p>
        Fixed some issues with updatability support in
        <code class="literal">ResultSet</code> when using multiple primary keys.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre5"></a>C.7.5.13. Changes in MySQL Connector/J 2.0.0pre5 (21 February 2000)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Bad Handshake problem.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre4"></a>C.7.5.14. Changes in MySQL Connector/J 2.0.0pre4 (10 January 2000)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixes to ResultSet for insertRow() - Thanks to Cesar Garcia
          </p></li><li><p>
            Fix to Driver to recognize JDBC-2.0 by loading a JDBC-2.0
            class, instead of relying on JDK version numbers. Thanks to
            John Baker.
          </p></li><li><p>
            Fixed ResultSet to return correct row numbers
          </p></li><li><p>
            Statement.getUpdateCount() now returns rows matched, instead
            of rows actually updated, which is more SQL-92 like.
          </p></li></ul></div><p>
        10-29-99
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Statement/PreparedStatement.getMoreResults() bug fixed.
            Thanks to Noel J. Bergman.
          </p></li><li><p>
            Added Short as a type to PreparedStatement.setObject().
            Thanks to Jeff Crowder
          </p></li><li><p>
            Driver now automagically configures maximum/preferred packet
            sizes by querying server.
          </p></li><li><p>
            Autoreconnect code uses fast ping command if server supports
            it.
          </p></li><li><p>
            Fixed various bugs with respect to packet sizing when
            reading from the server and when alloc'ing to write to the
            server.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre"></a>C.7.5.15. Changes in MySQL Connector/J 2.0.0pre (17 August 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Now compiles under JDK-1.2. The driver supports both JDK-1.1
            and JDK-1.2 at the same time through a core set of classes.
            The driver will load the appropriate interface classes at
            runtime by figuring out which JVM version you are using.
          </p></li><li><p>
            Fixes for result sets with all nulls in the first row.
            (Pointed out by Tim Endres)
          </p></li><li><p>
            Fixes to column numbers in SQLExceptions in ResultSet
            (Thanks to Blas Rodriguez Somoza)
          </p></li><li><p>
            The database no longer needs to specified to connect.
            (Thanks to Christian Motschke)
          </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-1-2b"></a>C.7.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Better Documentation (in progress), in doc/mm.doc/book1.html
        </p></li><li><p>
          DBMD now allows null for a column name pattern (not in spec),
          which it changes to '%'.
        </p></li><li><p>
          DBMD now has correct types/lengths for getXXX().
        </p></li><li><p>
          ResultSet.getDate(), getTime(), and getTimestamp() fixes.
          (contributed by Alan Wilken)
        </p></li><li><p>
          EscapeProcessor now handles \{ \} and { or } inside quotes
          correctly. (thanks to Alik for some ideas on how to fix it)
        </p></li><li><p>
          Fixes to properties handling in Connection. (contributed by
          Juho Tikkala)
        </p></li><li><p>
          ResultSet.getObject() now returns null for NULL columns in the
          table, rather than bombing out. (thanks to Ben Grosman)
        </p></li><li><p>
          ResultSet.getObject() now returns Strings for types from MySQL
          that it doesn't know about. (Suggested by Chris Perdue)
        </p></li><li><p>
          Removed DataInput/Output streams, not needed, 1/2 number of
          method calls per IO operation.
        </p></li><li><p>
          Use default character encoding if one is not specified. This
          is a work-around for broken JVMs, because according to spec,
          EVERY JVM must support "ISO8859_1", but they do not.
        </p></li><li><p>
          Fixed Connection to use the platform character encoding
          instead of "ISO8859_1" if one isn't explicitly set. This fixes
          problems people were having loading the character- converter
          classes that didn't always exist (JVM bug). (thanks to Fritz
          Elfert for pointing out this problem)
        </p></li><li><p>
          Changed MysqlIO to re-use packets where possible to reduce
          memory usage.
        </p></li><li><p>
          Fixed escape-processor bugs pertaining to {} inside quotes.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-1-0"></a>C.7.7. Changes in MySQL Connector/J 1.2.x and lower</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-1-2a">C.7.7.1. Changes in MySQL Connector/J 1.2a (14 April 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1i">C.7.7.2. Changes in MySQL Connector/J 1.1i (24 March 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1h">C.7.7.3. Changes in MySQL Connector/J 1.1h (08 March 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1g">C.7.7.4. Changes in MySQL Connector/J 1.1g (19 February 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1f">C.7.7.5. Changes in MySQL Connector/J 1.1f (31 December 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1b">C.7.7.6. Changes in MySQL Connector/J 1.1b (03 November 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1">C.7.7.7. Changes in MySQL Connector/J 1.1 (02 September 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-0">C.7.7.8. Changes in MySQL Connector/J 1.0 (24 August 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-9d">C.7.7.9. Changes in MySQL Connector/J 0.9d (04 August 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-9">C.7.7.10. Changes in MySQL Connector/J 0.9 (28 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-8">C.7.7.11. Changes in MySQL Connector/J 0.8 (06 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-7">C.7.7.12. Changes in MySQL Connector/J 0.7 (01 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-6">C.7.7.13. Changes in MySQL Connector/J 0.6 (21 May 1998)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-2a"></a>C.7.7.1. Changes in MySQL Connector/J 1.2a (14 April 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed character-set support for non-Javasoft JVMs (thanks to
            many people for pointing it out)
          </p></li><li><p>
            Fixed ResultSet.getBoolean() to recognize 'y' &amp; 'n' as
            well as '1' &amp; '0' as boolean flags. (thanks to Tim
            Pizey)
          </p></li><li><p>
            Fixed ResultSet.getTimestamp() to give better performance.
            (thanks to Richard Swift)
          </p></li><li><p>
            Fixed getByte() for numeric types. (thanks to Ray Bellis)
          </p></li><li><p>
            Fixed DatabaseMetaData.getTypeInfo() for DATE type. (thanks
            to Paul Johnston)
          </p></li><li><p>
            Fixed EscapeProcessor for "fn" calls. (thanks to Piyush Shah
            at locomotive.org)
          </p></li><li><p>
            Fixed EscapeProcessor to not do extraneous work if there are
            no escape codes. (thanks to Ryan Gustafson)
          </p></li><li><p>
            Fixed Driver to parse URLs of the form
            "jdbc:mysql://host:port" (thanks to Richard Lobb)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1i"></a>C.7.7.2. Changes in MySQL Connector/J 1.1i (24 March 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Timestamps for PreparedStatements
          </p></li><li><p>
            Fixed null pointer exceptions in RSMD and RS
          </p></li><li><p>
            Re-compiled with jikes for valid class files (thanks ms!)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1h"></a>C.7.7.3. Changes in MySQL Connector/J 1.1h (08 March 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed escape processor to deal with unmatched { and }
            (thanks to Craig Coles)
          </p></li><li><p>
            Fixed escape processor to create more portable (between
            DATETIME and TIMESTAMP types) representations so that it
            will work with BETWEEN clauses. (thanks to Craig Longman)
          </p></li><li><p>
            MysqlIO.quit() now closes the socket connection. Before,
            after many failed connections some OS's would run out of
            file descriptors. (thanks to Michael Brinkman)
          </p></li><li><p>
            Fixed NullPointerException in Driver.getPropertyInfo.
            (thanks to Dave Potts)
          </p></li><li><p>
            Fixes to MysqlDefs to allow all *text fields to be retrieved
            as Strings. (thanks to Chris at Leverage)
          </p></li><li><p>
            Fixed setDouble in PreparedStatement for large numbers to
            avoid sending scientific notation to the database. (thanks
            to J.S. Ferguson)
          </p></li><li><p>
            Fixed getScale() and getPrecision() in RSMD. (contrib'd by
            James Klicman)
          </p></li><li><p>
            Fixed getObject() when field was DECIMAL or NUMERIC (thanks
            to Bert Hobbs)
          </p></li><li><p>
            DBMD.getTables() bombed when passed a null table-name
            pattern. Fixed. (thanks to Richard Lobb)
          </p></li><li><p>
            Added check for "client not authorized" errors during
            connect. (thanks to Hannes Wallnoefer)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1g"></a>C.7.7.4. Changes in MySQL Connector/J 1.1g (19 February 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Result set rows are now byte arrays. Blobs and Unicode work
            bidriectonally now. The useUnicode and encoding options are
            implemented now.
          </p></li><li><p>
            Fixes to PreparedStatement to send binary set by
            setXXXStream to be sent untouched to the MySQL server.
          </p></li><li><p>
            Fixes to getDriverPropertyInfo().
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1f"></a>C.7.7.5. Changes in MySQL Connector/J 1.1f (31 December 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Changed all ResultSet fields to Strings, this should allow
            Unicode to work, but your JVM must be able to convert
            between the character sets. This should also make reading
            data from the server be a bit quicker, because there is now
            no conversion from StringBuffer to String.
          </p></li><li><p>
            Changed PreparedStatement.streamToString() to be more
            efficient (code from Uwe Schaefer).
          </p></li><li><p>
            URL parsing is more robust (throws SQL exceptions on errors
            rather than NullPointerExceptions)
          </p></li><li><p>
            PreparedStatement now can convert Strings to Time/Date
            values via setObject() (code from Robert Currey).
          </p></li><li><p>
            IO no longer hangs in Buffer.readInt(), that bug was
            introduced in 1.1d when changing to all byte-arrays for
            result sets. (Pointed out by Samo Login)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1b"></a>C.7.7.6. Changes in MySQL Connector/J 1.1b (03 November 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixes to DatabaseMetaData to allow both IBM VA and J-Builder
            to work. Let me know how it goes. (thanks to Jac Kersing)
          </p></li><li><p>
            Fix to ResultSet.getBoolean() for NULL strings (thanks to
            Barry Lagerweij)
          </p></li><li><p>
            Beginning of code cleanup, and formatting. Getting ready to
            branch this off to a parallel JDBC-2.0 source tree.
          </p></li><li><p>
            Added "final" modifier to critical sections in MysqlIO and
            Buffer to allow compiler to inline methods for speed.
          </p></li></ul></div><p>
        9-29-98
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            If object references passed to setXXX() in PreparedStatement
            are null, setNull() is automatically called for you. (Thanks
            for the suggestion goes to Erik Ostrom)
          </p></li><li><p>
            setObject() in PreparedStatement will now attempt to write a
            serialized representation of the object to the database for
            objects of Types.OTHER and objects of unknown type.
          </p></li><li><p>
            Util now has a static method readObject() which given a
            ResultSet and a column index will re-instantiate an object
            serialized in the above manner.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1"></a>C.7.7.7. Changes in MySQL Connector/J 1.1 (02 September 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Got rid of "ugly hack" in MysqlIO.nextRow(). Rather than
            catch an exception, Buffer.isLastDataPacket() was fixed.
          </p></li><li><p>
            Connection.getCatalog() and Connection.setCatalog() should
            work now.
          </p></li><li><p>
            Statement.setMaxRows() works, as well as setting by property
            maxRows. Statement.setMaxRows() overrides maxRows set via
            properties or url parameters.
          </p></li><li><p>
            Automatic re-connection is available. Because it has to
            "ping" the database before each query, it is turned off by
            default. To use it, pass in "autoReconnect=true" in the
            connection URL. You may also change the number of reconnect
            tries, and the initial timeout value via "maxReconnects=n"
            (default 3) and "initialTimeout=n" (seconds, default 2)
            parameters. The timeout is an exponential backoff type of
            timeout; for example, if you have initial timeout of 2
            seconds, and maxReconnects of 3, then the driver will
            timeout 2 seconds, 4 seconds, then 16 seconds between each
            re-connection attempt.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-0"></a>C.7.7.8. Changes in MySQL Connector/J 1.0 (24 August 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed handling of blob data in Buffer.java
          </p></li><li><p>
            Fixed bug with authentication packet being sized too small.
          </p></li><li><p>
            The JDBC Driver is now under the LPGL
          </p></li></ul></div><p>
        8-14-98
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Buffer.readLenString() to correctly read data for
            BLOBS.
          </p></li><li><p>
            Fixed PreparedStatement.stringToStream to correctly read
            data for BLOBS.
          </p></li><li><p>
            Fixed PreparedStatement.setDate() to not add a day. (above
            fixes thanks to Vincent Partington)
          </p></li><li><p>
            Added URL parameter parsing (?user=... and so forth).
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-9d"></a>C.7.7.9. Changes in MySQL Connector/J 0.9d (04 August 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Big news! New package name. Tim Endres from ICE Engineering
            is starting a new source tree for GNU GPL'd Java software.
            He's graciously given me the org.gjt.mm package directory to
            use, so now the driver is in the org.gjt.mm.mysql package
            scheme. I'm "legal" now. Look for more information on Tim's
            project soon.
          </p></li><li><p>
            Now using dynamically sized packets to reduce memory usage
            when sending commands to the DB.
          </p></li><li><p>
            Small fixes to getTypeInfo() for parameters, and so forth.
          </p></li><li><p>
            DatabaseMetaData is now fully implemented. Let me know if
            these drivers work with the various IDEs out there. I've
            heard that they're working with JBuilder right now.
          </p></li><li><p>
            Added JavaDoc documentation to the package.
          </p></li><li><p>
            Package now available in .zip or .tar.gz.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-9"></a>C.7.7.10. Changes in MySQL Connector/J 0.9 (28 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Implemented getTypeInfo(). Connection.rollback() now throws
            an SQLException per the JDBC spec.
          </p></li><li><p>
            Added PreparedStatement that supports all JDBC API methods
            for PreparedStatement including InputStreams. Please check
            this out and let me know if anything is broken.
          </p></li><li><p>
            Fixed a bug in ResultSet that would break some queries that
            only returned 1 row.
          </p></li><li><p>
            Fixed bugs in DatabaseMetaData.getTables(),
            DatabaseMetaData.getColumns() and
            DatabaseMetaData.getCatalogs().
          </p></li><li><p>
            Added functionality to Statement that allows executeUpdate()
            to store values for IDs that are automatically generated for
            AUTO_INCREMENT fields. Basically, after an executeUpdate(),
            look at the SQLWarnings for warnings like "LAST_INSERTED_ID
            = 'some number', COMMAND = 'your SQL query'". If you are
            using AUTO_INCREMENT fields in your tables and are executing
            a lot of executeUpdate()s on one Statement, be sure to
            clearWarnings() every so often to save memory.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-8"></a>C.7.7.11. Changes in MySQL Connector/J 0.8 (06 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Split MysqlIO and Buffer to separate classes. Some
            ClassLoaders gave an IllegalAccess error for some fields in
            those two classes. Now mm.mysql works in applets and all
            classloaders. Thanks to Joe Ennis &lt;jce@mail.boone.com&gt;
            for pointing out the problem and working on a fix with me.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-7"></a>C.7.7.12. Changes in MySQL Connector/J 0.7 (01 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed DatabaseMetadata problems in getColumns() and bug in
            switch statement in the Field constructor. Thanks to Costin
            Manolache &lt;costin@tdiinc.com&gt; for pointing these out.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-6"></a>C.7.7.13. Changes in MySQL Connector/J 0.6 (21 May 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Incorporated efficiency changes from Richard Swift
            &lt;Richard.Swift@kanatek.ca&gt; in
            <code class="literal">MysqlIO.java</code> and
            <code class="literal">ResultSet.java</code>:
          </p></li><li><p>
            We're now 15% faster than gwe's driver.
          </p></li><li><p>
            Started working on <code class="literal">DatabaseMetaData</code>.
          </p></li><li><p>
            The following methods are implemented:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="function">getTables()</code>
              </p></li><li><p>
                <code class="function">getTableTypes()</code>
              </p></li><li><p>
                <code class="function">getColumns()</code>
              </p></li><li><p>
                <code class="function">getCatalogs()</code>
              </p></li></ul></div></li></ul></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-connector-mxj"></a>C.8. MySQL Connector/MXJ Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-6">C.8.1. Changes in MySQL Connector/MXJ 5.0.6 (04 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-5">C.8.2. Changes in MySQL Connector/MXJ 5.0.5 (14 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-4">C.8.3. Changes in MySQL Connector/MXJ 5.0.4 (28 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-3">C.8.4. Changes in MySQL Connector/MXJ 5.0.3 (24 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-2">C.8.5. Changes in MySQL Connector/MXJ 5.0.2 (15 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-1">C.8.6. Changes in MySQL Connector/MXJ 5.0.1 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-0">C.8.7. Changes in MySQL Connector/MXJ 5.0.0 (09 December 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-6"></a>C.8.1. Changes in MySQL Connector/MXJ 5.0.6 (04 May 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Updated internal jar file names to include version information
        and be more consistent with Connector/J jar naming. For example,
        <code class="filename">connector-mxj.jar</code> is now
        <code class="filename">mysql-connector-mxj-${mxj-version}.jar</code>.
      </p></li><li><p>
        Updated commercial license files.
      </p></li><li><p>
        Added copyright notices to some classes which were missing them.
      </p></li><li><p>
        Added <code class="classname">InitializeUser</code> and
        <code class="classname">QueryUtil</code> classes to support new feature.
      </p></li><li><p>
        Added new tests for initial-user &amp; expanded some existing
        tests.
      </p></li><li><p>
        <code class="classname">ConnectorMXJUrlTestExample</code> and
        <code class="classname">ConnectorMXJObjectTestExample</code> now
        demonstrate the initialization of user/password and creating the
        initial database (rather than using "test").
      </p></li><li><p>
        Added new connection property <code class="option">initialize-user</code>
        which, if set to <code class="literal">true</code> will remove the
        default, un-passworded anonymous and root users, and create the
        user/password from the connection url.
      </p></li><li><p>
        Removed obsolete field
        <code class="literal">SimpleMysqldDynamicMBean.lastInvocation</code>.
      </p></li><li><p>
        Clarified code in <code class="literal">DefaultsMap.entrySet()</code>.
      </p></li><li><p>
        Removed obsolete
        <code class="filename">PatchedStandardSocketFactory</code> java file.
      </p></li><li><p>
        Added <code class="literal">main(String[])</code> to
        <code class="filename">com/mysql/management/AllTestsSuite.java</code>.
      </p></li><li><p>
        Errors reading <code class="literal">portFile</code> are now reported
        using <code class="literal">stacktrace(err)</code>, previously
        <code class="literal">System.err</code> was used.
      </p></li><li><p>
        <code class="literal">portFile</code> now contains a new-line to be
        consistent with <code class="literal">pidFile</code>.
      </p></li><li><p>
        Fixed where <code class="methodname">versionString.trim()</code> was
        ignored.
      </p></li><li><p>
        Removed references to <code class="classname">File.deleteOnExit</code>,
        a warning is printed instead.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Changed tests to shutdown mysqld prior to deleting files.
      </p></li><li><p>
        Fixed port file to always be writen to datadir.
      </p></li><li><p>
        Added os.name-os.arch to resource directory mapping properties
        file.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.40.
      </p></li><li><p>
        Delete <code class="literal">portFile</code> on shutdown.
      </p></li><li><p>
        Moved <code class="literal">platform-map.properties</code> into
        <code class="filename">db-files.jar</code>.
      </p></li><li><p>
        Clarified the startup max wait numbers.
      </p></li><li><p>
        Updated <code class="filename">build.xml</code> in preperation for next
        beta build.
      </p></li><li><p>
        Removed <code class="literal">use-default-architecture</code> property
        replaced.
      </p></li><li><p>
        Added null-check to deal with C/MXJ being loaded by the
        bootstrap classloaders with JVMs for which
        <code class="function">getClassLoader()</code> returns null.
      </p></li><li><p>
        Added robustness around reading portfile.
      </p></li><li><p>
        Removed <code class="literal">PatchedStandardSocketFactory</code> (fixed
        in Connetor/J 5.0.6).
      </p></li><li><p>
        Refactored duplication from tests and examples to
        <code class="classname">QueryUtil</code>.
      </p></li><li><p>
        Removed obsolete
        <code class="classname">InitializePasswordExample</code>
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-5"></a>C.8.2. Changes in MySQL Connector/MXJ 5.0.5 (14 March 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Moved <code class="literal">MysqldFactory</code> to main package.
      </p></li><li><p>
        Reformatting: Added newlines some files which did not end in
        them.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.36.
      </p></li><li><p>
        Found and removed dynamic linking in mysql_kill; updated
        solution.
      </p></li><li><p>
        Changed protected constructor of
        <code class="literal">SimpleMysqldDynamicMBean</code> from taking a
        <code class="literal">MysqldResource</code> to taking a
        <code class="literal">MysqldFactory</code>, in order to lay groundwork for
        addressing BUG discovered by Andrew Rubinger. See:
        <a href="http://forums.mysql.com/read.php?39,143046,143046#msg-143046" target="_top">MySQL
        Forums</a> (Actual testing with JBoss, and filing a bug, is
        still required.)
      </p></li><li><p>
        <code class="filename">build.xml</code>: <code class="literal">usage</code> now
        slightly more verbose; some reformatting.
      </p></li><li><p>
        Now incoporates Reggie Bernett's
        <code class="literal">SafeTerminateProcess</code> and only calls the
        unsafe TerminateProcess as a final last resort.
      </p></li><li><p>
        New windows <code class="filename">kill.exe</code> fixes bug where mysqld
        was being force terminated. Issue reported by bruno haleblian
        and others, see:
        <a href="http://forums.mysql.com/read.php?39,140623,140623#msg-140623" target="_top">MySQL
        Forums</a>.
      </p></li><li><p>
        Replaced <code class="literal">Boolean.parseBoolean</code> with JDK 1.4
        compliant <code class="literal">valueOf</code>.
      </p></li><li><p>
        Changed <code class="literal">connector-mxj.properties</code> default
        mysql version to 5.0.37.
      </p></li><li><p>
        In testing so far mysqld reliably shuts down cleanly much
        faster.
      </p></li><li><p>
        Added testcase to
        <code class="literal">com.mysql.management.jmx.AcceptanceTest</code> which
        demonstrats that <code class="literal">dataDir</code> is a mutable MBean
        property.
      </p></li><li><p>
        Updated <code class="literal">build.xml</code> in prep for next release.
      </p></li><li><p>
        Changed <code class="literal">SimpleMysqldDynamicMBean</code> to create
        <code class="literal">MysqldResource</code> on demand in order to allow
        setting of <code class="filename">datadir</code>. (Rubinger bug
        groundwork).
      </p></li><li><p>
        Clarified the synchronization of
        <code class="literal">MysqldResource</code> methods.
      </p></li><li><p>
        <code class="literal">SIGHUP</code> is replaced with
        <code class="literal">MySQLShutdown&lt;PID&gt;</code> event.
      </p></li><li><p>
        Clarified the immutability of <code class="literal">baseDir</code>,
        <code class="literal">dataDir</code>, <code class="literal">pidFile</code>,
        <code class="literal">portFile</code>.
      </p></li><li><p>
        Added 5.1.15 binaries to the repository.
      </p></li><li><p>
        Removed 5.1.14 binaries from the repository.
      </p></li><li><p>
        Added <code class="literal">getDataDir()</code> to interface
        <code class="literal">MysqldResourceI</code>.
      </p></li><li><p>
        Added 5.1.14 binaries to repository.
      </p></li><li><p>
        Replaced windows <a href="sql-syntax.html#kill" title="12.5.6.3. KILL Syntax"><span><strong class="command">kill.exe</strong></span></a> resource with
        re-written version specific to mysqld.
      </p></li><li><p>
        Added Patched <code class="literal">StandardSocketFactory</code> from
        Connector/J 5-0 HEAD.
      </p></li><li><p>
        Ensured 5.1.14 compatibility.
      </p></li><li><p>
        Swapped out gpl binaries for v5.0.37.
      </p></li><li><p>
        Removed 5.0.22 binaries from the repository.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-4"></a>C.8.3. Changes in MySQL Connector/MXJ 5.0.4 (28 January 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Allow multiple calls to start server from URL connection on
        non-3306 port.
       (<a href="http://bugs.mysql.com/24004" target="_top">Bug#24004</a>)</p></li><li><p>
        Updated <code class="filename">build.xml</code> to build to handle with
        different gpl and commercial mysld version numbers.
      </p></li><li><p>
        Only populate the options map from the help text if specifically
        requested or in the MBean case.
      </p></li><li><p>
        Introduced property for Linux &amp; WinXX to default to 32bit
        versions.
      </p></li><li><p>
        Swapped out gpl binaries for v5.0.27.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.32.
      </p></li><li><p>
        Moved mysqld binary resourced into separate jar file NOTICE:
        <code class="literal">CLASSPATH</code> will now need to
        <code class="filename">connector-mxj-db-files.jar</code>.
      </p></li><li><p>
        Minor test robustness improvements.
      </p></li><li><p>
        Moved default version string out of java class into a text
        editable properties file
        (<code class="literal">connector-mxj.properties</code>) in the resources
        directory.
      </p></li><li><p>
        Fixed test to be tollerant of <code class="filename">/tmp</code> being a
        symlink to <code class="filename">/foo/tmp</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-3"></a>C.8.4. Changes in MySQL Connector/MXJ 5.0.3 (24 June 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Removed unused imports, formatted code, made minor edits to
        tests.
      </p></li><li><p>
        Removed "TeeOutputStream" - no longer needed.
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.22.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-2"></a>C.8.5. Changes in MySQL Connector/MXJ 5.0.2 (15 June 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Replaced string parsing with JDBC connection attempt for
        determining if a mysqld is "ready for connections"
        <code class="literal">CLASSPATH</code> will now need to include
        Connector/J jar.
      </p></li><li><p>
        "platform" directories replace spaces with underscores
      </p></li><li><p>
        extracted array and list printing to ListToString utility class
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.21
      </p></li><li><p>
        Added trace level logging with Aspect/J.
        <code class="literal">CLASSPATH</code> will now need to include
        <code class="literal">lib/aspectjrt.jar</code>
      </p></li><li><p>
        reformatted code
      </p></li><li><p>
        altered to be "basedir" rather than "port" oriented.
      </p></li><li><p>
        help parsing test reflects current help options
      </p></li><li><p>
        insulated users from problems with "." in basedir
      </p></li><li><p>
        swapped out the mysqld binaries for MySQL v5.0.18
      </p></li><li><p>
        Made tests more robust be deleting the /tmp/test-c.mxj directory
        before running tests.
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown API change: now takes File
        parameter (basedir) instead of port.
      </p></li><li><p>
        socket is now "mysql.sock" in datadir
      </p></li><li><p>
        added ability to specify "mysql-version" as an url parameter
      </p></li><li><p>
        Extended timeout for help string parsing, to avoid cases where
        the help text was getting prematurely flushed, and thus
        truncated.
      </p></li><li><p>
        swapped out the mysqld binaries for MySQL v5.0.19
      </p></li><li><p>
        MysqldResource now tied to dataDir as well as basedir (API
        CHANGE)
      </p></li><li><p>
        moved PID file into datadir
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown now works across JVMs.
      </p></li><li><p>
        extracted splitLines(String) to Str utility class
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown(port) no longer throws,
        only reports to System.err
      </p></li><li><p>
        ServerLauncherSocketFactory now treats URL parameters in the
        form of <code class="literal">&amp;server.foo=null</code> as
        <code class="literal">serverOptionMap.put("foo", null)</code>
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown API change: now takes 2
        File parameters (basedir, datadir)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-1"></a>C.8.6. Changes in MySQL Connector/MXJ 5.0.1 (Never released)</h3></div></div></div><p>
        This was an internal only release.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-0"></a>C.8.7. Changes in MySQL Connector/MXJ 5.0.0 (09 December 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Removed HelpOptionsParser's need to reference a MysqldResource.
      </p></li><li><p>
        Reorganized utils into a single "Utils" collaborator.
      </p></li><li><p>
        Minor test tweaks
      </p></li><li><p>
        Altered examples and tests to use new Connector/J 5.0 URL syntax
        for launching Connector/MXJ ("jdbc:mysql:mxj://")
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.16.
      </p></li><li><p>
        Ditched "ClassUtil" (merged with Str).
      </p></li><li><p>
        Minor refactorings for type casting and exception handling.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-proxy-news"></a>C.9. MySQL Proxy Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mysql-proxy-news-0-8-0">C.9.1. Changes in MySQL Proxy 0.8.0 (Not Yet Released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-3">C.9.2. Changes in MySQL Proxy 0.7.3 (Not Yet Released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-2">C.9.3. Changes in MySQL Proxy 0.7.2 (30 June 2009)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-1">C.9.4. Changes in MySQL Proxy 0.7.1 (15 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-0">C.9.5. Changes in MySQL Proxy 0.7.0 (Never Released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-1">C.9.6. Changes in MySQL Proxy 0.6.1 (06 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-0">C.9.7. Changes in MySQL Proxy 0.6.0 (11 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-1">C.9.8. Changes in MySQL Proxy 0.5.1 (30 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-0">C.9.9. Changes in MySQL Proxy 0.5.0 (19 June 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-8-0"></a>C.9.1. Changes in MySQL Proxy 0.8.0 (Not Yet Released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL Proxy could stop accepting network packets if a large
        number of packets were sent to the proxy. The listen queue has
        been extended to allow a larger backlog.
       (<a href="http://bugs.mysql.com/45878" target="_top">Bug#45878</a>, <a href="http://bugs.mysql.com/43278" target="_top">Bug#43278</a>)</p></li><li><p>
        Due to a memory leak, memory usage for each uniqute connection
        to the proxy would increase, leading to very high consumption.
       (<a href="http://bugs.mysql.com/45272" target="_top">Bug#45272</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-7-3"></a>C.9.2. Changes in MySQL Proxy 0.7.3 (Not Yet Released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        It was possible for the MySQL Proxy to incorrectly insert null
        values into the returned result set, even though non-null values
        were returned in the original query.
       (<a href="http://bugs.mysql.com/35729" target="_top">Bug#35729</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-7-2"></a>C.9.3. Changes in MySQL Proxy 0.7.2 (30 June 2009)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using MySQL Proxy on Windows, the required modules may not
        be found properly during initialization. The core code has now
        been updated to find the components correctly, and the Lua-based
        C modules are prefixed with <code class="literal">lua-</code> and Lua
        plugins with <code class="literal">plugin-</code>.
       (<a href="http://bugs.mysql.com/45833" target="_top">Bug#45833</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-7-1"></a>C.9.4. Changes in MySQL Proxy 0.7.1 (15 May 2009)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Due to a memory leak, memory usage for each uniqute connection
        to the proxy would increase, leading to very high consumption.
       (<a href="http://bugs.mysql.com/45272" target="_top">Bug#45272</a>)</p></li><li><p>
        The port number reported in
        <code class="literal">proxy.connection.client.address</code> would be
        reported incorrectly.
       (<a href="http://bugs.mysql.com/43313" target="_top">Bug#43313</a>)</p></li><li><p>
        Result sets with more than 250 fields could cause MySQL Proxy to
        crash.
       (<a href="http://bugs.mysql.com/43078" target="_top">Bug#43078</a>)</p></li><li><p>
        MySQL Proxy would be unable to increase it's own maximum number
        of open files accorindg to the applied limit, if the limit was
        less than 8192. When set to debug level, MySQL Proxy will now
        report the open files limits and when the limits have been
        updated.
       (<a href="http://bugs.mysql.com/42783" target="_top">Bug#42783</a>)</p></li><li><p>
        When connecting to a MySQL 4.0 server, the proxy would crash.
        You are now provided with an error message.
       (<a href="http://bugs.mysql.com/38601" target="_top">Bug#38601</a>)</p></li><li><p>
        When using the <code class="filename">rw-splitting.lua</code> script you
        could get an error when talking to the backend server:
      </p><pre class="programlisting">2008-07-28 18:00:30: (critical) (read_query) [string
"/usr/local/share/mysql-proxy/rw-splitting.l..."]:218: bad argument #1 to 'ipairs' (table
expected, got userdata)</pre><p>
        This would lead to the proxy closing the connection to the
        configured MySQL backend.
       (<a href="http://bugs.mysql.com/38419" target="_top">Bug#38419</a>)</p></li><li><p>
        When using MySQL Proxy with multiple backends, the failure of
        one backend would cause proxy to disconnect all backends and
        stop routing requests.
       (<a href="http://bugs.mysql.com/34793" target="_top">Bug#34793</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-7-0"></a>C.9.5. Changes in MySQL Proxy 0.7.0 (Never Released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Accessing <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> using a client or
        backend with a MySQL protocol less than MySQL 5.0 would result
        in <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> aborting with an assertion.
        This is because <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> only supports
        MySQL Protocol 5.0 or higher. The proxy will now report a fault.
       (<a href="http://bugs.mysql.com/31419" target="_top">Bug#31419</a>)</p></li><li><p>
        MySQL Proxy would be configured with the
        <code class="literal">LUA_PATH</code> and <code class="literal">LUA_CPATH</code>n
        directory locations according to the build, not execution, host.
        In addition, during installation, certain Lua source files could
        be installed into the incorrect locations.
       (<a href="http://bugs.mysql.com/44877" target="_top">Bug#44877</a>, <a href="http://bugs.mysql.com/44497" target="_top">Bug#44497</a>)</p></li><li><p>
        Using <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> with very large return
        datasets from queries, with or without manipulate of the dataset
        within the Lua engine could cause a crash.
       (<a href="http://bugs.mysql.com/39332" target="_top">Bug#39332</a>)</p></li><li><p>
        If a submitted packet was smaller than expected by the protocol,
        MySQL Proxy would terminate.
       (<a href="http://bugs.mysql.com/36743" target="_top">Bug#36743</a>)</p></li><li><p>
        When using <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> in a master-master
        replication scenario, a failure in one of the replication
        masters would fail to be identified by the proxy and connections
        would not be redirected to the other master.
       (<a href="http://bugs.mysql.com/35295" target="_top">Bug#35295</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-6-1"></a>C.9.6. Changes in MySQL Proxy 0.6.1 (06 February 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed assertions on write-errors
      </p></li><li><p>
        Fixed sending fake server-greetings in
        <code class="literal">connect_server()</code>.
      </p></li><li><p>
        Fixed error handling for socket functions on Windows.
      </p></li><li><p>
        Added new features to <code class="filename">run-tests.lua</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-6-0"></a>C.9.7. Changes in MySQL Proxy 0.6.0 (11 September 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using read/write splitting and the
        <code class="filename">rw-splitting.lua</code> example script, connecting
        a second user to the proxy returns an error message.
       (<a href="http://bugs.mysql.com/30867" target="_top">Bug#30867</a>)</p></li><li><p>
        Added support in <code class="function">read_query_result()</code> to
        overwrite the result-set.
      </p></li><li><p>
        Added <code class="option">--no-daemon</code> and
        <code class="option">--pid-file</code>.
      </p></li><li><p>
        Added hooks for <code class="function">read_auth()</code>,
        <code class="function">read_handshake()</code> and
        <code class="function">read_auth_result()</code>.
      </p></li><li><p>
        Added handling of
        <code class="literal">proxy.connection.backend_ndx</code> in
        <code class="function">connect_server()</code> and
        <code class="function">read_query()</code> to support read/write
        splitting.
      </p></li><li><p>
        Added support for <code class="literal">proxy.response.packets</code>.
      </p></li><li><p>
        Added testcases.
      </p></li><li><p>
        Added <code class="option">--no-proxy</code> to disable the proxy.
      </p></li><li><p>
        Added support for listening UNIX sockets.
      </p></li><li><p>
        Added a global lua-scope <code class="literal">proxy.global.*</code>.
      </p></li><li><p>
        Added connection pooling.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed assertion on <code class="literal">COM_BINLOG_DUMP</code>.
       (<a href="http://bugs.mysql.com/29764" target="_top">Bug#29764</a>)</p></li><li><p>
        Fixed assertion on result-packets like <code class="literal">[ field-len |
        fields | EOF | ERR ]</code>.
       (<a href="http://bugs.mysql.com/29732" target="_top">Bug#29732</a>)</p></li><li><p>
        Fixed assertion at login with empty password + empty default db.
       (<a href="http://bugs.mysql.com/29719" target="_top">Bug#29719</a>)</p></li><li><p>
        Fixed assertion at <code class="literal">COM_SHUTDOWN</code>.
       (<a href="http://bugs.mysql.com/29719" target="_top">Bug#29719</a>)</p></li><li><p>
        Fixed crash if <code class="literal">proxy.connection</code> is used in
        <code class="function">connect_server()</code>.
      </p></li><li><p>
        Fixed check for <code class="literal">glib2</code> to require at least
        2.6.0.
      </p></li><li><p>
        Fixed assertion when all backends are down and we try to
        connect.
      </p></li><li><p>
        Fixed connection-stalling if
        <code class="function">read_query_result()</code> throws an
        <code class="function">assert()</code>ion.
      </p></li><li><p>
        Fixed len-encoding on <code class="literal">proxy.resulsets</code>.
      </p></li><li><p>
        Fixed compilation on win32.
      </p></li><li><p>
        Fixed assertion when connecting to the MySQL 6.0.1.
      </p></li><li><p>
        Fixed decoding of len-encoded ints for 3-byte notation.
      </p></li><li><p>
        Fixed <code class="literal">inj.resultset.affected_rows</code> on
        <a href="sql-syntax.html#select" title="12.2.8. SELECT Syntax"><code class="literal">SELECT</code></a> queries.
      </p></li><li><p>
        Fixed handling of (SQL) <code class="literal">NULL</code> in result-sets.
      </p></li><li><p>
        Fixed mem-leak with <code class="literal">proxy.response.*</code> is used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-5-1"></a>C.9.8. Changes in MySQL Proxy 0.5.1 (30 June 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">resultset.affected_rows</code> and
        <code class="literal">resultset.insert_id</code>.
      </p></li><li><p>
        Changed <code class="option">--proxy.profiling</code> to
        <code class="option">--proxy-skip-profiling</code>.
      </p></li><li><p>
        Added missing dependency to
        <code class="literal">libmysqlclient-dev</code> to the INSTALL file.
      </p></li><li><p>
        Added <code class="literal">inj.query_time</code> and
        <code class="literal">inj.response_time</code> into the lua scripts.
      </p></li><li><p>
        Added support for pre-4.1 passwords in a 4.1 connection.
      </p></li><li><p>
        Added script examples for rewriting and injection.
      </p></li><li><p>
        Added <code class="literal">proxy.VERSION</code>.
      </p></li><li><p>
        Added support for UNIX sockets.
      </p></li><li><p>
        Added protection against duplicate resultsets from a script.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed mysql check in configure to die when mysql.h isn't
        detected.
      </p></li><li><p>
        Fixed handling of duplicate ERR on
        <code class="literal">COM_CHANGE_USER</code> in MySQL 5.1.18+.
      </p></li><li><p>
        Fixed compile error with MySQL 4.1.x on missing COM_STMT_*.
      </p></li><li><p>
        Fixed crash on fields &gt; 250 bytes when the resultset is
        inspected.
      </p></li><li><p>
        Fixed warning if <code class="function">connect_server()</code> is not
        provided.
      </p></li><li><p>
        Fixed assertion when a error occurs at initial script exec time.
      </p></li><li><p>
        Fixed assertion when <code class="function">read_query_result()</code> is
        not provided when <code class="literal">PROXY_SEND_QUERY</code> is used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-5-0"></a>C.9.9. Changes in MySQL Proxy 0.5.0 (19 June 2007)</h3></div></div></div><p>
        This is the first beta release.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">automake</code>/<code class="literal">autoconf</code>
        support.
      </p></li><li><p>
        Added <code class="literal">cmake</code> support.
      </p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="error-handling.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="restrictions.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix B. Errors, Error Codes, and Common Problems </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix D. Restrictions and Limits</td></tr></table></div></body></html>
